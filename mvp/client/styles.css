* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; }
:root { --bg:#0f0f12; --panel:#141419; --ink:#e6e6eb; --muted:#9a9aa3; --accent:#d21a1a; --line:#444; }

body { background: var(--bg); color: var(--ink); display: grid; grid-template-rows: 56px 1fr; }

.topbar { display:flex; align-items:center; justify-content:space-between; padding:0 16px; border-bottom:1px solid #222; background:#111116; }
.brand { font-weight:600; letter-spacing:0.3px; }
.controls { display:flex; gap:8px; }
button { background:#24242c; color:var(--ink); border:1px solid #2f2f38; padding:8px 12px; border-radius:6px; cursor:pointer; }
button.primary { background:#1a1a22; border-color:#353544; }
button:disabled { opacity:0.6; cursor:not-allowed; }

.sidebar { width: 120px; border-right:1px solid #222; background:#111116; padding:8px; position:fixed; top:56px; bottom:0; left:0; overflow:auto; }
.nav-item { width:100%; margin:4px 0; padding:6px 8px; text-align:left; }

.workspace { margin-left:120px; display:grid; grid-template-columns: 1fr 380px; height: calc(100vh - 56px); }
.canvas { position:relative; background:#0c0c10; border-right:1px solid #222; }
.panel { padding:16px; overflow:auto; background:var(--panel); }

.node { position:absolute; text-align:center; padding:10px 12px; border:2px solid #333; background:#181820; color:var(--ink); }
.node.rect { border-radius:6px; }
.node.rect.small { font-size:12px; padding:6px 8px; }
.node.oval { border-radius:999px; padding:10px 18px; }
.node.red { border-color:var(--accent); color:#ffdede; }

#wires { pointer-events:none; }
svg.wires { position:absolute; inset:0; width:100%; height:100%; }
svg.wires line { stroke:#e33; stroke-width:2.5; marker-end:url(#arrow); }
svg.wires path { fill:#e33; }

#node-llama { left:120px; top:110px; }
#node-prompt { left:300px; top:130px; }
#node-llama2 { left:500px; top:110px; }

#node-prompt2 { left:220px; top:210px; }
#node-debate { left:320px; top:210px; }
#node-loop3 { left:420px; top:210px; }

#node-persona { left:320px; top:270px; }
#node-prompt3 { left:220px; top:270px; }
#node-prompt4 { left:220px; top:330px; }

#node-tool { left:560px; top:250px; }
#node-reasoner { left:720px; top:150px; }
#node-validate { left:620px; top:350px; }
#node-gemini { left:720px; top:360px; }
#node-loop1 { left:660px; top:470px; }
#node-gpt4o { left:480px; top:480px; }
#node-memory { left:300px; top:430px; }
#node-ui { left:120px; top:560px; width:180px; height:80px; line-height:20px; }

.panel .group { margin-bottom:16px; }
.panel .row { display:flex; gap:12px; }
.panel .row.tight { gap:8px; }
label { display:block; color:var(--muted); font-size:12px; margin-bottom:6px; }
input[type="text"], input[type="number"], select, textarea { width:100%; background:#111116; border:1px solid #2a2a33; color:var(--ink); border-radius:6px; padding:8px; }
textarea.final, pre.final { background:#0e0e13; border:1px solid #2a2a33; padding:12px; border-radius:6px; white-space:pre-wrap; word-wrap:break-word; }

.log { background:#0e0e13; border:1px solid #2a2a33; padding:8px; border-radius:6px; max-height:240px; overflow:auto; }
.log .item { border-bottom:1px dashed #2a2a33; padding:8px 4px; }
.log .item:last-child { border-bottom:none; }
.log .step { color:#cfcfe6; font-size:12px; }
.log .content { color:#e1e1e8; font-size:13px; white-space:pre-wrap; }


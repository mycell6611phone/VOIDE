(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zh={exports:{}},ra={},Xh={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),Tv=Symbol.for("react.portal"),Nv=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),Av=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Lv=Symbol.for("react.memo"),Dv=Symbol.for("react.lazy"),df=Symbol.iterator;function $v(e){return e===null||typeof e!="object"?null:(e=df&&e[df]||e["@@iterator"],typeof e=="function"?e:null)}var Gh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qh=Object.assign,Kh={};function qi(e,t,n){this.props=e,this.context=t,this.refs=Kh,this.updater=n||Gh}qi.prototype.isReactComponent={};qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jh(){}Jh.prototype=qi.prototype;function Hc(e,t,n){this.props=e,this.context=t,this.refs=Kh,this.updater=n||Gh}var Vc=Hc.prototype=new Jh;Vc.constructor=Hc;Qh(Vc,qi.prototype);Vc.isPureReactComponent=!0;var ff=Array.isArray,em=Object.prototype.hasOwnProperty,Uc={current:null},tm={key:!0,ref:!0,__self:!0,__source:!0};function nm(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)em.call(t,r)&&!tm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:rs,type:e,key:o,ref:s,props:i,_owner:Uc.current}}function Ov(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wc(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function jv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pf=/\/+/g;function Pa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jv(""+e.key):t.toString(36)}function tl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case rs:case Tv:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Pa(s,0):r,ff(i)?(n="",e!=null&&(n=e.replace(pf,"$&/")+"/"),tl(i,t,n,"",function(u){return u})):i!=null&&(Wc(i)&&(i=Ov(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pf,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ff(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Pa(o,l);s+=tl(o,t,n,a,i)}else if(a=$v(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Pa(o,l++),s+=tl(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ys(e,t,n){if(e==null)return e;var r=[],i=0;return tl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Fv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},nl={transition:null},Bv={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:nl,ReactCurrentOwner:Uc};function rm(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:ys,forEach:function(e,t,n){ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!Wc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=qi;fe.Fragment=Nv;fe.Profiler=Iv;fe.PureComponent=Hc;fe.StrictMode=Mv;fe.Suspense=zv;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bv;fe.act=rm;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qh({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Uc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)em.call(t,a)&&!tm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:rs,type:e.type,key:i,ref:o,props:r,_owner:s}};fe.createContext=function(e){return e={$$typeof:Rv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pv,_context:e},e.Consumer=e};fe.createElement=nm;fe.createFactory=function(e){var t=nm.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Av,render:e}};fe.isValidElement=Wc;fe.lazy=function(e){return{$$typeof:Dv,_payload:{_status:-1,_result:e},_init:Fv}};fe.memo=function(e,t){return{$$typeof:Lv,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=nl.transition;nl.transition={};try{e()}finally{nl.transition=t}};fe.unstable_act=rm;fe.useCallback=function(e,t){return ft.current.useCallback(e,t)};fe.useContext=function(e){return ft.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};fe.useEffect=function(e,t){return ft.current.useEffect(e,t)};fe.useId=function(){return ft.current.useId()};fe.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return ft.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};fe.useRef=function(e){return ft.current.useRef(e)};fe.useState=function(e){return ft.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return ft.current.useTransition()};fe.version="18.3.1";Xh.exports=fe;var S=Xh.exports;const V=Yh(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=S,Vv=Symbol.for("react.element"),Uv=Symbol.for("react.fragment"),Wv=Object.prototype.hasOwnProperty,qv=Hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yv={key:!0,ref:!0,__self:!0,__source:!0};function im(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Wv.call(t,r)&&!Yv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Vv,type:e,key:o,ref:s,props:i,_owner:qv.current}}ra.Fragment=Uv;ra.jsx=im;ra.jsxs=im;Zh.exports=ra;var v=Zh.exports,om={exports:{}},Mt={},sm={exports:{}},lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,b){var k=P.length;P.push(b);e:for(;0<k;){var L=k-1>>>1,$=P[L];if(0<i($,b))P[L]=b,P[k]=$,k=L;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var b=P[0],k=P.pop();if(k!==b){P[0]=k;e:for(var L=0,$=P.length,U=$>>>1;L<U;){var I=2*(L+1)-1,j=P[I],Z=I+1,G=P[Z];if(0>i(j,k))Z<$&&0>i(G,j)?(P[L]=G,P[Z]=k,L=Z):(P[L]=j,P[I]=k,L=I);else if(Z<$&&0>i(G,k))P[L]=G,P[Z]=k,L=Z;else break e}}return b}function i(P,b){var k=P.sortIndex-b.sortIndex;return k!==0?k:P.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=P)r(u),b.sortIndex=b.expirationTime,t(a,b);else break;b=n(u)}}function _(P){if(y=!1,g(P),!w)if(n(a)!==null)w=!0,R(T);else{var b=n(u);b!==null&&O(_,b.startTime-P)}}function T(P,b){w=!1,y&&(y=!1,p(N),N=-1),m=!0;var k=f;try{for(g(b),d=n(a);d!==null&&(!(d.expirationTime>b)||P&&!F());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var $=L(d.expirationTime<=b);b=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(a)&&r(a),g(b)}else r(a);d=n(a)}if(d!==null)var U=!0;else{var I=n(u);I!==null&&O(_,I.startTime-b),U=!1}return U}finally{d=null,f=k,m=!1}}var A=!1,E=null,N=-1,D=5,z=-1;function F(){return!(e.unstable_now()-z<D)}function Y(){if(E!==null){var P=e.unstable_now();z=P;var b=!0;try{b=E(!0,P)}finally{b?B():(A=!1,E=null)}}else A=!1}var B;if(typeof h=="function")B=function(){h(Y)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,M=x.port2;x.port1.onmessage=Y,B=function(){M.postMessage(null)}}else B=function(){C(Y,0)};function R(P){E=P,A||(A=!0,B())}function O(P,b){N=C(function(){P(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,R(T))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var b=3;break;default:b=f}var k=f;f=b;try{return P()}finally{f=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,b){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=f;f=P;try{return b()}finally{f=k}},e.unstable_scheduleCallback=function(P,b,k){var L=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?L+k:L):k=L,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=k+$,P={id:c++,callback:b,priorityLevel:P,startTime:k,expirationTime:$,sortIndex:-1},k>L?(P.sortIndex=k,t(u,P),n(a)===null&&P===n(u)&&(y?(p(N),N=-1):y=!0,O(_,k-L))):(P.sortIndex=$,t(a,P),w||m||(w=!0,R(T))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var b=f;return function(){var k=f;f=b;try{return P.apply(this,arguments)}finally{f=k}}}})(lm);sm.exports=lm;var Zv=sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=S,Ct=Zv;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var am=new Set,Po={};function qr(e,t){Mi(e,t),Mi(e+"Capture",t)}function Mi(e,t){for(Po[e]=t,e=0;e<t.length;e++)am.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,Gv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hf={},mf={};function Qv(e){return _u.call(mf,e)?!0:_u.call(hf,e)?!1:Gv.test(e)?mf[e]=!0:(hf[e]=!0,!1)}function Kv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jv(e,t,n,r){if(t===null||typeof t>"u"||Kv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Yc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qc,Yc);Qe[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qc,Yc);Qe[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qc,Yc);Qe[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zc(e,t,n,r){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jv(t,n,i,r)&&(n=null),r||i===null?Qv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=Xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),Xc=Symbol.for("react.strict_mode"),Su=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),cm=Symbol.for("react.context"),Gc=Symbol.for("react.forward_ref"),ku=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),dm=Symbol.for("react.offscreen"),gf=Symbol.iterator;function Qi(e){return e===null||typeof e!="object"?null:(e=gf&&e[gf]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Ra;function fo(e){if(Ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ra=t&&t[1]||""}return`
`+Ra+e}var Aa=!1;function za(e,t){if(!e||Aa)return"";Aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Aa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fo(e):""}function ex(e){switch(e.tag){case 5:return fo(e.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return e=za(e.type,!1),e;case 11:return e=za(e.type.render,!1),e;case 1:return e=za(e.type,!0),e;default:return""}}function bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ri:return"Fragment";case ni:return"Portal";case Su:return"Profiler";case Xc:return"StrictMode";case ku:return"Suspense";case Eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cm:return(e.displayName||"Context")+".Consumer";case um:return(e._context.displayName||"Context")+".Provider";case Gc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qc:return t=e.displayName||null,t!==null?t:bu(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return bu(e(t))}catch{}}return null}function tx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(t);case 8:return t===Xc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nx(e){var t=fm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=nx(e))}function pm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cu(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hm(e,t){t=t.checked,t!=null&&Zc(e,"checked",t,!1)}function Tu(e,t){hm(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nu(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nu(e,t,n){(t!=="number"||vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var po=Array.isArray;function vi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(po(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function mm(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,ym=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rx=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(e){rx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_o[t]=_o[e]})});function vm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_o.hasOwnProperty(e)&&_o[e]?(""+t).trim():t+"px"}function xm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ix=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pu(e,t){if(t){if(ix[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ru(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zu=null,xi=null,wi=null;function _f(e){if(e=ss(e)){if(typeof zu!="function")throw Error(q(280));var t=e.stateNode;t&&(t=aa(t),zu(e.stateNode,e.type,t))}}function wm(e){xi?wi?wi.push(e):wi=[e]:xi=e}function _m(){if(xi){var e=xi,t=wi;if(wi=xi=null,_f(e),t)for(e=0;e<t.length;e++)_f(t[e])}}function Sm(e,t){return e(t)}function km(){}var La=!1;function Em(e,t,n){if(La)return e(t,n);La=!0;try{return Sm(e,t,n)}finally{La=!1,(xi!==null||wi!==null)&&(km(),_m())}}function Ao(e,t){var n=e.stateNode;if(n===null)return null;var r=aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Lu=!1;if(Cn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Lu=!1}function ox(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var So=!1,xl=null,wl=!1,Du=null,sx={onError:function(e){So=!0,xl=e}};function lx(e,t,n,r,i,o,s,l,a){So=!1,xl=null,ox.apply(sx,arguments)}function ax(e,t,n,r,i,o,s,l,a){if(lx.apply(this,arguments),So){if(So){var u=xl;So=!1,xl=null}else throw Error(q(198));wl||(wl=!0,Du=u)}}function Yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sf(e){if(Yr(e)!==e)throw Error(q(188))}function ux(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Sf(i),e;if(o===r)return Sf(i),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Cm(e){return e=ux(e),e!==null?Tm(e):null}function Tm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tm(e);if(t!==null)return t;e=e.sibling}return null}var Nm=Ct.unstable_scheduleCallback,kf=Ct.unstable_cancelCallback,cx=Ct.unstable_shouldYield,dx=Ct.unstable_requestPaint,Oe=Ct.unstable_now,fx=Ct.unstable_getCurrentPriorityLevel,Jc=Ct.unstable_ImmediatePriority,Mm=Ct.unstable_UserBlockingPriority,_l=Ct.unstable_NormalPriority,px=Ct.unstable_LowPriority,Im=Ct.unstable_IdlePriority,ia=null,ln=null;function hx(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(ia,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:yx,mx=Math.log,gx=Math.LN2;function yx(e){return e>>>=0,e===0?32:31-(mx(e)/gx|0)|0}var _s=64,Ss=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ho(l):(o&=s,o!==0&&(r=ho(o)))}else s=n&~i,s!==0?r=ho(s):o!==0&&(r=ho(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),i=1<<n,r|=e[n],t&=~i;return r}function vx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Qt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=vx(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function $u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pm(){var e=_s;return _s<<=1,!(_s&4194240)&&(_s=64),e}function Da(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function wx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ed(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var we=0;function Rm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Am,td,zm,Lm,Dm,Ou=!1,ks=[],sr=null,lr=null,ar=null,zo=new Map,Lo=new Map,er=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ef(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function Ji(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ss(t),t!==null&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sx(e,t,n,r,i){switch(t){case"focusin":return sr=Ji(sr,e,t,n,r,i),!0;case"dragenter":return lr=Ji(lr,e,t,n,r,i),!0;case"mouseover":return ar=Ji(ar,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return zo.set(o,Ji(zo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lo.set(o,Ji(Lo.get(o)||null,e,t,n,r,i)),!0}return!1}function $m(e){var t=Tr(e.target);if(t!==null){var n=Yr(t);if(n!==null){if(t=n.tag,t===13){if(t=bm(n),t!==null){e.blockedOn=t,Dm(e.priority,function(){zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ju(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return t=ss(n),t!==null&&td(t),e.blockedOn=n,!1;t.shift()}return!0}function bf(e,t,n){rl(e)&&n.delete(t)}function kx(){Ou=!1,sr!==null&&rl(sr)&&(sr=null),lr!==null&&rl(lr)&&(lr=null),ar!==null&&rl(ar)&&(ar=null),zo.forEach(bf),Lo.forEach(bf)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,kx)))}function Do(e){function t(i){return eo(i,e)}if(0<ks.length){eo(ks[0],e);for(var n=1;n<ks.length;n++){var r=ks[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sr!==null&&eo(sr,e),lr!==null&&eo(lr,e),ar!==null&&eo(ar,e),zo.forEach(t),Lo.forEach(t),n=0;n<er.length;n++)r=er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<er.length&&(n=er[0],n.blockedOn===null);)$m(n),n.blockedOn===null&&er.shift()}var _i=An.ReactCurrentBatchConfig,kl=!0;function Ex(e,t,n,r){var i=we,o=_i.transition;_i.transition=null;try{we=1,nd(e,t,n,r)}finally{we=i,_i.transition=o}}function bx(e,t,n,r){var i=we,o=_i.transition;_i.transition=null;try{we=4,nd(e,t,n,r)}finally{we=i,_i.transition=o}}function nd(e,t,n,r){if(kl){var i=ju(e,t,n,r);if(i===null)qa(e,t,r,El,n),Ef(e,r);else if(Sx(i,e,t,n,r))r.stopPropagation();else if(Ef(e,r),t&4&&-1<_x.indexOf(e)){for(;i!==null;){var o=ss(i);if(o!==null&&Am(o),o=ju(e,t,n,r),o===null&&qa(e,t,r,El,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qa(e,t,r,null,n)}}var El=null;function ju(e,t,n,r){if(El=null,e=Kc(r),e=Tr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return El=e,null}function Om(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fx()){case Jc:return 1;case Mm:return 4;case _l:case px:return 16;case Im:return 536870912;default:return 16}default:return 16}}var rr=null,rd=null,il=null;function jm(){if(il)return il;var e,t=rd,n=t.length,r,i="value"in rr?rr.value:rr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return il=i.slice(e,1<r?1-r:void 0)}function ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function Cf(){return!1}function It(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Es:Cf,this.isPropagationStopped=Cf,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=It(Yi),os=ze({},Yi,{view:0,detail:0}),Cx=It(os),$a,Oa,to,oa=ze({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?($a=e.screenX-to.screenX,Oa=e.screenY-to.screenY):Oa=$a=0,to=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),Tf=It(oa),Tx=ze({},oa,{dataTransfer:0}),Nx=It(Tx),Mx=ze({},os,{relatedTarget:0}),ja=It(Mx),Ix=ze({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=It(Ix),Rx=ze({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ax=It(Rx),zx=ze({},Yi,{data:0}),Nf=It(zx),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ox(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$x[e])?!!t[e]:!1}function od(){return Ox}var jx=ze({},os,{key:function(e){if(e.key){var t=Lx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(e){return e.type==="keypress"?ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fx=It(jx),Bx=ze({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mf=It(Bx),Hx=ze({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),Vx=It(Hx),Ux=ze({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=It(Ux),qx=ze({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=It(qx),Zx=[9,13,27,32],sd=Cn&&"CompositionEvent"in window,ko=null;Cn&&"documentMode"in document&&(ko=document.documentMode);var Xx=Cn&&"TextEvent"in window&&!ko,Fm=Cn&&(!sd||ko&&8<ko&&11>=ko),If=" ",Pf=!1;function Bm(e,t){switch(e){case"keyup":return Zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function Gx(e,t){switch(e){case"compositionend":return Hm(t);case"keypress":return t.which!==32?null:(Pf=!0,If);case"textInput":return e=t.data,e===If&&Pf?null:e;default:return null}}function Qx(e,t){if(ii)return e==="compositionend"||!sd&&Bm(e,t)?(e=jm(),il=rd=rr=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fm&&t.locale!=="ko"?null:t.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kx[e.type]:t==="textarea"}function Vm(e,t,n,r){wm(r),t=bl(t,"onChange"),0<t.length&&(n=new id("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Eo=null,$o=null;function Jx(e){eg(e,0)}function sa(e){var t=li(e);if(pm(t))return e}function e1(e,t){if(e==="change")return t}var Um=!1;if(Cn){var Fa;if(Cn){var Ba="oninput"in document;if(!Ba){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),Ba=typeof Af.oninput=="function"}Fa=Ba}else Fa=!1;Um=Fa&&(!document.documentMode||9<document.documentMode)}function zf(){Eo&&(Eo.detachEvent("onpropertychange",Wm),$o=Eo=null)}function Wm(e){if(e.propertyName==="value"&&sa($o)){var t=[];Vm(t,$o,e,Kc(e)),Em(Jx,t)}}function t1(e,t,n){e==="focusin"?(zf(),Eo=t,$o=n,Eo.attachEvent("onpropertychange",Wm)):e==="focusout"&&zf()}function n1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sa($o)}function r1(e,t){if(e==="click")return sa(t)}function i1(e,t){if(e==="input"||e==="change")return sa(t)}function o1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:o1;function Oo(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_u.call(t,i)||!en(e[i],t[i]))return!1}return!0}function Lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Df(e,t){var n=Lf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lf(n)}}function qm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ym(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vl(e.document)}return t}function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s1(e){var t=Ym(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qm(n.ownerDocument.documentElement,n)){if(r!==null&&ld(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Df(n,o);var s=Df(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l1=Cn&&"documentMode"in document&&11>=document.documentMode,oi=null,Fu=null,bo=null,Bu=!1;function $f(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bu||oi==null||oi!==vl(r)||(r=oi,"selectionStart"in r&&ld(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bo&&Oo(bo,r)||(bo=r,r=bl(Fu,"onSelect"),0<r.length&&(t=new id("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function bs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var si={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},Ha={},Zm={};Cn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function la(e){if(Ha[e])return Ha[e];if(!si[e])return e;var t=si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zm)return Ha[e]=t[n];return e}var Xm=la("animationend"),Gm=la("animationiteration"),Qm=la("animationstart"),Km=la("transitionend"),Jm=new Map,Of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Jm.set(e,t),qr(t,[e])}for(var Va=0;Va<Of.length;Va++){var Ua=Of[Va],a1=Ua.toLowerCase(),u1=Ua[0].toUpperCase()+Ua.slice(1);_r(a1,"on"+u1)}_r(Xm,"onAnimationEnd");_r(Gm,"onAnimationIteration");_r(Qm,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Km,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function jf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ax(r,t,void 0,e),e.currentTarget=null}function eg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;jf(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;jf(i,l,u),o=a}}}if(wl)throw e=Du,wl=!1,Du=null,e}function be(e,t){var n=t[qu];n===void 0&&(n=t[qu]=new Set);var r=e+"__bubble";n.has(r)||(tg(t,e,2,!1),n.add(r))}function Wa(e,t,n){var r=0;t&&(r|=4),tg(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[Cs]){e[Cs]=!0,am.forEach(function(n){n!=="selectionchange"&&(c1.has(n)||Wa(n,!1,e),Wa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,Wa("selectionchange",!1,t))}}function tg(e,t,n,r){switch(Om(t)){case 1:var i=Ex;break;case 4:i=bx;break;default:i=nd}n=i.bind(null,t,n,e),i=void 0,!Lu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qa(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Tr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Em(function(){var u=o,c=Kc(n),d=[];e:{var f=Jm.get(e);if(f!==void 0){var m=id,w=e;switch(e){case"keypress":if(ol(n)===0)break e;case"keydown":case"keyup":m=Fx;break;case"focusin":w="focus",m=ja;break;case"focusout":w="blur",m=ja;break;case"beforeblur":case"afterblur":m=ja;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Vx;break;case Xm:case Gm:case Qm:m=Px;break;case Km:m=Wx;break;case"scroll":m=Cx;break;case"wheel":m=Yx;break;case"copy":case"cut":case"paste":m=Ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Mf}var y=(t&4)!==0,C=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var h=u,g;h!==null;){g=h;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=Ao(h,p),_!=null&&y.push(Fo(h,_,g)))),C)break;h=h.return}0<y.length&&(f=new m(f,w,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Au&&(w=n.relatedTarget||n.fromElement)&&(Tr(w)||w[Tn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Tr(w):null,w!==null&&(C=Yr(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=Tf,_="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(y=Mf,_="onPointerLeave",p="onPointerEnter",h="pointer"),C=m==null?f:li(m),g=w==null?f:li(w),f=new y(_,h+"leave",m,n,c),f.target=C,f.relatedTarget=g,_=null,Tr(c)===u&&(y=new y(p,h+"enter",w,n,c),y.target=g,y.relatedTarget=C,_=y),C=_,m&&w)t:{for(y=m,p=w,h=0,g=y;g;g=Zr(g))h++;for(g=0,_=p;_;_=Zr(_))g++;for(;0<h-g;)y=Zr(y),h--;for(;0<g-h;)p=Zr(p),g--;for(;h--;){if(y===p||p!==null&&y===p.alternate)break t;y=Zr(y),p=Zr(p)}y=null}else y=null;m!==null&&Ff(d,f,m,y,!1),w!==null&&C!==null&&Ff(d,C,w,y,!0)}}e:{if(f=u?li(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=e1;else if(Rf(f))if(Um)T=i1;else{T=n1;var A=t1}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=r1);if(T&&(T=T(e,u))){Vm(d,T,n,c);break e}A&&A(e,f,u),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Nu(f,"number",f.value)}switch(A=u?li(u):window,e){case"focusin":(Rf(A)||A.contentEditable==="true")&&(oi=A,Fu=u,bo=null);break;case"focusout":bo=Fu=oi=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,$f(d,n,c);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":$f(d,n,c)}var E;if(sd)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ii?Bm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Fm&&n.locale!=="ko"&&(ii||N!=="onCompositionStart"?N==="onCompositionEnd"&&ii&&(E=jm()):(rr=c,rd="value"in rr?rr.value:rr.textContent,ii=!0)),A=bl(u,N),0<A.length&&(N=new Nf(N,e,null,n,c),d.push({event:N,listeners:A}),E?N.data=E:(E=Hm(n),E!==null&&(N.data=E)))),(E=Xx?Gx(e,n):Qx(e,n))&&(u=bl(u,"onBeforeInput"),0<u.length&&(c=new Nf("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}eg(d,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ao(e,n),o!=null&&r.unshift(Fo(e,o,i)),o=Ao(e,t),o!=null&&r.push(Fo(e,o,i))),e=e.return}return r}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ff(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ao(n,o),a!=null&&s.unshift(Fo(n,a,l))):i||(a=Ao(n,o),a!=null&&s.push(Fo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var d1=/\r\n?/g,f1=/\u0000|\uFFFD/g;function Bf(e){return(typeof e=="string"?e:""+e).replace(d1,`
`).replace(f1,"")}function Ts(e,t,n){if(t=Bf(t),Bf(e)!==t&&n)throw Error(q(425))}function Cl(){}var Hu=null,Vu=null;function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=typeof setTimeout=="function"?setTimeout:void 0,p1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(m1)}:Wu;function m1(e){setTimeout(function(){throw e})}function Ya(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Do(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Do(t)}function ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),sn="__reactFiber$"+Zi,Bo="__reactProps$"+Zi,Tn="__reactContainer$"+Zi,qu="__reactEvents$"+Zi,g1="__reactListeners$"+Zi,y1="__reactHandles$"+Zi;function Tr(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vf(e);e!==null;){if(n=e[sn])return n;e=Vf(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[sn]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function aa(e){return e[Bo]||null}var Yu=[],ai=-1;function Sr(e){return{current:e}}function Ce(e){0>ai||(e.current=Yu[ai],Yu[ai]=null,ai--)}function ke(e,t){ai++,Yu[ai]=e.current,e.current=t}var vr={},it=Sr(vr),vt=Sr(!1),Dr=vr;function Ii(e,t){var n=e.type.contextTypes;if(!n)return vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xt(e){return e=e.childContextTypes,e!=null}function Tl(){Ce(vt),Ce(it)}function Uf(e,t,n){if(it.current!==vr)throw Error(q(168));ke(it,t),ke(vt,n)}function ng(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(q(108,tx(e)||"Unknown",i));return ze({},n,r)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Dr=it.current,ke(it,e),ke(vt,vt.current),!0}function Wf(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=ng(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=e,Ce(vt),Ce(it),ke(it,e)):Ce(vt),ke(vt,n)}var wn=null,ua=!1,Za=!1;function rg(e){wn===null?wn=[e]:wn.push(e)}function v1(e){ua=!0,rg(e)}function kr(){if(!Za&&wn!==null){Za=!0;var e=0,t=we;try{var n=wn;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wn=null,ua=!1}catch(i){throw wn!==null&&(wn=wn.slice(e+1)),Nm(Jc,kr),i}finally{we=t,Za=!1}}return null}var ui=[],ci=0,Ml=null,Il=0,At=[],zt=0,$r=null,_n=1,Sn="";function Er(e,t){ui[ci++]=Il,ui[ci++]=Ml,Ml=e,Il=t}function ig(e,t,n){At[zt++]=_n,At[zt++]=Sn,At[zt++]=$r,$r=e;var r=_n;e=Sn;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var o=32-Qt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_n=1<<32-Qt(t)+i|n<<i|r,Sn=o+e}else _n=1<<o|n<<i|r,Sn=e}function ad(e){e.return!==null&&(Er(e,1),ig(e,1,0))}function ud(e){for(;e===Ml;)Ml=ui[--ci],ui[ci]=null,Il=ui[--ci],ui[ci]=null;for(;e===$r;)$r=At[--zt],At[zt]=null,Sn=At[--zt],At[zt]=null,_n=At[--zt],At[zt]=null}var bt=null,Et=null,Me=!1,Zt=null;function og(e,t){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,Et=ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$r!==null?{id:_n,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bt=e,Et=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xu(e){if(Me){var t=Et;if(t){var n=t;if(!qf(e,t)){if(Zu(e))throw Error(q(418));t=ur(n.nextSibling);var r=bt;t&&qf(e,t)?og(r,n):(e.flags=e.flags&-4097|2,Me=!1,bt=e)}}else{if(Zu(e))throw Error(q(418));e.flags=e.flags&-4097|2,Me=!1,bt=e}}}function Yf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function Ns(e){if(e!==bt)return!1;if(!Me)return Yf(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uu(e.type,e.memoizedProps)),t&&(t=Et)){if(Zu(e))throw sg(),Error(q(418));for(;t;)og(e,t),t=ur(t.nextSibling)}if(Yf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=bt?ur(e.stateNode.nextSibling):null;return!0}function sg(){for(var e=Et;e;)e=ur(e.nextSibling)}function Pi(){Et=bt=null,Me=!1}function cd(e){Zt===null?Zt=[e]:Zt.push(e)}var x1=An.ReactCurrentBatchConfig;function no(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Ms(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zf(e){var t=e._init;return t(e._payload)}function lg(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=pr(p,h),p.index=0,p.sibling=null,p}function o(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,g,_){return h===null||h.tag!==6?(h=tu(g,p.mode,_),h.return=p,h):(h=i(h,g),h.return=p,h)}function a(p,h,g,_){var T=g.type;return T===ri?c(p,h,g.props.children,_,g.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Xn&&Zf(T)===h.type)?(_=i(h,g.props),_.ref=no(p,h,g),_.return=p,_):(_=fl(g.type,g.key,g.props,null,p.mode,_),_.ref=no(p,h,g),_.return=p,_)}function u(p,h,g,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=nu(g,p.mode,_),h.return=p,h):(h=i(h,g.children||[]),h.return=p,h)}function c(p,h,g,_,T){return h===null||h.tag!==7?(h=Ar(g,p.mode,_,T),h.return=p,h):(h=i(h,g),h.return=p,h)}function d(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=tu(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case vs:return g=fl(h.type,h.key,h.props,null,p.mode,g),g.ref=no(p,null,h),g.return=p,g;case ni:return h=nu(h,p.mode,g),h.return=p,h;case Xn:var _=h._init;return d(p,_(h._payload),g)}if(po(h)||Qi(h))return h=Ar(h,p.mode,g,null),h.return=p,h;Ms(p,h)}return null}function f(p,h,g,_){var T=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(p,h,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:return g.key===T?a(p,h,g,_):null;case ni:return g.key===T?u(p,h,g,_):null;case Xn:return T=g._init,f(p,h,T(g._payload),_)}if(po(g)||Qi(g))return T!==null?null:c(p,h,g,_,null);Ms(p,g)}return null}function m(p,h,g,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,l(h,p,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vs:return p=p.get(_.key===null?g:_.key)||null,a(h,p,_,T);case ni:return p=p.get(_.key===null?g:_.key)||null,u(h,p,_,T);case Xn:var A=_._init;return m(p,h,g,A(_._payload),T)}if(po(_)||Qi(_))return p=p.get(g)||null,c(h,p,_,T,null);Ms(h,_)}return null}function w(p,h,g,_){for(var T=null,A=null,E=h,N=h=0,D=null;E!==null&&N<g.length;N++){E.index>N?(D=E,E=null):D=E.sibling;var z=f(p,E,g[N],_);if(z===null){E===null&&(E=D);break}e&&E&&z.alternate===null&&t(p,E),h=o(z,h,N),A===null?T=z:A.sibling=z,A=z,E=D}if(N===g.length)return n(p,E),Me&&Er(p,N),T;if(E===null){for(;N<g.length;N++)E=d(p,g[N],_),E!==null&&(h=o(E,h,N),A===null?T=E:A.sibling=E,A=E);return Me&&Er(p,N),T}for(E=r(p,E);N<g.length;N++)D=m(E,p,N,g[N],_),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?N:D.key),h=o(D,h,N),A===null?T=D:A.sibling=D,A=D);return e&&E.forEach(function(F){return t(p,F)}),Me&&Er(p,N),T}function y(p,h,g,_){var T=Qi(g);if(typeof T!="function")throw Error(q(150));if(g=T.call(g),g==null)throw Error(q(151));for(var A=T=null,E=h,N=h=0,D=null,z=g.next();E!==null&&!z.done;N++,z=g.next()){E.index>N?(D=E,E=null):D=E.sibling;var F=f(p,E,z.value,_);if(F===null){E===null&&(E=D);break}e&&E&&F.alternate===null&&t(p,E),h=o(F,h,N),A===null?T=F:A.sibling=F,A=F,E=D}if(z.done)return n(p,E),Me&&Er(p,N),T;if(E===null){for(;!z.done;N++,z=g.next())z=d(p,z.value,_),z!==null&&(h=o(z,h,N),A===null?T=z:A.sibling=z,A=z);return Me&&Er(p,N),T}for(E=r(p,E);!z.done;N++,z=g.next())z=m(E,p,N,z.value,_),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?N:z.key),h=o(z,h,N),A===null?T=z:A.sibling=z,A=z);return e&&E.forEach(function(Y){return t(p,Y)}),Me&&Er(p,N),T}function C(p,h,g,_){if(typeof g=="object"&&g!==null&&g.type===ri&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:e:{for(var T=g.key,A=h;A!==null;){if(A.key===T){if(T=g.type,T===ri){if(A.tag===7){n(p,A.sibling),h=i(A,g.props.children),h.return=p,p=h;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Xn&&Zf(T)===A.type){n(p,A.sibling),h=i(A,g.props),h.ref=no(p,A,g),h.return=p,p=h;break e}n(p,A);break}else t(p,A);A=A.sibling}g.type===ri?(h=Ar(g.props.children,p.mode,_,g.key),h.return=p,p=h):(_=fl(g.type,g.key,g.props,null,p.mode,_),_.ref=no(p,h,g),_.return=p,p=_)}return s(p);case ni:e:{for(A=g.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=i(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=nu(g,p.mode,_),h.return=p,p=h}return s(p);case Xn:return A=g._init,C(p,h,A(g._payload),_)}if(po(g))return w(p,h,g,_);if(Qi(g))return y(p,h,g,_);Ms(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,g),h.return=p,p=h):(n(p,h),h=tu(g,p.mode,_),h.return=p,p=h),s(p)):n(p,h)}return C}var Ri=lg(!0),ag=lg(!1),Pl=Sr(null),Rl=null,di=null,dd=null;function fd(){dd=di=Rl=null}function pd(e){var t=Pl.current;Ce(Pl),e._currentValue=t}function Gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t){Rl=e,dd=di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(dd!==e)if(e={context:e,memoizedValue:t,next:null},di===null){if(Rl===null)throw Error(q(308));di=e,Rl.dependencies={lanes:0,firstContext:e}}else di=di.next=e;return t}var Nr=null;function hd(e){Nr===null?Nr=[e]:Nr.push(e)}function ug(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Nn(e,r)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Nn(e,n)}return i=r.interleaved,i===null?(t.next=t,hd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Nn(e,n)}function sl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ed(e,n)}}function Xf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Al(e,t,n,r){var i=e.updateQueue;Gn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(f=t,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=ze({},d,f);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);jr|=s,e.lanes=s,e.memoizedState=d}}function Gf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var ls={},an=Sr(ls),Ho=Sr(ls),Vo=Sr(ls);function Mr(e){if(e===ls)throw Error(q(174));return e}function gd(e,t){switch(ke(Vo,t),ke(Ho,e),ke(an,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iu(t,e)}Ce(an),ke(an,t)}function Ai(){Ce(an),Ce(Ho),Ce(Vo)}function dg(e){Mr(Vo.current);var t=Mr(an.current),n=Iu(t,e.type);t!==n&&(ke(Ho,e),ke(an,n))}function yd(e){Ho.current===e&&(Ce(an),Ce(Ho))}var Re=Sr(0);function zl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=[];function vd(){for(var e=0;e<Xa.length;e++)Xa[e]._workInProgressVersionPrimary=null;Xa.length=0}var ll=An.ReactCurrentDispatcher,Ga=An.ReactCurrentBatchConfig,Or=0,Ae=null,He=null,qe=null,Ll=!1,Co=!1,Uo=0,w1=0;function tt(){throw Error(q(321))}function xd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function wd(e,t,n,r,i,o){if(Or=o,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ll.current=e===null||e.memoizedState===null?E1:b1,e=n(r,i),Co){o=0;do{if(Co=!1,Uo=0,25<=o)throw Error(q(301));o+=1,qe=He=null,t.updateQueue=null,ll.current=C1,e=n(r,i)}while(Co)}if(ll.current=Dl,t=He!==null&&He.next!==null,Or=0,qe=He=Ae=null,Ll=!1,t)throw Error(q(300));return e}function _d(){var e=Uo!==0;return Uo=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=e:qe=qe.next=e,qe}function jt(){if(He===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=qe===null?Ae.memoizedState:qe.next;if(t!==null)qe=t,He=e;else{if(e===null)throw Error(q(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},qe===null?Ae.memoizedState=qe=e:qe=qe.next=e}return qe}function Wo(e,t){return typeof t=="function"?t(e):t}function Qa(e){var t=jt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=He,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Or&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,Ae.lanes|=c,jr|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,en(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ae.lanes|=o,jr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ka(e){var t=jt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);en(o,t.memoizedState)||(gt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fg(){}function pg(e,t){var n=Ae,r=jt(),i=t(),o=!en(r.memoizedState,i);if(o&&(r.memoizedState=i,gt=!0),r=r.queue,Sd(gg.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,qo(9,mg.bind(null,n,r,i,t),void 0,null),Ze===null)throw Error(q(349));Or&30||hg(n,t,i)}return i}function hg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mg(e,t,n,r){t.value=n,t.getSnapshot=r,yg(t)&&vg(e)}function gg(e,t,n){return n(function(){yg(t)&&vg(e)})}function yg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function vg(e){var t=Nn(e,1);t!==null&&Kt(t,e,1,-1)}function Qf(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=k1.bind(null,Ae,e),[t.memoizedState,e]}function qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xg(){return jt().memoizedState}function al(e,t,n,r){var i=rn();Ae.flags|=e,i.memoizedState=qo(1|t,n,void 0,r===void 0?null:r)}function ca(e,t,n,r){var i=jt();r=r===void 0?null:r;var o=void 0;if(He!==null){var s=He.memoizedState;if(o=s.destroy,r!==null&&xd(r,s.deps)){i.memoizedState=qo(t,n,o,r);return}}Ae.flags|=e,i.memoizedState=qo(1|t,n,o,r)}function Kf(e,t){return al(8390656,8,e,t)}function Sd(e,t){return ca(2048,8,e,t)}function wg(e,t){return ca(4,2,e,t)}function _g(e,t){return ca(4,4,e,t)}function Sg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kg(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,4,Sg.bind(null,t,e),n)}function kd(){}function Eg(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bg(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cg(e,t,n){return Or&21?(en(n,t)||(n=Pm(),Ae.lanes|=n,jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function _1(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=Ga.transition;Ga.transition={};try{e(!1),t()}finally{we=n,Ga.transition=r}}function Tg(){return jt().memoizedState}function S1(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ng(e))Mg(t,n);else if(n=ug(e,t,n,r),n!==null){var i=ut();Kt(n,e,r,i),Ig(n,t,r)}}function k1(e,t,n){var r=fr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ng(e))Mg(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,en(l,s)){var a=t.interleaved;a===null?(i.next=i,hd(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=ug(e,t,i,r),n!==null&&(i=ut(),Kt(n,e,r,i),Ig(n,t,r))}}function Ng(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Mg(e,t){Co=Ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ig(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ed(e,n)}}var Dl={readContext:Ot,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},E1={readContext:Ot,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Kf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,al(4194308,4,Sg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){return al(4,2,e,t)},useMemo:function(e,t){var n=rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=S1.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Qf,useDebugValue:kd,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Qf(!1),t=e[0];return e=_1.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=rn();if(Me){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Ze===null)throw Error(q(349));Or&30||hg(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Kf(gg.bind(null,r,o,e),[e]),r.flags|=2048,qo(9,mg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=rn(),t=Ze.identifierPrefix;if(Me){var n=Sn,r=_n;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=w1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b1={readContext:Ot,useCallback:Eg,useContext:Ot,useEffect:Sd,useImperativeHandle:kg,useInsertionEffect:wg,useLayoutEffect:_g,useMemo:bg,useReducer:Qa,useRef:xg,useState:function(){return Qa(Wo)},useDebugValue:kd,useDeferredValue:function(e){var t=jt();return Cg(t,He.memoizedState,e)},useTransition:function(){var e=Qa(Wo)[0],t=jt().memoizedState;return[e,t]},useMutableSource:fg,useSyncExternalStore:pg,useId:Tg,unstable_isNewReconciler:!1},C1={readContext:Ot,useCallback:Eg,useContext:Ot,useEffect:Sd,useImperativeHandle:kg,useInsertionEffect:wg,useLayoutEffect:_g,useMemo:bg,useReducer:Ka,useRef:xg,useState:function(){return Ka(Wo)},useDebugValue:kd,useDeferredValue:function(e){var t=jt();return He===null?t.memoizedState=e:Cg(t,He.memoizedState,e)},useTransition:function(){var e=Ka(Wo)[0],t=jt().memoizedState;return[e,t]},useMutableSource:fg,useSyncExternalStore:pg,useId:Tg,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var da={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ut(),i=fr(e),o=bn(r,i);o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(Kt(t,e,i,r),sl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ut(),i=fr(e),o=bn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(Kt(t,e,i,r),sl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),r=fr(e),i=bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=cr(e,i,r),t!==null&&(Kt(t,e,r,n),sl(t,e,r))}};function Jf(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Oo(n,r)||!Oo(i,o):!0}function Pg(e,t,n){var r=!1,i=vr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ot(o):(i=xt(t)?Dr:it.current,r=t.contextTypes,o=(r=r!=null)?Ii(e,i):vr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=da,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ep(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function Ku(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},md(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ot(o):(o=xt(t)?Dr:it.current,i.context=Ii(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&da.enqueueReplaceState(i,i.state,null),Al(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zi(e,t){try{var n="",r=t;do n+=ex(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ja(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ju(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var T1=typeof WeakMap=="function"?WeakMap:Map;function Rg(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ol||(Ol=!0,uc=r),Ju(e,t)},n}function Ag(e,t,n){n=bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ju(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ju(e,t),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function tp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new T1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=B1.bind(null,e,t,n),t.then(e,e))}function np(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,cr(n,t,1))),n.lanes|=1),e)}var N1=An.ReactCurrentOwner,gt=!1;function at(e,t,n,r){t.child=e===null?ag(t,null,n,r):Ri(t,e.child,n,r)}function ip(e,t,n,r,i){n=n.render;var o=t.ref;return Si(t,i),r=wd(e,t,n,r,o,i),n=_d(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mn(e,t,i)):(Me&&n&&ad(t),t.flags|=1,at(e,t,r,i),t.child)}function op(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Pd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,zg(e,t,o,r,i)):(e=fl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(s,r)&&e.ref===t.ref)return Mn(e,t,i)}return t.flags|=1,e=pr(o,r),e.ref=t.ref,e.return=t,t.child=e}function zg(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Oo(o,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,Mn(e,t,i)}return ec(e,t,n,r,i)}function Lg(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(pi,kt),kt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(pi,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(pi,kt),kt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ke(pi,kt),kt|=r;return at(e,t,i,n),t.child}function Dg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ec(e,t,n,r,i){var o=xt(n)?Dr:it.current;return o=Ii(t,o),Si(t,i),n=wd(e,t,n,r,o,i),r=_d(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mn(e,t,i)):(Me&&r&&ad(t),t.flags|=1,at(e,t,n,i),t.child)}function sp(e,t,n,r,i){if(xt(n)){var o=!0;Nl(t)}else o=!1;if(Si(t,i),t.stateNode===null)ul(e,t),Pg(t,n,r),Ku(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=xt(n)?Dr:it.current,u=Ii(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ep(t,s,r,u),Gn=!1;var f=t.memoizedState;s.state=f,Al(t,r,s,i),a=t.memoizedState,l!==r||f!==a||vt.current||Gn?(typeof c=="function"&&(Qu(t,n,c,r),a=t.memoizedState),(l=Gn||Jf(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,cg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qt(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ot(a):(a=xt(n)?Dr:it.current,a=Ii(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&ep(t,s,r,a),Gn=!1,f=t.memoizedState,s.state=f,Al(t,r,s,i);var w=t.memoizedState;l!==d||f!==w||vt.current||Gn?(typeof m=="function"&&(Qu(t,n,m,r),w=t.memoizedState),(u=Gn||Jf(t,n,u,r,f,w,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return tc(e,t,n,r,o,i)}function tc(e,t,n,r,i,o){Dg(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Wf(t,n,!1),Mn(e,t,o);r=t.stateNode,N1.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ri(t,e.child,null,o),t.child=Ri(t,null,l,o)):at(e,t,l,o),t.memoizedState=r.state,i&&Wf(t,n,!0),t.child}function $g(e){var t=e.stateNode;t.pendingContext?Uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uf(e,t.context,!1),gd(e,t.containerInfo)}function lp(e,t,n,r,i){return Pi(),cd(i),t.flags|=256,at(e,t,n,r),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Og(e,t,n){var r=t.pendingProps,i=Re.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ke(Re,i&1),e===null)return Xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ha(s,r,0,null),e=Ar(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rc(n),t.memoizedState=nc,e):Ed(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return M1(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=pr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=pr(l,o):(o=Ar(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?rc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=nc,r}return o=e.child,e=o.sibling,r=pr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ed(e,t){return t=ha({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,n,r){return r!==null&&cd(r),Ri(t,e.child,null,n),e=Ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M1(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Ja(Error(q(422))),Is(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ha({mode:"visible",children:r.children},i,0,null),o=Ar(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ri(t,e.child,null,s),t.child.memoizedState=rc(s),t.memoizedState=nc,o);if(!(t.mode&1))return Is(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(q(419)),r=Ja(o,r,void 0),Is(e,t,s,r)}if(l=(s&e.childLanes)!==0,gt||l){if(r=Ze,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nn(e,i),Kt(r,e,i,-1))}return Id(),r=Ja(Error(q(421))),Is(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=H1.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Et=ur(i.nextSibling),bt=t,Me=!0,Zt=null,e!==null&&(At[zt++]=_n,At[zt++]=Sn,At[zt++]=$r,_n=e.id,Sn=e.overflow,$r=t),t=Ed(t,r.children),t.flags|=4096,t)}function ap(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gu(e.return,t,n)}function eu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jg(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(at(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,n,t);else if(e.tag===19)ap(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),eu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}eu(t,!0,n,null,o);break;case"together":eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I1(e,t,n){switch(t.tag){case 3:$g(t),Pi();break;case 5:dg(t);break;case 1:xt(t.type)&&Nl(t);break;case 4:gd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ke(Pl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?Og(e,t,n):(ke(Re,Re.current&1),e=Mn(e,t,n),e!==null?e.sibling:null);ke(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,Lg(e,t,n)}return Mn(e,t,n)}var Fg,ic,Bg,Hg;Fg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ic=function(){};Bg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mr(an.current);var o=null;switch(n){case"input":i=Cu(e,i),r=Cu(e,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=Mu(e,i),r=Mu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cl)}Pu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&be("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Hg=function(e,t,n,r){n!==r&&(t.flags|=4)};function ro(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function P1(e,t,n){var r=t.pendingProps;switch(ud(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return xt(t.type)&&Tl(),nt(t),null;case 3:return r=t.stateNode,Ai(),Ce(vt),Ce(it),vd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(fc(Zt),Zt=null))),ic(e,t),nt(t),null;case 5:yd(t);var i=Mr(Vo.current);if(n=t.type,e!==null&&t.stateNode!=null)Bg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return nt(t),null}if(e=Mr(an.current),Ns(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[sn]=t,r[Bo]=o,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<mo.length;i++)be(mo[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":yf(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":xf(r,o),be("invalid",r)}Pu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ts(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ts(r.textContent,l,e),i=["children",""+l]):Po.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&be("scroll",r)}switch(n){case"input":xs(r),vf(r,o,!0);break;case"textarea":xs(r),wf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[sn]=t,e[Bo]=r,Fg(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ru(n,r),n){case"dialog":be("cancel",e),be("close",e),i=r;break;case"iframe":case"object":case"embed":be("load",e),i=r;break;case"video":case"audio":for(i=0;i<mo.length;i++)be(mo[i],e);i=r;break;case"source":be("error",e),i=r;break;case"img":case"image":case"link":be("error",e),be("load",e),i=r;break;case"details":be("toggle",e),i=r;break;case"input":yf(e,r),i=Cu(e,r),be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),be("invalid",e);break;case"textarea":xf(e,r),i=Mu(e,r),be("invalid",e);break;default:i=r}Pu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?xm(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ym(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ro(e,a):typeof a=="number"&&Ro(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Po.hasOwnProperty(o)?a!=null&&o==="onScroll"&&be("scroll",e):a!=null&&Zc(e,o,a,s))}switch(n){case"input":xs(e),vf(e,r,!1);break;case"textarea":xs(e),wf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?vi(e,!!r.multiple,o,!1):r.defaultValue!=null&&vi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Hg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Mr(Vo.current),Mr(an.current),Ns(t)){if(r=t.stateNode,n=t.memoizedProps,r[sn]=t,(o=r.nodeValue!==n)&&(e=bt,e!==null))switch(e.tag){case 3:Ts(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=t,t.stateNode=r}return nt(t),null;case 13:if(Ce(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Et!==null&&t.mode&1&&!(t.flags&128))sg(),Pi(),t.flags|=98560,o=!1;else if(o=Ns(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[sn]=t}else Pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),o=!1}else Zt!==null&&(fc(Zt),Zt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ve===0&&(Ve=3):Id())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Ai(),ic(e,t),e===null&&jo(t.stateNode.containerInfo),nt(t),null;case 10:return pd(t.type._context),nt(t),null;case 17:return xt(t.type)&&Tl(),nt(t),null;case 19:if(Ce(Re),o=t.memoizedState,o===null)return nt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ro(o,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zl(e),s!==null){for(t.flags|=128,ro(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Re,Re.current&1|2),t.child}e=e.sibling}o.tail!==null&&Oe()>Li&&(t.flags|=128,r=!0,ro(o,!1),t.lanes=4194304)}else{if(!r)if(e=zl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ro(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Me)return nt(t),null}else 2*Oe()-o.renderingStartTime>Li&&n!==1073741824&&(t.flags|=128,r=!0,ro(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Oe(),t.sibling=null,n=Re.current,ke(Re,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return Md(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function R1(e,t){switch(ud(t),t.tag){case 1:return xt(t.type)&&Tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ai(),Ce(vt),Ce(it),vd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yd(t),null;case 13:if(Ce(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Re),null;case 4:return Ai(),null;case 10:return pd(t.type._context),null;case 22:case 23:return Md(),null;case 24:return null;default:return null}}var Ps=!1,rt=!1,A1=typeof WeakSet=="function"?WeakSet:Set,K=null;function fi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(e,t,r)}else n.current=null}function oc(e,t,n){try{n()}catch(r){Le(e,t,r)}}var up=!1;function z1(e,t){if(Hu=kl,e=Ym(),ld(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vu={focusedElem:e,selectionRange:n},kl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,C=w.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:qt(t.type,y),C);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(_){Le(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return w=up,up=!1,w}function To(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&oc(t,n,o)}i=i.next}while(i!==r)}}function fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vg(e){var t=e.alternate;t!==null&&(e.alternate=null,Vg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[Bo],delete t[qu],delete t[g1],delete t[y1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ug(e){return e.tag===5||e.tag===3||e.tag===4}function cp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cl));else if(r!==4&&(e=e.child,e!==null))for(lc(e,t,n),e=e.sibling;e!==null;)lc(e,t,n),e=e.sibling}function ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ac(e,t,n),e=e.sibling;e!==null;)ac(e,t,n),e=e.sibling}var Xe=null,Yt=!1;function Bn(e,t,n){for(n=n.child;n!==null;)Wg(e,t,n),n=n.sibling}function Wg(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(ia,n)}catch{}switch(n.tag){case 5:rt||fi(n,t);case 6:var r=Xe,i=Yt;Xe=null,Bn(e,t,n),Xe=r,Yt=i,Xe!==null&&(Yt?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Yt?(e=Xe,n=n.stateNode,e.nodeType===8?Ya(e.parentNode,n):e.nodeType===1&&Ya(e,n),Do(e)):Ya(Xe,n.stateNode));break;case 4:r=Xe,i=Yt,Xe=n.stateNode.containerInfo,Yt=!0,Bn(e,t,n),Xe=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&oc(n,t,s),i=i.next}while(i!==r)}Bn(e,t,n);break;case 1:if(!rt&&(fi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Le(n,t,l)}Bn(e,t,n);break;case 21:Bn(e,t,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Bn(e,t,n),rt=r):Bn(e,t,n);break;default:Bn(e,t,n)}}function dp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new A1),t.forEach(function(r){var i=V1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Yt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Yt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(Xe===null)throw Error(q(160));Wg(o,s,i),Xe=null,Yt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Le(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qg(t,e),t=t.sibling}function qg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),nn(e),r&4){try{To(3,e,e.return),fa(3,e)}catch(y){Le(e,e.return,y)}try{To(5,e,e.return)}catch(y){Le(e,e.return,y)}}break;case 1:Wt(t,e),nn(e),r&512&&n!==null&&fi(n,n.return);break;case 5:if(Wt(t,e),nn(e),r&512&&n!==null&&fi(n,n.return),e.flags&32){var i=e.stateNode;try{Ro(i,"")}catch(y){Le(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&hm(i,o),Ru(l,s);var u=Ru(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?xm(i,d):c==="dangerouslySetInnerHTML"?ym(i,d):c==="children"?Ro(i,d):Zc(i,c,d,u)}switch(l){case"input":Tu(i,o);break;case"textarea":mm(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?vi(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?vi(i,!!o.multiple,o.defaultValue,!0):vi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bo]=o}catch(y){Le(e,e.return,y)}}break;case 6:if(Wt(t,e),nn(e),r&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Le(e,e.return,y)}}break;case 3:if(Wt(t,e),nn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(y){Le(e,e.return,y)}break;case 4:Wt(t,e),nn(e);break;case 13:Wt(t,e),nn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Td=Oe())),r&4&&dp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(u=rt)||c,Wt(t,e),rt=u):Wt(t,e),nn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(K=e,c=e.child;c!==null;){for(d=K=c;K!==null;){switch(f=K,m=f.child,f.tag){case 0:case 11:case 14:case 15:To(4,f,f.return);break;case 1:fi(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Le(r,n,y)}}break;case 5:fi(f,f.return);break;case 22:if(f.memoizedState!==null){pp(d);continue}}m!==null?(m.return=f,K=m):pp(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=vm("display",s))}catch(y){Le(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Le(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(t,e),nn(e),r&4&&dp(e);break;case 21:break;default:Wt(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ug(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ro(i,""),r.flags&=-33);var o=cp(e);ac(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=cp(e);lc(e,l,s);break;default:throw Error(q(161))}}catch(a){Le(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L1(e,t,n){K=e,Yg(e)}function Yg(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ps;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||rt;l=Ps;var u=rt;if(Ps=s,(rt=a)&&!u)for(K=i;K!==null;)s=K,a=s.child,s.tag===22&&s.memoizedState!==null?hp(i):a!==null?(a.return=s,K=a):hp(i);for(;o!==null;)K=o,Yg(o),o=o.sibling;K=i,Ps=l,rt=u}fp(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):fp(e)}}function fp(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||fa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Gf(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Do(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}rt||t.flags&512&&sc(t)}catch(f){Le(t,t.return,f)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function pp(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function hp(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(a){Le(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Le(t,i,a)}}var o=t.return;try{sc(t)}catch(a){Le(t,o,a)}break;case 5:var s=t.return;try{sc(t)}catch(a){Le(t,s,a)}}}catch(a){Le(t,t.return,a)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var D1=Math.ceil,$l=An.ReactCurrentDispatcher,bd=An.ReactCurrentOwner,$t=An.ReactCurrentBatchConfig,ge=0,Ze=null,Be=null,Ge=0,kt=0,pi=Sr(0),Ve=0,Yo=null,jr=0,pa=0,Cd=0,No=null,mt=null,Td=0,Li=1/0,xn=null,Ol=!1,uc=null,dr=null,Rs=!1,ir=null,jl=0,Mo=0,cc=null,cl=-1,dl=0;function ut(){return ge&6?Oe():cl!==-1?cl:cl=Oe()}function fr(e){return e.mode&1?ge&2&&Ge!==0?Ge&-Ge:x1.transition!==null?(dl===0&&(dl=Pm()),dl):(e=we,e!==0||(e=window.event,e=e===void 0?16:Om(e.type)),e):1}function Kt(e,t,n,r){if(50<Mo)throw Mo=0,cc=null,Error(q(185));is(e,n,r),(!(ge&2)||e!==Ze)&&(e===Ze&&(!(ge&2)&&(pa|=n),Ve===4&&tr(e,Ge)),wt(e,r),n===1&&ge===0&&!(t.mode&1)&&(Li=Oe()+500,ua&&kr()))}function wt(e,t){var n=e.callbackNode;xx(e,t);var r=Sl(e,e===Ze?Ge:0);if(r===0)n!==null&&kf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kf(n),t===1)e.tag===0?v1(mp.bind(null,e)):rg(mp.bind(null,e)),h1(function(){!(ge&6)&&kr()}),n=null;else{switch(Rm(r)){case 1:n=Jc;break;case 4:n=Mm;break;case 16:n=_l;break;case 536870912:n=Im;break;default:n=_l}n=ty(n,Zg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zg(e,t){if(cl=-1,dl=0,ge&6)throw Error(q(327));var n=e.callbackNode;if(ki()&&e.callbackNode!==n)return null;var r=Sl(e,e===Ze?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fl(e,r);else{t=r;var i=ge;ge|=2;var o=Gg();(Ze!==e||Ge!==t)&&(xn=null,Li=Oe()+500,Rr(e,t));do try{j1();break}catch(l){Xg(e,l)}while(!0);fd(),$l.current=o,ge=i,Be!==null?t=0:(Ze=null,Ge=0,t=Ve)}if(t!==0){if(t===2&&(i=$u(e),i!==0&&(r=i,t=dc(e,i))),t===1)throw n=Yo,Rr(e,0),tr(e,r),wt(e,Oe()),n;if(t===6)tr(e,r);else{if(i=e.current.alternate,!(r&30)&&!$1(i)&&(t=Fl(e,r),t===2&&(o=$u(e),o!==0&&(r=o,t=dc(e,o))),t===1))throw n=Yo,Rr(e,0),tr(e,r),wt(e,Oe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:br(e,mt,xn);break;case 3:if(tr(e,r),(r&130023424)===r&&(t=Td+500-Oe(),10<t)){if(Sl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wu(br.bind(null,e,mt,xn),t);break}br(e,mt,xn);break;case 4:if(tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Qt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D1(r/1960))-r,10<r){e.timeoutHandle=Wu(br.bind(null,e,mt,xn),r);break}br(e,mt,xn);break;case 5:br(e,mt,xn);break;default:throw Error(q(329))}}}return wt(e,Oe()),e.callbackNode===n?Zg.bind(null,e):null}function dc(e,t){var n=No;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=Fl(e,t),e!==2&&(t=mt,mt=n,t!==null&&fc(t)),e}function fc(e){mt===null?mt=e:mt.push.apply(mt,e)}function $1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!en(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t){for(t&=~Cd,t&=~pa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function mp(e){if(ge&6)throw Error(q(327));ki();var t=Sl(e,0);if(!(t&1))return wt(e,Oe()),null;var n=Fl(e,t);if(e.tag!==0&&n===2){var r=$u(e);r!==0&&(t=r,n=dc(e,r))}if(n===1)throw n=Yo,Rr(e,0),tr(e,t),wt(e,Oe()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,mt,xn),wt(e,Oe()),null}function Nd(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(Li=Oe()+500,ua&&kr())}}function Fr(e){ir!==null&&ir.tag===0&&!(ge&6)&&ki();var t=ge;ge|=1;var n=$t.transition,r=we;try{if($t.transition=null,we=1,e)return e()}finally{we=r,$t.transition=n,ge=t,!(ge&6)&&kr()}}function Md(){kt=pi.current,Ce(pi)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,p1(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(ud(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tl();break;case 3:Ai(),Ce(vt),Ce(it),vd();break;case 5:yd(r);break;case 4:Ai();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:pd(r.type._context);break;case 22:case 23:Md()}n=n.return}if(Ze=e,Be=e=pr(e.current,null),Ge=kt=t,Ve=0,Yo=null,Cd=pa=jr=0,mt=No=null,Nr!==null){for(t=0;t<Nr.length;t++)if(n=Nr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Nr=null}return e}function Xg(e,t){do{var n=Be;try{if(fd(),ll.current=Dl,Ll){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ll=!1}if(Or=0,qe=He=Ae=null,Co=!1,Uo=0,bd.current=null,n===null||n.return===null){Ve=1,Yo=t,Be=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Ge,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=np(s);if(m!==null){m.flags&=-257,rp(m,s,l,o,t),m.mode&1&&tp(o,u,t),t=m,a=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(a),t.updateQueue=y}else w.add(a);break e}else{if(!(t&1)){tp(o,u,t),Id();break e}a=Error(q(426))}}else if(Me&&l.mode&1){var C=np(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),rp(C,s,l,o,t),cd(zi(a,l));break e}}o=a=zi(a,l),Ve!==4&&(Ve=2),No===null?No=[o]:No.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Rg(o,a,t);Xf(o,p);break e;case 1:l=a;var h=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Ag(o,l,t);Xf(o,_);break e}}o=o.return}while(o!==null)}Kg(n)}catch(T){t=T,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Gg(){var e=$l.current;return $l.current=Dl,e===null?Dl:e}function Id(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ze===null||!(jr&268435455)&&!(pa&268435455)||tr(Ze,Ge)}function Fl(e,t){var n=ge;ge|=2;var r=Gg();(Ze!==e||Ge!==t)&&(xn=null,Rr(e,t));do try{O1();break}catch(i){Xg(e,i)}while(!0);if(fd(),ge=n,$l.current=r,Be!==null)throw Error(q(261));return Ze=null,Ge=0,Ve}function O1(){for(;Be!==null;)Qg(Be)}function j1(){for(;Be!==null&&!cx();)Qg(Be)}function Qg(e){var t=ey(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Kg(e):Be=t,bd.current=null}function Kg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=R1(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Be=null;return}}else if(n=P1(n,t,kt),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ve===0&&(Ve=5)}function br(e,t,n){var r=we,i=$t.transition;try{$t.transition=null,we=1,F1(e,t,n,r)}finally{$t.transition=i,we=r}return null}function F1(e,t,n,r){do ki();while(ir!==null);if(ge&6)throw Error(q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(wx(e,o),e===Ze&&(Be=Ze=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rs||(Rs=!0,ty(_l,function(){return ki(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$t.transition,$t.transition=null;var s=we;we=1;var l=ge;ge|=4,bd.current=null,z1(e,n),qg(n,e),s1(Vu),kl=!!Hu,Vu=Hu=null,e.current=n,L1(n),dx(),ge=l,we=s,$t.transition=o}else e.current=n;if(Rs&&(Rs=!1,ir=e,jl=i),o=e.pendingLanes,o===0&&(dr=null),hx(n.stateNode),wt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ol)throw Ol=!1,e=uc,uc=null,e;return jl&1&&e.tag!==0&&ki(),o=e.pendingLanes,o&1?e===cc?Mo++:(Mo=0,cc=e):Mo=0,kr(),null}function ki(){if(ir!==null){var e=Rm(jl),t=$t.transition,n=we;try{if($t.transition=null,we=16>e?16:e,ir===null)var r=!1;else{if(e=ir,ir=null,jl=0,ge&6)throw Error(q(331));var i=ge;for(ge|=4,K=e.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:To(8,c,o)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var f=c.sibling,m=c.return;if(Vg(c),c===u){K=null;break}if(f!==null){f.return=m,K=f;break}K=m}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:To(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,K=p;break e}K=o.return}}var h=e.current;for(K=h;K!==null;){s=K;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,K=g;else e:for(s=h;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fa(9,l)}}catch(T){Le(l,l.return,T)}if(l===s){K=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,K=_;break e}K=l.return}}if(ge=i,kr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(ia,e)}catch{}r=!0}return r}finally{we=n,$t.transition=t}}return!1}function gp(e,t,n){t=zi(n,t),t=Rg(e,t,1),e=cr(e,t,1),t=ut(),e!==null&&(is(e,1,t),wt(e,t))}function Le(e,t,n){if(e.tag===3)gp(e,e,n);else for(;t!==null;){if(t.tag===3){gp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){e=zi(n,e),e=Ag(t,e,1),t=cr(t,e,1),e=ut(),t!==null&&(is(t,1,e),wt(t,e));break}}t=t.return}}function B1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(Ge&n)===n&&(Ve===4||Ve===3&&(Ge&130023424)===Ge&&500>Oe()-Td?Rr(e,0):Cd|=n),wt(e,t)}function Jg(e,t){t===0&&(e.mode&1?(t=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):t=1);var n=ut();e=Nn(e,t),e!==null&&(is(e,t,n),wt(e,n))}function H1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jg(e,n)}function V1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),Jg(e,n)}var ey;ey=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,I1(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Me&&t.flags&1048576&&ig(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ul(e,t),e=t.pendingProps;var i=Ii(t,it.current);Si(t,n),i=wd(null,t,r,e,i,n);var o=_d();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(o=!0,Nl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,md(t),i.updater=da,t.stateNode=i,i._reactInternals=t,Ku(t,r,e,n),t=tc(null,t,r,!0,o,n)):(t.tag=0,Me&&o&&ad(t),at(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=W1(r),e=qt(r,e),i){case 0:t=ec(null,t,r,e,n);break e;case 1:t=sp(null,t,r,e,n);break e;case 11:t=ip(null,t,r,e,n);break e;case 14:t=op(null,t,r,qt(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),ec(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),sp(e,t,r,i,n);case 3:e:{if($g(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,i=o.element,cg(e,t),Al(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zi(Error(q(423)),t),t=lp(e,t,r,n,i);break e}else if(r!==i){i=zi(Error(q(424)),t),t=lp(e,t,r,n,i);break e}else for(Et=ur(t.stateNode.containerInfo.firstChild),bt=t,Me=!0,Zt=null,n=ag(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pi(),r===i){t=Mn(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return dg(t),e===null&&Xu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Uu(r,i)?s=null:o!==null&&Uu(r,o)&&(t.flags|=32),Dg(e,t),at(e,t,s,n),t.child;case 6:return e===null&&Xu(t),null;case 13:return Og(e,t,n);case 4:return gd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ri(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),ip(e,t,r,i,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ke(Pl,r._currentValue),r._currentValue=s,o!==null)if(en(o.value,s)){if(o.children===i.children&&!vt.current){t=Mn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=bn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gu(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(q(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gu(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}at(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Si(t,n),i=Ot(i),r=r(i),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,i=qt(r,t.pendingProps),i=qt(r.type,i),op(e,t,r,i,n);case 15:return zg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),ul(e,t),t.tag=1,xt(r)?(e=!0,Nl(t)):e=!1,Si(t,n),Pg(t,r,i),Ku(t,r,i,n),tc(null,t,r,!0,e,n);case 19:return jg(e,t,n);case 22:return Lg(e,t,n)}throw Error(q(156,t.tag))};function ty(e,t){return Nm(e,t)}function U1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,r){return new U1(e,t,n,r)}function Pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W1(e){if(typeof e=="function")return Pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gc)return 11;if(e===Qc)return 14}return 2}function pr(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fl(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Pd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ri:return Ar(n.children,i,o,t);case Xc:s=8,i|=8;break;case Su:return e=Lt(12,n,t,i|2),e.elementType=Su,e.lanes=o,e;case ku:return e=Lt(13,n,t,i),e.elementType=ku,e.lanes=o,e;case Eu:return e=Lt(19,n,t,i),e.elementType=Eu,e.lanes=o,e;case dm:return ha(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case um:s=10;break e;case cm:s=9;break e;case Gc:s=11;break e;case Qc:s=14;break e;case Xn:s=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Lt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ar(e,t,n,r){return e=Lt(7,e,r,t),e.lanes=n,e}function ha(e,t,n,r){return e=Lt(22,e,r,t),e.elementType=dm,e.lanes=n,e.stateNode={isHidden:!1},e}function tu(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function nu(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rd(e,t,n,r,i,o,s,l,a){return e=new q1(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Lt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(o),e}function Y1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ny(e){if(!e)return vr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(xt(n))return ng(e,n,t)}return t}function ry(e,t,n,r,i,o,s,l,a){return e=Rd(n,r,!0,e,i,o,s,l,a),e.context=ny(null),n=e.current,r=ut(),i=fr(n),o=bn(r,i),o.callback=t??null,cr(n,o,i),e.current.lanes=i,is(e,i,r),wt(e,r),e}function ma(e,t,n,r){var i=t.current,o=ut(),s=fr(i);return n=ny(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cr(i,t,s),e!==null&&(Kt(e,i,s,o),sl(e,i,s)),s}function Bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ad(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function Z1(){return null}var iy=typeof reportError=="function"?reportError:function(e){console.error(e)};function zd(e){this._internalRoot=e}ga.prototype.render=zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));ma(e,t,null,null)};ga.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){ma(null,e,null,null)}),t[Tn]=null}};function ga(e){this._internalRoot=e}ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<er.length&&t!==0&&t<er[n].priority;n++);er.splice(n,0,e),n===0&&$m(e)}};function Ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vp(){}function X1(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Bl(s);o.call(u)}}var s=ry(t,r,e,0,null,!1,!1,"",vp);return e._reactRootContainer=s,e[Tn]=s.current,jo(e.nodeType===8?e.parentNode:e),Fr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Bl(a);l.call(u)}}var a=Rd(e,0,!1,null,null,!1,!1,"",vp);return e._reactRootContainer=a,e[Tn]=a.current,jo(e.nodeType===8?e.parentNode:e),Fr(function(){ma(t,a,n,r)}),a}function va(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Bl(s);l.call(a)}}ma(t,s,e,i)}else s=X1(n,t,e,i,r);return Bl(s)}Am=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ho(t.pendingLanes);n!==0&&(ed(t,n|1),wt(t,Oe()),!(ge&6)&&(Li=Oe()+500,kr()))}break;case 13:Fr(function(){var r=Nn(e,1);if(r!==null){var i=ut();Kt(r,e,1,i)}}),Ad(e,1)}};td=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=ut();Kt(t,e,134217728,n)}Ad(e,134217728)}};zm=function(e){if(e.tag===13){var t=fr(e),n=Nn(e,t);if(n!==null){var r=ut();Kt(n,e,t,r)}Ad(e,t)}};Lm=function(){return we};Dm=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};zu=function(e,t,n){switch(t){case"input":if(Tu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=aa(r);if(!i)throw Error(q(90));pm(r),Tu(r,i)}}}break;case"textarea":mm(e,n);break;case"select":t=n.value,t!=null&&vi(e,!!n.multiple,t,!1)}};Sm=Nd;km=Fr;var G1={usingClientEntryPoint:!1,Events:[ss,li,aa,wm,_m,Nd]},io={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q1={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cm(e),e===null?null:e.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||Z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{ia=As.inject(Q1),ln=As}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(t))throw Error(q(200));return Y1(e,t,null,n)};Mt.createRoot=function(e,t){if(!Ld(e))throw Error(q(299));var n=!1,r="",i=iy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rd(e,1,!1,null,null,n,!1,r,i),e[Tn]=t.current,jo(e.nodeType===8?e.parentNode:e),new zd(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Cm(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Fr(e)};Mt.hydrate=function(e,t,n){if(!ya(t))throw Error(q(200));return va(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!Ld(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=iy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ry(t,null,e,1,n??null,i,!1,o,s),e[Tn]=t.current,jo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ga(t)};Mt.render=function(e,t,n){if(!ya(t))throw Error(q(200));return va(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!ya(e))throw Error(q(40));return e._reactRootContainer?(Fr(function(){va(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};Mt.unstable_batchedUpdates=Nd;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ya(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return va(e,t,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oy)}catch(e){console.error(e)}}oy(),om.exports=Mt;var sy=om.exports,ly,xp=sy;ly=xp.createRoot,xp.hydrateRoot;function Pt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Pt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ay={exports:{}},uy={},cy={exports:{}},dy={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=S;function K1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J1=typeof Object.is=="function"?Object.is:K1,ew=Di.useState,tw=Di.useEffect,nw=Di.useLayoutEffect,rw=Di.useDebugValue;function iw(e,t){var n=t(),r=ew({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return nw(function(){i.value=n,i.getSnapshot=t,ru(i)&&o({inst:i})},[e,n,t]),tw(function(){return ru(i)&&o({inst:i}),e(function(){ru(i)&&o({inst:i})})},[e]),rw(n),n}function ru(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!J1(e,n)}catch{return!0}}function ow(e,t){return t()}var sw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ow:iw;dy.useSyncExternalStore=Di.useSyncExternalStore!==void 0?Di.useSyncExternalStore:sw;cy.exports=dy;var lw=cy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=S,aw=lw;function uw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cw=typeof Object.is=="function"?Object.is:uw,dw=aw.useSyncExternalStore,fw=xa.useRef,pw=xa.useEffect,hw=xa.useMemo,mw=xa.useDebugValue;uy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=fw(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=hw(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var w=s.value;if(i(w,m))return d=w}return d=m}if(w=d,cw(c,m))return w;var y=r(m);return i!==void 0&&i(w,y)?w:(c=m,d=y)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,i]);var l=dw(e,o[0],o[1]);return pw(function(){s.hasValue=!0,s.value=l},[l]),mw(l),l};ay.exports=uy;var gw=ay.exports;const fy=Yh(gw),yw={},wp=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(w=>w(t,m))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(yw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},py=e=>e?wp(e):wp,{useDebugValue:vw}=V,{useSyncExternalStoreWithSelector:xw}=fy,ww=e=>e;function hy(e,t=ww,n){const r=xw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return vw(r),r}const _p=(e,t)=>{const n=py(e),r=(i,o=t)=>hy(n,i,o);return Object.assign(r,n),r},_w=(e,t)=>e?_p(e,t):_p;function ct(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Sw={value:()=>{}};function wa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new pl(n)}function pl(e){this._=e}function kw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}pl.prototype=wa.prototype={constructor:pl,on:function(e,t){var n=this._,r=kw(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Ew(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Sp(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Sp(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pl(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Ew(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Sp(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Sw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var pc="http://www.w3.org/1999/xhtml";const kp={svg:"http://www.w3.org/2000/svg",xhtml:pc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _a(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),kp.hasOwnProperty(t)?{space:kp[t],local:e}:e}function bw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===pc&&t.documentElement.namespaceURI===pc?t.createElement(e):t.createElementNS(n,e)}}function Cw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function my(e){var t=_a(e);return(t.local?Cw:bw)(t)}function Tw(){}function Dd(e){return e==null?Tw:function(){return this.querySelector(e)}}function Nw(e){typeof e!="function"&&(e=Dd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=e.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new Tt(r,this._parents)}function Mw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Iw(){return[]}function gy(e){return e==null?Iw:function(){return this.querySelectorAll(e)}}function Pw(e){return function(){return Mw(e.apply(this,arguments))}}function Rw(e){typeof e=="function"?e=Pw(e):e=gy(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new Tt(r,i)}function yy(e){return function(){return this.matches(e)}}function vy(e){return function(t){return t.matches(e)}}var Aw=Array.prototype.find;function zw(e){return function(){return Aw.call(this.children,e)}}function Lw(){return this.firstElementChild}function Dw(e){return this.select(e==null?Lw:zw(typeof e=="function"?e:vy(e)))}var $w=Array.prototype.filter;function Ow(){return Array.from(this.children)}function jw(e){return function(){return $w.call(this.children,e)}}function Fw(e){return this.selectAll(e==null?Ow:jw(typeof e=="function"?e:vy(e)))}function Bw(e){typeof e!="function"&&(e=yy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Tt(r,this._parents)}function xy(e){return new Array(e.length)}function Hw(){return new Tt(this._enter||this._groups.map(xy),this._parents)}function Hl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hl.prototype={constructor:Hl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vw(e){return function(){return e}}function Uw(e,t,n,r,i,o){for(var s=0,l,a=t.length,u=o.length;s<u;++s)(l=t[s])?(l.__data__=o[s],r[s]=l):n[s]=new Hl(e,o[s]);for(;s<a;++s)(l=t[s])&&(i[s]=l)}function Ww(e,t,n,r,i,o,s){var l,a,u=new Map,c=t.length,d=o.length,f=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(f[l]=m=s.call(a,a.__data__,l,t)+"",u.has(m)?i[l]=a:u.set(m,a));for(l=0;l<d;++l)m=s.call(e,o[l],l,o)+"",(a=u.get(m))?(r[l]=a,a.__data__=o[l],u.delete(m)):n[l]=new Hl(e,o[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(i[l]=a)}function qw(e){return e.__data__}function Yw(e,t){if(!arguments.length)return Array.from(this,qw);var n=t?Ww:Uw,r=this._parents,i=this._groups;typeof e!="function"&&(e=Vw(e));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,m=Zw(e.call(c,c&&c.__data__,u,r)),w=m.length,y=l[u]=new Array(w),C=s[u]=new Array(w),p=a[u]=new Array(f);n(c,d,y,C,p,m,t);for(var h=0,g=0,_,T;h<w;++h)if(_=y[h]){for(h>=g&&(g=h+1);!(T=C[g])&&++g<w;);_._next=T||null}}return s=new Tt(s,r),s._enter=l,s._exit=a,s}function Zw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xw(){return new Tt(this._exit||this._groups.map(xy),this._parents)}function Gw(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Qw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),m,w=0;w<d;++w)(m=u[w]||c[w])&&(f[w]=m);for(;a<i;++a)l[a]=n[a];return new Tt(l,this._parents)}function Kw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Jw(e){e||(e=e_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new Tt(i,this._parents).order()}function e_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function t_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function n_(){return Array.from(this)}function r_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function i_(){let e=0;for(const t of this)++e;return e}function o_(){return!this.node()}function s_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function l_(e){return function(){this.removeAttribute(e)}}function a_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u_(e,t){return function(){this.setAttribute(e,t)}}function c_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function d_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function f_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function p_(e,t){var n=_a(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?a_:l_:typeof t=="function"?n.local?f_:d_:n.local?c_:u_)(n,t))}function wy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function h_(e){return function(){this.style.removeProperty(e)}}function m_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function g_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function y_(e,t,n){return arguments.length>1?this.each((t==null?h_:typeof t=="function"?g_:m_)(e,t,n??"")):$i(this.node(),e)}function $i(e,t){return e.style.getPropertyValue(t)||wy(e).getComputedStyle(e,null).getPropertyValue(t)}function v_(e){return function(){delete this[e]}}function x_(e,t){return function(){this[e]=t}}function w_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function __(e,t){return arguments.length>1?this.each((t==null?v_:typeof t=="function"?w_:x_)(e,t)):this.node()[e]}function _y(e){return e.trim().split(/^|\s+/)}function $d(e){return e.classList||new Sy(e)}function Sy(e){this._node=e,this._names=_y(e.getAttribute("class")||"")}Sy.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ky(e,t){for(var n=$d(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ey(e,t){for(var n=$d(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function S_(e){return function(){ky(this,e)}}function k_(e){return function(){Ey(this,e)}}function E_(e,t){return function(){(t.apply(this,arguments)?ky:Ey)(this,e)}}function b_(e,t){var n=_y(e+"");if(arguments.length<2){for(var r=$d(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?E_:t?S_:k_)(n,t))}function C_(){this.textContent=""}function T_(e){return function(){this.textContent=e}}function N_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function M_(e){return arguments.length?this.each(e==null?C_:(typeof e=="function"?N_:T_)(e)):this.node().textContent}function I_(){this.innerHTML=""}function P_(e){return function(){this.innerHTML=e}}function R_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function A_(e){return arguments.length?this.each(e==null?I_:(typeof e=="function"?R_:P_)(e)):this.node().innerHTML}function z_(){this.nextSibling&&this.parentNode.appendChild(this)}function L_(){return this.each(z_)}function D_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $_(){return this.each(D_)}function O_(e){var t=typeof e=="function"?e:my(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function j_(){return null}function F_(e,t){var n=typeof e=="function"?e:my(e),r=t==null?j_:typeof t=="function"?t:Dd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function B_(){var e=this.parentNode;e&&e.removeChild(this)}function H_(){return this.each(B_)}function V_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function U_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function W_(e){return this.select(e?U_:V_)}function q_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Y_(e){return function(t){e.call(this,t,this.__data__)}}function Z_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function X_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function G_(e,t,n){return function(){var r=this.__on,i,o=Y_(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Q_(e,t,n){var r=Z_(e+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?G_:X_,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function by(e,t,n){var r=wy(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function K_(e,t){return function(){return by(this,e,t)}}function J_(e,t){return function(){return by(this,e,t.apply(this,arguments))}}function eS(e,t){return this.each((typeof t=="function"?J_:K_)(e,t))}function*tS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Cy=[null];function Tt(e,t){this._groups=e,this._parents=t}function as(){return new Tt([[document.documentElement]],Cy)}function nS(){return this}Tt.prototype=as.prototype={constructor:Tt,select:Nw,selectAll:Rw,selectChild:Dw,selectChildren:Fw,filter:Bw,data:Yw,enter:Hw,exit:Xw,join:Gw,merge:Qw,selection:nS,order:Kw,sort:Jw,call:t_,nodes:n_,node:r_,size:i_,empty:o_,each:s_,attr:p_,style:y_,property:__,classed:b_,text:M_,html:A_,raise:L_,lower:$_,append:O_,insert:F_,remove:H_,clone:W_,datum:q_,on:Q_,dispatch:eS,[Symbol.iterator]:tS};function Xt(e){return typeof e=="string"?new Tt([[document.querySelector(e)]],[document.documentElement]):new Tt([[e]],Cy)}function rS(e){let t;for(;t=e.sourceEvent;)e=t;return e}function on(e,t){if(e=rS(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const iS={passive:!1},Zo={capture:!0,passive:!1};function iu(e){e.stopImmediatePropagation()}function Ei(e){e.preventDefault(),e.stopImmediatePropagation()}function Ty(e){var t=e.document.documentElement,n=Xt(e).on("dragstart.drag",Ei,Zo);"onselectstart"in t?n.on("selectstart.drag",Ei,Zo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ny(e,t){var n=e.document.documentElement,r=Xt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ei,Zo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const zs=e=>()=>e;function hc(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}hc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function oS(e){return!e.ctrlKey&&!e.button}function sS(){return this.parentNode}function lS(e,t){return t??{x:e.x,y:e.y}}function aS(){return navigator.maxTouchPoints||"ontouchstart"in this}function uS(){var e=oS,t=sS,n=lS,r=aS,i={},o=wa("start","drag","end"),s=0,l,a,u,c,d=0;function f(_){_.on("mousedown.drag",m).filter(r).on("touchstart.drag",C).on("touchmove.drag",p,iS).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(_,T){if(!(c||!e.call(this,_,T))){var A=g(this,t.call(this,_,T),_,T,"mouse");A&&(Xt(_.view).on("mousemove.drag",w,Zo).on("mouseup.drag",y,Zo),Ty(_.view),iu(_),u=!1,l=_.clientX,a=_.clientY,A("start",_))}}function w(_){if(Ei(_),!u){var T=_.clientX-l,A=_.clientY-a;u=T*T+A*A>d}i.mouse("drag",_)}function y(_){Xt(_.view).on("mousemove.drag mouseup.drag",null),Ny(_.view,u),Ei(_),i.mouse("end",_)}function C(_,T){if(e.call(this,_,T)){var A=_.changedTouches,E=t.call(this,_,T),N=A.length,D,z;for(D=0;D<N;++D)(z=g(this,E,_,T,A[D].identifier,A[D]))&&(iu(_),z("start",_,A[D]))}}function p(_){var T=_.changedTouches,A=T.length,E,N;for(E=0;E<A;++E)(N=i[T[E].identifier])&&(Ei(_),N("drag",_,T[E]))}function h(_){var T=_.changedTouches,A=T.length,E,N;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<A;++E)(N=i[T[E].identifier])&&(iu(_),N("end",_,T[E]))}function g(_,T,A,E,N,D){var z=o.copy(),F=on(D||A,T),Y,B,x;if((x=n.call(_,new hc("beforestart",{sourceEvent:A,target:f,identifier:N,active:s,x:F[0],y:F[1],dx:0,dy:0,dispatch:z}),E))!=null)return Y=x.x-F[0]||0,B=x.y-F[1]||0,function M(R,O,P){var b=F,k;switch(R){case"start":i[N]=M,k=s++;break;case"end":delete i[N],--s;case"drag":F=on(P||O,T),k=s;break}z.call(R,_,new hc(R,{sourceEvent:O,subject:x,target:f,identifier:N,active:k,x:F[0]+Y,y:F[1]+B,dx:F[0]-b[0],dy:F[1]-b[1],dispatch:z}),E)}}return f.filter=function(_){return arguments.length?(e=typeof _=="function"?_:zs(!!_),f):e},f.container=function(_){return arguments.length?(t=typeof _=="function"?_:zs(_),f):t},f.subject=function(_){return arguments.length?(n=typeof _=="function"?_:zs(_),f):n},f.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:zs(!!_),f):r},f.on=function(){var _=o.on.apply(o,arguments);return _===o?f:_},f.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,f):Math.sqrt(d)},f}function Od(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function My(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function us(){}var Xo=.7,Vl=1/Xo,bi="\\s*([+-]?\\d+)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cS=/^#([0-9a-f]{3,8})$/,dS=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),fS=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),pS=new RegExp(`^rgba\\(${bi},${bi},${bi},${Go}\\)$`),hS=new RegExp(`^rgba\\(${un},${un},${un},${Go}\\)$`),mS=new RegExp(`^hsl\\(${Go},${un},${un}\\)$`),gS=new RegExp(`^hsla\\(${Go},${un},${un},${Go}\\)$`),Ep={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Od(us,Qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bp,formatHex:bp,formatHex8:yS,formatHsl:vS,formatRgb:Cp,toString:Cp});function bp(){return this.rgb().formatHex()}function yS(){return this.rgb().formatHex8()}function vS(){return Iy(this).formatHsl()}function Cp(){return this.rgb().formatRgb()}function Qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tp(t):n===3?new yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ls(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ls(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dS.exec(e))?new yt(t[1],t[2],t[3],1):(t=fS.exec(e))?new yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pS.exec(e))?Ls(t[1],t[2],t[3],t[4]):(t=hS.exec(e))?Ls(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mS.exec(e))?Ip(t[1],t[2]/100,t[3]/100,1):(t=gS.exec(e))?Ip(t[1],t[2]/100,t[3]/100,t[4]):Ep.hasOwnProperty(e)?Tp(Ep[e]):e==="transparent"?new yt(NaN,NaN,NaN,0):null}function Tp(e){return new yt(e>>16&255,e>>8&255,e&255,1)}function Ls(e,t,n,r){return r<=0&&(e=t=n=NaN),new yt(e,t,n,r)}function xS(e){return e instanceof us||(e=Qo(e)),e?(e=e.rgb(),new yt(e.r,e.g,e.b,e.opacity)):new yt}function mc(e,t,n,r){return arguments.length===1?xS(e):new yt(e,t,n,r??1)}function yt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Od(yt,mc,My(us,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xo:Math.pow(Xo,e),new yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yt(zr(this.r),zr(this.g),zr(this.b),Ul(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Np,formatHex:Np,formatHex8:wS,formatRgb:Mp,toString:Mp}));function Np(){return`#${Ir(this.r)}${Ir(this.g)}${Ir(this.b)}`}function wS(){return`#${Ir(this.r)}${Ir(this.g)}${Ir(this.b)}${Ir((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mp(){const e=Ul(this.opacity);return`${e===1?"rgb(":"rgba("}${zr(this.r)}, ${zr(this.g)}, ${zr(this.b)}${e===1?")":`, ${e})`}`}function Ul(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ir(e){return e=zr(e),(e<16?"0":"")+e.toString(16)}function Ip(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gt(e,t,n,r)}function Iy(e){if(e instanceof Gt)return new Gt(e.h,e.s,e.l,e.opacity);if(e instanceof us||(e=Qo(e)),!e)return new Gt;if(e instanceof Gt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new Gt(s,l,a,e.opacity)}function _S(e,t,n,r){return arguments.length===1?Iy(e):new Gt(e,t,n,r??1)}function Gt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Od(Gt,_S,My(us,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new Gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xo:Math.pow(Xo,e),new Gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yt(ou(e>=240?e-240:e+120,i,r),ou(e,i,r),ou(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Gt(Pp(this.h),Ds(this.s),Ds(this.l),Ul(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ul(this.opacity);return`${e===1?"hsl(":"hsla("}${Pp(this.h)}, ${Ds(this.s)*100}%, ${Ds(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pp(e){return e=(e||0)%360,e<0?e+360:e}function Ds(e){return Math.max(0,Math.min(1,e||0))}function ou(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Py=e=>()=>e;function SS(e,t){return function(n){return e+n*t}}function kS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ES(e){return(e=+e)==1?Ry:function(t,n){return n-t?kS(t,n,e):Py(isNaN(t)?n:t)}}function Ry(e,t){var n=t-e;return n?SS(e,n):Py(isNaN(e)?t:e)}const Rp=function e(t){var n=ES(t);function r(i,o){var s=n((i=mc(i)).r,(o=mc(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=Ry(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var gc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,su=new RegExp(gc.source,"g");function bS(e){return function(){return e}}function CS(e){return function(t){return e(t)+""}}function TS(e,t){var n=gc.lastIndex=su.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=gc.exec(e))&&(i=su.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:Qn(r,i)})),n=su.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?CS(a[0].x):bS(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var Ap=180/Math.PI,yc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ay(e,t,n,r,i,o){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Ap,skewX:Math.atan(a)*Ap,scaleX:s,scaleY:l}}var $s;function NS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yc:Ay(t.a,t.b,t.c,t.d,t.e,t.f)}function MS(e){return e==null||($s||($s=document.createElementNS("http://www.w3.org/2000/svg","g")),$s.setAttribute("transform",e),!(e=$s.transform.baseVal.consolidate()))?yc:(e=e.matrix,Ay(e.a,e.b,e.c,e.d,e.e,e.f))}function zy(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,m,w){if(u!==d||c!==f){var y=m.push("translate(",null,t,null,n);w.push({i:y-4,x:Qn(u,d)},{i:y-2,x:Qn(c,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Qn(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Qn(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function a(u,c,d,f,m,w){if(u!==d||c!==f){var y=m.push(i(m)+"scale(",null,",",null,")");w.push({i:y-4,x:Qn(u,d)},{i:y-2,x:Qn(c,f)})}else(d!==1||f!==1)&&m.push(i(m)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(m){for(var w=-1,y=f.length,C;++w<y;)d[(C=f[w]).i]=C.x(m);return d.join("")}}}var IS=zy(NS,"px, ","px)","deg)"),PS=zy(MS,", ",")",")"),RS=1e-12;function zp(e){return((e=Math.exp(e))+1/e)/2}function AS(e){return((e=Math.exp(e))-1/e)/2}function zS(e){return((e=Math.exp(2*e))-1)/(e+1)}const LS=function e(t,n,r){function i(o,s){var l=o[0],a=o[1],u=o[2],c=s[0],d=s[1],f=s[2],m=c-l,w=d-a,y=m*m+w*w,C,p;if(y<RS)p=Math.log(f/u)/t,C=function(E){return[l+E*m,a+E*w,u*Math.exp(t*E*p)]};else{var h=Math.sqrt(y),g=(f*f-u*u+r*y)/(2*u*n*h),_=(f*f-u*u-r*y)/(2*f*n*h),T=Math.log(Math.sqrt(g*g+1)-g),A=Math.log(Math.sqrt(_*_+1)-_);p=(A-T)/t,C=function(E){var N=E*p,D=zp(T),z=u/(n*h)*(D*zS(t*N+T)-AS(T));return[l+z*m,a+z*w,u*D/zp(t*N+T)]}}return C.duration=p*1e3*t/Math.SQRT2,C}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,a=l*l;return e(s,l,a)},i}(Math.SQRT2,2,4);var Oi=0,go=0,oo=0,Ly=1e3,Wl,yo,ql=0,Br=0,Sa=0,Ko=typeof performance=="object"&&performance.now?performance:Date,Dy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jd(){return Br||(Dy(DS),Br=Ko.now()+Sa)}function DS(){Br=0}function Yl(){this._call=this._time=this._next=null}Yl.prototype=$y.prototype={constructor:Yl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?jd():+n)+(t==null?0:+t),!this._next&&yo!==this&&(yo?yo._next=this:Wl=this,yo=this),this._call=e,this._time=n,vc()},stop:function(){this._call&&(this._call=null,this._time=1/0,vc())}};function $y(e,t,n){var r=new Yl;return r.restart(e,t,n),r}function $S(){jd(),++Oi;for(var e=Wl,t;e;)(t=Br-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Oi}function Lp(){Br=(ql=Ko.now())+Sa,Oi=go=0;try{$S()}finally{Oi=0,jS(),Br=0}}function OS(){var e=Ko.now(),t=e-ql;t>Ly&&(Sa-=t,ql=e)}function jS(){for(var e,t=Wl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Wl=n);yo=e,vc(r)}function vc(e){if(!Oi){go&&(go=clearTimeout(go));var t=e-Br;t>24?(e<1/0&&(go=setTimeout(Lp,e-Ko.now()-Sa)),oo&&(oo=clearInterval(oo))):(oo||(ql=Ko.now(),oo=setInterval(OS,Ly)),Oi=1,Dy(Lp))}}function Dp(e,t,n){var r=new Yl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var FS=wa("start","end","cancel","interrupt"),BS=[],Oy=0,$p=1,xc=2,hl=3,Op=4,wc=5,ml=6;function ka(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;HS(e,n,{name:t,index:r,group:i,on:FS,tween:BS,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Oy})}function Fd(e,t){var n=tn(e,t);if(n.state>Oy)throw new Error("too late; already scheduled");return n}function fn(e,t){var n=tn(e,t);if(n.state>hl)throw new Error("too late; already running");return n}function tn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function HS(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=$y(o,0,n.time);function o(u){n.state=$p,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,m;if(n.state!==$p)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===hl)return Dp(s);m.state===Op?(m.state=ml,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=ml,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(Dp(function(){n.state===hl&&(n.state=Op,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=xc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===xc){for(n.state=hl,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=wc,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===wc&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ml,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function gl(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>xc&&r.state<wc,r.state=ml,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function VS(e){return this.each(function(){gl(this,e)})}function US(e,t){var n,r;return function(){var i=fn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function WS(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=fn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function qS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=tn(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?US:WS)(n,e,t))}function Bd(e,t,n){var r=e._id;return e.each(function(){var i=fn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return tn(i,r).value[t]}}function jy(e,t){var n;return(typeof t=="number"?Qn:t instanceof Qo?Rp:(n=Qo(t))?(t=n,Rp):TS)(e,t)}function YS(e){return function(){this.removeAttribute(e)}}function ZS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function GS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function QS(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function KS(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function JS(e,t){var n=_a(e),r=n==="transform"?PS:jy;return this.attrTween(e,typeof t=="function"?(n.local?KS:QS)(n,r,Bd(this,"attr."+e,t)):t==null?(n.local?ZS:YS)(n):(n.local?GS:XS)(n,r,t))}function ek(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tk(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&tk(e,o)),n}return i._value=t,i}function rk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ek(e,o)),n}return i._value=t,i}function ik(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=_a(e);return this.tween(n,(r.local?nk:rk)(r,t))}function ok(e,t){return function(){Fd(this,e).delay=+t.apply(this,arguments)}}function sk(e,t){return t=+t,function(){Fd(this,e).delay=t}}function lk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ok:sk)(t,e)):tn(this.node(),t).delay}function ak(e,t){return function(){fn(this,e).duration=+t.apply(this,arguments)}}function uk(e,t){return t=+t,function(){fn(this,e).duration=t}}function ck(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ak:uk)(t,e)):tn(this.node(),t).duration}function dk(e,t){if(typeof t!="function")throw new Error;return function(){fn(this,e).ease=t}}function fk(e){var t=this._id;return arguments.length?this.each(dk(t,e)):tn(this.node(),t).ease}function pk(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;fn(this,e).ease=n}}function hk(e){if(typeof e!="function")throw new Error;return this.each(pk(this._id,e))}function mk(e){typeof e!="function"&&(e=yy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new In(r,this._parents,this._name,this._id)}function gk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=t[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,m=0;m<c;++m)(f=a[m]||u[m])&&(d[m]=f);for(;l<r;++l)s[l]=t[l];return new In(s,this._parents,this._name,this._id)}function yk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function vk(e,t,n){var r,i,o=yk(t)?Fd:fn;return function(){var s=o(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function xk(e,t){var n=this._id;return arguments.length<2?tn(this.node(),n).on.on(e):this.each(vk(n,e,t))}function wk(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function _k(){return this.on("end.remove",wk(this._id))}function Sk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dd(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,ka(u[f],t,n,f,u,tn(c,n)));return new In(o,this._parents,t,n)}function kk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gy(e));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),m,w=tn(c,n),y=0,C=f.length;y<C;++y)(m=f[y])&&ka(m,t,n,y,f,w);o.push(f),s.push(c)}return new In(o,s,t,n)}var Ek=as.prototype.constructor;function bk(){return new Ek(this._groups,this._parents)}function Ck(e,t){var n,r,i;return function(){var o=$i(this,e),s=(this.style.removeProperty(e),$i(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Fy(e){return function(){this.style.removeProperty(e)}}function Tk(e,t,n){var r,i=n+"",o;return function(){var s=$i(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Nk(e,t,n){var r,i,o;return function(){var s=$i(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),$i(this,e))),s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l))}}function Mk(e,t){var n,r,i,o="style."+t,s="end."+o,l;return function(){var a=fn(this,e),u=a.on,c=a.value[o]==null?l||(l=Fy(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function Ik(e,t,n){var r=(e+="")=="transform"?IS:jy;return t==null?this.styleTween(e,Ck(e,r)).on("end.style."+e,Fy(e)):typeof t=="function"?this.styleTween(e,Nk(e,r,Bd(this,"style."+e,t))).each(Mk(this._id,e)):this.styleTween(e,Tk(e,r,t),n).on("end.style."+e,null)}function Pk(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Rk(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Pk(e,s,n)),r}return o._value=t,o}function Ak(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Rk(e,t,n??""))}function zk(e){return function(){this.textContent=e}}function Lk(e){return function(){var t=e(this);this.textContent=t??""}}function Dk(e){return this.tween("text",typeof e=="function"?Lk(Bd(this,"text",e)):zk(e==null?"":e+""))}function $k(e){return function(t){this.textContent=e.call(this,t)}}function Ok(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$k(i)),t}return r._value=e,r}function jk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ok(e))}function Fk(){for(var e=this._name,t=this._id,n=By(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=tn(a,t);ka(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new In(r,this._parents,e,n)}function Bk(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=fn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),i===0&&o()})}var Hk=0;function In(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function By(){return++Hk}var vn=as.prototype;In.prototype={constructor:In,select:Sk,selectAll:kk,selectChild:vn.selectChild,selectChildren:vn.selectChildren,filter:mk,merge:gk,selection:bk,transition:Fk,call:vn.call,nodes:vn.nodes,node:vn.node,size:vn.size,empty:vn.empty,each:vn.each,on:xk,attr:JS,attrTween:ik,style:Ik,styleTween:Ak,text:Dk,textTween:jk,remove:_k,tween:qS,delay:lk,duration:ck,ease:fk,easeVarying:hk,end:Bk,[Symbol.iterator]:vn[Symbol.iterator]};function Vk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Uk={time:null,delay:0,duration:250,ease:Vk};function Wk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qk(e){var t,n;e instanceof In?(t=e._id,e=e._name):(t=By(),(n=Uk).time=jd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&ka(a,e,t,u,s,n||Wk(a,t));return new In(r,this._parents,e,t)}as.prototype.interrupt=VS;as.prototype.transition=qk;const Os=e=>()=>e;function Yk(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function kn(e,t,n){this.k=e,this.x=t,this.y=n}kn.prototype={constructor:kn,scale:function(e){return e===1?this:new kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hr=new kn(1,0,0);kn.prototype;function lu(e){e.stopImmediatePropagation()}function so(e){e.preventDefault(),e.stopImmediatePropagation()}function Zk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Xk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function jp(){return this.__zoom||hr}function Gk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Qk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Jk(){var e=Zk,t=Xk,n=Kk,r=Gk,i=Qk,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=LS,u=wa("start","zoom","end"),c,d,f,m=500,w=150,y=0,C=10;function p(x){x.property("__zoom",jp).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(x,M,R,O){var P=x.selection?x.selection():x;P.property("__zoom",jp),x!==P?T(x,M,R,O):P.interrupt().each(function(){A(this,arguments).event(O).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},p.scaleBy=function(x,M,R,O){p.scaleTo(x,function(){var P=this.__zoom.k,b=typeof M=="function"?M.apply(this,arguments):M;return P*b},R,O)},p.scaleTo=function(x,M,R,O){p.transform(x,function(){var P=t.apply(this,arguments),b=this.__zoom,k=R==null?_(P):typeof R=="function"?R.apply(this,arguments):R,L=b.invert(k),$=typeof M=="function"?M.apply(this,arguments):M;return n(g(h(b,$),k,L),P,s)},R,O)},p.translateBy=function(x,M,R,O){p.transform(x,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),s)},null,O)},p.translateTo=function(x,M,R,O,P){p.transform(x,function(){var b=t.apply(this,arguments),k=this.__zoom,L=O==null?_(b):typeof O=="function"?O.apply(this,arguments):O;return n(hr.translate(L[0],L[1]).scale(k.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof R=="function"?-R.apply(this,arguments):-R),b,s)},O,P)};function h(x,M){return M=Math.max(o[0],Math.min(o[1],M)),M===x.k?x:new kn(M,x.x,x.y)}function g(x,M,R){var O=M[0]-R[0]*x.k,P=M[1]-R[1]*x.k;return O===x.x&&P===x.y?x:new kn(x.k,O,P)}function _(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function T(x,M,R,O){x.on("start.zoom",function(){A(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(O).end()}).tween("zoom",function(){var P=this,b=arguments,k=A(P,b).event(O),L=t.apply(P,b),$=R==null?_(L):typeof R=="function"?R.apply(P,b):R,U=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),I=P.__zoom,j=typeof M=="function"?M.apply(P,b):M,Z=a(I.invert($).concat(U/I.k),j.invert($).concat(U/j.k));return function(G){if(G===1)G=j;else{var ne=Z(G),oe=U/ne[2];G=new kn(oe,$[0]-ne[0]*oe,$[1]-ne[1]*oe)}k.zoom(null,G)}})}function A(x,M,R){return!R&&x.__zooming||new E(x,M)}function E(x,M){this.that=x,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,M),this.taps=0}E.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,M){return this.mouse&&x!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var M=Xt(this.that).datum();u.call(x,this.that,new Yk(x,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),M)}};function N(x,...M){if(!e.apply(this,arguments))return;var R=A(this,M).event(x),O=this.__zoom,P=Math.max(o[0],Math.min(o[1],O.k*Math.pow(2,r.apply(this,arguments)))),b=on(x);if(R.wheel)(R.mouse[0][0]!==b[0]||R.mouse[0][1]!==b[1])&&(R.mouse[1]=O.invert(R.mouse[0]=b)),clearTimeout(R.wheel);else{if(O.k===P)return;R.mouse=[b,O.invert(b)],gl(this),R.start()}so(x),R.wheel=setTimeout(k,w),R.zoom("mouse",n(g(h(O,P),R.mouse[0],R.mouse[1]),R.extent,s));function k(){R.wheel=null,R.end()}}function D(x,...M){if(f||!e.apply(this,arguments))return;var R=x.currentTarget,O=A(this,M,!0).event(x),P=Xt(x.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",U,!0),b=on(x,R),k=x.clientX,L=x.clientY;Ty(x.view),lu(x),O.mouse=[b,this.__zoom.invert(b)],gl(this),O.start();function $(I){if(so(I),!O.moved){var j=I.clientX-k,Z=I.clientY-L;O.moved=j*j+Z*Z>y}O.event(I).zoom("mouse",n(g(O.that.__zoom,O.mouse[0]=on(I,R),O.mouse[1]),O.extent,s))}function U(I){P.on("mousemove.zoom mouseup.zoom",null),Ny(I.view,O.moved),so(I),O.event(I).end()}}function z(x,...M){if(e.apply(this,arguments)){var R=this.__zoom,O=on(x.changedTouches?x.changedTouches[0]:x,this),P=R.invert(O),b=R.k*(x.shiftKey?.5:2),k=n(g(h(R,b),O,P),t.apply(this,M),s);so(x),l>0?Xt(this).transition().duration(l).call(T,k,O,x):Xt(this).call(p.transform,k,O,x)}}function F(x,...M){if(e.apply(this,arguments)){var R=x.touches,O=R.length,P=A(this,M,x.changedTouches.length===O).event(x),b,k,L,$;for(lu(x),k=0;k<O;++k)L=R[k],$=on(L,this),$=[$,this.__zoom.invert($),L.identifier],P.touch0?!P.touch1&&P.touch0[2]!==$[2]&&(P.touch1=$,P.taps=0):(P.touch0=$,b=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(P.taps<2&&(d=$[0],c=setTimeout(function(){c=null},m)),gl(this),P.start())}}function Y(x,...M){if(this.__zooming){var R=A(this,M).event(x),O=x.changedTouches,P=O.length,b,k,L,$;for(so(x),b=0;b<P;++b)k=O[b],L=on(k,this),R.touch0&&R.touch0[2]===k.identifier?R.touch0[0]=L:R.touch1&&R.touch1[2]===k.identifier&&(R.touch1[0]=L);if(k=R.that.__zoom,R.touch1){var U=R.touch0[0],I=R.touch0[1],j=R.touch1[0],Z=R.touch1[1],G=(G=j[0]-U[0])*G+(G=j[1]-U[1])*G,ne=(ne=Z[0]-I[0])*ne+(ne=Z[1]-I[1])*ne;k=h(k,Math.sqrt(G/ne)),L=[(U[0]+j[0])/2,(U[1]+j[1])/2],$=[(I[0]+Z[0])/2,(I[1]+Z[1])/2]}else if(R.touch0)L=R.touch0[0],$=R.touch0[1];else return;R.zoom("touch",n(g(k,L,$),R.extent,s))}}function B(x,...M){if(this.__zooming){var R=A(this,M).event(x),O=x.changedTouches,P=O.length,b,k;for(lu(x),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),b=0;b<P;++b)k=O[b],R.touch0&&R.touch0[2]===k.identifier?delete R.touch0:R.touch1&&R.touch1[2]===k.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(k=on(k,this),Math.hypot(d[0]-k[0],d[1]-k[1])<C)){var L=Xt(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return p.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:Os(+x),p):r},p.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Os(!!x),p):e},p.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:Os(!!x),p):i},p.extent=function(x){return arguments.length?(t=typeof x=="function"?x:Os([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),p):t},p.scaleExtent=function(x){return arguments.length?(o[0]=+x[0],o[1]=+x[1],p):[o[0],o[1]]},p.translateExtent=function(x){return arguments.length?(s[0][0]=+x[0][0],s[1][0]=+x[1][0],s[0][1]=+x[0][1],s[1][1]=+x[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(x){return arguments.length?(n=x,p):n},p.duration=function(x){return arguments.length?(l=+x,p):l},p.interpolate=function(x){return arguments.length?(a=x,p):a},p.on=function(){var x=u.on.apply(u,arguments);return x===u?p:x},p.clickDistance=function(x){return arguments.length?(y=(x=+x)*x,p):Math.sqrt(y)},p.tapDistance=function(x){return arguments.length?(C=+x,p):C},p}const Ea=S.createContext(null),e2=Ea.Provider,Pn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Hy=Pn.error001();function $e(e,t){const n=S.useContext(Ea);if(n===null)throw new Error(Hy);return hy(n,e,t)}const et=()=>{const e=S.useContext(Ea);if(e===null)throw new Error(Hy);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},t2=e=>e.userSelectionActive?"none":"all";function n2({position:e,children:t,className:n,style:r,...i}){const o=$e(t2),s=`${e}`.split("-");return V.createElement("div",{className:Pt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function r2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:V.createElement(n2,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},V.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const i2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=S.useRef(null),[f,m]=S.useState({x:0,y:0,width:0,height:0}),w=Pt(["react-flow__edge-textwrapper",u]);return S.useEffect(()=>{if(d.current){const y=d.current.getBBox();m({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:V.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:w,visibility:f.width?"visible":"hidden",...c},i&&V.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),V.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var o2=S.memo(i2);const Hd=e=>({width:e.offsetWidth,height:e.offsetHeight}),ji=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Vd=(e={x:0,y:0},t)=>({x:ji(e.x,t[0][0],t[1][0]),y:ji(e.y,t[0][1],t[1][1])}),Fp=(e,t,n)=>e<t?ji(Math.abs(e-t),1,50)/50:e>n?-ji(Math.abs(e-n),1,50)/50:0,Vy=(e,t)=>{const n=Fp(e.x,35,t.width-35)*20,r=Fp(e.y,35,t.height-35)*20;return[n,r]},Uy=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},s2=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ud=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),l2=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Bp=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),_c=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},a2=e=>Dt(e.width)&&Dt(e.height)&&Dt(e.x)&&Dt(e.y),Dt=e=>!isNaN(e)&&isFinite(e),De=Symbol.for("internals"),Wy=["Enter"," ","Escape"],u2=(e,t)=>{},c2=e=>"nativeEvent"in e;function Sc(e){var i,o;const t=c2(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const qy=e=>"clientX"in e,mr=(e,t)=>{var o,s;const n=qy(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Zl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},cs=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m=20})=>V.createElement(V.Fragment,null,V.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),m&&V.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&Dt(n)&&Dt(r)?V.createElement(o2,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);cs.displayName="BaseEdge";function lo(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function Yy({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[o,l,i,s]}function Zy({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:l}){const a=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var Hr;(function(e){e.Strict="strict",e.Loose="loose"})(Hr||(Hr={}));var Pr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Pr||(Pr={}));var Jo;(function(e){e.Partial="partial",e.Full="full"})(Jo||(Jo={}));var nr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(nr||(nr={}));var Xl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Xl||(Xl={}));var ee;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ee||(ee={}));function Hp({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ee.Left||e===ee.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function Xy({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top}){const[s,l]=Hp({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,u]=Hp({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,d,f,m]=Zy({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${i}`,c,d,f,m]}const Wd=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ee.Bottom,targetPosition:o=ee.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:y})=>{const[C,p,h]=Xy({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return V.createElement(cs,{path:C,labelX:p,labelY:h,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:y})});Wd.displayName="SimpleBezierEdge";const Vp={[ee.Left]:{x:-1,y:0},[ee.Right]:{x:1,y:0},[ee.Top]:{x:0,y:-1},[ee.Bottom]:{x:0,y:1}},d2=({source:e,sourcePosition:t=ee.Bottom,target:n})=>t===ee.Left||t===ee.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Up=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function f2({source:e,sourcePosition:t=ee.Bottom,target:n,targetPosition:r=ee.Top,center:i,offset:o}){const s=Vp[t],l=Vp[r],a={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+l.x*o,y:n.y+l.y*o},c=d2({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let m=[],w,y;const C={x:0,y:0},p={x:0,y:0},[h,g,_,T]=Yy({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){w=i.x??h,y=i.y??g;const E=[{x:w,y:a.y},{x:w,y:u.y}],N=[{x:a.x,y},{x:u.x,y}];s[d]===f?m=d==="x"?E:N:m=d==="x"?N:E}else{const E=[{x:a.x,y:u.y}],N=[{x:u.x,y:a.y}];if(d==="x"?m=s.x===f?N:E:m=s.y===f?E:N,t===r){const B=Math.abs(e[d]-n[d]);if(B<=o){const x=Math.min(o-1,o-B);s[d]===f?C[d]=(a[d]>e[d]?-1:1)*x:p[d]=(u[d]>n[d]?-1:1)*x}}if(t!==r){const B=d==="x"?"y":"x",x=s[d]===l[B],M=a[B]>u[B],R=a[B]<u[B];(s[d]===1&&(!x&&M||x&&R)||s[d]!==1&&(!x&&R||x&&M))&&(m=d==="x"?E:N)}const D={x:a.x+C.x,y:a.y+C.y},z={x:u.x+p.x,y:u.y+p.y},F=Math.max(Math.abs(D.x-m[0].x),Math.abs(z.x-m[0].x)),Y=Math.max(Math.abs(D.y-m[0].y),Math.abs(z.y-m[0].y));F>=Y?(w=(D.x+z.x)/2,y=m[0].y):(w=m[0].x,y=(D.y+z.y)/2)}return[[e,{x:a.x+C.x,y:a.y+C.y},...m,{x:u.x+p.x,y:u.y+p.y},n],w,y,_,T]}function p2(e,t,n,r){const i=Math.min(Up(e,t)/2,Up(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${o},${s+i*a}Q ${o},${s} ${o+i*l},${s}`}function kc({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,m,w]=f2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:l,y:a},offset:u});return[c.reduce((C,p,h)=>{let g="";return h>0&&h<c.length-1?g=p2(c[h-1],p,c[h+1],s):g=`${h===0?"M":"L"}${p.x} ${p.y}`,C+=g,C},""),d,f,m,w]}const ba=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=ee.Bottom,targetPosition:f=ee.Top,markerEnd:m,markerStart:w,pathOptions:y,interactionWidth:C})=>{const[p,h,g]=kc({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return V.createElement(cs,{path:p,labelX:h,labelY:g,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:w,interactionWidth:C})});ba.displayName="SmoothStepEdge";const qd=S.memo(e=>{var t;return V.createElement(ba,{...e,pathOptions:S.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});qd.displayName="StepEdge";function h2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,l]=Yy({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,l]}const Yd=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})=>{const[w,y,C]=h2({sourceX:e,sourceY:t,targetX:n,targetY:r});return V.createElement(cs,{path:w,labelX:y,labelY:C,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})});Yd.displayName="StraightEdge";function js(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Wp({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case ee.Left:return[t-js(t-r,o),n];case ee.Right:return[t+js(r-t,o),n];case ee.Top:return[t,n-js(n-i,o)];case ee.Bottom:return[t,n+js(i-n,o)]}}function Gy({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,curvature:s=.25}){const[l,a]=Wp({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=Wp({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,f,m,w]=Zy({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${i}`,d,f,m,w]}const Gl=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ee.Bottom,targetPosition:o=ee.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,pathOptions:y,interactionWidth:C})=>{const[p,h,g]=Gy({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:y==null?void 0:y.curvature});return V.createElement(cs,{path:p,labelX:h,labelY:g,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:w,interactionWidth:C})});Gl.displayName="BezierEdge";const Zd=S.createContext(null),m2=Zd.Provider;Zd.Consumer;const g2=()=>S.useContext(Zd),y2=e=>"id"in e&&"source"in e&&"target"in e,v2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Ec=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,x2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Qy=(e,t)=>{if(!e.source||!e.target)return t;let n;return y2(e)?n={...e}:n={...e,id:v2(e)},x2(n,t)?t:t.concat(n)},bc=({x:e,y:t},[n,r,i],o,[s,l])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},Ky=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Ci=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Xd=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Ci(i,t).positionAbsolute;return s2(r,Ud({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return l2(n)},Jy=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:m=!0,hidden:w=!1}=c;if(s&&!m||w)return!1;const{positionAbsolute:y}=Ci(c,l),C={x:y.x,y:y.y,width:d||0,height:f||0},p=_c(a,C),h=typeof d>"u"||typeof f>"u"||d===null||f===null,g=o&&p>0,_=(d||0)*(f||0);(h||g||p>=_||c.dragging)&&u.push(c)}),u},e0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},t0=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),l=n/(e.height*(1+o)),a=Math.min(s,l),u=ji(a,r,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,m=n/2-d*u;return{x:f,y:m,zoom:u}},Cr=(e,t=0)=>e.transition().duration(t);function qp(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,l;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+o.y+o.height/2}),i},[])}function w2(e,t,n,r,i,o){const{x:s,y:l}=mr(e),u=t.elementsFromPoint(s,l).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const y=Gd(void 0,u),C=u.getAttribute("data-handleid"),p=o({nodeId:w,id:C,type:y});if(p){const h=i.find(g=>g.nodeId===w&&g.type===y&&g.id===C);return{handle:{id:C,type:y,nodeId:w,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:p}}}}let c=[],d=1/0;if(i.forEach(w=>{const y=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(y<=r){const C=o(w);y<=d&&(y<d?c=[{handle:w,validHandleResult:C}]:y===d&&c.push({handle:w,validHandleResult:C}),d=y)}}),!c.length)return{handle:null,validHandleResult:n0()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:w})=>w.isValid),m=c.some(({handle:w})=>w.type==="target");return c.find(({handle:w,validHandleResult:y})=>m?w.type==="target":f?y.isValid:!0)||c[0]}const _2={source:null,target:null,sourceHandle:null,targetHandle:null},n0=()=>({handleDomNode:null,isValid:!1,connection:_2,endHandle:null});function r0(e,t,n,r,i,o,s){const l=i==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...n0(),handleDomNode:a};if(a){const c=Gd(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),w=a.classList.contains("connectableend"),y={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=y,m&&w&&(t===Hr.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=o(y))}return u}function S2({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[De]){const{handleBounds:s}=o[De];let l=[],a=[];s&&(l=qp(o,s,"source",`${t}-${n}-${r}`),a=qp(o,s,"target",`${t}-${n}-${r}`)),i.push(...l,...a)}return i},[])}function Gd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function au(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function k2(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function i0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Uy(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:m,connectionRadius:w,onConnectStart:y,panBy:C,getNodes:p,cancelConnection:h}=o();let g=0,_;const{x:T,y:A}=mr(e),E=c==null?void 0:c.elementFromPoint(T,A),N=Gd(a,E),D=f==null?void 0:f.getBoundingClientRect();if(!D||!N)return;let z,F=mr(e,D),Y=!1,B=null,x=!1,M=null;const R=S2({nodes:p(),nodeId:n,handleId:t,handleType:N}),O=()=>{if(!m)return;const[k,L]=Vy(F,D);C({x:k,y:L}),g=requestAnimationFrame(O)};s({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:N,connectionStartHandle:{nodeId:n,handleId:t,type:N},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:N});function P(k){const{transform:L}=o();F=mr(k,D);const{handle:$,validHandleResult:U}=w2(k,c,bc(F,L,!1,[1,1]),w,R,I=>r0(I,d,n,t,i?"target":"source",l,c));if(_=$,Y||(O(),Y=!0),M=U.handleDomNode,B=U.connection,x=U.isValid,s({connectionPosition:_&&x?Ky({x:_.x,y:_.y},L):F,connectionStatus:k2(!!_,x),connectionEndHandle:U.endHandle}),!_&&!x&&!M)return au(z);B.source!==B.target&&M&&(au(z),z=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",x),M.classList.toggle("react-flow__handle-valid",x))}function b(k){var L,$;(_||M)&&B&&x&&(r==null||r(B)),($=(L=o()).onConnectEnd)==null||$.call(L,k),a&&(u==null||u(k)),au(z),h(),cancelAnimationFrame(g),Y=!1,x=!1,B=null,M=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",b),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",b)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",b),c.addEventListener("touchmove",P),c.addEventListener("touchend",b)}const Yp=()=>!0,E2=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),b2=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},o0=S.forwardRef(({type:e="source",position:t=ee.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},m)=>{var D,z;const w=s||null,y=e==="target",C=et(),p=g2(),{connectOnClick:h,noPanClassName:g}=$e(E2,ct),{connecting:_,clickConnecting:T}=$e(b2(p,w,e),ct);p||(z=(D=C.getState()).onError)==null||z.call(D,"010",Pn.error010());const A=F=>{const{defaultEdgeOptions:Y,onConnect:B,hasDefaultEdges:x}=C.getState(),M={...Y,...F};if(x){const{edges:R,setEdges:O}=C.getState();O(Qy(M,R))}B==null||B(M),l==null||l(M)},E=F=>{if(!p)return;const Y=qy(F);i&&(Y&&F.button===0||!Y)&&i0({event:F,handleId:w,nodeId:p,onConnect:A,isTarget:y,getState:C.getState,setState:C.setState,isValidConnection:n||C.getState().isValidConnection||Yp}),Y?c==null||c(F):d==null||d(F)},N=F=>{const{onClickConnectStart:Y,onClickConnectEnd:B,connectionClickStartHandle:x,connectionMode:M,isValidConnection:R}=C.getState();if(!p||!x&&!i)return;if(!x){Y==null||Y(F,{nodeId:p,handleId:w,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:w}});return}const O=Uy(F.target),P=n||R||Yp,{connection:b,isValid:k}=r0({nodeId:p,id:w,type:e},M,x.nodeId,x.handleId||null,x.type,P,O);k&&A(b),B==null||B(F),C.setState({connectionClickStartHandle:null})};return V.createElement("div",{"data-handleid":w,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${w}-${e}`,className:Pt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:o,connecting:T,connectionindicator:r&&(i&&!_||o&&_)}]),onMouseDown:E,onTouchStart:E,onClick:h?N:void 0,ref:m,...f},a)});o0.displayName="Handle";var xr=S.memo(o0);const s0=({data:e,isConnectable:t,targetPosition:n=ee.Top,sourcePosition:r=ee.Bottom})=>V.createElement(V.Fragment,null,V.createElement(xr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,V.createElement(xr,{type:"source",position:r,isConnectable:t}));s0.displayName="DefaultNode";var Cc=S.memo(s0);const l0=({data:e,isConnectable:t,sourcePosition:n=ee.Bottom})=>V.createElement(V.Fragment,null,e==null?void 0:e.label,V.createElement(xr,{type:"source",position:n,isConnectable:t}));l0.displayName="InputNode";var a0=S.memo(l0);const u0=({data:e,isConnectable:t,targetPosition:n=ee.Top})=>V.createElement(V.Fragment,null,V.createElement(xr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);u0.displayName="OutputNode";var c0=S.memo(u0);const Qd=()=>null;Qd.displayName="GroupNode";const C2=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Fs=e=>e.id;function T2(e,t){return ct(e.selectedNodes.map(Fs),t.selectedNodes.map(Fs))&&ct(e.selectedEdges.map(Fs),t.selectedEdges.map(Fs))}const d0=S.memo(({onSelectionChange:e})=>{const t=et(),{selectedNodes:n,selectedEdges:r}=$e(C2,T2);return S.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});d0.displayName="SelectionListener";const N2=e=>!!e.onSelectionChange;function M2({onSelectionChange:e}){const t=$e(N2);return e||t?V.createElement(d0,{onSelectionChange:e}):null}const I2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Xr(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ce(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const P2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:w,minZoom:y,maxZoom:C,nodeExtent:p,onNodesChange:h,onEdgesChange:g,elementsSelectable:_,connectionMode:T,snapGrid:A,snapToGrid:E,translateExtent:N,connectOnClick:D,defaultEdgeOptions:z,fitView:F,fitViewOptions:Y,onNodesDelete:B,onEdgesDelete:x,onNodeDrag:M,onNodeDragStart:R,onNodeDragStop:O,onSelectionDrag:P,onSelectionDragStart:b,onSelectionDragStop:k,noPanClassName:L,nodeOrigin:$,rfId:U,autoPanOnConnect:I,autoPanOnNodeDrag:j,onError:Z,connectionRadius:G,isValidConnection:ne,nodeDragThreshold:oe})=>{const{setNodes:se,setEdges:Se,setDefaultNodesAndEdges:Te,setMinZoom:Ie,setMaxZoom:Ee,setTranslateExtent:ve,setNodeExtent:je,reset:_e}=$e(I2,ct),ie=et();return S.useEffect(()=>{const Ue=r==null?void 0:r.map(pn=>({...pn,...z}));return Te(n,Ue),()=>{_e()}},[]),ce("defaultEdgeOptions",z,ie.setState),ce("connectionMode",T,ie.setState),ce("onConnect",i,ie.setState),ce("onConnectStart",o,ie.setState),ce("onConnectEnd",s,ie.setState),ce("onClickConnectStart",l,ie.setState),ce("onClickConnectEnd",a,ie.setState),ce("nodesDraggable",u,ie.setState),ce("nodesConnectable",c,ie.setState),ce("nodesFocusable",d,ie.setState),ce("edgesFocusable",f,ie.setState),ce("edgesUpdatable",m,ie.setState),ce("elementsSelectable",_,ie.setState),ce("elevateNodesOnSelect",w,ie.setState),ce("snapToGrid",E,ie.setState),ce("snapGrid",A,ie.setState),ce("onNodesChange",h,ie.setState),ce("onEdgesChange",g,ie.setState),ce("connectOnClick",D,ie.setState),ce("fitViewOnInit",F,ie.setState),ce("fitViewOnInitOptions",Y,ie.setState),ce("onNodesDelete",B,ie.setState),ce("onEdgesDelete",x,ie.setState),ce("onNodeDrag",M,ie.setState),ce("onNodeDragStart",R,ie.setState),ce("onNodeDragStop",O,ie.setState),ce("onSelectionDrag",P,ie.setState),ce("onSelectionDragStart",b,ie.setState),ce("onSelectionDragStop",k,ie.setState),ce("noPanClassName",L,ie.setState),ce("nodeOrigin",$,ie.setState),ce("rfId",U,ie.setState),ce("autoPanOnConnect",I,ie.setState),ce("autoPanOnNodeDrag",j,ie.setState),ce("onError",Z,ie.setState),ce("connectionRadius",G,ie.setState),ce("isValidConnection",ne,ie.setState),ce("nodeDragThreshold",oe,ie.setState),Xr(e,se),Xr(t,Se),Xr(y,Ie),Xr(C,Ee),Xr(N,ve),Xr(p,je),null},Zp={display:"none"},R2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},f0="react-flow__node-desc",p0="react-flow__edge-desc",A2="react-flow__aria-live",z2=e=>e.ariaLiveMessage;function L2({rfId:e}){const t=$e(z2);return V.createElement("div",{id:`${A2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:R2},t)}function D2({rfId:e,disableKeyboardA11y:t}){return V.createElement(V.Fragment,null,V.createElement("div",{id:`${f0}-${e}`,style:Zp},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),V.createElement("div",{id:`${p0}-${e}`,style:Zp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&V.createElement(L2,{rfId:e}))}var es=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=S.useState(!1),i=S.useRef(!1),o=S.useRef(new Set([])),[s,l]=S.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return S.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(i.current=m.ctrlKey||m.metaKey||m.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Sc(m))return!1;const y=Gp(m.code,l);o.current.add(m[y]),Xp(s,o.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Sc(m))return!1;const y=Gp(m.code,l);Xp(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[y]),m.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function Xp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Gp(e,t){return t.includes(e)?"code":"key"}function h0(e,t,n,r){var l,a;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Ci(o,r);return h0(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=o[De])==null?void 0:l.z)??0)>(n.z??0)?((a=o[De])==null?void 0:a.z)??0:n.z??0},r)}function m0(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:l,z:a}=h0(r,e,{...r.position,z:((o=r[De])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:l},r[De].z=a,n!=null&&n[r.id]&&(r[De].isParent=!0)}})}function uu(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(l=>{var m;const a=(Dt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(o[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,De,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[De])==null?void 0:m.handleBounds,z:a}}),i.set(l.id,c)}),m0(i,n,o),i}function g0(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const w=n().filter(C=>{var h;const p=t.includeHiddenNodes?C.width&&C.height:!C.hidden;return(h=t.nodes)!=null&&h.length?p&&t.nodes.some(g=>g.id===C.id):p}),y=w.every(C=>C.width&&C.height);if(w.length>0&&y){const C=Xd(w,d),{x:p,y:h,zoom:g}=t0(C,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),_=hr.translate(p,h).scale(g);return typeof t.duration=="number"&&t.duration>0?l.transform(Cr(a,t.duration),_):l.transform(a,_),!0}}return!1}function $2(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[De]:r[De],selected:n.selected})}),new Map(t)}function O2(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Bs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:$2(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:O2(t,o)}),l==null||l(t))}const Gr=()=>{},j2={zoomIn:Gr,zoomOut:Gr,zoomTo:Gr,getZoom:()=>1,setViewport:Gr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Gr,fitBounds:Gr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},F2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),B2=()=>{const e=et(),{d3Zoom:t,d3Selection:n}=$e(F2,ct);return S.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Cr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Cr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(Cr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,l,a]=e.getState().transform,u=hr.translate(i.x??s,i.y??l).scale(i.zoom??a);t.transform(Cr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>g0(e.getState,i),setCenter:(i,o,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=l/2-i*c,f=a/2-o*c,m=hr.translate(d,f).scale(c);t.transform(Cr(n,s==null?void 0:s.duration),m)},fitBounds:(i,o)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=t0(i,s,l,a,u,(o==null?void 0:o.padding)??.1),m=hr.translate(c,d).scale(f);t.transform(Cr(n,o==null?void 0:o.duration),m)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),bc(i,o,s,l)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return i;const{x:u,y:c}=a.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return bc(d,o,s,l)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:l,y:a}=s.getBoundingClientRect(),u=Ky(i,o);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:j2,[t,n])};function y0(){const e=B2(),t=et(),n=S.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=S.useCallback(y=>t.getState().nodeInternals.get(y),[]),i=S.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(C=>({...C}))},[]),o=S.useCallback(y=>{const{edges:C=[]}=t.getState();return C.find(p=>p.id===y)},[]),s=S.useCallback(y=>{const{getNodes:C,setNodes:p,hasDefaultNodes:h,onNodesChange:g}=t.getState(),_=C(),T=typeof y=="function"?y(_):y;if(h)p(T);else if(g){const A=T.length===0?_.map(E=>({type:"remove",id:E.id})):T.map(E=>({item:E,type:"reset"}));g(A)}},[]),l=S.useCallback(y=>{const{edges:C=[],setEdges:p,hasDefaultEdges:h,onEdgesChange:g}=t.getState(),_=typeof y=="function"?y(C):y;if(h)p(_);else if(g){const T=_.length===0?C.map(A=>({type:"remove",id:A.id})):_.map(A=>({item:A,type:"reset"}));g(T)}},[]),a=S.useCallback(y=>{const C=Array.isArray(y)?y:[y],{getNodes:p,setNodes:h,hasDefaultNodes:g,onNodesChange:_}=t.getState();if(g){const A=[...p(),...C];h(A)}else if(_){const T=C.map(A=>({item:A,type:"add"}));_(T)}},[]),u=S.useCallback(y=>{const C=Array.isArray(y)?y:[y],{edges:p=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:_}=t.getState();if(g)h([...p,...C]);else if(_){const T=C.map(A=>({item:A,type:"add"}));_(T)}},[]),c=S.useCallback(()=>{const{getNodes:y,edges:C=[],transform:p}=t.getState(),[h,g,_]=p;return{nodes:y().map(T=>({...T})),edges:C.map(T=>({...T})),viewport:{x:h,y:g,zoom:_}}},[]),d=S.useCallback(({nodes:y,edges:C})=>{const{nodeInternals:p,getNodes:h,edges:g,hasDefaultNodes:_,hasDefaultEdges:T,onNodesDelete:A,onEdgesDelete:E,onNodesChange:N,onEdgesChange:D}=t.getState(),z=(y||[]).map(M=>M.id),F=(C||[]).map(M=>M.id),Y=h().reduce((M,R)=>{const O=R.parentNode||R.parentId,P=!z.includes(R.id)&&O&&M.find(k=>k.id===O);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(z.includes(R.id)||P)&&M.push(R),M},[]),B=g.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),x=B.filter(M=>F.includes(M.id));if(Y||x){const M=e0(Y,B),R=[...x,...M],O=R.reduce((P,b)=>(P.includes(b.id)||P.push(b.id),P),[]);if((T||_)&&(T&&t.setState({edges:g.filter(P=>!O.includes(P.id))}),_&&(Y.forEach(P=>{p.delete(P.id)}),t.setState({nodeInternals:new Map(p)}))),O.length>0&&(E==null||E(R),D&&D(O.map(P=>({id:P,type:"remove"})))),Y.length>0&&(A==null||A(Y),N)){const P=Y.map(b=>({id:b.id,type:"remove"}));N(P)}}},[]),f=S.useCallback(y=>{const C=a2(y),p=C?null:t.getState().nodeInternals.get(y.id);return!C&&!p?[null,null,C]:[C?y:Bp(p),p,C]},[]),m=S.useCallback((y,C=!0,p)=>{const[h,g,_]=f(y);return h?(p||t.getState().getNodes()).filter(T=>{if(!_&&(T.id===g.id||!T.positionAbsolute))return!1;const A=Bp(T),E=_c(A,h);return C&&E>0||E>=h.width*h.height}):[]},[]),w=S.useCallback((y,C,p=!0)=>{const[h]=f(y);if(!h)return!1;const g=_c(h,C);return p&&g>0||g>=h.width*h.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:w}),[e,n,r,i,o,s,l,a,u,c,d,m,w])}const H2={actInsideInputWithModifier:!1};var V2=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=et(),{deleteElements:r}=y0(),i=es(e,H2),o=es(t);S.useEffect(()=>{if(i){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function U2(e){const t=et();S.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=Hd(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",Pn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Kd={position:"absolute",width:"100%",height:"100%",top:0,left:0},W2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Hs=e=>({x:e.x,y:e.y,zoom:e.k}),Qr=(e,t)=>e.target.closest(`.${t}`),Qp=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Kp=e=>{const t=e.ctrlKey&&Zl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},q2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Y2=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Pr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:m,minZoom:w,maxZoom:y,zoomActivationKeyCode:C,preventScrolling:p=!0,children:h,noWheelClassName:g,noPanClassName:_})=>{const T=S.useRef(),A=et(),E=S.useRef(!1),N=S.useRef(!1),D=S.useRef(null),z=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:Y,d3ZoomHandler:B,userSelectionActive:x}=$e(q2,ct),M=es(C),R=S.useRef(0),O=S.useRef(!1),P=S.useRef();return U2(D),S.useEffect(()=>{if(D.current){const b=D.current.getBoundingClientRect(),k=Jk().scaleExtent([w,y]).translateExtent(m),L=Xt(D.current).call(k),$=hr.translate(f.x,f.y).scale(ji(f.zoom,w,y)),U=[[0,0],[b.width,b.height]],I=k.constrain()($,U,m);k.transform(L,I),k.wheelDelta(Kp),A.setState({d3Zoom:k,d3Selection:L,d3ZoomHandler:L.on("wheel.zoom"),transform:[I.x,I.y,I.k],domNode:D.current.closest(".react-flow")})}},[]),S.useEffect(()=>{Y&&F&&(s&&!M&&!x?Y.on("wheel.zoom",b=>{if(Qr(b,g))return!1;b.preventDefault(),b.stopImmediatePropagation();const k=Y.property("__zoom").k||1;if(b.ctrlKey&&o){const ne=on(b),oe=Kp(b),se=k*Math.pow(2,oe);F.scaleTo(Y,se,ne,b);return}const L=b.deltaMode===1?20:1;let $=a===Pr.Vertical?0:b.deltaX*L,U=a===Pr.Horizontal?0:b.deltaY*L;!Zl()&&b.shiftKey&&a!==Pr.Vertical&&($=b.deltaY*L,U=0),F.translateBy(Y,-($/k)*l,-(U/k)*l,{internal:!0});const I=Hs(Y.property("__zoom")),{onViewportChangeStart:j,onViewportChange:Z,onViewportChangeEnd:G}=A.getState();clearTimeout(P.current),O.current||(O.current=!0,t==null||t(b,I),j==null||j(I)),O.current&&(e==null||e(b,I),Z==null||Z(I),P.current=setTimeout(()=>{n==null||n(b,I),G==null||G(I),O.current=!1},150))},{passive:!1}):typeof B<"u"&&Y.on("wheel.zoom",function(b,k){if(!p&&b.type==="wheel"&&!b.ctrlKey||Qr(b,g))return null;b.preventDefault(),B.call(this,b,k)},{passive:!1}))},[x,s,a,Y,F,B,M,o,p,g,t,e,n]),S.useEffect(()=>{F&&F.on("start",b=>{var $,U;if(!b.sourceEvent||b.sourceEvent.internal)return null;R.current=($=b.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:k}=A.getState(),L=Hs(b.transform);E.current=!0,z.current=L,((U=b.sourceEvent)==null?void 0:U.type)==="mousedown"&&A.setState({paneDragging:!0}),k==null||k(L),t==null||t(b.sourceEvent,L)})},[F,t]),S.useEffect(()=>{F&&(x&&!E.current?F.on("zoom",null):x||F.on("zoom",b=>{var L;const{onViewportChange:k}=A.getState();if(A.setState({transform:[b.transform.x,b.transform.y,b.transform.k]}),N.current=!!(r&&Qp(d,R.current??0)),(e||k)&&!((L=b.sourceEvent)!=null&&L.internal)){const $=Hs(b.transform);k==null||k($),e==null||e(b.sourceEvent,$)}}))},[x,F,e,d,r]),S.useEffect(()=>{F&&F.on("end",b=>{if(!b.sourceEvent||b.sourceEvent.internal)return null;const{onViewportChangeEnd:k}=A.getState();if(E.current=!1,A.setState({paneDragging:!1}),r&&Qp(d,R.current??0)&&!N.current&&r(b.sourceEvent),N.current=!1,(n||k)&&W2(z.current,b.transform)){const L=Hs(b.transform);z.current=L,clearTimeout(T.current),T.current=setTimeout(()=>{k==null||k(L),n==null||n(b.sourceEvent,L)},s?150:0)}})},[F,s,d,n,r]),S.useEffect(()=>{F&&F.filter(b=>{const k=M||i,L=o&&b.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&b.button===1&&b.type==="mousedown"&&(Qr(b,"react-flow__node")||Qr(b,"react-flow__edge")))return!0;if(!d&&!k&&!s&&!u&&!o||x||!u&&b.type==="dblclick"||Qr(b,g)&&b.type==="wheel"||Qr(b,_)&&(b.type!=="wheel"||s&&b.type==="wheel"&&!M)||!o&&b.ctrlKey&&b.type==="wheel"||!k&&!s&&!L&&b.type==="wheel"||!d&&(b.type==="mousedown"||b.type==="touchstart")||Array.isArray(d)&&!d.includes(b.button)&&b.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(b.button)||!b.button||b.button<=1;return(!b.ctrlKey||b.type==="wheel")&&$})},[x,F,i,o,s,u,d,c,M]),V.createElement("div",{className:"react-flow__renderer",ref:D,style:Kd},h)},Z2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function X2(){const{userSelectionActive:e,userSelectionRect:t}=$e(Z2,ct);return e&&t?V.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Jp(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function v0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(l=>l.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const l of o)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&Jp(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&Jp(r,s);break}case"remove":return r}return r.push(s),r},n)}function x0(e,t){return v0(e,t)}function G2(e,t){return v0(e,t)}const Kn=(e,t)=>({id:e,type:"select",selected:t});function hi(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Kn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Kn(r.id,!1))),n},[])}const cu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Q2=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),w0=S.memo(({isSelecting:e,selectionMode:t=Jo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=S.useRef(null),m=et(),w=S.useRef(0),y=S.useRef(0),C=S.useRef(),{userSelectionActive:p,elementsSelectable:h,dragging:g}=$e(Q2,ct),_=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,y.current=0},T=B=>{o==null||o(B),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}s==null||s(B)},E=l?B=>l(B):void 0,N=B=>{const{resetSelectedElements:x,domNode:M}=m.getState();if(C.current=M==null?void 0:M.getBoundingClientRect(),!h||!e||B.button!==0||B.target!==f.current||!C.current)return;const{x:R,y:O}=mr(B,C.current);x(),m.setState({userSelectionRect:{width:0,height:0,startX:R,startY:O,x:R,y:O}}),r==null||r(B)},D=B=>{const{userSelectionRect:x,nodeInternals:M,edges:R,transform:O,onNodesChange:P,onEdgesChange:b,nodeOrigin:k,getNodes:L}=m.getState();if(!e||!C.current||!x)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=mr(B,C.current),U=x.startX??0,I=x.startY??0,j={...x,x:$.x<U?$.x:U,y:$.y<I?$.y:I,width:Math.abs($.x-U),height:Math.abs($.y-I)},Z=L(),G=Jy(M,j,O,t===Jo.Partial,!0,k),ne=e0(G,R).map(se=>se.id),oe=G.map(se=>se.id);if(w.current!==oe.length){w.current=oe.length;const se=hi(Z,oe);se.length&&(P==null||P(se))}if(y.current!==ne.length){y.current=ne.length;const se=hi(R,ne);se.length&&(b==null||b(se))}m.setState({userSelectionRect:j})},z=B=>{if(B.button!==0)return;const{userSelectionRect:x}=m.getState();!p&&x&&B.target===f.current&&(T==null||T(B)),m.setState({nodesSelectionActive:w.current>0}),_(),i==null||i(B)},F=B=>{p&&(m.setState({nodesSelectionActive:w.current>0}),i==null||i(B)),_()},Y=h&&(e||p);return V.createElement("div",{className:Pt(["react-flow__pane",{dragging:g,selection:e}]),onClick:Y?void 0:cu(T,f),onContextMenu:cu(A,f),onWheel:cu(E,f),onMouseEnter:Y?void 0:a,onMouseDown:Y?N:void 0,onMouseMove:Y?D:u,onMouseUp:Y?z:void 0,onMouseLeave:Y?F:c,ref:f,style:Kd},d,V.createElement(X2,null))});w0.displayName="Pane";function _0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:_0(r,t):!1}function eh(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function K2(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!_0(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function J2(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function S0(e,t,n,r,i=[0,0],o){const s=J2(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:m}=Ci(d,i).positionAbsolute;l=d&&Dt(f)&&Dt(m)&&Dt(d.width)&&Dt(d.height)?[[f+e.width*i[0],m+e.height*i[1]],[f+d.width-e.width+e.width*i[0],m+d.height-e.height+e.height*i[1]]]:l}else o==null||o("005",Pn.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:m}=Ci(d,i).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Ci(d,i).positionAbsolute}const c=l&&l!=="parent"?Vd(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function du({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const th=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return o.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...Hd(a)}})};function ao(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Tc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Pn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function eE(){const e=et();return S.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(a.x/i[0]):a.x,ySnapped:o?i[1]*Math.round(a.y/i[1]):a.y,...a}},[])}function fu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function k0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const l=et(),[a,u]=S.useState(!1),c=S.useRef([]),d=S.useRef({x:null,y:null}),f=S.useRef(0),m=S.useRef(null),w=S.useRef({x:0,y:0}),y=S.useRef(null),C=S.useRef(!1),p=S.useRef(!1),h=S.useRef(!1),g=eE();return S.useEffect(()=>{if(e!=null&&e.current){const _=Xt(e.current),T=({x:N,y:D})=>{const{nodeInternals:z,onNodeDrag:F,onSelectionDrag:Y,updateNodePositions:B,nodeExtent:x,snapGrid:M,snapToGrid:R,nodeOrigin:O,onError:P}=l.getState();d.current={x:N,y:D};let b=!1,k={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&x){const $=Xd(c.current,O);k=Ud($)}if(c.current=c.current.map($=>{const U={x:N-$.distance.x,y:D-$.distance.y};R&&(U.x=M[0]*Math.round(U.x/M[0]),U.y=M[1]*Math.round(U.y/M[1]));const I=[[x[0][0],x[0][1]],[x[1][0],x[1][1]]];c.current.length>1&&x&&!$.extent&&(I[0][0]=$.positionAbsolute.x-k.x+x[0][0],I[1][0]=$.positionAbsolute.x+($.width??0)-k.x2+x[1][0],I[0][1]=$.positionAbsolute.y-k.y+x[0][1],I[1][1]=$.positionAbsolute.y+($.height??0)-k.y2+x[1][1]);const j=S0($,U,z,I,O,P);return b=b||$.position.x!==j.position.x||$.position.y!==j.position.y,$.position=j.position,$.positionAbsolute=j.positionAbsolute,$}),!b)return;B(c.current,!0,!0),u(!0);const L=i?F:fu(Y);if(L&&y.current){const[$,U]=du({nodeId:i,dragItems:c.current,nodeInternals:z});L(y.current,$,U)}},A=()=>{if(!m.current)return;const[N,D]=Vy(w.current,m.current);if(N!==0||D!==0){const{transform:z,panBy:F}=l.getState();d.current.x=(d.current.x??0)-N/z[2],d.current.y=(d.current.y??0)-D/z[2],F({x:N,y:D})&&T(d.current)}f.current=requestAnimationFrame(A)},E=N=>{var O;const{nodeInternals:D,multiSelectionActive:z,nodesDraggable:F,unselectNodesAndEdges:Y,onNodeDragStart:B,onSelectionDragStart:x}=l.getState();p.current=!0;const M=i?B:fu(x);(!s||!o)&&!z&&i&&((O=D.get(i))!=null&&O.selected||Y()),i&&o&&s&&Tc({id:i,store:l,nodeRef:e});const R=g(N);if(d.current=R,c.current=K2(D,F,R,i),M&&c.current){const[P,b]=du({nodeId:i,dragItems:c.current,nodeInternals:D});M(N.sourceEvent,P,b)}};if(t)_.on(".drag",null);else{const N=uS().on("start",D=>{const{domNode:z,nodeDragThreshold:F}=l.getState();F===0&&E(D),h.current=!1;const Y=g(D);d.current=Y,m.current=(z==null?void 0:z.getBoundingClientRect())||null,w.current=mr(D.sourceEvent,m.current)}).on("drag",D=>{var B,x;const z=g(D),{autoPanOnNodeDrag:F,nodeDragThreshold:Y}=l.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!C.current&&p.current&&F&&(C.current=!0,A()),!p.current){const M=z.xSnapped-(((B=d==null?void 0:d.current)==null?void 0:B.x)??0),R=z.ySnapped-(((x=d==null?void 0:d.current)==null?void 0:x.y)??0);Math.sqrt(M*M+R*R)>Y&&E(D)}(d.current.x!==z.xSnapped||d.current.y!==z.ySnapped)&&c.current&&p.current&&(y.current=D.sourceEvent,w.current=mr(D.sourceEvent,m.current),T(z))}}).on("end",D=>{if(!(!p.current||h.current)&&(u(!1),C.current=!1,p.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:z,nodeInternals:F,onNodeDragStop:Y,onSelectionDragStop:B}=l.getState(),x=i?Y:fu(B);if(z(c.current,!1,!1),x){const[M,R]=du({nodeId:i,dragItems:c.current,nodeInternals:F});x(D.sourceEvent,M,R)}}}).filter(D=>{const z=D.target;return!D.button&&(!n||!eh(z,`.${n}`,e))&&(!r||eh(z,r,e))});return _.call(N),()=>{_.on(".drag",null)}}}},[e,t,n,r,o,l,i,s,g]),a}function E0(){const e=et();return S.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=s().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),f=l?a[0]:5,m=l?a[1]:5,w=n.isShiftPressed?4:1,y=n.x*f*w,C=n.y*m*w,p=d.map(h=>{if(h.positionAbsolute){const g={x:h.positionAbsolute.x+y,y:h.positionAbsolute.y+C};l&&(g.x=a[0]*Math.round(g.x/a[0]),g.y=a[1]*Math.round(g.y/a[1]));const{positionAbsolute:_,position:T}=S0(h,g,r,i,void 0,u);h.position=T,h.positionAbsolute=_}return h});o(p,!0,!1)},[])}const Ti={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var uo=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onContextMenu:w,onDoubleClick:y,style:C,className:p,isDraggable:h,isSelectable:g,isConnectable:_,isFocusable:T,selectNodesOnDrag:A,sourcePosition:E,targetPosition:N,hidden:D,resizeObserver:z,dragHandle:F,zIndex:Y,isParent:B,noDragClassName:x,noPanClassName:M,initialized:R,disableKeyboardA11y:O,ariaLabel:P,rfId:b,hasHandleBounds:k})=>{const L=et(),$=S.useRef(null),U=S.useRef(null),I=S.useRef(E),j=S.useRef(N),Z=S.useRef(r),G=g||h||c||d||f||m,ne=E0(),oe=ao(n,L.getState,d),se=ao(n,L.getState,f),Se=ao(n,L.getState,m),Te=ao(n,L.getState,w),Ie=ao(n,L.getState,y),Ee=_e=>{const{nodeDragThreshold:ie}=L.getState();if(g&&(!A||!h||ie>0)&&Tc({id:n,store:L,nodeRef:$}),c){const Ue=L.getState().nodeInternals.get(n);Ue&&c(_e,{...Ue})}},ve=_e=>{if(!Sc(_e)&&!O)if(Wy.includes(_e.key)&&g){const ie=_e.key==="Escape";Tc({id:n,store:L,unselect:ie,nodeRef:$})}else h&&u&&Object.prototype.hasOwnProperty.call(Ti,_e.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${_e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ne({x:Ti[_e.key].x,y:Ti[_e.key].y,isShiftPressed:_e.shiftKey}))};S.useEffect(()=>()=>{U.current&&(z==null||z.unobserve(U.current),U.current=null)},[]),S.useEffect(()=>{if($.current&&!D){const _e=$.current;(!R||!k||U.current!==_e)&&(U.current&&(z==null||z.unobserve(U.current)),z==null||z.observe(_e),U.current=_e)}},[D,R,k]),S.useEffect(()=>{const _e=Z.current!==r,ie=I.current!==E,Ue=j.current!==N;$.current&&(_e||ie||Ue)&&(_e&&(Z.current=r),ie&&(I.current=E),Ue&&(j.current=N),L.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,E,N]);const je=k0({nodeRef:$,disabled:D||!h,noDragClassName:x,handleSelector:F,nodeId:n,isSelectable:g,selectNodesOnDrag:A});return D?null:V.createElement("div",{className:Pt(["react-flow__node",`react-flow__node-${r}`,{[M]:h},p,{selected:u,selectable:g,parent:B,dragging:je}]),ref:$,style:{zIndex:Y,transform:`translate(${l}px,${a}px)`,pointerEvents:G?"all":"none",visibility:R?"visible":"hidden",...C},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:oe,onMouseMove:se,onMouseLeave:Se,onContextMenu:Te,onClick:Ee,onDoubleClick:Ie,onKeyDown:T?ve:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":O?void 0:`${f0}-${b}`,"aria-label":P},V.createElement(m2,{value:n},V.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:_,sourcePosition:E,targetPosition:N,dragging:je,dragHandle:F,zIndex:Y})))};return t.displayName="NodeWrapper",S.memo(t)};const tE=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Xd(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function nE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=et(),{width:i,height:o,x:s,y:l,transformString:a,userSelectionActive:u}=$e(tE,ct),c=E0(),d=S.useRef(null);if(S.useEffect(()=>{var w;n||(w=d.current)==null||w.focus({preventScroll:!0})},[n]),k0({nodeRef:d}),u||!i||!o)return null;const f=e?w=>{const y=r.getState().getNodes().filter(C=>C.selected);e(w,y)}:void 0,m=w=>{Object.prototype.hasOwnProperty.call(Ti,w.key)&&c({x:Ti[w.key].x,y:Ti[w.key].y,isShiftPressed:w.shiftKey})};return V.createElement("div",{className:Pt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},V.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:o,top:l,left:s}}))}var rE=S.memo(nE);const iE=e=>e.nodesSelectionActive,b0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:w,onSelectionEnd:y,multiSelectionKeyCode:C,panActivationKeyCode:p,zoomActivationKeyCode:h,elementsSelectable:g,zoomOnScroll:_,zoomOnPinch:T,panOnScroll:A,panOnScrollSpeed:E,panOnScrollMode:N,zoomOnDoubleClick:D,panOnDrag:z,defaultViewport:F,translateExtent:Y,minZoom:B,maxZoom:x,preventScrolling:M,onSelectionContextMenu:R,noWheelClassName:O,noPanClassName:P,disableKeyboardA11y:b})=>{const k=$e(iE),L=es(d),$=es(p),U=$||z,I=$||A,j=L||f&&U!==!0;return V2({deleteKeyCode:l,multiSelectionKeyCode:C}),V.createElement(Y2,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:g,zoomOnScroll:_,zoomOnPinch:T,panOnScroll:I,panOnScrollSpeed:E,panOnScrollMode:N,zoomOnDoubleClick:D,panOnDrag:!L&&U,defaultViewport:F,translateExtent:Y,minZoom:B,maxZoom:x,zoomActivationKeyCode:h,preventScrolling:M,noWheelClassName:O,noPanClassName:P},V.createElement(w0,{onSelectionStart:w,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:U,isSelecting:!!j,selectionMode:m},e,k&&V.createElement(rE,{onSelectionContextMenu:R,noPanClassName:P,disableKeyboardA11y:b})))};b0.displayName="FlowRenderer";var oE=S.memo(b0);function sE(e){return $e(S.useCallback(n=>e?Jy(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function lE(e){const t={input:uo(e.input||a0),default:uo(e.default||Cc),output:uo(e.output||c0),group:uo(e.group||Qd)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=uo(e[o]||Cc),i),n);return{...t,...r}}const aE=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},uE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),C0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=$e(uE,ct),l=sE(e.onlyRenderVisibleElements),a=S.useRef(),u=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(f)});return a.current=c,c},[]);return S.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),V.createElement("div",{className:"react-flow__nodes",style:Kd},l.map(c=>{var T,A,E;let d=c.type||"default";e.nodeTypes[d]||(s==null||s("003",Pn.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),w=!!(c.selectable||i&&typeof c.selectable>"u"),y=!!(c.connectable||n&&typeof c.connectable>"u"),C=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?Vd(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(p==null?void 0:p.x)??0,g=(p==null?void 0:p.y)??0,_=aE({x:h,y:g,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return V.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||ee.Bottom,targetPosition:c.targetPosition||ee.Top,hidden:c.hidden,xPos:h,yPos:g,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:w,isConnectable:y,isFocusable:C,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((T=c[De])==null?void 0:T.z)??0,isParent:!!((A=c[De])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((E=c[De])!=null&&E.handleBounds)})}))};C0.displayName="NodeRenderer";var cE=S.memo(C0);const dE=(e,t,n)=>n===ee.Left?e-t:n===ee.Right?e+t:e,fE=(e,t,n)=>n===ee.Top?e-t:n===ee.Bottom?e+t:e,nh="react-flow__edgeupdater",rh=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:l})=>V.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Pt([nh,`${nh}-${l}`]),cx:dE(t,r,e),cy:fE(n,r,e),r,stroke:"transparent",fill:"transparent"}),pE=()=>!0;var Kr=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:y,style:C,source:p,target:h,sourceX:g,sourceY:_,targetX:T,targetY:A,sourcePosition:E,targetPosition:N,elementsSelectable:D,hidden:z,sourceHandleId:F,targetHandleId:Y,onContextMenu:B,onMouseEnter:x,onMouseMove:M,onMouseLeave:R,reconnectRadius:O,onReconnect:P,onReconnectStart:b,onReconnectEnd:k,markerEnd:L,markerStart:$,rfId:U,ariaLabel:I,isFocusable:j,isReconnectable:Z,pathOptions:G,interactionWidth:ne,disableKeyboardA11y:oe})=>{const se=S.useRef(null),[Se,Te]=S.useState(!1),[Ie,Ee]=S.useState(!1),ve=et(),je=S.useMemo(()=>`url('#${Ec($,U)}')`,[$,U]),_e=S.useMemo(()=>`url('#${Ec(L,U)}')`,[L,U]);if(z)return null;const ie=W=>{var Pe;const{edges:re,addSelectedEdges:pe,unselectNodesAndEdges:xe,multiSelectionActive:We}=ve.getState(),Ne=re.find(st=>st.id===n);Ne&&(D&&(ve.setState({nodesSelectionActive:!1}),Ne.selected&&We?(xe({nodes:[],edges:[Ne]}),(Pe=se.current)==null||Pe.blur()):pe([n])),s&&s(W,Ne))},Ue=lo(n,ve.getState,l),pn=lo(n,ve.getState,B),zn=lo(n,ve.getState,x),hn=lo(n,ve.getState,M),Ln=lo(n,ve.getState,R),Bt=(W,re)=>{if(W.button!==0)return;const{edges:pe,isValidConnection:xe}=ve.getState(),We=re?h:p,Ne=(re?Y:F)||null,Pe=re?"target":"source",st=xe||pE,Vt=re,St=pe.find(Rt=>Rt.id===n);Ee(!0),b==null||b(W,St,Pe);const Ut=Rt=>{Ee(!1),k==null||k(Rt,St,Pe)};i0({event:W,handleId:Ne,nodeId:We,onConnect:Rt=>P==null?void 0:P(St,Rt),isTarget:Vt,getState:ve.getState,setState:ve.setState,isValidConnection:st,edgeUpdaterType:Pe,onReconnectEnd:Ut})},Dn=W=>Bt(W,!0),mn=W=>Bt(W,!1),gn=()=>Te(!0),Ht=()=>Te(!1),$n=!D&&!s,H=W=>{var re;if(!oe&&Wy.includes(W.key)&&D){const{unselectNodesAndEdges:pe,addSelectedEdges:xe,edges:We}=ve.getState();W.key==="Escape"?((re=se.current)==null||re.blur(),pe({edges:[We.find(Pe=>Pe.id===n)]})):xe([n])}};return V.createElement("g",{className:Pt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:a,animated:u,inactive:$n,updating:Se}]),onClick:ie,onDoubleClick:Ue,onContextMenu:pn,onMouseEnter:zn,onMouseMove:hn,onMouseLeave:Ln,onKeyDown:j?H:void 0,tabIndex:j?0:void 0,role:j?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":I===null?void 0:I||`Edge from ${p} to ${h}`,"aria-describedby":j?`${p0}-${U}`:void 0,ref:se},!Ie&&V.createElement(e,{id:n,source:p,target:h,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:y,data:o,style:C,sourceX:g,sourceY:_,targetX:T,targetY:A,sourcePosition:E,targetPosition:N,sourceHandleId:F,targetHandleId:Y,markerStart:je,markerEnd:_e,pathOptions:G,interactionWidth:ne}),Z&&V.createElement(V.Fragment,null,(Z==="source"||Z===!0)&&V.createElement(rh,{position:E,centerX:g,centerY:_,radius:O,onMouseDown:Dn,onMouseEnter:gn,onMouseOut:Ht,type:"source"}),(Z==="target"||Z===!0)&&V.createElement(rh,{position:N,centerX:T,centerY:A,radius:O,onMouseDown:mn,onMouseEnter:gn,onMouseOut:Ht,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function hE(e){const t={default:Kr(e.default||Gl),straight:Kr(e.bezier||Yd),step:Kr(e.step||qd),smoothstep:Kr(e.step||ba),simplebezier:Kr(e.simplebezier||Wd)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Kr(e[o]||Gl),i),n);return{...t,...r}}function ih(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case ee.Top:return{x:r+o/2,y:i};case ee.Right:return{x:r+o,y:i+s/2};case ee.Bottom:return{x:r+o/2,y:i+s};case ee.Left:return{x:r,y:i+s/2}}}function oh(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const mE=(e,t,n,r,i,o)=>{const s=ih(n,e,t),l=ih(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function gE({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Ud({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function sh(e){var r,i,o,s,l;const t=((r=e==null?void 0:e[De])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const yE=[{level:0,isMaxLevel:!0,edges:[]}];function vE(e,t,n=!1){let r=-1;const i=e.reduce((s,l)=>{var c,d;const a=Dt(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),m=t.get(l.source),w=l.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),y=Math.max(((c=m==null?void 0:m[De])==null?void 0:c.z)||0,((d=f==null?void 0:f[De])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(w?y:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return o.length===0?yE:o}function xE(e,t,n){const r=$e(S.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),l=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&gE({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return vE(r,t,n)}const wE=({color:e="none",strokeWidth:t=1})=>V.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),_E=({color:e="none",strokeWidth:t=1})=>V.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),lh={[Xl.Arrow]:wE,[Xl.ArrowClosed]:_E};function SE(e){const t=et();return S.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(lh,e)?lh[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",Pn.error009(e)),null)},[e])}const kE=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=SE(t);return a?V.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0"},V.createElement(a,{color:n,strokeWidth:s})):null},EE=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Ec(s,t);r.includes(l)||(i.push({id:l,color:s.color||e,...s}),r.push(l))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},T0=({defaultColor:e,rfId:t})=>{const n=$e(S.useCallback(EE({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return V.createElement("defs",null,n.map(r=>V.createElement(kE,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};T0.displayName="MarkerDefinitions";var bE=S.memo(T0);const CE=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),N0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:y,children:C,disableKeyboardA11y:p})=>{const{edgesFocusable:h,edgesUpdatable:g,elementsSelectable:_,width:T,height:A,connectionMode:E,nodeInternals:N,onError:D}=$e(CE,ct),z=xE(t,N,n);return T?V.createElement(V.Fragment,null,z.map(({level:F,edges:Y,isMaxLevel:B})=>V.createElement("svg",{key:F,style:{zIndex:F},width:T,height:A,className:"react-flow__edges react-flow__container"},B&&V.createElement(bE,{defaultColor:e,rfId:r}),V.createElement("g",null,Y.map(x=>{const[M,R,O]=sh(N.get(x.source)),[P,b,k]=sh(N.get(x.target));if(!O||!k)return null;let L=x.type||"default";i[L]||(D==null||D("011",Pn.error011(L)),L="default");const $=i[L]||i.default,U=E===Hr.Strict?b.target:(b.target??[]).concat(b.source??[]),I=oh(R.source,x.sourceHandle),j=oh(U,x.targetHandle),Z=(I==null?void 0:I.position)||ee.Bottom,G=(j==null?void 0:j.position)||ee.Top,ne=!!(x.focusable||h&&typeof x.focusable>"u"),oe=x.reconnectable||x.updatable,se=typeof f<"u"&&(oe||g&&typeof oe>"u");if(!I||!j)return D==null||D("008",Pn.error008(I,x)),null;const{sourceX:Se,sourceY:Te,targetX:Ie,targetY:Ee}=mE(M,I,Z,P,j,G);return V.createElement($,{key:x.id,id:x.id,className:Pt([x.className,o]),type:L,data:x.data,selected:!!x.selected,animated:!!x.animated,hidden:!!x.hidden,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,style:x.style,source:x.source,target:x.target,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerEnd:x.markerEnd,markerStart:x.markerStart,sourceX:Se,sourceY:Te,targetX:Ie,targetY:Ee,sourcePosition:Z,targetPosition:G,elementsSelectable:_,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:w,reconnectRadius:y,rfId:r,ariaLabel:x.ariaLabel,isFocusable:ne,isReconnectable:se,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth,disableKeyboardA11y:p})})))),C):null};N0.displayName="EdgeRenderer";var TE=S.memo(N0);const NE=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ME({children:e}){const t=$e(NE);return V.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function IE(e){const t=y0(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const PE={[ee.Left]:ee.Right,[ee.Right]:ee.Left,[ee.Top]:ee.Bottom,[ee.Bottom]:ee.Top},M0=({nodeId:e,handleType:t,style:n,type:r=nr.Bezier,CustomComponent:i,connectionStatus:o})=>{var A,E,N;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=$e(S.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),ct),d=(A=s==null?void 0:s[De])==null?void 0:A.handleBounds;let f=d==null?void 0:d[t];if(c===Hr.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!f)return null;const m=l?f.find(D=>D.id===l):f[0],w=m?m.x+m.width/2:(s.width??0)/2,y=m?m.y+m.height/2:s.height??0,C=(((E=s.positionAbsolute)==null?void 0:E.x)??0)+w,p=(((N=s.positionAbsolute)==null?void 0:N.y)??0)+y,h=m==null?void 0:m.position,g=h?PE[h]:null;if(!h||!g)return null;if(i)return V.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:C,fromY:p,toX:a,toY:u,fromPosition:h,toPosition:g,connectionStatus:o});let _="";const T={sourceX:C,sourceY:p,sourcePosition:h,targetX:a,targetY:u,targetPosition:g};return r===nr.Bezier?[_]=Gy(T):r===nr.Step?[_]=kc({...T,borderRadius:0}):r===nr.SmoothStep?[_]=kc(T):r===nr.SimpleBezier?[_]=Xy(T):_=`M${C},${p} ${a},${u}`,V.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};M0.displayName="ConnectionLine";const RE=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function AE({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:l,height:a,connectionStatus:u}=$e(RE,ct);return!(i&&o&&l&&s)?null:V.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},V.createElement("g",{className:Pt(["react-flow__connection",u])},V.createElement(M0,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function ah(e,t){return S.useRef(null),et(),S.useMemo(()=>t(e),[e])}const I0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:w,onSelectionStart:y,onSelectionEnd:C,connectionLineType:p,connectionLineStyle:h,connectionLineComponent:g,connectionLineContainerStyle:_,selectionKeyCode:T,selectionOnDrag:A,selectionMode:E,multiSelectionKeyCode:N,panActivationKeyCode:D,zoomActivationKeyCode:z,deleteKeyCode:F,onlyRenderVisibleElements:Y,elementsSelectable:B,selectNodesOnDrag:x,defaultViewport:M,translateExtent:R,minZoom:O,maxZoom:P,preventScrolling:b,defaultMarkerColor:k,zoomOnScroll:L,zoomOnPinch:$,panOnScroll:U,panOnScrollSpeed:I,panOnScrollMode:j,zoomOnDoubleClick:Z,panOnDrag:G,onPaneClick:ne,onPaneMouseEnter:oe,onPaneMouseMove:se,onPaneMouseLeave:Se,onPaneScroll:Te,onPaneContextMenu:Ie,onEdgeContextMenu:Ee,onEdgeMouseEnter:ve,onEdgeMouseMove:je,onEdgeMouseLeave:_e,onReconnect:ie,onReconnectStart:Ue,onReconnectEnd:pn,reconnectRadius:zn,noDragClassName:hn,noWheelClassName:Ln,noPanClassName:Bt,elevateEdgesOnSelect:Dn,disableKeyboardA11y:mn,nodeOrigin:gn,nodeExtent:Ht,rfId:$n})=>{const H=ah(e,lE),W=ah(t,hE);return IE(o),V.createElement(oE,{onPaneClick:ne,onPaneMouseEnter:oe,onPaneMouseMove:se,onPaneMouseLeave:Se,onPaneContextMenu:Ie,onPaneScroll:Te,deleteKeyCode:F,selectionKeyCode:T,selectionOnDrag:A,selectionMode:E,onSelectionStart:y,onSelectionEnd:C,multiSelectionKeyCode:N,panActivationKeyCode:D,zoomActivationKeyCode:z,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:L,zoomOnPinch:$,zoomOnDoubleClick:Z,panOnScroll:U,panOnScrollSpeed:I,panOnScrollMode:j,panOnDrag:G,defaultViewport:M,translateExtent:R,minZoom:O,maxZoom:P,onSelectionContextMenu:w,preventScrolling:b,noDragClassName:hn,noWheelClassName:Ln,noPanClassName:Bt,disableKeyboardA11y:mn},V.createElement(ME,null,V.createElement(TE,{edgeTypes:W,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:Y,onEdgeContextMenu:Ee,onEdgeMouseEnter:ve,onEdgeMouseMove:je,onEdgeMouseLeave:_e,onReconnect:ie,onReconnectStart:Ue,onReconnectEnd:pn,reconnectRadius:zn,defaultMarkerColor:k,noPanClassName:Bt,elevateEdgesOnSelect:!!Dn,disableKeyboardA11y:mn,rfId:$n},V.createElement(AE,{style:h,type:p,component:g,containerStyle:_})),V.createElement("div",{className:"react-flow__edgelabel-renderer"}),V.createElement(cE,{nodeTypes:H,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:x,onlyRenderVisibleElements:Y,noPanClassName:Bt,noDragClassName:hn,disableKeyboardA11y:mn,nodeOrigin:gn,nodeExtent:Ht,rfId:$n})))};I0.displayName="GraphView";var zE=S.memo(I0);const Nc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Hn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Nc,nodeExtent:Nc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Hr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:u2,isValidConnection:void 0},LE=()=>_w((e,t)=>({...Hn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:uu(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?uu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((y,C)=>{const p=i.get(C.id);if(p!=null&&p.hidden)i.set(p.id,{...p,[De]:{...p[De],handleBounds:void 0}});else if(p){const h=Hd(C.nodeElement);!!(h.width&&h.height&&(p.width!==h.width||p.height!==h.height||C.forceUpdate))&&(i.set(p.id,{...p,[De]:{...p[De],handleBounds:{source:th(".source",C.nodeElement,f,u),target:th(".target",C.nodeElement,f,u)}},...h}),y.push({id:p.id,type:"dimensions",dimensions:h}))}return y},[]);m0(i,u);const w=s||o&&!s&&g0(t,{initial:!0,...l});e({nodeInternals:new Map(i),fitViewOnInitDone:w}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:i};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(o){const u=x0(n,l()),c=uu(u,i,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>Kn(a,!0)):(s=hi(o(),n),l=hi(i,[])),Bs({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>Kn(a,!0)):(s=hi(i,n),l=hi(o(),[])),Bs({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),l=r||i,a=s.map(c=>(c.selected=!1,Kn(c.id,!1))),u=l.map(c=>Kn(c.id,!1));Bs({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(l=>l.selected).map(l=>Kn(l.id,!1)),s=n.filter(l=>l.selected).map(l=>Kn(l.id,!1));Bs({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Vd(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=hr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],d=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Hn.connectionNodeId,connectionHandleId:Hn.connectionHandleId,connectionHandleType:Hn.connectionHandleType,connectionStatus:Hn.connectionStatus,connectionStartHandle:Hn.connectionStartHandle,connectionEndHandle:Hn.connectionEndHandle}),reset:()=>e({...Hn})}),Object.is),P0=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=LE()),V.createElement(e2,{value:t.current},e)};P0.displayName="ReactFlowProvider";const R0=({children:e})=>S.useContext(Ea)?V.createElement(V.Fragment,null,e):V.createElement(P0,null,e);R0.displayName="ReactFlowWrapper";const DE={input:a0,default:Cc,output:c0,group:Qd},$E={default:Gl,straight:Yd,step:qd,smoothstep:ba,simplebezier:Wd},OE=[0,0],jE=[15,15],FE={x:0,y:0,zoom:1},BE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},A0=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=DE,edgeTypes:s=$E,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:m,onConnectStart:w,onConnectEnd:y,onClickConnectStart:C,onClickConnectEnd:p,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:_,onNodeContextMenu:T,onNodeDoubleClick:A,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:D,onNodesDelete:z,onEdgesDelete:F,onSelectionChange:Y,onSelectionDragStart:B,onSelectionDrag:x,onSelectionDragStop:M,onSelectionContextMenu:R,onSelectionStart:O,onSelectionEnd:P,connectionMode:b=Hr.Strict,connectionLineType:k=nr.Bezier,connectionLineStyle:L,connectionLineComponent:$,connectionLineContainerStyle:U,deleteKeyCode:I="Backspace",selectionKeyCode:j="Shift",selectionOnDrag:Z=!1,selectionMode:G=Jo.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:oe=Zl()?"Meta":"Control",zoomActivationKeyCode:se=Zl()?"Meta":"Control",snapToGrid:Se=!1,snapGrid:Te=jE,onlyRenderVisibleElements:Ie=!1,selectNodesOnDrag:Ee=!0,nodesDraggable:ve,nodesConnectable:je,nodesFocusable:_e,nodeOrigin:ie=OE,edgesFocusable:Ue,edgesUpdatable:pn,elementsSelectable:zn,defaultViewport:hn=FE,minZoom:Ln=.5,maxZoom:Bt=2,translateExtent:Dn=Nc,preventScrolling:mn=!0,nodeExtent:gn,defaultMarkerColor:Ht="#b1b1b7",zoomOnScroll:$n=!0,zoomOnPinch:H=!0,panOnScroll:W=!1,panOnScrollSpeed:re=.5,panOnScrollMode:pe=Pr.Free,zoomOnDoubleClick:xe=!0,panOnDrag:We=!0,onPaneClick:Ne,onPaneMouseEnter:Pe,onPaneMouseMove:st,onPaneMouseLeave:Vt,onPaneScroll:St,onPaneContextMenu:Ut,children:yn,onEdgeContextMenu:Rt,onEdgeDoubleClick:ps,onEdgeMouseEnter:On,onEdgeMouseMove:lf,onEdgeMouseLeave:hs,onEdgeUpdate:ms,onEdgeUpdateStart:Ma,onEdgeUpdateEnd:Xi,onReconnect:jn,onReconnectStart:Fn,onReconnectEnd:Gi,reconnectRadius:gs=10,edgeUpdaterRadius:ov=10,onNodesChange:sv,onEdgesChange:lv,noDragClassName:av="nodrag",noWheelClassName:uv="nowheel",noPanClassName:af="nopan",fitView:cv=!1,fitViewOptions:dv,connectOnClick:fv=!0,attributionPosition:pv,proOptions:hv,defaultEdgeOptions:mv,elevateNodesOnSelect:gv=!0,elevateEdgesOnSelect:yv=!1,disableKeyboardA11y:uf=!1,autoPanOnConnect:vv=!0,autoPanOnNodeDrag:xv=!0,connectionRadius:wv=20,isValidConnection:_v,onError:Sv,style:kv,id:cf,nodeDragThreshold:Ev,...bv},Cv)=>{const Ia=cf||"1";return V.createElement("div",{...bv,style:{...kv,...BE},ref:Cv,className:Pt(["react-flow",i]),"data-testid":"rf__wrapper",id:cf},V.createElement(R0,null,V.createElement(zE,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:_,onNodeContextMenu:T,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:s,connectionLineType:k,connectionLineStyle:L,connectionLineComponent:$,connectionLineContainerStyle:U,selectionKeyCode:j,selectionOnDrag:Z,selectionMode:G,deleteKeyCode:I,multiSelectionKeyCode:oe,panActivationKeyCode:ne,zoomActivationKeyCode:se,onlyRenderVisibleElements:Ie,selectNodesOnDrag:Ee,defaultViewport:hn,translateExtent:Dn,minZoom:Ln,maxZoom:Bt,preventScrolling:mn,zoomOnScroll:$n,zoomOnPinch:H,zoomOnDoubleClick:xe,panOnScroll:W,panOnScrollSpeed:re,panOnScrollMode:pe,panOnDrag:We,onPaneClick:Ne,onPaneMouseEnter:Pe,onPaneMouseMove:st,onPaneMouseLeave:Vt,onPaneScroll:St,onPaneContextMenu:Ut,onSelectionContextMenu:R,onSelectionStart:O,onSelectionEnd:P,onEdgeContextMenu:Rt,onEdgeDoubleClick:ps,onEdgeMouseEnter:On,onEdgeMouseMove:lf,onEdgeMouseLeave:hs,onReconnect:jn??ms,onReconnectStart:Fn??Ma,onReconnectEnd:Gi??Xi,reconnectRadius:gs??ov,defaultMarkerColor:Ht,noDragClassName:av,noWheelClassName:uv,noPanClassName:af,elevateEdgesOnSelect:yv,rfId:Ia,disableKeyboardA11y:uf,nodeOrigin:ie,nodeExtent:gn}),V.createElement(P2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:w,onConnectEnd:y,onClickConnectStart:C,onClickConnectEnd:p,nodesDraggable:ve,nodesConnectable:je,nodesFocusable:_e,edgesFocusable:Ue,edgesUpdatable:pn,elementsSelectable:zn,elevateNodesOnSelect:gv,minZoom:Ln,maxZoom:Bt,nodeExtent:gn,onNodesChange:sv,onEdgesChange:lv,snapToGrid:Se,snapGrid:Te,connectionMode:b,translateExtent:Dn,connectOnClick:fv,defaultEdgeOptions:mv,fitView:cv,fitViewOptions:dv,onNodesDelete:z,onEdgesDelete:F,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:D,onSelectionDrag:x,onSelectionDragStart:B,onSelectionDragStop:M,noPanClassName:af,nodeOrigin:ie,rfId:Ia,autoPanOnConnect:vv,autoPanOnNodeDrag:xv,onError:Sv,connectionRadius:wv,isValidConnection:_v,nodeDragThreshold:Ev}),V.createElement(M2,{onSelectionChange:Y}),yn,V.createElement(r2,{proOptions:hv,position:pv}),V.createElement(D2,{rfId:Ia,disableKeyboardA11y:uf})))});A0.displayName="ReactFlow";function z0(e){return t=>{const[n,r]=S.useState(t),i=S.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const HE=z0(x0),VE=z0(G2);var Jt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Jt||(Jt={}));function UE({color:e,dimensions:t,lineWidth:n}){return V.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function WE({color:e,radius:t}){return V.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const qE={[Jt.Dots]:"#91919a",[Jt.Lines]:"#eee",[Jt.Cross]:"#e2e2e2"},YE={[Jt.Dots]:1,[Jt.Lines]:1,[Jt.Cross]:6},ZE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function L0({id:e,variant:t=Jt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:s,style:l,className:a}){const u=S.useRef(null),{transform:c,patternId:d}=$e(ZE,ct),f=s||qE[t],m=r||YE[t],w=t===Jt.Dots,y=t===Jt.Cross,C=Array.isArray(n)?n:[n,n],p=[C[0]*c[2]||1,C[1]*c[2]||1],h=m*c[2],g=y?[h,h]:p,_=w?[h/o,h/o]:[g[0]/o,g[1]/o];return V.createElement("svg",{className:Pt(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},V.createElement("pattern",{id:d+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},w?V.createElement(WE,{color:f,radius:h/o}):V.createElement(UE,{dimensions:g,color:f,lineWidth:i})),V.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}L0.displayName="Background";var XE=S.memo(L0);const D0={},{useDebugValue:GE}=V,{useSyncExternalStoreWithSelector:QE}=fy;let uh=!1;const KE=e=>e;function JE(e,t=KE,n){(D0?"production":void 0)!=="production"&&n&&!uh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),uh=!0);const r=QE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return GE(r),r}const ch=e=>{(D0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?py(e):e,n=(r,i)=>JE(t,r,i);return Object.assign(n,t),n},$0=e=>e?ch(e):ch,Vn=["TEXT"],eb={id:"flow:draft-layout",version:"1.0.0",nodes:[{id:"ui-entry",type:"module",name:"UI",params:{__position:{x:120,y:360},role:"entrypoint",moduleKey:"interface"},in:[{port:"feedback",types:Vn}],out:[{port:"conversation",types:Vn}]},{id:"prompt-main",type:"module",name:"Prompt",params:{__position:{x:420,y:360},preset:"analysis",moduleKey:"prompt"},in:[{port:"context",types:Vn}],out:[{port:"prompt",types:Vn}]},{id:"llm-primary",type:"llm",name:"LLAMA3.1 8B",params:{__position:{x:720,y:360},adapter:"llama_cpp",modelId:"model:llama3.1-8b.Q4_K_M",runtime:"CPU",temperature:.2,maxTokens:2048},in:[{port:"prompt",types:Vn}],out:[{port:"response",types:Vn}]},{id:"memory-primary",type:"module",name:"Memory",params:{__position:{x:1020,y:360},mode:"append",moduleKey:"memory"},in:[{port:"write",types:Vn}],out:[{port:"recall",types:Vn}]}],edges:[{id:"edge-ui-prompt",from:["ui-entry","conversation"],to:["prompt-main","context"],label:"primary"},{id:"edge-prompt-llm",from:["prompt-main","prompt"],to:["llm-primary","prompt"],label:"draft"},{id:"edge-llm-memory",from:["llm-primary","response"],to:["memory-primary","write"],label:"completion"},{id:"edge-memory-ui",from:["memory-primary","recall"],to:["ui-entry","feedback"],label:"memory"}],prompts:{packs:[]},models:{registryRef:"../models/models.json"},profiles:{default:{concurrency:2}}},tb=()=>JSON.parse(JSON.stringify(eb)),O0="__position",nb={x:360,y:240},j0=e=>`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,rb=e=>j0(e||"node"),ib=e=>j0(`edge-${e.from[0]}-${e.to[0]}-${e.from[1]}-${e.to[1]}`),Vs=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),ob=e=>{const t=e.params,n=t==null?void 0:t[O0];if(n&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"){const r=n;return{x:r.x,y:r.y}}return{...nb}},sb=(e,t)=>{const n={...e.params??{}};return n[O0]={x:t.x,y:t.y},n},lb=e=>typeof e=="string"&&e.trim().length>0,mi=(...e)=>{for(const t of e)if(lb(t))return t.trim();return null},dh=(e,t)=>{if(!Array.isArray(e))return null;const n=[...e];for(;n.length>0;){const r=n.pop();if(!r||typeof r!="object")continue;const i=r,o=mi(i.id,i.modelId,i.model_id);if(o&&o===t){const l=mi(i.name,i.label,i.title);if(l)return l}const s=[i.models,i.items,i.children];for(const l of s)Array.isArray(l)&&n.push(...l)}return null},F0=(e,t)=>{const n=mi(e.modelLabel,e.modelName,e.displayName,e.title,e.label);if(n)return n;const r=e.model;if(r&&typeof r=="object"){const o=r,s=mi(o.name,o.label,o.title);if(s)return s;const l=mi(o.id,o.modelId,o.model_id);if(l){const a=l.trim(),u=dh(t,a);if(u)return u;const c=a.replace(/^model:/i,"").trim();if(c)return c}}const i=mi(e.modelId,e.model_id);if(i){const o=i.trim(),s=dh(t,o);if(s)return s;const l=o.replace(/^model:/i,"").trim();if(l)return l}return null},ds=$0((e,t)=>({flow:tb(),setFlow:n=>e({flow:n}),addNode:n=>e(r=>({flow:{...r.flow,nodes:[...r.flow.nodes,n]}})),updateNodeParams:(n,r)=>e(i=>({flow:{...i.flow,nodes:i.flow.nodes.map(o=>{if(o.id!==n)return o;const s={...o.params??{}},l=r(s),a=l&&typeof l=="object"?l:s;if((o.type??"module")==="llm"){const u=F0(a,i.catalog);if(u&&u!==o.name)return{...o,name:u,params:a}}return{...o,params:a}})}})),catalog:[],setCatalog:n=>e({catalog:n}),activeTool:"select",setActiveTool:n=>e({activeTool:n}),clipboard:null,setClipboard:n=>e({clipboard:n}),copyNode:n=>{const r=t().flow.nodes.find(s=>s.id===n);if(!r)return;const i=Vs(r),o=ob(r);e({clipboard:{kind:"node",node:i,position:o}})},cutNode:n=>{const{copyNode:r,deleteNode:i}=t();r(n),i(n)},deleteNode:n=>e(r=>{if(!r.flow.nodes.some(s=>s.id===n))return{};const i=r.flow.nodes.filter(s=>s.id!==n),o=r.flow.edges.filter(s=>s.from[0]!==n&&s.to[0]!==n);return{flow:{...r.flow,nodes:i,edges:o}}}),copyEdge:n=>{const r=t().flow.edges.find(i=>i.id===n);r&&e({clipboard:{kind:"edge",edge:Vs(r)}})},cutEdge:n=>{const{copyEdge:r,deleteEdge:i}=t();r(n),i(n)},deleteEdge:n=>e(r=>r.flow.edges.some(i=>i.id===n)?{flow:{...r.flow,edges:r.flow.edges.filter(i=>i.id!==n)}}:{}),pasteClipboard:n=>{const r=t().clipboard;if(!r||n&&r.kind!==n)return null;if(r.kind==="node"){const i=r.node,o={x:r.position.x+48,y:r.position.y+48},s=Vs(i),l=rb(s.type??"node"),a=sb(s,o),u={...s,id:l,params:a};return e(c=>({flow:{...c.flow,nodes:[...c.flow.nodes,u]}})),u}if(r.kind==="edge"){const i=t().flow,{edge:o}=r,s=i.nodes.some(u=>u.id===o.from[0]),l=i.nodes.some(u=>u.id===o.to[0]);if(!s||!l)return null;const a={...Vs(o),id:ib(o)};return e(u=>({flow:{...u.flow,edges:[...u.flow.edges,a]}})),a}return null}})),B0=S.createContext(null),ab=B0.Provider;function Jd(){const e=S.useContext(B0);if(!e)throw new Error("useCanvasBoundary must be used within a CanvasBoundaryProvider");return e}const de=16,H0=280,V0=220,Vr=(e,t,n)=>Math.min(Math.max(e,t),n);function gi(e,t,n){return n<t?t:Vr(e,t,n)}function Lr(e,t){const n=Math.min(e.size.width,t.width),r=Math.min(e.size.height,t.height),i=Math.max(0,t.width-n),o=Math.max(0,t.height-r),s=Vr(e.position.x,0,i),l=Vr(e.position.y,0,o);return{position:{x:s,y:l},size:{width:n,height:r}}}function ub(e,t,n){const r={position:{x:e.position.x+t.dx,y:e.position.y+t.dy},size:{...e.size}};return Lr(r,n)}function vo(e,t){const n=Math.max(0,t.width-de*2),r=Math.max(0,t.height-de*2),i=gi(e.width,Math.min(H0,n),n),o=gi(e.height,Math.min(V0,r),r),s=Math.max(de,t.width-de-i),l=Math.max(de,t.height-de-o),a=Vr(e.left,de,s),u=Vr(e.top,de,l);return{left:a,top:u,width:i,height:o}}function cb(e,t,n,r,i){let{x:o,y:s}=t.position,{width:l,height:a}=t.size;const u=r.width-o,c=r.height-s;if(e.includes("e")&&(l=gi(l+n.dx,i.width,u)),e.includes("s")&&(a=gi(a+n.dy,i.height,c)),e.includes("w")){let d=o+n.dx;const f=Math.max(0,o+l-r.width),m=o+l-i.width;d=Vr(d,f,m);const w=l+(o-d);o=d,l=gi(w,i.width,r.width-o)}if(e.includes("n")){let d=s+n.dy;const f=Math.max(0,s+a-r.height),m=s+a-i.height;d=Vr(d,f,m);const w=a+(s-d);s=d,a=gi(w,i.height,r.height-s)}return Lr({position:{x:o,y:s},size:{width:l,height:a}},r)}const Us=40,pu=180,Un={position:"absolute",background:"transparent",zIndex:2};function fh(e){var n;const t=(n=e==null?void 0:e.current)==null?void 0:n.getBoundingClientRect();return t?{width:t.width,height:t.height}:{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER}}function ef({title:e,open:t,position:n,size:r,minimized:i,minSize:o,onUpdate:s,onRequestClose:l,onToggleMinimize:a,children:u}){const c=Jd(),[d,f]=S.useState(t),m=S.useRef();S.useEffect(()=>{if(t){f(!0),m.current&&(window.clearTimeout(m.current),m.current=void 0);return}return m.current=window.setTimeout(()=>{f(!1),m.current=void 0},pu),()=>{m.current&&(window.clearTimeout(m.current),m.current=void 0)}},[t]),S.useEffect(()=>()=>{m.current&&window.clearTimeout(m.current)},[]);const w=S.useMemo(()=>({width:Math.max((o==null?void 0:o.width)??280,240),height:Math.max((o==null?void 0:o.height)??220,Us+40)}),[o]),y=S.useMemo(()=>({position:n,size:r}),[n,r]),C=S.useCallback(N=>{N.preventDefault(),N.stopPropagation();const D=N.clientX,z=N.clientY,F=y,Y=fh(c),B=M=>{const R={dx:M.clientX-D,dy:M.clientY-z},O=ub(F,R,Y);s(O)},x=()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",x)};window.addEventListener("mousemove",B),window.addEventListener("mouseup",x,{once:!0})},[c,y,s]),p=S.useCallback(N=>D=>{if(i)return;D.preventDefault(),D.stopPropagation();const z=D.clientX,F=D.clientY,Y=y,B=fh(c),x=R=>{const O={dx:R.clientX-z,dy:R.clientY-F},P=cb(N,Y,O,B,w);s(P)},M=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",M)};window.addEventListener("mousemove",x),window.addEventListener("mouseup",M,{once:!0})},[c,y,i,s,w]),h=S.useMemo(()=>[{direction:"n",style:{...Un,top:-2,left:"50%",transform:"translateX(-50%)",width:"40%",height:6,cursor:"ns-resize"}},{direction:"s",style:{...Un,bottom:-2,left:"50%",transform:"translateX(-50%)",width:"40%",height:6,cursor:"ns-resize"}},{direction:"e",style:{...Un,right:-2,top:"50%",transform:"translateY(-50%)",width:6,height:"40%",cursor:"ew-resize"}},{direction:"w",style:{...Un,left:-2,top:"50%",transform:"translateY(-50%)",width:6,height:"40%",cursor:"ew-resize"}},{direction:"ne",style:{...Un,top:-4,right:-4,width:12,height:12,cursor:"nesw-resize"}},{direction:"nw",style:{...Un,top:-4,left:-4,width:12,height:12,cursor:"nwse-resize"}},{direction:"se",style:{...Un,bottom:-4,right:-4,width:12,height:12,cursor:"nwse-resize"}},{direction:"sw",style:{...Un,bottom:-4,left:-4,width:12,height:12,cursor:"nesw-resize"}}],[]),g={position:"absolute",top:y.position.y,left:y.position.x,width:y.size.width,height:i?Us:y.size.height,minWidth:w.width,minHeight:i?Us:w.height,background:"#f8fafc",border:"1px solid #cbd5f5",borderRadius:12,boxShadow:"0 18px 32px rgba(15, 23, 42, 0.18)",overflow:"hidden",display:d?"flex":"none",flexDirection:"column",transition:`opacity ${pu}ms ease, transform ${pu}ms ease, width 140ms ease, height 140ms ease`,opacity:t?1:0,transform:t?"scale(1)":"scale(0.98)",pointerEvents:"auto",zIndex:30},_={height:Us,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 12px",background:"linear-gradient(180deg, #1f2937 0%, #0f172a 100%)",color:"#f8fafc",fontWeight:600,letterSpacing:.2,cursor:"grab",userSelect:"none"},T={border:"none",background:"transparent",color:"inherit",cursor:"pointer",padding:"4px 6px",borderRadius:6,transition:"background 0.2s ease"},A={display:"flex",gap:4},E={flex:1,padding:"14px 16px",overflowY:"auto",background:"rgba(248, 250, 252, 0.92)",color:"#0f172a",fontSize:13,display:i?"none":"block"};return d?v.jsxs("div",{"data-testid":"context-window",style:g,onContextMenu:N=>N.preventDefault(),children:[v.jsxs("div",{style:_,onMouseDown:C,role:"toolbar","aria-label":`${e} controls`,children:[v.jsx("span",{children:e}),v.jsxs("div",{style:A,children:[v.jsx("button",{type:"button","aria-label":i?"Restore":"Minimize",style:T,onMouseDown:N=>N.stopPropagation(),onClick:N=>{N.stopPropagation(),a()},children:i?"▢":"_"}),v.jsx("button",{type:"button","aria-label":"Close",style:T,onMouseDown:N=>N.stopPropagation(),onClick:N=>{N.stopPropagation(),l()},children:"×"})]})]}),v.jsx("div",{style:E,children:u}),i?null:h.map(N=>v.jsx("div",{style:N.style,onMouseDown:p(N.direction)},N.direction))]}):null}const db={padding:"12px 16px",display:"flex",flexDirection:"column",gap:14,fontFamily:"Inter, system-ui, sans-serif",fontSize:14,color:"#0f172a"},fb={margin:0,fontSize:16,fontWeight:700},pb={margin:0,fontSize:12,color:"#64748b",lineHeight:1.4},Ke={display:"flex",flexDirection:"column",gap:6},Je={fontSize:12,fontWeight:600,letterSpacing:.4,textTransform:"uppercase",color:"#475569"},Nt={borderRadius:8,border:"1px solid #cbd5f5",background:"#ffffff",padding:"8px 10px",fontSize:13,color:"#111827",lineHeight:1.4},Ca={...Nt,minHeight:96,resize:"vertical"},Ta={fontSize:12,color:"#94a3b8"},hb={background:"#f8fafc",borderRadius:8,padding:"10px 12px",fontSize:12,color:"#1f2937",overflowX:"auto"},mb={prompt:{title:"Prompt Settings",description:"Shape the instruction block sent to the connected model."},debate:{title:"Debate Loop",description:"Control how many passes collaborators take before resolving."},log:{title:"Log Capture",description:"Decide what the logger should keep from this stage."},cache:{title:"Cache Policy",description:"Reuse previous outputs or request fresh generations."},divider:{title:"Divider",description:"Label a branch point so canvases stay readable."},interface:{title:"Interface",description:"Configure the chat entry point into the flow."},memory:{title:"Memory",description:"Control how context is stored and recalled across runs."},tool:{title:"Tool Call",description:"Point the node at a callable tool with structured arguments."}};function ot(e,t,n){e(r=>{const i=r&&typeof r=="object"?{...r}:{};return i[t]=n,i})}function gb(e,t){const n=typeof(e==null?void 0:e.template)=="string"?e.template:"",r=typeof(e==null?void 0:e.tone)=="string"?e.tone:"neutral";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Prompt Template"}),v.jsx("textarea",{style:Ca,value:n,onChange:i=>ot(t,"template",i.target.value),placeholder:"Summarize the task you want the model to perform"}),v.jsx("span",{style:Ta,children:"Include contextual cues, constraints, or formatting hints."})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Tone"}),v.jsxs("select",{style:Nt,value:r,onChange:i=>ot(t,"tone",i.target.value),children:[v.jsx("option",{value:"neutral",children:"Neutral"}),v.jsx("option",{value:"enthusiastic",children:"Enthusiastic"}),v.jsx("option",{value:"direct",children:"Direct"}),v.jsx("option",{value:"supportive",children:"Supportive"})]})]})]})}function yb(e,t){const n=typeof(e==null?void 0:e.mode)=="string"?e.mode:"single-pass",r=typeof(e==null?void 0:e.rounds)=="number"&&Number.isFinite(e.rounds)?Math.max(1,Math.floor(e.rounds)):2;return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Mode"}),v.jsxs("select",{style:Nt,value:n,onChange:i=>ot(t,"mode",i.target.value),children:[v.jsx("option",{value:"single-pass",children:"Single Pass"}),v.jsx("option",{value:"multi-round",children:"Multi-round"}),v.jsx("option",{value:"round-robin",children:"Round Robin"})]})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Rounds"}),v.jsx("input",{style:Nt,type:"number",min:1,value:r,onChange:i=>{const o=Number.parseInt(i.target.value,10),s=Number.isFinite(o)?Math.max(1,o):1;ot(t,"rounds",s)}}),v.jsx("span",{style:Ta,children:"Higher counts give the loop more chances to refine an answer."})]})]})}function vb(e,t){const n=typeof(e==null?void 0:e.strategy)=="string"?e.strategy:"reuse",r=typeof(e==null?void 0:e.ttl)=="number"&&Number.isFinite(e.ttl)?Math.max(0,Math.floor(e.ttl)):1800;return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Strategy"}),v.jsxs("select",{style:Nt,value:n,onChange:i=>ot(t,"strategy",i.target.value),children:[v.jsx("option",{value:"reuse",children:"Prefer Cached Value"}),v.jsx("option",{value:"refresh",children:"Always Refresh"}),v.jsx("option",{value:"conditional",children:"Refresh When Stale"})]})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Time To Live (seconds)"}),v.jsx("input",{style:Nt,type:"number",min:0,value:r,onChange:i=>{const o=Number.parseInt(i.target.value,10),s=Number.isFinite(o)?Math.max(0,o):0;ot(t,"ttl",s)}})]})]})}function xb(e,t){const n=typeof(e==null?void 0:e.scope)=="string"?e.scope:"session",r=typeof(e==null?void 0:e.summary)=="string"?e.summary:"";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Scope"}),v.jsxs("select",{style:Nt,value:n,onChange:i=>ot(t,"scope",i.target.value),children:[v.jsx("option",{value:"session",children:"Session Only"}),v.jsx("option",{value:"project",children:"Project"}),v.jsx("option",{value:"global",children:"Global"})]})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Summary Notes"}),v.jsx("textarea",{style:Ca,value:r,onChange:i=>ot(t,"summary",i.target.value),placeholder:"Capture what future runs should remember"})]})]})}function wb(e,t){const n=typeof(e==null?void 0:e.label)=="string"?e.label:"Checkpoint",r=typeof(e==null?void 0:e.defaultPath)=="string"?e.defaultPath:"A";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Label"}),v.jsx("input",{style:Nt,value:n,onChange:i=>ot(t,"label",i.target.value)})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Default Path"}),v.jsxs("select",{style:Nt,value:r,onChange:i=>ot(t,"defaultPath",i.target.value),children:[v.jsx("option",{value:"A",children:"Path A"}),v.jsx("option",{value:"B",children:"Path B"}),v.jsx("option",{value:"auto",children:"Auto-select"})]})]})]})}function _b(e,t){const n=typeof(e==null?void 0:e.toolName)=="string"?e.toolName:"calculator",r=typeof(e==null?void 0:e.arguments)=="string"?e.arguments:"";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Tool Identifier"}),v.jsx("input",{style:Nt,value:n,onChange:i=>ot(t,"toolName",i.target.value.trim()),placeholder:"calculator"}),v.jsx("span",{style:Ta,children:"Must match a tool published in the workspace adapters."})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Arguments (JSON)"}),v.jsx("textarea",{style:Ca,value:r,onChange:i=>ot(t,"arguments",i.target.value),placeholder:'{"query":"2+2"}'})]})]})}function Sb(e,t){const n=typeof(e==null?void 0:e.level)=="string"?e.level:"info",r=typeof(e==null?void 0:e.notes)=="string"?e.notes:"";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Level"}),v.jsxs("select",{style:Nt,value:n,onChange:i=>ot(t,"level",i.target.value),children:[v.jsx("option",{value:"debug",children:"Debug"}),v.jsx("option",{value:"info",children:"Info"}),v.jsx("option",{value:"warn",children:"Warn"})]})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Notes"}),v.jsx("textarea",{style:Ca,value:r,onChange:i=>ot(t,"notes",i.target.value),placeholder:"Describe what should be logged from this node"})]})]})}function kb(e,t){const n=typeof(e==null?void 0:e.title)=="string"?e.title:"Chat",r=typeof(e==null?void 0:e.placeholder)=="string"?e.placeholder:"Ask the team anything";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Window Title"}),v.jsx("input",{style:Nt,value:n,onChange:i=>ot(t,"title",i.target.value)})]}),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Input Placeholder"}),v.jsx("input",{style:Nt,value:r,onChange:i=>ot(t,"placeholder",i.target.value)})]})]})}function Eb(e,t,n){switch(e){case"prompt":return gb(t,n);case"debate":return yb(t,n);case"cache":return vb(t,n);case"memory":return xb(t,n);case"divider":return wb(t,n);case"tool":return _b(t,n);case"log":return Sb(t,n);case"interface":return kb(t,n);default:return v.jsx("div",{style:Ta,children:"No editable settings are available yet."})}}function bb({module:e,params:t,onUpdate:n}){const r=mb[e];return v.jsxs("div",{style:db,children:[v.jsxs("div",{children:[v.jsx("h4",{style:fb,children:r.title}),v.jsx("p",{style:pb,children:r.description})]}),Eb(e,t,n),v.jsxs("div",{style:Ke,children:[v.jsx("span",{style:Je,children:"Raw Parameters"}),v.jsx("pre",{style:hb,children:JSON.stringify(t??{},null,2)})]})]})}const tf=["Cut","Copy","Paste","Reverse Inputs","Delete"],Ni=176,Io=232,Na="data-voide-edit-menu",Cb={position:"fixed",minWidth:Ni,background:"#fff1f2",border:"1px solid rgba(244, 63, 94, 0.38)",borderRadius:12,boxShadow:"0 18px 36px rgba(190, 18, 60, 0.28)",padding:6,display:"flex",flexDirection:"column",gap:2,zIndex:160,pointerEvents:"auto"},U0={padding:"8px 12px",borderRadius:8,border:"none",background:"transparent",color:"#7f1d1d",fontWeight:600,fontSize:13,textAlign:"left",cursor:"pointer"},Tb={...U0,color:"rgba(127, 29, 29, 0.4)",cursor:"not-allowed"};function nf({position:e,items:t}){return v.jsx("div",{[Na]:"",style:{...Cb,left:e.left,top:e.top},children:t.map(n=>v.jsx("button",{type:"button",disabled:n.disabled,style:n.disabled?Tb:U0,onMouseDown:r=>r.stopPropagation(),onClick:r=>{r.stopPropagation(),!n.disabled&&n.onSelect()},onMouseEnter:r=>{n.disabled||(r.currentTarget.style.background="rgba(248, 113, 113, 0.18)")},onMouseLeave:r=>{r.currentTarget.style.background="transparent"},children:n.label},n.label))})}const Mc={width:420,height:520},ph={position:{x:0,y:0}},Nb="Flow is paused. Start the run to accept new input.",co=new Map,yl=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`chat-${Date.now().toString(36)}-${Math.random().toString(16).slice(2)}`,hh=e=>({position:{x:(e==null?void 0:e.position.x)??ph.position.x,y:(e==null?void 0:e.position.y)??ph.position.y},size:{width:(e==null?void 0:e.size.width)??Mc.width,height:(e==null?void 0:e.size.height)??Mc.height}}),Mb=e=>({id:yl(),name:e.name||"attachment",size:e.size,type:e.type||"application/octet-stream",file:e}),Ib=e=>({id:e.id,name:e.name,size:e.size,type:e.type,url:e.url??(typeof URL<"u"?URL.createObjectURL(e.file):void 0)}),Pb=(e,t,n,r)=>{const i=e[t];return i?{...i,nodeLabel:i.nodeLabel||n,geometry:r?hh(r):i.geometry}:{nodeId:t,nodeLabel:n,messages:[],draft:"",draftAttachments:[],geometry:hh(r),scrollTop:0,stickToBottom:!0,open:!1,streamingMessageId:null,notice:null}},Rb=(e,t)=>e.trim().length===0&&t.length>0?"I've received the files you attached. I'll review them and respond soon.":e.trim().length===0?"I'm ready whenever you are. Send a prompt from the canvas Play control.":`I see: "${e.trim().slice(0,280)}${e.trim().length>280?"…":""}"
I'll run that through the flow and let you know what I find.`,Ye=$0((e,t)=>({threads:{},activeNodeId:null,flowAcceptsInput:!0,openChat:({nodeId:n,nodeLabel:r,geometry:i})=>{e(o=>{const s=Pb(o.threads,n,r,i);return{threads:{...o.threads,[n]:{...s,open:!0}},activeNodeId:n}})},closeChat:n=>{e(r=>{const i=n??r.activeNodeId;if(!i)return r;const o=r.threads[i];if(!o)return r;const s={...o,open:!1};return{threads:{...r.threads,[i]:s},activeNodeId:r.activeNodeId===i?null:r.activeNodeId}})},setDraft:(n,r)=>{e(i=>{const o=i.threads[n];return o?{threads:{...i.threads,[n]:{...o,draft:r}}}:i})},addDraftAttachments:(n,r)=>{!r||r.length===0||e(i=>{const o=i.threads[n];if(!o)return i;const s=r.map(Mb);return{threads:{...i.threads,[n]:{...o,draftAttachments:[...o.draftAttachments,...s]}}}})},removeDraftAttachment:(n,r)=>{e(i=>{const o=i.threads[n];return o?{threads:{...i.threads,[n]:{...o,draftAttachments:o.draftAttachments.filter(s=>s.id!==r)}}}:i})},clearDraft:n=>{e(r=>{const i=r.threads[n];return i?{threads:{...r.threads,[n]:{...i,draft:"",draftAttachments:[]}}}:r})},setScrollState:(n,r,i)=>{e(o=>{const s=o.threads[n];return!s||s.scrollTop===r&&s.stickToBottom===i?o:{threads:{...o.threads,[n]:{...s,scrollTop:r,stickToBottom:i}}}})},updateGeometry:(n,r)=>{e(i=>{const o=i.threads[n];if(!o)return i;const s=i.threads[n].geometry,l=Lr(r,{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER});return s.position.x===l.position.x&&s.position.y===l.position.y&&s.size.width===l.size.width&&s.size.height===l.size.height?i:{threads:{...i.threads,[n]:{...o,geometry:l}}}})},sendDraft:n=>{const i=t().threads[n];if(!i)return!1;const o=i.draft??"",s=o.trim().length>0,l=i.draftAttachments.length>0;if(!s&&!l)return!1;const a=Date.now(),u=i.draftAttachments.map(Ib),c={id:yl(),role:"user",content:o,createdAt:a,attachments:u},d={id:yl(),role:"assistant",content:"",createdAt:Date.now(),attachments:[],streaming:!0};e({flowAcceptsInput:!1}),e(w=>{const y=w.threads[n];if(!y)return w;const C={...y,messages:[...y.messages,c,d],draft:"",draftAttachments:[],stickToBottom:!0,streamingMessageId:d.id,notice:null};return{threads:{...w.threads,[n]:C}}});const f=`${n}:${d.id}`;if(co.has(f)){const w=co.get(f);typeof w=="number"&&window.clearTimeout(w)}const m=window.setTimeout(()=>{const w=Rb(o,u);t().completeStreaming(n,d.id,w)},1200);return co.set(f,m),!0},sendActiveDraft:()=>{const n=t();return n.activeNodeId?n.sendDraft(n.activeNodeId):!1},appendAssistantResponse:(n,r,i=[])=>{e(o=>{const s=o.threads[n];if(!s)return o;const l=s.messages.filter(u=>u.id!==s.streamingMessageId),a={id:yl(),role:"assistant",content:r,createdAt:Date.now(),attachments:i};return{threads:{...o.threads,[n]:{...s,messages:[...l,a],streamingMessageId:null}}}}),e({flowAcceptsInput:!0})},completeStreaming:(n,r,i)=>{e(o=>{const s=o.threads[n];if(!s)return o;const l=s.messages.map(c=>c.id===r?{...c,content:i,streaming:!1,createdAt:Date.now()}:c),a=`${n}:${r}`,u=co.get(a);return typeof u=="number"&&(window.clearTimeout(u),co.delete(a)),{threads:{...o.threads,[n]:{...s,messages:l,streamingMessageId:s.streamingMessageId===r?null:s.streamingMessageId}}}}),e({flowAcceptsInput:!0})},getThread:n=>t().threads[n],hasOpenChat:()=>{const n=t();return Object.values(n.threads).some(r=>r.open)},setFlowAcceptsInput:n=>{e(r=>r.flowAcceptsInput===n?r:{flowAcceptsInput:n})}})),Ab=Mc,zb=Nb,Ic="__ioOrientation",rf=e=>!e||typeof e!="object"?"default":e[Ic]==="reversed"?"reversed":"default",W0=e=>{const t=e&&typeof e=="object"?{...e}:{};return rf(t)==="reversed"?(delete t[Ic],t):{...t,[Ic]:"reversed"}},Lb={width:156,minHeight:82,padding:"16px 20px",borderRadius:16,border:"2px solid #1f2937",background:"#ffffff",color:"#111827",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",position:"relative",boxShadow:"0 4px 8px rgba(15, 23, 42, 0.08)"},mh={width:12,height:12,borderRadius:"50%",background:"#1f2937",border:"2px solid #ffffff"},gh=(e,t)=>`${(e+1)/(t+1)*100}%`,Db={prompt:{width:360,height:320},debate:{width:380,height:360},log:{width:380,height:360},cache:{width:320,height:280},divider:{width:320,height:260},interface:{width:340,height:300},memory:{width:340,height:300},tool:{width:320,height:280}},yh={width:320,height:260},$b=e=>(e?Db[e]:yh)??yh,Ob="__position",jb=`[${Na}]`,Ws=(e,t,n)=>Math.min(n,Math.max(t,e)),Fb=e=>{var s;const t=(e.name??"").toLowerCase(),n=(e.id??"").toLowerCase(),i=(typeof((s=e.params)==null?void 0:s.moduleKey)=="string"?e.params.moduleKey:"").toLowerCase(),o=`${t} ${n} ${i}`;return i==="tool"||i==="toolcall"||i==="tool-call"?"tool":o.includes("prompt")?"prompt":o.includes("debate")||o.includes("loop")?"debate":o.includes("log")?"log":o.includes("cache")||o.includes("memo")?"cache":o.includes("memory")||o.includes("recall")?"memory":o.includes("divert")||o.includes("divider")||o.includes("switch")?"divider":o.includes("tool call")||o.includes("tool-call")||o.includes("tool:")||o.includes("toolcall")||o.includes("tool ")||o.endsWith("tool")?"tool":o.includes("ui")||o.includes("interface")?"interface":null};function vh({data:e}){const t=e.in??[],n=e.out??[],{overlayRef:r}=Jd(),i=S.useMemo(()=>rf(e.params),[e.params]),o=i==="reversed"?ee.Right:ee.Left,s=i==="reversed"?ee.Left:ee.Right,l=S.useMemo(()=>Fb(e),[e]),a=S.useMemo(()=>$b(l),[l]),[u,c]=S.useState(()=>({open:!1,minimized:!1,geometry:{position:{x:0,y:0},size:{...a}}})),[d,f]=S.useState(null),m=Ye(k=>k.openChat),w=Ye(k=>k.getThread),{updateNodeParams:y,copyNode:C,cutNode:p,deleteNode:h,pasteClipboard:g,clipboard:_}=ds(k=>({updateNodeParams:k.updateNodeParams,copyNode:k.copyNode,cutNode:k.cutNode,deleteNode:k.deleteNode,pasteClipboard:k.pasteClipboard,clipboard:k.clipboard})),T=S.useCallback(k=>{var $;const L=($=r.current)==null?void 0:$.getBoundingClientRect();return L?Lr(k,{width:L.width,height:L.height}):k},[r]),A=S.useCallback(k=>{const{clientX:L,clientY:$,anchorRect:U}=k??{};f(null),c(I=>{var Te;const j=(Te=r.current)==null?void 0:Te.getBoundingClientRect();if(!j)return{...I,open:!0,minimized:!1};const{width:Z,height:G}=I.geometry.size;let ne=I.geometry.position.x,oe=I.geometry.position.y;if(U){const Ie=U.left-j.left,Ee=U.top-j.top,ve=Ie+U.width/2,je=Ee+U.height/2;ne=ve-Z/2,oe=je-G/2}else if(typeof L=="number"&&typeof $=="number"){const Ie=L-j.left,Ee=$-j.top;ne=Ie-Z/2,oe=Ee-G/2}const se={position:{x:ne,y:oe},size:I.geometry.size},Se=Lr(se,{width:j.width,height:j.height});return{...I,open:!0,minimized:!1,geometry:Se}})},[r]),E=S.useCallback(k=>{var se;k.preventDefault(),k.stopPropagation(),c(Se=>({...Se,open:!1,minimized:!1}));const L=(se=r.current)==null?void 0:se.getBoundingClientRect();if(!L){f({left:k.clientX-Ni/2,top:k.clientY-Io/2,pointer:null});return}const $=Math.max(de,L.width-Ni-de),U=Math.max(de,L.height-Io-de),I=Ws(k.clientX-L.left,de,$),j=Ws(k.clientY-L.top,de,U),Z=I-Ni/2,G=j-Io/2,ne=Ws(Z,de,$),oe=Ws(G,de,U);f({left:L.left+ne,top:L.top+oe,pointer:{x:I,y:j}})},[r]),N=S.useCallback(k=>{var $;if(k.button!==0)return;const L=k.target;($=L==null?void 0:L.closest)!=null&&$.call(L,".react-flow__handle")||(k.stopPropagation(),A({clientX:k.clientX,clientY:k.clientY,anchorRect:k.currentTarget.getBoundingClientRect()}))},[A]),D=S.useCallback(()=>c(k=>({...k,open:!1})),[]),z=S.useCallback(()=>c(k=>({...k,minimized:!k.minimized})),[]),F=S.useCallback(k=>{c(L=>({...L,geometry:T(k)}))},[T]),Y=S.useCallback(k=>{y(e.id,k)},[e.id,y]),B=(_==null?void 0:_.kind)==="node",x=t.length>0||n.length>0,M=S.useCallback(k=>{const L=(d==null?void 0:d.pointer)??null;switch(f(null),k){case"Copy":C(e.id);break;case"Cut":p(e.id);break;case"Delete":h(e.id);break;case"Paste":{if(!B)break;const $=g("node");$&&!("from"in $)&&L&&y($.id,U=>({...U&&typeof U=="object"?U:{},[Ob]:{x:L.x,y:L.y}}));break}case"Reverse Inputs":{y(e.id,$=>W0($));break}}},[B,C,p,e.id,h,d,g,y]),R=S.useMemo(()=>tf.map(k=>({label:k,disabled:k==="Paste"?!B:k==="Reverse Inputs"?!x:!1,onSelect:()=>M(k)})),[B,x,M]);S.useEffect(()=>{if(!d)return;const k=$=>{var I;const U=$.target;(I=U==null?void 0:U.closest)!=null&&I.call(U,jb)||f(null)},L=$=>{$.key==="Escape"&&f(null)};return window.addEventListener("mousedown",k),window.addEventListener("contextmenu",k),window.addEventListener("keydown",L),()=>{window.removeEventListener("mousedown",k),window.removeEventListener("contextmenu",k),window.removeEventListener("keydown",L)}},[d]);const O=!!l,P=l==="interface",b=S.useCallback(k=>{var L,$;if(P){k.stopPropagation();const U=(L=r.current)==null?void 0:L.getBoundingClientRect(),I=k.currentTarget.getBoundingClientRect(),j=w(e.id),Z=(($=j==null?void 0:j.geometry)==null?void 0:$.size)??{...Ab};let G=(j==null?void 0:j.geometry)??{position:{x:0,y:0},size:{...Z}};if(U){const ne=I.left-U.left,oe=I.right-U.left,Se=I.top-U.top+I.height/2,Te=20,Ie=U.width,Ee=U.height;let ve=oe+Te;ve+Z.width>Ie&&(ve=ne-Te-Z.width),ve<0&&(ve=Math.max(0,Math.min(ne,Ie-Z.width)));let je=Se-Z.height/2;je+Z.height>Ee&&(je=Ee-Z.height),je<0&&(je=0),G=Lr({position:{x:ve,y:je},size:Z},{width:Ie,height:Ee})}m({nodeId:e.id,nodeLabel:e.name??e.id??"Interface",geometry:G});return}N(k)},[e.id,e.name,P,w,N,m,r]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:Lb,"data-voide-io-orientation":i,onClick:O?b:void 0,onContextMenu:O?E:void 0,children:[t.map((k,L)=>v.jsx(xr,{type:"target",position:o,id:`${e.id}:${k.port}`,style:{...mh,top:gh(L,t.length)}},k.port)),v.jsx("span",{children:e.name}),n.map((k,L)=>v.jsx(xr,{type:"source",position:s,id:`${e.id}:${k.port}`,style:{...mh,top:gh(L,n.length)}},k.port))]}),O?v.jsx(ef,{title:`${e.name} Options`,open:u.open,position:u.geometry.position,size:u.geometry.size,minimized:u.minimized,onRequestClose:D,onToggleMinimize:z,onUpdate:F,children:v.jsx(bb,{module:l,params:e.params,onUpdate:Y})}):null,d?v.jsx(nf,{position:{left:d.left,top:d.top},items:R}):null]})}const Bb=[{order:"a",md5sum:"a54c08a7b90e4029a8c2ab5b5dc936aa",name:"Reasoner v1",filename:"qwen2.5-coder-7b-instruct-q4_0.gguf",filesize:"4431390720",requires:"3.6.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Based on <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct">Qwen2.5-Coder 7B</a></li><li>Uses built-in javascript code interpreter</li><li>Use for complex reasoning tasks that can be aided by computation analysis</li><li>License: <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct/blob/main/LICENSE">Apache License Version 2.0</a></li><li>#reasoning</li></ul>',url:"https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct-GGUF/resolve/main/qwen2.5-coder-7b-instruct-q4_0.gguf",chatTemplate:`{{- '<|im_start|>system\\n' }}
{% if toolList|length > 0 %}You have access to the following functions:
{% for tool in toolList %}
Use the function '{{tool.function}}' to: '{{tool.description}}'
{% if tool.parameters|length > 0 %}
parameters:
{% for info in tool.parameters %}
  {{info.name}}:
    type: {{info.type}}
    description: {{info.description}}
    required: {{info.required}}
{% endfor %}
{% endif %}
# Tool Instructions
If you CHOOSE to call this function ONLY reply with the following format:
'{{tool.symbolicFormat}}'
Here is an example. If the user says, '{{tool.examplePrompt}}', then you reply
'{{tool.exampleCall}}'
After the result you might reply with, '{{tool.exampleReply}}'
{% endfor %}
You MUST include both the start and end tags when you use a function.

You are a helpful AI assistant who uses the functions to break down, analyze, perform, and verify complex reasoning tasks. You SHOULD try to verify your answers using the functions where possible.
{% endif %}
{{- '<|im_end|>\\n' }}
{% for message in messages %}
{{'<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{% endfor %}
{% if add_generation_prompt %}
{{ '<|im_start|>assistant\\n' }}
{% endif %}
`,systemPrompt:""},{order:"aa",md5sum:"c87ad09e1e4c8f9c35a5fcef52b6f1c9",name:"Llama 3 8B Instruct",filename:"Meta-Llama-3-8B-Instruct.Q4_0.gguf",filesize:"4661724384",requires:"2.7.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in Llama 3 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3/license/">Meta Llama 3 Community License</a></li></ul>',url:"https://gpt4all.io/models/gguf/Meta-Llama-3-8B-Instruct.Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2<|eot_id|>`,systemPrompt:"",chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {{- content }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"aa1",sha256sum:"5cd4ee65211770f1d99b4f6f4951780b9ef40e29314bd6542bb5bd0ad0bc29d1",name:"DeepSeek-R1-Distill-Qwen-7B",filename:"DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",filesize:"4444121056",requires:"3.8.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-7B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-7B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa2",sha256sum:"906b3382f2680f4ce845459b4a122e904002b075238080307586bcffcde49eef",name:"DeepSeek-R1-Distill-Qwen-14B",filename:"DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",filesize:"8544267680",requires:"3.8.0",ramrequired:"16",parameters:"14 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-14B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-14B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa3",sha256sum:"0eb93e436ac8beec18aceb958c120d282cb2cf5451b23185e7be268fe9d375cc",name:"DeepSeek-R1-Distill-Llama-8B",filename:"DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",filesize:"4675894112",requires:"3.8.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Llama-3.1-8B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Llama-8B-GGUF/resolve/main/DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa4",sha256sum:"b3af887d0a015b39fab2395e4faf682c1a81a6a3fd09a43f0d4292f7d94bf4d0",name:"DeepSeek-R1-Distill-Qwen-1.5B",filename:"DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",filesize:"1068807776",requires:"3.8.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-1.5B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-1.5B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"b",md5sum:"27b44e8ae1817525164ddf4f8dae8af4",name:"Llama 3.2 3B Instruct",filename:"Llama-3.2-3B-Instruct-Q4_0.gguf",filesize:"1921909280",requires:"3.4.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"c",md5sum:"48ff0243978606fdba19d899b77802fc",name:"Llama 3.2 1B Instruct",filename:"Llama-3.2-1B-Instruct-Q4_0.gguf",filesize:"773025920",requires:"3.4.0",ramrequired:"2",parameters:"1 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"d",md5sum:"a5f6b4eabd3992da4d7fb7f020f921eb",name:"Nous Hermes 2 Mistral DPO",filename:"Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",filesize:"4108928000",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Good overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in ChatML format</li><li>Trained by Mistral AI<li>Finetuned by Nous Research on the OpenHermes-2.5 dataset<li>Licensed for commercial use</ul>",url:"https://huggingface.co/NousResearch/Nous-Hermes-2-Mistral-7B-DPO-GGUF/resolve/main/Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:"",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"e",md5sum:"97463be739b50525df56d33b26b00852",name:"Mistral Instruct",filename:"mistral-7b-instruct-v0.1.Q4_0.gguf",filesize:"4108916384",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",systemPrompt:"",description:"<strong>Strong overall fast instruction following model</strong><br><ul><li>Fast responses</li><li>Trained by Mistral AI<li>Uncensored</li><li>Licensed for commercial use</li></ul>",url:"https://gpt4all.io/models/gguf/mistral-7b-instruct-v0.1.Q4_0.gguf",promptTemplate:"[INST] %1 [/INST]",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if (message['role'] == 'user') != ((loop.index0 - loop_start) % 2 == 0) %}
            {{- raise_exception('After the optional system message, conversation roles must alternate user/assistant/user/assistant/...') }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {%- if loop.index0 == loop_start and loop_start == 1 %}
                {{- ' [INST] ' + system_message + '\\n\\n' + message['content'] + ' [/INST]' }}
            {%- else %}
                {{- ' [INST] ' + message['content'] + ' [/INST]' }}
            {%- endif %}
        {%- elif message['role'] == 'assistant' %}
            {{- ' ' + message['content'] + eos_token }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}`},{order:"f",md5sum:"8a9c75bcd8a66b7693f158ec96924eeb",name:"Llama 3.1 8B Instruct 128k",filename:"Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",filesize:"4661212096",requires:"3.1.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li><strong>For advanced users only. Not recommended for use on Windows or Linux without selecting CUDA due to speed issues.</strong></li><li>Fast responses</li><li>Chat based model</li><li>Large context size of 128k</li><li>Accepts agentic system prompts in Llama 3.1 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_1/license/">Meta Llama 3.1 Community License</a></li></ul>',url:"https://huggingface.co/GPT4All-Community/Meta-Llama-3.1-8B-Instruct-128k/resolve/main/Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {%- if loop.index0 == 0 %}
        {%- set content = bos_token + content %}
    {%- endif %}
    {{- content }}
{%- endfor %}
{{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}`},{order:"g",md5sum:"f692417a22405d80573ac10cb0cd6c6a",name:"Mistral OpenOrca",filename:"mistral-7b-openorca.gguf2.Q4_0.gguf",filesize:"4108928128",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:'<strong>Strong overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by Mistral AI<li>Finetuned on OpenOrca dataset curated via <a href="https://atlas.nomic.ai/">Nomic Atlas</a><li>Licensed for commercial use</ul>',url:"https://gpt4all.io/models/gguf/mistral-7b-openorca.gguf2.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
You are MistralOrca, a large language model trained by Alignment Lab AI.
<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"h",md5sum:"c4c78adf744d6a20f05c8751e3961b84",name:"GPT4All Falcon",filename:"gpt4all-falcon-newbpe-q4_0.gguf",filesize:"4210994112",requires:"2.6.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Falcon",systemPrompt:"",description:"<strong>Very fast model with good quality</strong><br><ul><li>Fastest responses</li><li>Instruction based</li><li>Trained by TII<li>Finetuned by Nomic AI<li>Licensed for commercial use</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-falcon-newbpe-q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User: ' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Assistant: ' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Assistant:' }}
{%- endif %}`},{order:"i",md5sum:"00c8593ba57f5240f59662367b3ed4a5",name:"Orca 2 (Medium)",filename:"orca-2-7b.Q4_0.gguf",filesize:"3825824192",requires:"2.5.2",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-7b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"j",md5sum:"3c0d63c4689b9af7baa82469a6f51a19",name:"Orca 2 (Full)",filename:"orca-2-13b.Q4_0.gguf",filesize:"7365856064",requires:"2.5.2",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-13b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"k",md5sum:"5aff90007499bce5c64b1c0760c0b186",name:"Wizard v1.2",filename:"wizardlm-13b-v1.2.Q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Strong overall larger model</strong><br><ul><li>Instruction based<li>Gives very long responses<li>Finetuned with only 1k of high-quality data<li>Trained by Microsoft and Peking University<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/wizardlm-13b-v1.2.Q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + ' ' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in loop_messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
        {%- if (loop.index0 - loop_start) % 2 == 0 %}
            {{- ' ' }}
        {%- else %}
            {{- eos_token }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"A chat between a curious user and an artificial intelligence assistant. The assistant gives helpful, detailed, and polite answers to the user's questions."},{order:"l",md5sum:"31b47b4e8c1816b62684ac3ca373f9e1",name:"Ghost 7B v0.9.1",filename:"ghost-7b-v0.9.1-Q4_0.gguf",filesize:"4108916960",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Ghost 7B v0.9.1</strong> fast, powerful and smooth for Vietnamese and English languages.",url:"https://huggingface.co/lamhieu/ghost-7b-v0.9.1-gguf/resolve/main/ghost-7b-v0.9.1-Q4_0.gguf",promptTemplate:`<|user|>
%1</s>
<|assistant|>
%2</s>
`,systemPrompt:`<|system|>
You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior.
</s>`,chatTemplate:`{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<|user|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'system' %}
        {{- '<|system|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'assistant' %}
        {{- '<|assistant|>\\n'  + message['content'] + eos_token }}
    {%- endif %}
    {%- if loop.last and add_generation_prompt %}
        {{- '<|assistant|>' }}
    {%- endif %}
{%- endfor %}`,systemMessage:"You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior."},{order:"m",md5sum:"3d12810391d04d1153b692626c0c6e16",name:"Hermes",filename:"nous-hermes-llama2-13b.Q4_0.gguf",filesize:"7366062080",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Extremely good model</strong><br><ul><li>Instruction based<li>Gives long responses<li>Curated with 300,000 uncensored instructions<li>Trained by Nous Research<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/nous-hermes-llama2-13b.Q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Instruction:\\n' }}
{%- endif %}`},{order:"n",md5sum:"40388eb2f8d16bb5d08c96fdfaac6b2c",name:"Snoozy",filename:"gpt4all-13b-snoozy-q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",description:"<strong>Very good overall model</strong><br><ul><li>Instruction based<li>Based on the same dataset as Groovy<li>Slower than Groovy, with higher quality responses<li>Trained by Nomic AI<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-13b-snoozy-q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`,systemMessage:"Below is an instruction that describes a task. Write a response that appropriately completes the request."},{order:"o",md5sum:"15dcb4d7ea6de322756449c11a0b7545",name:"MPT Chat",filename:"mpt-7b-chat-newbpe-q4_0.gguf",filesize:"3912373472",requires:"2.7.1",removedIn:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat-newbpe-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"p",md5sum:"ab5d8e8a2f79365ea803c1f1d0aa749d",name:"MPT Chat",filename:"mpt-7b-chat.gguf4.Q4_0.gguf",filesize:"3796178112",requires:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat.gguf4.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"q",md5sum:"f8347badde9bfc2efbe89124d78ddaf5",name:"Phi-3 Mini Instruct",filename:"Phi-3-mini-4k-instruct.Q4_0.gguf",filesize:"2176181568",requires:"2.7.1",ramrequired:"4",parameters:"4 billion",quant:"q4_0",type:"Phi-3",description:'<ul><li>Very fast responses</li><li>Chat based model</li><li>Accepts system prompts in Phi-3 format</li><li>Trained by Microsoft</li><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li></ul>',url:"https://gpt4all.io/models/gguf/Phi-3-mini-4k-instruct.Q4_0.gguf",promptTemplate:`<|user|>
%1<|end|>
<|assistant|>
%2<|end|>
`,systemPrompt:"",chatTemplate:`{{- bos_token }}
{%- for message in messages %}
    {{- '<|' + message['role'] + '|>\\n' + message['content'] + '<|end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|assistant|>\\n' }}
{%- else %}
    {{- eos_token }}
{%- endif %}`},{order:"r",md5sum:"0e769317b90ac30d6e09486d61fefa26",name:"Mini Orca (Small)",filename:"orca-mini-3b-gguf2-q4_0.gguf",filesize:"1979946720",requires:"2.5.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"OpenLLaMa",description:"<strong>Small version of new model with novel dataset</strong><br><ul><li>Very fast responses</li><li>Instruction based</li><li>Explain tuned datasets</li><li>Orca Research Paper dataset construction approaches</li><li>Cannot be used commercially</li></ul>",url:"https://gpt4all.io/models/gguf/orca-mini-3b-gguf2-q4_0.gguf",promptTemplate:`### User:
%1

### Response:
`,systemPrompt:`### System:
You are an AI assistant that follows instruction extremely well. Help as much as you can.

`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- '### System:\\n' + messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`},{order:"s",md5sum:"c232f17e09bca4b7ee0b5b1f4107c01e",disableGUI:"true",name:"Replit",filename:"replit-code-v1_5-3b-newbpe-q4_0.gguf",filesize:"1953055104",requires:"2.6.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"Replit",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>Licensed for commercial use<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/replit-code-v1_5-3b-newbpe-q4_0.gguf",chatTemplate:null},{order:"t",md5sum:"70841751ccd95526d3dcfa829e11cd4c",disableGUI:"true",name:"Starcoder",filename:"starcoder-newbpe-q4_0.gguf",filesize:"8987411904",requires:"2.6.0",ramrequired:"4",parameters:"7 billion",quant:"q4_0",type:"Starcoder",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/starcoder-newbpe-q4_0.gguf",chatTemplate:null},{order:"u",md5sum:"e973dd26f0ffa6e46783feaea8f08c83",disableGUI:"true",name:"Rift coder",filename:"rift-coder-v0-7b-q4_0.gguf",filesize:"3825903776",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on collection of Python and TypeScript</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</li>",url:"https://gpt4all.io/models/gguf/rift-coder-v0-7b-q4_0.gguf",chatTemplate:null},{order:"v",md5sum:"e479e6f38b59afc51a470d1953a6bfc7",disableGUI:"true",name:"SBert",filename:"all-MiniLM-L6-v2-f16.gguf",filesize:"45887744",requires:"2.5.0",removedIn:"2.7.4",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2-f16.gguf",chatTemplate:null},{order:"w",md5sum:"dd90e2cb7f8e9316ac3796cece9883b5",name:"SBert",filename:"all-MiniLM-L6-v2.gguf2.f16.gguf",filesize:"45949216",requires:"2.7.4",removedIn:"3.0.0",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2.gguf2.f16.gguf",chatTemplate:null},{order:"x",md5sum:"919de4dd6f25351bcb0223790db1932d",name:"EM German Mistral",filename:"em_german_mistral_v01.Q4_0.gguf",filesize:"4108916352",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Mistral-based model for German-language applications</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by ellamind<li>Finetuned on German instruction and chat data</a><li>Licensed for commercial use</ul>",url:"https://huggingface.co/TheBloke/em_german_mistral_v01-GGUF/resolve/main/em_german_mistral_v01.Q4_0.gguf",promptTemplate:"USER: %1 ASSISTANT: ",systemPrompt:"Du bist ein hilfreicher Assistent. ",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if not loop.first %}
            {{- ' ' }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('After the optional system message, conversation roles must be either user or assistant.') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {%- if messages %}
        {{- ' ' }}
    {%- endif %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"Du bist ein hilfreicher Assistent."},{order:"y",md5sum:"60ea031126f82db8ddbbfecc668315d2",disableGUI:"true",name:"Nomic Embed Text v1",filename:"nomic-embed-text-v1.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.f16.gguf",chatTemplate:null},{order:"z",md5sum:"a5401e7f7e46ed9fcaed5b60a281d547",disableGUI:"true",name:"Nomic Embed Text v1.5",filename:"nomic-embed-text-v1.5.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1.5",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.5.f16.gguf",chatTemplate:null},{order:"zzz",md5sum:"a8c5a783105f87a481543d4ed7d7586d",name:"Qwen2-1.5B-Instruct",filename:"qwen2-1_5b-instruct-q4_0.gguf",filesize:"937532800",requires:"3.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Very fast responses</li><li>Instruction based model</li><li>Usage of LocalDocs (RAG): Highly recommended</li><li>Supports context length of up to 32768</li><li>Trained and finetuned by Qwen (Alibaba Cloud)</li><li>License: <a href="https://www.apache.org/licenses/LICENSE-2.0.html/">Apache 2.0</a></li></ul>',url:"https://huggingface.co/Qwen/Qwen2-1.5B-Instruct-GGUF/resolve/main/qwen2-1_5b-instruct-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>`,systemPrompt:`<|im_start|>system
Below is an instruction that describes a task. Write a response that appropriately completes the request.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {%- if loop.first and messages[0]['role'] != 'system' %}
        {{- '<|im_start|>system\\nYou are a helpful assistant.<|im_end|>\\n' }}
    {%- endif %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`}],Hb={width:184,height:96,borderRadius:9999,border:"3px solid #dc2626",background:"#fff1f2",color:"#991b1b",fontWeight:700,textTransform:"uppercase",letterSpacing:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 6px 12px rgba(220, 38, 38, 0.18)"},xh={width:14,height:14,borderRadius:"50%",background:"#dc2626",border:"2px solid #fff1f2"},qs={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#9f1239",marginBottom:8},Wn={fontSize:11,fontWeight:600,color:"#b91c1c",textTransform:"uppercase",letterSpacing:.4},qn={borderRadius:8,border:"1px solid rgba(244, 63, 94, 0.35)",background:"#ffffff",color:"#7f1d1d",fontWeight:500,fontSize:13,padding:"8px 10px",boxShadow:"0 1px 2px rgba(244, 63, 94, 0.12)",outline:"none"},Ys={fontSize:11,color:"#be123c"},Yn={display:"flex",flexDirection:"column",gap:4},Vb={display:"flex",alignItems:"center",gap:8,fontSize:12,fontWeight:500,color:"#7f1d1d",cursor:"pointer"},Ub={width:16,height:16,accentColor:"#dc2626",cursor:"pointer"},wh={display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))"},Zs={display:"flex",flexDirection:"column",gap:4,padding:"8px 12px",borderRadius:10,background:"rgba(254, 226, 226, 0.6)"},Xs={fontSize:11,fontWeight:600,color:"#991b1b",textTransform:"uppercase",letterSpacing:.5},Gs={fontSize:13,fontWeight:500,color:"#7f1d1d"},Wb={position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},qb=360,Yb=380,or=.5,Jr=Ni,hu=Io,ei=256,mu=16,_h=(e,t)=>`${(e+1)/(t+1)*100}%`,lt=(e,t,n)=>Math.min(n,Math.max(t,e)),Sh=(e,t,n)=>{const r=e+(t-e)/2-n/2,i=Math.min(t-n,e),o=Math.max(t-n,e);return lt(r,i,o)},Zb=`[${Na}]`,Xb=["llama.cpp","gpt4all","ollama"],ht={context:4096,backend:"llama.cpp",temperature:.7,topP:.95,topK:40,minP:.1},Gb={qwen2:{context:32768,backend:"llama.cpp",temperature:.4,topP:.9,topK:40,minP:.05},llama3:{context:8192,backend:"llama.cpp",temperature:.7,topP:.95,topK:45,minP:.1},deepseek:{context:8192,backend:"llama.cpp",temperature:.3,topP:.92,topK:40,minP:.06},mistral:{context:8192,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},falcon:{context:4096,backend:"gpt4all",temperature:.6,topP:.9,topK:40,minP:.08},llama2:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},llama:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},mpt:{context:8192,backend:"gpt4all",temperature:.65,topP:.9,topK:38,minP:.08},"phi-3":{context:8192,backend:"ollama",temperature:.55,topP:.9,topK:32,minP:.06},openllama:{context:4096,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},replit:{context:4096,backend:"gpt4all",temperature:.75,topP:.9,topK:40,minP:.1},starcoder:{context:8192,backend:"ollama",temperature:.4,topP:.95,topK:60,minP:.05},bert:{context:512,backend:"gpt4all",temperature:.5,topP:.9,topK:20,minP:.05}},Qb=Bb,Qs=Qb.map((e,t)=>{const n=e.filename??e.order??`model-${t}`,r=(n??`model-${t}`).replace(/\s+/g,"-").toLowerCase(),i=r.startsWith("model:")?r:`model:${r}`,o=e.name??n??i,s=(e.type??"").toLowerCase(),a={...Gb[s]??ht};return{id:i,label:o,model:e,profile:a}}),Kb=e=>({top:e.top,left:e.left,width:e.width,height:e.height}),Ks=(e,t)=>({left:e.left-t.left,top:e.top-t.top,right:e.right-t.left,bottom:e.bottom-t.top}),xo=(e,t)=>!e||!t?!1:Math.abs(e.left-t.left)<or&&Math.abs(e.top-t.top)<or&&Math.abs(e.width-t.width)<or&&Math.abs(e.height-t.height)<or,Jb=(e,t)=>!e||!t?!1:Math.abs(e.left-t.left)<or&&Math.abs(e.top-t.top)<or&&Math.abs(e.width-t.width)<or&&Math.abs(e.height-t.height)<or,Js=e=>({position:{x:e.left,y:e.top},size:{width:e.width,height:e.height}}),yi=e=>({left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height}),eC=(e,t)=>xo(e?yi(e):null,t?yi(t):null),kh=(e,t)=>{const n=Math.min(qb,Math.max(t.width-de*2,H0)),r=Math.min(Yb,Math.max(t.height-de*2,V0)),i=e.left-t.left,o=e.right-t.left,s=e.top-t.top,l=e.bottom-t.top,a=o+de+n<=t.width-de,u=i-de-n>=de;let c;a?c=o+de:u?c=i-n-de:c=Sh(i,o,n);const d=s+r<=t.height-de,f=l-r>=de;let m;return d?m=Math.max(s,de):f?m=l-r:m=Sh(s,l,r),vo({left:c,top:m,width:n,height:r},t)};function tC({data:e}){const t=e.in??[],n=e.out??[],r=S.useMemo(()=>rf(e.params),[e.params]),i=r==="reversed"?ee.Right:ee.Left,o=r==="reversed"?ee.Left:ee.Right,s=S.useRef(null),[l,a]=S.useState(null),[u,c]=S.useState(null),[d,f]=S.useState(!1),[m,w]=S.useState(!1),[y,C]=S.useState(null),[p,h]=S.useState(!1),g=S.useRef(null),{updateNodeParams:_,copyNode:T,cutNode:A,deleteNode:E,pasteClipboard:N,clipboard:D}=ds(H=>({updateNodeParams:H.updateNodeParams,copyNode:H.copyNode,cutNode:H.cutNode,deleteNode:H.deleteNode,pasteClipboard:H.pasteClipboard,clipboard:H.clipboard})),z=e.params??{},F=(D==null?void 0:D.kind)==="node",Y=t.length>0||n.length>0,B=S.useCallback(H=>{_&&_(e.id,W=>({...W??{},...H}))},[e.id,_]),x=S.useMemo(()=>{const H=[typeof z.modelId=="string"?z.modelId:"",typeof z.model_id=="string"?z.model_id:""];for(const W of H){const re=W.trim();if(re)return re}return""},[z.modelId,z.model_id]),M=S.useMemo(()=>x?Qs.find(W=>W.id===x)??null:null,[x]),R=x,O=(M==null?void 0:M.profile.context)??ht.context,P=S.useMemo(()=>{const H={...z};x&&(H.modelId=x,H.model_id=x);const W=F0(H,Qs);if(W)return W;if(x){const re=x.replace(/^model:/i,"").trim();if(re)return re}return"LLM"},[z,x]);S.useEffect(()=>{if(typeof z.modelId=="string"||typeof z.model_id=="string"||!M)return;const H=M.profile,W=Math.min(H.context,1024);B({modelId:M.id,model_id:M.id,adapter:H.backend,maxInputTokens:H.context,maxResponseTokens:W,maxTokens:W,temperature:H.temperature,topP:H.topP,topK:H.topK,minP:H.minP})},[z.modelId,z.model_id,M,B]);const b=typeof z.adapter=="string"?z.adapter:(M==null?void 0:M.profile.backend)??ht.backend,k=typeof z.includeRawInput=="boolean"?z.includeRawInput:!1,L=typeof z.maxInputTokens=="number"?z.maxInputTokens:O,$=lt(Math.round(L),ei,Math.max(ei,O)),U=typeof z.maxResponseTokens=="number"?z.maxResponseTokens:typeof z.maxTokens=="number"?z.maxTokens:Math.min(O,1024),I=lt(Math.round(U),mu,$),j=typeof z.temperature=="number"?z.temperature:(M==null?void 0:M.profile.temperature)??ht.temperature,Z=typeof z.topP=="number"?z.topP:(M==null?void 0:M.profile.topP)??ht.topP,G=typeof z.topK=="number"?z.topK:(M==null?void 0:M.profile.topK)??ht.topK,ne=typeof z.minP=="number"?z.minP:(M==null?void 0:M.profile.minP)??ht.minP,oe=S.useCallback(H=>{a(W=>Jb(W,H)?W:H)},[]),se=S.useCallback(()=>{const H=s.current;if(!H)return null;const W=H.closest(".react-flow");return W?{canvasMetrics:Kb(W.getBoundingClientRect()),anchorBounds:H.getBoundingClientRect()}:null},[]),Se=S.useCallback(H=>{const W=H.target.value.trim();if(!W){const xe=Math.min(ht.context,1024);B({modelId:"",model_id:"",adapter:ht.backend,maxInputTokens:ht.context,maxResponseTokens:xe,maxTokens:xe,temperature:ht.temperature,topP:ht.topP,topK:ht.topK,minP:ht.minP});return}const re=Qs.find(xe=>xe.id===W);if(!re){B({modelId:W,model_id:W});return}const pe=Math.min(re.profile.context,1024);B({modelId:re.id,model_id:re.id,adapter:re.profile.backend,maxInputTokens:re.profile.context,maxResponseTokens:pe,maxTokens:pe,temperature:re.profile.temperature,topP:re.profile.topP,topK:re.profile.topK,minP:re.profile.minP})},[B]),Te=S.useCallback(H=>{B({adapter:H.target.value})},[B]),Ie=S.useCallback(H=>{const W=lt(H,ei,Math.max(ei,O)),re=Math.min(I,W);B({maxInputTokens:W,maxResponseTokens:re,maxTokens:re})},[O,I,B]),Ee=S.useCallback(H=>{const W=lt(H,mu,$);B({maxResponseTokens:W,maxTokens:W})},[$,B]),ve=S.useCallback(H=>{const W=Number(H.target.value);Number.isNaN(W)||B({temperature:lt(W,0,2)})},[B]),je=S.useCallback(H=>{const W=Number(H.target.value);Number.isNaN(W)||B({topP:lt(W,0,1)})},[B]),_e=S.useCallback(H=>{const W=Number(H.target.value);Number.isNaN(W)||B({topK:lt(Math.round(W),0,320)})},[B]),ie=S.useCallback(H=>{const W=Number(H.target.value);Number.isNaN(W)||B({minP:lt(W,0,1)})},[B]),Ue=S.useCallback(()=>{const H=se();if(!H)return;const{canvasMetrics:W,anchorBounds:re}=H;oe(W),g.current=Ks(re,W),c(pe=>{const xe=pe?yi(pe):null,We=xe??kh(re,W),Ne=vo(We,W);return xe&&xo(xe,Ne)?pe:Js(Ne)}),f(!0),w(!1),C(null),h(!1)},[se,oe]),pn=S.useCallback(H=>{H.preventDefault(),H.stopPropagation();const W=se();if(!W)return;const{canvasMetrics:re,anchorBounds:pe}=W;oe(re),g.current=Ks(pe,re),c(jn=>{const Fn=jn?yi(jn):null,Gi=Fn??kh(pe,re),gs=vo(Gi,re);return Fn&&xo(Fn,gs)?jn:Js(gs)}),f(!1),h(!1);const xe=Math.max(de,re.width-Jr-de),We=Math.max(de,re.height-hu-de);lt(H.clientX-re.left,de,xe),lt(H.clientY-re.top,de,We);const Ne=pe.left-re.left,Pe=Ne+pe.width,st=pe.top-re.top,Vt=st+pe.height/2,St=re.width-Pe-de,Ut=Ne-de,yn=12,Rt=St>=Jr+yn,ps=Ut>=Jr+yn;let On;if(Rt&&(!ps||St>=Ut))On=Pe+yn;else if(ps)On=Ne-Jr-yn;else{const jn=Pe-Jr,Fn=Ne,Gi=Ne+(pe.width-Jr)/2;On=lt(Gi,Math.min(jn,Fn),Math.max(jn,Fn))}On=lt(On,de,xe);const hs=st+pe.height-hu,ms=st,Ma=Vt-hu/2;let Xi=lt(Ma,Math.min(hs,ms),Math.max(hs,ms));Xi=lt(Xi,de,We),C({left:re.left+On,top:re.top+Xi,nodeId:e.id})},[e.id,se,oe]),zn=S.useCallback(()=>{Ue()},[Ue]),hn=S.useCallback(H=>{switch(C(null),H){case"Copy":T(e.id);break;case"Cut":A(e.id);break;case"Delete":E(e.id);break;case"Paste":F&&N("node");break;case"Reverse Inputs":_==null||_(e.id,W=>W0(W));break}},[F,T,A,e.id,E,N,_]),Ln=S.useMemo(()=>tf.map(H=>({label:H,disabled:H==="Paste"?!F:H==="Reverse Inputs"?!Y:!1,onSelect:()=>hn(H)})),[F,Y,hn]),Bt=S.useCallback(H=>{if(H.button!==0)return;const W=H.target;W!=null&&W.closest(".react-flow__handle")||(H.stopPropagation(),Ue())},[Ue]),Dn=S.useCallback(()=>{f(!1),w(!0),h(!1)},[]),mn=S.useCallback(()=>{f(!0),w(!1),h(H=>!H)},[]),gn=S.useCallback(H=>{c(W=>eC(W,H)?W:H)},[]);S.useEffect(()=>{if(!(d||m))return;const H=()=>{const xe=se();if(!xe)return;const{canvasMetrics:We,anchorBounds:Ne}=xe;oe(We),g.current=Ks(Ne,We),c(Pe=>{if(!Pe)return Pe;const st=yi(Pe),Vt=vo(st,We);return xo(st,Vt)?Pe:Js(Vt)})};H(),window.addEventListener("resize",H);let W=null;const re=s.current,pe=re==null?void 0:re.closest(".react-flow");return pe&&typeof ResizeObserver<"u"&&(W=new ResizeObserver(H),W.observe(pe)),()=>{window.removeEventListener("resize",H),W==null||W.disconnect()}},[se,m,d,oe]),S.useEffect(()=>{if(!d)return;const H=s.current;if(!H)return;const W=()=>{const pe=se();if(!pe)return;const{canvasMetrics:xe,anchorBounds:We}=pe;oe(xe);const Ne=Ks(We,xe),Pe=g.current;if(g.current=Ne,!Pe)return;const st=Ne.left-Pe.left,Vt=Ne.top-Pe.top;Math.abs(st)<.2&&Math.abs(Vt)<.2||c(St=>{if(!St)return St;const Ut=yi(St),yn={...Ut,left:Ut.left+st,top:Ut.top+Vt},Rt=vo(yn,xe);return xo(Ut,Rt)?St:Js(Rt)})},re=new MutationObserver(W);return re.observe(H,{attributes:!0,attributeFilter:["style","class"]}),()=>re.disconnect()},[se,d,oe]),S.useEffect(()=>{if(!y)return;const H=re=>{var xe;const pe=re.target;(xe=pe==null?void 0:pe.closest)!=null&&xe.call(pe,Zb)||C(null)},W=re=>{re.key==="Escape"&&C(null)};return window.addEventListener("mousedown",H),window.addEventListener("contextmenu",H),window.addEventListener("keydown",W),()=>{window.removeEventListener("mousedown",H),window.removeEventListener("contextmenu",H),window.removeEventListener("keydown",W)}},[y]);const Ht=m&&!!u,$n=S.useMemo(()=>({position:"absolute",bottom:6,right:6,width:28,height:28,borderRadius:"50%",border:"2px solid #dc2626",background:"#fee2e2",color:"#b91c1c",fontSize:14,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 14px rgba(220, 38, 38, 0.28)",cursor:"pointer",transition:"opacity 160ms ease, transform 160ms ease",opacity:Ht?1:0,transform:Ht?"scale(1)":"scale(0.85)",pointerEvents:Ht?"auto":"none"}),[Ht]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{ref:s,style:Hb,"data-voide-io-orientation":r,onContextMenu:pn,onClick:Bt,children:[t.map((H,W)=>v.jsx(xr,{type:"target",position:i,id:`${e.id}:${H.port}`,style:{...xh,top:_h(W,t.length)}},H.port)),v.jsx("span",{children:P}),n.map((H,W)=>v.jsx(xr,{type:"source",position:o,id:`${e.id}:${H.port}`,style:{...xh,top:_h(W,n.length)}},H.port)),v.jsx("button",{type:"button",onClick:zn,onContextMenu:H=>{H.preventDefault(),H.stopPropagation(),zn()},style:$n,"aria-label":"Open LLM options",children:"⚙"})]}),y?v.jsx(nf,{position:{left:y.left,top:y.top},items:Ln}):null,l&&u&&v.jsx(ef,{title:`${P} Options`,open:d,position:u.position,size:u.size,minimized:p,onRequestClose:Dn,onToggleMinimize:mn,onUpdate:gn,children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[v.jsx("span",{style:Wb,children:"Quick Actions"}),v.jsxs("div",{children:[v.jsx("div",{style:qs,children:"Model Selection"}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-model`,children:"LLM Model"}),v.jsxs("select",{id:`${e.id}-model`,value:R,onChange:Se,style:qn,children:[v.jsx("option",{value:"",children:"Select a model"}),Qs.map(H=>v.jsx("option",{value:H.id,children:H.label},H.id))]})]}),v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-backend`,children:"Backend"}),v.jsx("select",{id:`${e.id}-backend`,value:b,onChange:Te,style:qn,children:Xb.map(H=>v.jsx("option",{value:H,children:H},H))}),v.jsxs("label",{style:Vb,htmlFor:`${e.id}-include-raw-input`,children:[v.jsx("input",{id:`${e.id}-include-raw-input`,type:"checkbox",checked:k,onChange:H=>B({includeRawInput:H.target.checked}),style:Ub}),"Forward input with response"]}),v.jsx("span",{style:Ys,children:"Runtime adapter used to communicate with this module."}),v.jsx("span",{style:Ys,children:"When enabled, downstream nodes receive the full prompt alongside the model output."})]})]})]}),v.jsxs("div",{children:[v.jsx("div",{style:qs,children:"Token Limits"}),v.jsxs("div",{style:wh,children:[v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-input-tokens`,children:"Max Input Tokens"}),v.jsx("input",{id:`${e.id}-input-tokens`,type:"number",min:ei,max:Math.max(ei,O),step:128,value:$,onChange:H=>{const W=Number(H.target.value);Number.isNaN(W)||Ie(W)},style:qn}),v.jsxs("span",{style:Ys,children:["Up to ",O.toLocaleString()," tokens based on the model."]})]}),v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-response-tokens`,children:"Max Response Length"}),v.jsx("input",{id:`${e.id}-response-tokens`,type:"number",min:mu,max:$,step:32,value:I,onChange:H=>{const W=Number(H.target.value);Number.isNaN(W)||Ee(W)},style:qn}),v.jsx("span",{style:Ys,children:"Cannot exceed max input tokens for this module."})]})]})]}),v.jsxs("div",{children:[v.jsx("div",{style:qs,children:"Sampling Controls"}),v.jsxs("div",{style:wh,children:[v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-temperature`,children:"Temperature"}),v.jsx("input",{id:`${e.id}-temperature`,type:"number",min:0,max:2,step:.05,value:Number(j.toFixed(2)),onChange:ve,style:qn})]}),v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-top-p`,children:"Top P"}),v.jsx("input",{id:`${e.id}-top-p`,type:"number",min:0,max:1,step:.01,value:Number(Z.toFixed(2)),onChange:je,style:qn})]}),v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-top-k`,children:"Top K"}),v.jsx("input",{id:`${e.id}-top-k`,type:"number",min:0,max:320,step:1,value:Math.round(G),onChange:_e,style:qn})]}),v.jsxs("div",{style:Yn,children:[v.jsx("label",{style:Wn,htmlFor:`${e.id}-min-p`,children:"Min P"}),v.jsx("input",{id:`${e.id}-min-p`,type:"number",min:0,max:1,step:.01,value:Number(ne.toFixed(2)),onChange:ie,style:qn})]})]})]}),v.jsxs("div",{children:[v.jsx("div",{style:qs,children:"Model Summary"}),M?v.jsxs("div",{style:{display:"grid",gap:10},children:[v.jsxs("div",{style:Zs,children:[v.jsx("span",{style:Xs,children:"Model"}),v.jsx("span",{style:Gs,children:M.label})]}),M.model.parameters?v.jsxs("div",{style:Zs,children:[v.jsx("span",{style:Xs,children:"Parameters"}),v.jsx("span",{style:Gs,children:M.model.parameters})]}):null,M.model.ramrequired?v.jsxs("div",{style:Zs,children:[v.jsx("span",{style:Xs,children:"Suggested RAM"}),v.jsxs("span",{style:Gs,children:[M.model.ramrequired," GB"]})]}):null]}):v.jsxs("div",{style:Zs,children:[v.jsx("span",{style:Xs,children:"No model selected"}),v.jsx("span",{style:Gs,children:"Choose a model to configure backend and sampling parameters."})]})]})]})})]})}const nC="rgba(15, 23, 42, 0.96)",rC=.88,q0=8,Pc=20,Y0=24,Z0={position:"absolute",display:"flex",flexDirection:"column",background:nC,borderRadius:20,border:"1px solid rgba(148, 163, 184, 0.28)",boxShadow:"0 32px 80px rgba(15, 23, 42, 0.6)",overflow:"hidden",color:"#f8fafc",zIndex:40},gu={...Z0,position:"relative",margin:"0 auto",width:"min(720px, 100%)",height:"100%"},iC={flex:1,overflowY:"auto",padding:"24px 24px 16px",display:"flex",flexDirection:"column",gap:16,background:"linear-gradient(180deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.92))"},oC={padding:"16px 20px 20px",background:"rgba(15, 23, 42, 0.94)",borderTop:"1px solid rgba(148, 163, 184, 0.18)",display:"flex",flexDirection:"column",gap:12},sC={display:"flex",gap:12,alignItems:"flex-end"},X0={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.75)",color:"#cbd5f5",fontSize:12,cursor:"pointer"},lC={...X0,background:"rgba(37, 99, 235, 0.15)",border:"1px solid rgba(96, 165, 250, 0.45)",cursor:"default"},aC={width:38,height:38,borderRadius:12,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease"},uC={flex:1,minHeight:36,maxHeight:q0*Pc+Y0,borderRadius:16,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(15, 23, 42, 0.75)",color:"#f8fafc",padding:"12px 16px",fontSize:14,lineHeight:`${Pc}px`,resize:"none",outline:"none",overflow:"hidden",boxShadow:"inset 0 1px 3px rgba(15, 23, 42, 0.4)"},cC={fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(148, 163, 184, 0.6)",marginBottom:6,fontWeight:500},G0={maxWidth:`${rC*100}%`,borderRadius:20,padding:"14px 18px",boxShadow:"0 18px 48px rgba(15, 23, 42, 0.42)",display:"flex",flexDirection:"column",gap:10,fontSize:14,lineHeight:1.6,whiteSpace:"pre-wrap",wordBreak:"break-word"},dC={...G0,alignSelf:"flex-end",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.88), rgba(96, 165, 250, 0.82))",color:"#f8fafc",borderTopRightRadius:8},Q0={...G0,alignSelf:"flex-start",background:"rgba(15, 23, 42, 0.88)",border:"1px solid rgba(148, 163, 184, 0.22)",color:"#e2e8f0",borderTopLeftRadius:8},fC={...Q0,background:"rgba(30, 41, 59, 0.85)",borderStyle:"dashed"},pC={position:"absolute",top:12,right:12,width:28,height:28,borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",fontSize:15,lineHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease",zIndex:2},hC={position:"absolute",top:16,left:20,padding:"6px 10px",borderRadius:999,background:"rgba(37, 99, 235, 0.18)",border:"1px solid rgba(96, 165, 250, 0.35)",color:"#bfdbfe",fontSize:11,letterSpacing:.35,textTransform:"uppercase"},mC={margin:"auto",textAlign:"center",color:"rgba(226, 232, 240, 0.65)",fontSize:13,lineHeight:1.6,padding:"24px 12px"};function Eh(e){if(!Number.isFinite(e)||e<=0)return"0 B";const t=["B","KB","MB","GB","TB"],n=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1),r=e/1024**n;return`${r>=100?r.toFixed(0):r.toFixed(r>=10?1:2)} ${t[n]}`}function gC(){return S.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[])}function yC(){const[e,t]=S.useState(1);return S.useEffect(()=>{const n=window.setInterval(()=>{t(r=>r%3+1)},360);return()=>window.clearInterval(n)},[]),v.jsxs("span",{style:{display:"inline-flex",gap:4,alignItems:"center",color:"rgba(148, 163, 184, 0.9)"},children:[v.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.9)",opacity:e>=1?1:.3,transition:"opacity 0.2s ease"}}),v.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.75)",opacity:e>=2?1:.3,transition:"opacity 0.2s ease"}}),v.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.6)",opacity:e>=3?1:.3,transition:"opacity 0.2s ease"}})]})}function K0({thread:e,flowAcceptsInput:t,mode:n,onRequestClose:r,onScrollStateChange:i,onDraftChange:o,onDraftAttachmentsAdd:s,onDraftAttachmentRemove:l}){const a=S.useRef(null),u=S.useRef(null),c=S.useRef(null),[d,f]=S.useState(!1),m=gC(),w=S.useCallback(()=>{const E=a.current;if(!E)return;E.style.height="auto";const N=q0*Pc+Y0,D=Math.min(E.scrollHeight,N);E.style.height=`${D}px`,E.style.overflowY=E.scrollHeight>N?"auto":"hidden"},[]);S.useEffect(()=>{w()},[e.draft,w]),S.useEffect(()=>{const E=c.current;if(!E)return;const N=Math.max(0,E.scrollHeight-E.clientHeight);if(e.stickToBottom){E.scrollTop=N;return}E.scrollTop=Math.min(e.scrollTop,N)},[e.nodeId,e.scrollTop,e.stickToBottom,e.messages.length]),S.useEffect(()=>{const E=c.current;E&&e.stickToBottom&&(E.scrollTop=E.scrollHeight)},[e.messages.length,e.stickToBottom,e.streamingMessageId]);const y=S.useCallback(()=>{const E=c.current;if(!E)return;const{scrollTop:N,scrollHeight:D,clientHeight:z}=E,Y=D-(N+z)<28;i(N,Y)},[i]),C=S.useCallback(()=>{var E;(E=u.current)==null||E.click()},[]),p=S.useCallback(E=>{const N=Array.from(E.target.files??[]);N.length>0&&s(N),E.target.value=""},[s]),h=S.useCallback(E=>{E.preventDefault(),E.stopPropagation(),E.dataTransfer&&(E.dataTransfer.dropEffect="copy"),f(!0)},[]),g=S.useCallback(()=>{f(!1)},[]),_=S.useCallback(E=>{var D;E.preventDefault(),E.stopPropagation();const N=Array.from(((D=E.dataTransfer)==null?void 0:D.files)??[]);N.length>0&&s(N),f(!1)},[s]),T=S.useCallback(E=>{const N=m.format(new Date(E.createdAt)),D=E.role==="user"?dC:E.role==="assistant"?Q0:fC,z=F=>{if(!F.url&&!F.file)return;const Y=F.url??URL.createObjectURL(F.file);window.open(Y,"_blank","noopener,noreferrer")};return v.jsxs("article",{style:{display:"flex",flexDirection:"column"},children:[v.jsx("span",{style:{...cC,textAlign:E.role==="user"?"right":"left",marginLeft:E.role==="user"?"auto":0,marginRight:E.role==="user"?0:"auto"},children:N}),v.jsxs("div",{style:D,children:[E.streaming?v.jsx(yC,{}):E.content,E.attachments.length>0?v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:4},children:E.attachments.map(F=>v.jsxs("button",{type:"button",style:{...X0,alignSelf:E.role==="user"?"flex-end":"flex-start"},onClick:()=>z(F),children:[v.jsx("span",{"aria-hidden":!0,children:"📎"}),v.jsx("span",{children:F.name}),v.jsx("span",{style:{opacity:.75},children:Eh(F.size)})]},F.id))}):null]})]},E.id)},[m]),A=d?{border:"1px solid rgba(96, 165, 250, 0.55)",background:"rgba(30, 64, 175, 0.15)"}:null;return v.jsxs("div",{role:"dialog","aria-label":`${e.nodeLabel} chat`,style:{...n==="floating"?Z0:gu,width:n==="floating"?e.geometry.size.width:gu.width,height:n==="floating"?e.geometry.size.height:gu.height,pointerEvents:"auto",...n==="floating"?{left:e.geometry.position.x,top:e.geometry.position.y}:{}},children:[v.jsx("span",{style:hC,children:e.nodeLabel}),n==="floating"&&r?v.jsx("button",{type:"button","aria-label":"Close chat",style:pC,onClick:r,children:"×"}):null,v.jsx("div",{ref:c,style:iC,onScroll:y,children:e.messages.length===0?v.jsx("div",{style:mC,children:"Start a conversation from this interface node. Draft your prompt below and press the Play control on the canvas to send it."}):e.messages.map(E=>T(E))}),v.jsxs("div",{style:{...oC,...A??{}},onDragEnter:h,onDragOver:h,onDragLeave:g,onDrop:_,children:[v.jsxs("div",{style:sC,children:[v.jsx("button",{type:"button","aria-label":"Attach files",style:aC,onClick:C,children:"+"}),v.jsx("textarea",{ref:a,placeholder:"Type here… press Play on the canvas to send",style:uC,value:e.draft,onChange:E=>o(E.target.value),"aria-multiline":"true"})]}),e.draftAttachments.length>0?v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,paddingLeft:50},children:e.draftAttachments.map(E=>v.jsxs("span",{style:lC,children:[v.jsx("span",{"aria-hidden":!0,children:"📎"}),v.jsx("span",{children:E.name}),v.jsx("span",{style:{opacity:.75},children:Eh(E.size)}),v.jsx("button",{type:"button",onClick:()=>l(E.id),style:{background:"transparent",border:"none",color:"rgba(226, 232, 240, 0.75)",fontSize:14,cursor:"pointer"},"aria-label":`Remove ${E.name}`,children:"×"})]},E.id))}):null,t?null:v.jsxs("div",{style:{paddingLeft:50,fontSize:12,color:"rgba(248, 250, 252, 0.7)",display:"flex",gap:8,alignItems:"center"},children:[v.jsx("span",{"aria-hidden":!0,children:"⚠️"}),v.jsx("span",{children:zb})]}),v.jsx("input",{ref:u,type:"file",multiple:!0,tabIndex:-1,style:{display:"none"},onChange:p})]})]})}function vC(){const{overlayRef:e}=Jd(),t=Ye(c=>c.activeNodeId),n=Ye(c=>c.flowAcceptsInput),r=Ye(c=>c.closeChat),i=Ye(c=>c.setDraft),o=Ye(c=>c.addDraftAttachments),s=Ye(c=>c.removeDraftAttachment),l=Ye(c=>c.setScrollState),a=Ye(c=>c.getThread),u=S.useMemo(()=>t?a(t)??null:null,[t,a]);return!e.current||!u||!u.open?null:sy.createPortal(v.jsx(K0,{thread:u,flowAcceptsInput:n,mode:"floating",onRequestClose:()=>r(u.nodeId),onScrollStateChange:(c,d)=>l(u.nodeId,c,d),onDraftChange:c=>i(u.nodeId,c),onDraftAttachmentsAdd:c=>o(u.nodeId,c),onDraftAttachmentRemove:c=>s(u.nodeId,c)}),e.current)}function xC({nodeId:e="standalone",label:t="Chat"}){const n=Ye(u=>u.flowAcceptsInput),r=Ye(u=>u.setDraft),i=Ye(u=>u.addDraftAttachments),o=Ye(u=>u.removeDraftAttachment),s=Ye(u=>u.setScrollState),l=Ye(u=>u.openChat);S.useEffect(()=>{l({nodeId:e,nodeLabel:t})},[t,e,l]);const a=Ye(u=>u.threads[e]);return a?v.jsx(K0,{thread:{...a,geometry:a.geometry},flowAcceptsInput:n,mode:"standalone",onScrollStateChange:(u,c)=>s(e,u,c),onDraftChange:u=>r(e,u),onDraftAttachmentsAdd:u=>i(e,u),onDraftAttachmentRemove:u=>o(e,u)}):null}const J0="__position",wC={width:320,height:260},Zn=12,_C=`[${Na}]`,SC=e=>e.map(t=>`${t.id}:${Math.round(t.position.x)}:${Math.round(t.position.y)}`).sort().join("|"),kC=e=>{const t=e.params,n=t==null?void 0:t[J0];return n&&typeof n.x=="number"&&typeof n.y=="number"?{x:n.x,y:n.y}:{x:360,y:240}},bh=e=>({id:e.id,data:e,position:kC(e),type:e.type??"module"}),Ch=e=>({id:e.id,source:e.from[0],target:e.to[0],sourceHandle:`${e.from[0]}:${e.from[1]}`,targetHandle:`${e.to[0]}:${e.to[1]}`,label:e.label??""});function EC(){const{flow:e,setFlow:t,activeTool:n,copyEdge:r,cutEdge:i,deleteEdge:o,pasteClipboard:s,clipboard:l}=ds(I=>({flow:I.flow,setFlow:I.setFlow,activeTool:I.activeTool,copyEdge:I.copyEdge,cutEdge:I.cutEdge,deleteEdge:I.deleteEdge,pasteClipboard:I.pasteClipboard,clipboard:I.clipboard})),a=S.useRef(null),u=S.useRef(null),c=S.useRef(null),d=S.useRef(null),[f,m]=S.useState(null),[w,y]=S.useState(null),[C,p]=S.useState(null),h=S.useCallback(I=>{if(typeof document>"u"){I();return}const j=document.activeElement;let Z=null,G=null;if(j instanceof HTMLInputElement||j instanceof HTMLTextAreaElement)Z={start:j.selectionStart??null,end:j.selectionEnd??null};else if(j!=null&&j.isContentEditable&&typeof window<"u"){const ne=window.getSelection();if(ne&&ne.rangeCount>0)try{G=ne.getRangeAt(0).cloneRange()}catch{G=null}}if(I(),!(!j||typeof j.focus!="function")&&document.activeElement!==j){if(j.focus({preventScroll:!0}),Z&&Z.start!==null&&Z.end!==null&&typeof j.setSelectionRange=="function"){try{j.setSelectionRange(Z.start,Z.end)}catch{}return}if(G&&typeof window<"u"){const ne=window.getSelection();ne&&(ne.removeAllRanges(),ne.addRange(G))}}},[]),g=S.useCallback(()=>{a.current&&m(a.current.getBoundingClientRect())},[]);S.useLayoutEffect(()=>{const I=a.current;if(!I)return;g();let j=null;typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>g()),j.observe(I));const Z=()=>g();return window.addEventListener("resize",Z),window.addEventListener("scroll",Z,!0),()=>{j==null||j.disconnect(),window.removeEventListener("resize",Z),window.removeEventListener("scroll",Z,!0)}},[g]);const _=S.useMemo(()=>({module:vh,llm:tC,default:vh}),[]),[T,A,E]=HE(e.nodes.map(bh)),[N,D,z]=VE(e.edges.map(Ch));S.useEffect(()=>{A(e.nodes.map(bh))},[e.nodes,A]),S.useEffect(()=>{D(e.edges.map(Ch))},[e.edges,D]);const F=S.useCallback(I=>{c.current=I,d.current=null},[]);S.useEffect(()=>{const I=c.current;if(!I||T.length===0){T.length===0&&(d.current="");return}const j=SC(T);d.current!==j&&(d.current=j,h(()=>{try{I.fitView({padding:.18})}catch{}}))},[T,h]);const Y=S.useCallback(I=>{E(I);const j=I.filter(G=>G.type==="position"&&!!G.position);if(j.length===0)return;const Z=e.nodes.map(G=>{const ne=j.find(se=>se.id===G.id);if(!ne||!ne.position)return G;const oe={...G.params??{}};return oe[J0]=ne.position,{...G,params:oe}});t({...e,nodes:Z})},[e,E,t]),B=S.useCallback(I=>{z(I);const j=I.filter(Z=>Z.type==="remove").map(Z=>Z.id);j.length!==0&&t({...e,edges:e.edges.filter(Z=>!j.includes(Z.id))})},[e,z,t]),x=S.useCallback(I=>{var se,Se;if(!I.source||!I.target)return;const j=((se=I.sourceHandle)==null?void 0:se.split(":")[1])??"out",Z=((Se=I.targetHandle)==null?void 0:Se.split(":")[1])??"in",G=`e:${I.source}-${j}:${I.target}-${Z}`,ne={id:G,source:I.source,target:I.target,sourceHandle:I.sourceHandle,targetHandle:I.targetHandle,label:""};D(Te=>Qy(ne,Te));const oe={id:G,from:[I.source,j],to:[I.target,Z]};t({...e,edges:[...e.edges,oe]})},[e,D,t]),M=S.useCallback((I,j)=>{I.preventDefault(),I.stopPropagation();const Z=u.current;if(!Z)return;const G=Z.getBoundingClientRect(),ne={x:I.clientX-G.left+Zn,y:I.clientY-G.top+Zn};p(null),y(oe=>{const se=oe&&oe.node.id===j.data.id?oe.geometry.size:wC,Se=Lr({position:ne,size:se},{width:G.width,height:G.height});return{node:j.data,geometry:Se,open:!0,minimized:!1}}),g()},[u,g]),R=S.useCallback(()=>{p(null),y(I=>I?{...I,open:!1,minimized:!1}:null)},[]),O=S.useCallback(I=>{I.preventDefault(),p(null),y(j=>j?{...j,open:!1,minimized:!1}:null)},[]),P=S.useCallback((I,j)=>{I.preventDefault(),I.stopPropagation();const Z=u.current;if(!Z)return;const G=Z.getBoundingClientRect(),ne=I.clientX-G.left,oe=I.clientY-G.top,se=Math.max(Zn,G.width-Ni-Zn),Se=Math.max(Zn,G.height-Io-Zn),Te=Math.min(Math.max(ne,Zn),se),Ie=Math.min(Math.max(oe,Zn),Se);y(Ee=>Ee?{...Ee,open:!1,minimized:!1}:null),p({edgeId:j.id,left:G.left+Te,top:G.top+Ie})},[y,p]),b=S.useCallback(I=>{if(!C)return;const j=C.edgeId;switch(p(null),I){case"Copy":r(j);break;case"Cut":i(j);break;case"Delete":o(j);break;case"Paste":s("edge");break}},[r,i,o,C,s]);S.useEffect(()=>{if(!C)return;const I=Z=>{var ne;const G=Z.target;(ne=G==null?void 0:G.closest)!=null&&ne.call(G,_C)||p(null)},j=Z=>{Z.key==="Escape"&&p(null)};return window.addEventListener("mousedown",I),window.addEventListener("contextmenu",I),window.addEventListener("keydown",j),()=>{window.removeEventListener("mousedown",I),window.removeEventListener("contextmenu",I),window.removeEventListener("keydown",j)}},[C]),S.useEffect(()=>{if(!C)return;e.edges.some(j=>j.id===C.edgeId)||p(null)},[C,e.edges]);const k=S.useCallback(I=>{y(j=>j&&{...j,geometry:I})},[]),L=S.useCallback(()=>{y(I=>I?{...I,open:!1,minimized:!1}:null)},[]),$=S.useCallback(()=>{y(I=>I&&{...I,minimized:!I.minimized,open:!0})},[]),U=S.useMemo(()=>({bounds:f,refreshBounds:g,overlayRef:u}),[f,g]);return v.jsx(ab,{value:U,children:v.jsxs("div",{ref:a,"data-testid":"graph-canvas-container",style:{width:"100%",height:"100%",position:"relative"},children:[v.jsx(A0,{nodes:T,edges:N,onNodesChange:Y,onEdgesChange:B,onConnect:x,nodeTypes:_,onNodeContextMenu:M,onEdgeContextMenu:P,onPaneClick:R,onPaneContextMenu:O,onInit:F,proOptions:{hideAttribution:!0},style:{background:"#ffffff",cursor:n==="wire"?"crosshair":"default"},children:v.jsx(XE,{color:"#e2e8f0",gap:32,size:1})}),v.jsx("div",{ref:u,"data-testid":"graph-canvas-overlay",style:{position:"absolute",inset:0,pointerEvents:"none"}}),v.jsx(vC,{}),C?v.jsx(nf,{position:{left:C.left,top:C.top},items:tf.map(I=>({label:I,disabled:I==="Paste"&&(l==null?void 0:l.kind)!=="edge",onSelect:()=>b(I)}))}):null,w?v.jsx(ef,{title:`${w.node.name??w.node.id??"Node"} Context`,open:w.open,position:w.geometry.position,size:w.geometry.size,minimized:w.minimized,onUpdate:k,onRequestClose:L,onToggleMinimize:$,children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[v.jsx("div",{style:{fontSize:14,fontWeight:600},children:w.node.name??w.node.id??"Node"}),v.jsx("div",{style:{fontSize:12,color:"#475569",lineHeight:1.4},children:"Right-click menus for the graph will appear here. Select a node to inspect its details and shortcuts."}),v.jsxs("div",{style:{fontSize:12},children:[v.jsx("strong",{children:"ID:"})," ",w.node.id]}),w.node.type?v.jsxs("div",{style:{fontSize:12},children:[v.jsx("strong",{children:"Type:"})," ",w.node.type]}):null]})}):null]})})}const bC=["System","File","Edit","View"],CC={background:"none",border:"none",color:"inherit",fontWeight:600,fontSize:14,padding:"8px 12px",borderRadius:8,cursor:"pointer"},yu={background:"#1e293b",border:"1px solid #334155",borderRadius:12,width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",color:"#f8fafc",cursor:"pointer",transition:"transform 0.15s ease"},TC={display:"flex",alignItems:"center",gap:8,background:"#f97316",border:"none",color:"#111827",fontWeight:700,fontSize:14,padding:"10px 18px",borderRadius:999,cursor:"pointer",boxShadow:"0 6px 18px rgba(249, 115, 22, 0.35)"},vu={fontSize:18,lineHeight:"18px"};function NC({onRun:e}){return v.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 24px",height:64,background:"linear-gradient(90deg, #0f172a, #1f2937)",color:"#e2e8f0",borderBottom:"1px solid #1e293b"},children:[v.jsx("nav",{style:{display:"flex",gap:8},children:bC.map(t=>v.jsx("button",{style:CC,onClick:()=>console.log(t),children:t},t))}),v.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[v.jsx("button",{type:"button",style:yu,onClick:e,"aria-label":"Play",children:v.jsx("span",{"aria-hidden":!0,style:vu,children:"▶"})}),v.jsx("button",{type:"button",style:yu,onClick:()=>console.log("Pause"),"aria-label":"Pause",children:v.jsx("span",{"aria-hidden":!0,style:vu,children:"⏸"})}),v.jsx("button",{type:"button",style:yu,onClick:()=>console.log("Stop"),"aria-label":"Stop",children:v.jsx("span",{"aria-hidden":!0,style:vu,children:"■"})})]}),v.jsxs("button",{type:"button",style:TC,onClick:()=>console.log("Build"),"aria-label":"Build project",children:[v.jsx("span",{"aria-hidden":!0,style:{fontSize:18,lineHeight:"18px"},children:"🔨"}),v.jsx("span",{children:"Build"})]})]})}const MC="__position",IC=[{key:"llm",label:"LLM",nodeType:"llm",inputs:[{port:"prompt",types:["TEXT"]}],outputs:[{port:"response",types:["TEXT"]}],description:"Large language model"},{key:"prompt",label:"Prompt",nodeType:"module",inputs:[],outputs:[{port:"prompt",types:["TEXT"]}],description:"Prepare model prompts"},{key:"debate",label:"Debate/Loop",nodeType:"module",inputs:[{port:"input",types:["TEXT"]}],outputs:[{port:"result",types:["TEXT"]}],description:"Iterative reasoning"},{key:"cache",label:"Cache",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"out",types:["TEXT","JSON"]}],description:"Reuse previous outputs"},{key:"log",label:"Log",nodeType:"module",inputs:[{port:"entry",types:["TEXT","JSON"]}],outputs:[],description:"Record activity"},{key:"memory",label:"Memory",nodeType:"module",inputs:[{port:"store",types:["TEXT","JSON"]}],outputs:[{port:"recall",types:["TEXT","JSON"]}],description:"Long-lived context"},{key:"divider",label:"Divider",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"pathA",types:["TEXT","JSON"]},{port:"pathB",types:["TEXT","JSON"]}],description:"Route outputs"},{key:"tool",label:"Tool Call",nodeType:"module",inputs:[{port:"input",types:["TEXT","JSON"]}],outputs:[{port:"result",types:["TEXT","JSON"]}],description:"Invoke registered tools"}],PC=[{key:"wire",label:"Wiring Tool",description:"Connect modules together"}],RC=e=>{const i=e%3,o=Math.floor(e/3);return{x:220+i*220,y:160+o*140}},AC=e=>`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,7)}`,zC=(e,t)=>{const n=RC(t);return{id:AC(e.key),type:e.nodeType,name:e.label,params:{[MC]:n,moduleKey:e.key},in:e.inputs,out:e.outputs}},Th={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#475569",marginBottom:8},Rc={border:"1px solid #d1d5db",borderRadius:12,padding:"12px 10px",background:"#ffffff",color:"#1f2937",fontWeight:600,textAlign:"left",display:"flex",flexDirection:"column",gap:4,cursor:"pointer",transition:"border-color 0.2s ease, box-shadow 0.2s ease"},xu={...Rc,justifyContent:"space-between",flexDirection:"row",alignItems:"center"};function LC(){const{flow:e,addNode:t,activeTool:n,setActiveTool:r}=ds(s=>({flow:s.flow,addNode:s.addNode,activeTool:s.activeTool,setActiveTool:s.setActiveTool})),i=s=>{const l=zC(s,e.nodes.length);t(l),n!=="select"&&r("select")},o=s=>{r(n===s.key?"select":s.key)};return v.jsxs("aside",{style:{width:192,borderRight:"1px solid #e2e8f0",background:"#f8fafc",padding:"16px 14px",display:"flex",flexDirection:"column",gap:24,overflowY:"auto"},children:[v.jsxs("div",{children:[v.jsx("div",{style:Th,children:"Modules"}),v.jsx("div",{style:{display:"grid",gap:12},children:IC.map(s=>v.jsxs("button",{style:{...Rc,borderColor:s.key==="llm"?"#fca5a5":Rc.border,boxShadow:"none"},onClick:()=>i(s),children:[v.jsx("span",{children:s.label}),s.description?v.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:s.description}):null]},s.key))})]}),v.jsxs("div",{children:[v.jsx("div",{style:Th,children:"Tools"}),v.jsx("div",{style:{display:"grid",gap:12},children:PC.map(s=>v.jsxs("button",{style:{...xu,borderColor:n===s.key?"#94a3b8":xu.border,background:n===s.key?"#e2e8f0":xu.background},onClick:()=>o(s),children:[v.jsx("span",{children:s.label}),s.description?v.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:s.description}):null]},s.key))})]})]})}const DC={height:"100vh",width:"100vw",background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.92))",display:"flex",alignItems:"stretch",justifyContent:"center",padding:"32px 24px"},$C={flex:1,maxWidth:840,minHeight:0};function OC(){return v.jsx("div",{style:DC,children:v.jsx("div",{style:$C,children:v.jsx(xC,{nodeId:"standalone",label:"Interface"})})})}var ye;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),s={};for(const l of o)s[l]=i[l];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ye||(ye={}));var Nh;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Nh||(Nh={}));const J=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jn=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}},X=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let l=r,a=0;for(;a<s.path.length;){const u=s.path[a];a===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(s))):l[u]=l[u]||{_errors:[]},l=l[u],a++}}};return i(this),r}static assert(t){if(!(t instanceof Rn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rn.create=e=>new Rn(e);const Ac=(e,t)=>{let n;switch(e.code){case X.invalid_type:e.received===J.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ye.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${ye.joinValues(e.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ye.joinValues(e.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${ye.joinValues(e.options)}, received '${e.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ye.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case X.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case X.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=t.defaultError,ye.assertNever(e)}return{message:n}};let jC=Ac;function FC(){return jC}const BC=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let l="";const a=r.filter(u=>!!u).slice().reverse();for(const u of a)l=u(s,{data:t,defaultError:l}).message;return{...i,path:o,message:l}};function Q(e,t){const n=FC(),r=BC({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ac?void 0:Ac].filter(i=>!!i)});e.common.issues.push(r)}class dt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return ae;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return dt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return ae;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const ae=Object.freeze({status:"aborted"}),wo=e=>({status:"dirty",value:e}),Ft=e=>({status:"valid",value:e}),Mh=e=>e.status==="aborted",Ih=e=>e.status==="dirty",Fi=e=>e.status==="valid",Ql=e=>typeof Promise<"u"&&e instanceof Promise;var te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(te||(te={}));class dn{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ph=(e,t)=>{if(Fi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rn(e.common.issues);return this._error=n,this._error}}};function ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,l)=>{const{message:a}=e;return s.code==="invalid_enum_value"?{message:a??l.defaultError}:typeof l.data>"u"?{message:a??r??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:a??n??l.defaultError}},description:i}}class he{get description(){return this._def.description}_getType(t){return Jn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Jn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dt,ctx:{common:t.parent.common,data:t.data,parsedType:Jn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ql(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jn(t)},i=this._parseSync({data:t,path:r.path,parent:r});return Ph(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jn(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:n});return Fi(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(o=>Fi(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jn(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(Ql(i)?i:Promise.resolve(i));return Ph(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),l=()=>o.addIssue({code:X.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(a=>a?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Vi({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return gr.create(this,this._def)}nullable(){return Ui.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cn.create(this)}promise(){return na.create(this,this._def)}or(t){return Jl.create([this,t],this._def)}and(t){return ea.create(this,t,this._def)}transform(t){return new Vi({...ue(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new jc({...ue(this._def),innerType:this,defaultValue:n,typeName:le.ZodDefault})}brand(){return new cT({typeName:le.ZodBranded,type:this,...ue(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Fc({...ue(this._def),innerType:this,catchValue:n,typeName:le.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return of.create(this,t)}readonly(){return Bc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HC=/^c[^\s-]{8,}$/i,VC=/^[0-9a-z]+$/,UC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,WC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qC=/^[a-z0-9_-]{21}$/i,YC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wu;const QC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ev="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rT=new RegExp(`^${ev}$`);function tv(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function iT(e){return new RegExp(`^${tv(e)}$`)}function oT(e){let t=`${ev}T${tv(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function sT(e,t){return!!((t==="v4"||!t)&&QC.test(e)||(t==="v6"||!t)&&JC.test(e))}function lT(e,t){if(!YC.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function aT(e,t){return!!((t==="v4"||!t)&&KC.test(e)||(t==="v6"||!t)&&eT.test(e))}class En extends he{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const o=this._getOrReturnCtx(t);return Q(o,{code:X.invalid_type,expected:J.string,received:o.parsedType}),ae}const r=new dt;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),Q(i,{code:X.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),Q(i,{code:X.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,l=t.data.length<o.value;(s||l)&&(i=this._getOrReturnCtx(t,i),s?Q(i,{code:X.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&Q(i,{code:X.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")XC.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"email",code:X.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")wu||(wu=new RegExp(GC,"u")),wu.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"emoji",code:X.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")WC.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"uuid",code:X.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")qC.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"nanoid",code:X.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")HC.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"cuid",code:X.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")VC.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"cuid2",code:X.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")UC.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"ulid",code:X.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Q(i,{validation:"url",code:X.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"regex",code:X.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),Q(i,{code:X.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),Q(i,{code:X.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),Q(i,{code:X.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?oT(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{code:X.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?rT.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{code:X.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?iT(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{code:X.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?ZC.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"duration",code:X.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?sT(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"ip",code:X.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?lT(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"jwt",code:X.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?aT(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"cidr",code:X.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?tT.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"base64",code:X.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?nT.test(t.data)||(i=this._getOrReturnCtx(t,i),Q(i,{validation:"base64url",code:X.invalid_string,message:o.message}),r.dirty()):ye.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:X.invalid_string,...te.errToObj(r)})}_addCheck(t){return new En({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...te.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...te.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...te.errToObj(n)})}nonempty(t){return this.min(1,te.errToObj(t))}trim(){return new En({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}En.create=e=>new En({checks:[],typeName:le.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ue(e)});function uT(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}class Bi extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const o=this._getOrReturnCtx(t);return Q(o,{code:X.invalid_type,expected:J.number,received:o.parsedType}),ae}let r;const i=new dt;for(const o of this._def.checks)o.kind==="int"?ye.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Q(r,{code:X.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:X.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:X.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?uT(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),Q(r,{code:X.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Q(r,{code:X.not_finite,message:o.message}),i.dirty()):ye.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,te.toString(n))}setLimit(t,n,r,i){return new Bi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:te.toString(i)}]})}_addCheck(t){return new Bi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ye.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Bi.create=e=>new Bi({checks:[],typeName:le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ue(e)});class ts extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let r;const i=new dt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:X.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:X.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Q(r,{code:X.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):ye.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Q(n,{code:X.invalid_type,expected:J.bigint,received:n.parsedType}),ae}gte(t,n){return this.setLimit("min",t,!0,te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,te.toString(n))}setLimit(t,n,r,i){return new ts({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:te.toString(i)}]})}_addCheck(t){return new ts({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ts.create=e=>new ts({checks:[],typeName:le.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ue(e)});class zc extends he{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const r=this._getOrReturnCtx(t);return Q(r,{code:X.invalid_type,expected:J.boolean,received:r.parsedType}),ae}return Ft(t.data)}}zc.create=e=>new zc({typeName:le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ue(e)});class Kl extends he{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const o=this._getOrReturnCtx(t);return Q(o,{code:X.invalid_type,expected:J.date,received:o.parsedType}),ae}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Q(o,{code:X.invalid_date}),ae}const r=new dt;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),Q(i,{code:X.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),Q(i,{code:X.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):ye.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Kl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Kl.create=e=>new Kl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:le.ZodDate,...ue(e)});class Rh extends he{_parse(t){if(this._getType(t)!==J.symbol){const r=this._getOrReturnCtx(t);return Q(r,{code:X.invalid_type,expected:J.symbol,received:r.parsedType}),ae}return Ft(t.data)}}Rh.create=e=>new Rh({typeName:le.ZodSymbol,...ue(e)});class Lc extends he{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return Q(r,{code:X.invalid_type,expected:J.undefined,received:r.parsedType}),ae}return Ft(t.data)}}Lc.create=e=>new Lc({typeName:le.ZodUndefined,...ue(e)});class Ah extends he{_parse(t){if(this._getType(t)!==J.null){const r=this._getOrReturnCtx(t);return Q(r,{code:X.invalid_type,expected:J.null,received:r.parsedType}),ae}return Ft(t.data)}}Ah.create=e=>new Ah({typeName:le.ZodNull,...ue(e)});class Dc extends he{constructor(){super(...arguments),this._any=!0}_parse(t){return Ft(t.data)}}Dc.create=e=>new Dc({typeName:le.ZodAny,...ue(e)});class zh extends he{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ft(t.data)}}zh.create=e=>new zh({typeName:le.ZodUnknown,...ue(e)});class wr extends he{_parse(t){const n=this._getOrReturnCtx(t);return Q(n,{code:X.invalid_type,expected:J.never,received:n.parsedType}),ae}}wr.create=e=>new wr({typeName:le.ZodNever,...ue(e)});class Lh extends he{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return Q(r,{code:X.invalid_type,expected:J.void,received:r.parsedType}),ae}return Ft(t.data)}}Lh.create=e=>new Lh({typeName:le.ZodVoid,...ue(e)});class cn extends he{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==J.array)return Q(n,{code:X.invalid_type,expected:J.array,received:n.parsedType}),ae;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(s||l)&&(Q(n,{code:s?X.too_big:X.too_small,minimum:l?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Q(n,{code:X.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Q(n,{code:X.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,l)=>i.type._parseAsync(new dn(n,s,n.path,l)))).then(s=>dt.mergeArray(r,s));const o=[...n.data].map((s,l)=>i.type._parseSync(new dn(n,s,n.path,l)));return dt.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new cn({...this._def,minLength:{value:t,message:te.toString(n)}})}max(t,n){return new cn({...this._def,maxLength:{value:t,message:te.toString(n)}})}length(t,n){return new cn({...this._def,exactLength:{value:t,message:te.toString(n)}})}nonempty(t){return this.min(1,t)}}cn.create=(e,t)=>new cn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...ue(t)});function ti(e){if(e instanceof Fe){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=gr.create(ti(r))}return new Fe({...e._def,shape:()=>t})}else return e instanceof cn?new cn({...e._def,type:ti(e.element)}):e instanceof gr?gr.create(ti(e.unwrap())):e instanceof Ui?Ui.create(ti(e.unwrap())):e instanceof Ur?Ur.create(e.items.map(t=>ti(t))):e}class Fe extends he{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ye.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==J.object){const u=this._getOrReturnCtx(t);return Q(u,{code:X.invalid_type,expected:J.object,received:u.parsedType}),ae}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof wr&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||l.push(u);const a=[];for(const u of s){const c=o[u],d=i.data[u];a.push({key:{status:"valid",value:u},value:c._parse(new dn(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof wr){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of l)a.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")l.length>0&&(Q(i,{code:X.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of l){const d=i.data[c];a.push({key:{status:"valid",value:c},value:u._parse(new dn(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of a){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>dt.mergeObjectSync(r,u)):dt.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return te.errToObj,new Fe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:te.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Fe({...this._def,unknownKeys:"strip"})}passthrough(){return new Fe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Fe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Fe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:le.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Fe({...this._def,catchall:t})}pick(t){const n={};for(const r of ye.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Fe({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ye.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Fe({...this._def,shape:()=>n})}deepPartial(){return ti(this)}partial(t){const n={};for(const r of ye.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new Fe({...this._def,shape:()=>n})}required(t){const n={};for(const r of ye.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof gr;)o=o._def.innerType;n[r]=o}return new Fe({...this._def,shape:()=>n})}keyof(){return nv(ye.objectKeys(this.shape))}}Fe.create=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strip",catchall:wr.create(),typeName:le.ZodObject,...ue(t)});Fe.strictCreate=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strict",catchall:wr.create(),typeName:le.ZodObject,...ue(t)});Fe.lazycreate=(e,t)=>new Fe({shape:e,unknownKeys:"strip",catchall:wr.create(),typeName:le.ZodObject,...ue(t)});class Jl extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const s=o.map(l=>new Rn(l.ctx.common.issues));return Q(n,{code:X.invalid_union,unionErrors:s}),ae}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const a of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=a._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const l=s.map(a=>new Rn(a));return Q(n,{code:X.invalid_union,unionErrors:l}),ae}}get options(){return this._def.options}}Jl.create=(e,t)=>new Jl({options:e,typeName:le.ZodUnion,...ue(t)});function $c(e,t){const n=Jn(e),r=Jn(t);if(e===t)return{valid:!0,data:e};if(n===J.object&&r===J.object){const i=ye.objectKeys(t),o=ye.objectKeys(e).filter(l=>i.indexOf(l)!==-1),s={...e,...t};for(const l of o){const a=$c(e[l],t[l]);if(!a.valid)return{valid:!1};s[l]=a.data}return{valid:!0,data:s}}else if(n===J.array&&r===J.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],l=t[o],a=$c(s,l);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return n===J.date&&r===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ea extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(Mh(o)||Mh(s))return ae;const l=$c(o.value,s.value);return l.valid?((Ih(o)||Ih(s))&&n.dirty(),{status:n.value,value:l.data}):(Q(r,{code:X.invalid_intersection_types}),ae)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ea.create=(e,t,n)=>new ea({left:e,right:t,typeName:le.ZodIntersection,...ue(n)});class Ur extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.array)return Q(r,{code:X.invalid_type,expected:J.array,received:r.parsedType}),ae;if(r.data.length<this._def.items.length)return Q(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,l)=>{const a=this._def.items[l]||this._def.rest;return a?a._parse(new dn(r,s,r.path,l)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>dt.mergeArray(n,s)):dt.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Ur({...this._def,rest:t})}}Ur.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ur({items:e,typeName:le.ZodTuple,rest:null,...ue(t)})};class ta extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.object)return Q(r,{code:X.invalid_type,expected:J.object,received:r.parsedType}),ae;const i=[],o=this._def.keyType,s=this._def.valueType;for(const l in r.data)i.push({key:o._parse(new dn(r,l,r.path,l)),value:s._parse(new dn(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?dt.mergeObjectAsync(n,i):dt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof he?new ta({keyType:t,valueType:n,typeName:le.ZodRecord,...ue(r)}):new ta({keyType:En.create(),valueType:t,typeName:le.ZodRecord,...ue(n)})}}class Dh extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.map)return Q(r,{code:X.invalid_type,expected:J.map,received:r.parsedType}),ae;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([l,a],u)=>({key:i._parse(new dn(r,l,r.path,[u,"key"])),value:o._parse(new dn(r,a,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const a of s){const u=await a.key,c=await a.value;if(u.status==="aborted"||c.status==="aborted")return ae;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const a of s){const u=a.key,c=a.value;if(u.status==="aborted"||c.status==="aborted")return ae;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}}}}Dh.create=(e,t,n)=>new Dh({valueType:t,keyType:e,typeName:le.ZodMap,...ue(n)});class ns extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.set)return Q(r,{code:X.invalid_type,expected:J.set,received:r.parsedType}),ae;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Q(r,{code:X.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Q(r,{code:X.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(a){const u=new Set;for(const c of a){if(c.status==="aborted")return ae;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((a,u)=>o._parse(new dn(r,a,r.path,u)));return r.common.async?Promise.all(l).then(a=>s(a)):s(l)}min(t,n){return new ns({...this._def,minSize:{value:t,message:te.toString(n)}})}max(t,n){return new ns({...this._def,maxSize:{value:t,message:te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ns.create=(e,t)=>new ns({valueType:e,minSize:null,maxSize:null,typeName:le.ZodSet,...ue(t)});class $h extends he{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}$h.create=(e,t)=>new $h({getter:e,typeName:le.ZodLazy,...ue(t)});class Oc extends he{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Q(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}Oc.create=(e,t)=>new Oc({value:e,typeName:le.ZodLiteral,...ue(t)});function nv(e,t){return new Hi({values:e,typeName:le.ZodEnum,...ue(t)})}class Hi extends he{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Q(n,{expected:ye.joinValues(r),received:n.parsedType,code:X.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Q(n,{received:n.data,code:X.invalid_enum_value,options:r}),ae}return Ft(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Hi.create(t,{...this._def,...n})}exclude(t,n=this._def){return Hi.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Hi.create=nv;class Oh extends he{_parse(t){const n=ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==J.string&&r.parsedType!==J.number){const i=ye.objectValues(n);return Q(r,{expected:ye.joinValues(i),received:r.parsedType,code:X.invalid_type}),ae}if(this._cache||(this._cache=new Set(ye.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ye.objectValues(n);return Q(r,{received:r.data,code:X.invalid_enum_value,options:i}),ae}return Ft(t.data)}get enum(){return this._def.values}}Oh.create=(e,t)=>new Oh({values:e,typeName:le.ZodNativeEnum,...ue(t)});class na extends he{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.promise&&n.common.async===!1)return Q(n,{code:X.invalid_type,expected:J.promise,received:n.parsedType}),ae;const r=n.parsedType===J.promise?n.data:Promise.resolve(n.data);return Ft(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}na.create=(e,t)=>new na({type:e,typeName:le.ZodPromise,...ue(t)});class Vi extends he{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{Q(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async l=>{if(n.value==="aborted")return ae;const a=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return a.status==="aborted"?ae:a.status==="dirty"||n.value==="dirty"?wo(a.value):a});{if(n.value==="aborted")return ae;const l=this._def.schema._parseSync({data:s,path:r.path,parent:r});return l.status==="aborted"?ae:l.status==="dirty"||n.value==="dirty"?wo(l.value):l}}if(i.type==="refinement"){const s=l=>{const a=i.refinement(l,o);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ae:(l.status==="dirty"&&n.dirty(),s(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ae:(l.status==="dirty"&&n.dirty(),s(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fi(s))return ae;const l=i.transform(s.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Fi(s)?Promise.resolve(i.transform(s.value,o)).then(l=>({status:n.value,value:l})):ae);ye.assertNever(i)}}Vi.create=(e,t,n)=>new Vi({schema:e,typeName:le.ZodEffects,effect:t,...ue(n)});Vi.createWithPreprocess=(e,t,n)=>new Vi({schema:t,effect:{type:"preprocess",transform:e},typeName:le.ZodEffects,...ue(n)});class gr extends he{_parse(t){return this._getType(t)===J.undefined?Ft(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gr.create=(e,t)=>new gr({innerType:e,typeName:le.ZodOptional,...ue(t)});class Ui extends he{_parse(t){return this._getType(t)===J.null?Ft(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ui.create=(e,t)=>new Ui({innerType:e,typeName:le.ZodNullable,...ue(t)});class jc extends he{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===J.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}jc.create=(e,t)=>new jc({innerType:e,typeName:le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ue(t)});class Fc extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ql(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Fc.create=(e,t)=>new Fc({innerType:e,typeName:le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ue(t)});class jh extends he{_parse(t){if(this._getType(t)!==J.nan){const r=this._getOrReturnCtx(t);return Q(r,{code:X.invalid_type,expected:J.nan,received:r.parsedType}),ae}return{status:"valid",value:t.data}}}jh.create=e=>new jh({typeName:le.ZodNaN,...ue(e)});class cT extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class of extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ae:o.status==="dirty"?(n.dirty(),wo(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ae:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new of({in:t,out:n,typeName:le.ZodPipeline})}}class Bc extends he{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Fi(i)&&(i.value=Object.freeze(i.value)),i);return Ql(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Bc.create=(e,t)=>new Bc({innerType:e,typeName:le.ZodReadonly,...ue(t)});var le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(le||(le={}));const me=En.create,Wr=Bi.create,sf=zc.create,rv=Lc.create,dT=Dc.create;wr.create;const Wi=cn.create,_t=Fe.create,fT=Jl.create;ea.create;const Fh=Ur.create,pT=ta.create,fs=Oc.create,hT=Hi.create;na.create;gr.create;Ui.create;const Bh=_t({port:me(),types:Wi(me()).default([])}).passthrough(),mT=_t({id:me(),type:me(),name:me().optional(),params:pT(dT()).default({}),in:Wi(Bh).default([]),out:Wi(Bh).default([])}).passthrough(),gT=_t({id:me().optional(),from:Fh([me(),me()]),to:Fh([me(),me()]),label:me().optional()}).passthrough(),iv=_t({id:me(),version:me().default("1.0.0"),nodes:Wi(mT).default([]),edges:Wi(gT).default([])}).passthrough(),Hh={request:iv,response:_t({ok:sf(),errors:Wi(me())})},Vh={request:iv,response:_t({runId:me()})},Uh={request:_t({modelId:me()}),response:_t({ok:sf()})},yT=_t({type:fs("node_state"),runId:me(),nodeId:me(),state:me(),at:Wr()}),vT=_t({type:fs("edge_transfer"),runId:me(),edgeId:me(),bytes:Wr(),at:Wr()}),xT=_t({type:fs("normalize"),runId:me(),nodeId:me(),fromType:me(),toType:me(),at:Wr()}),wT=_t({type:fs("error"),runId:me(),nodeId:me(),code:me(),message:me(),at:Wr()}),_T=_t({type:fs("operation_progress"),runId:me(),nodeId:me(),tokens:Wr(),latencyMs:Wr(),status:hT(["ok","error"]),reason:me().optional()}),ST=fT([yT,vT,xT,wT,_T]),kT={payload:ST},Wh={request:rv(),response:me()};rv(),_t({ok:sf()});async function el(e,t,n,r){const i=t.safeParse(r);if(!i.success)throw{type:"validation",issues:i.error.issues};const o=await e(i.data);if(o&&typeof o=="object"&&"error"in o)throw{type:"ipc",error:o.error};const s=n.safeParse(o);if(!s.success)throw{type:"validation",issues:s.error.issues};return s.data}const ET={validateFlow:e=>el(window.voide.validateFlow,Hh.request,Hh.response,e),runFlow:e=>el(window.voide.runFlow,Vh.request,Vh.response,e),ensureModel:e=>el(window.voide.ensureModel,Uh.request,Uh.response,{modelId:e}),getVersion:()=>el(window.voide.getVersion,Wh.request,Wh.response,void 0),onTelemetry:e=>{window.voide.onTelemetry(t=>{const n=kT.payload.safeParse(t);n.success&&e(n.data)})}},bT={display:"flex",flexDirection:"column",height:"100vh",background:"#e2e8f0"},CT={display:"flex",flex:1,minHeight:0},TT={flex:1,minHeight:0,position:"relative",background:"#ffffff"};function qh(){return typeof window>"u"?"":window.location.hash.replace(/^#/,"").replace(/^\//,"")}function NT(){const e=ds(n=>n.flow),t=S.useCallback(async()=>{const{sendActiveDraft:n,hasOpenChat:r}=Ye.getState(),i=n();r()&&!i||await ET.runFlow(e)},[e]);return v.jsxs("div",{style:bT,children:[v.jsx(NC,{onRun:t}),v.jsxs("div",{style:CT,children:[v.jsx(LC,{}),v.jsx("div",{style:TT,children:v.jsx(EC,{})})]})]})}function MT(){const[e,t]=S.useState(()=>qh());return S.useEffect(()=>{if(typeof window>"u")return;const n=()=>t(qh());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),e==="chat"?v.jsx(OC,{}):v.jsx(NT,{})}ly(document.getElementById("root")).render(v.jsx(MT,{}));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fh={exports:{}},Ql={},Bh={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=Symbol.for("react.element"),Tv=Symbol.for("react.portal"),Nv=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),Av=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Lv=Symbol.for("react.memo"),Dv=Symbol.for("react.lazy"),nf=Symbol.iterator;function $v(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}var Hh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vh=Object.assign,Uh={};function Bi(e,t,n){this.props=e,this.context=t,this.refs=Uh,this.updater=n||Hh}Bi.prototype.isReactComponent={};Bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wh(){}Wh.prototype=Bi.prototype;function Lc(e,t,n){this.props=e,this.context=t,this.refs=Uh,this.updater=n||Hh}var Dc=Lc.prototype=new Wh;Dc.constructor=Lc;Vh(Dc,Bi.prototype);Dc.isPureReactComponent=!0;var rf=Array.isArray,qh=Object.prototype.hasOwnProperty,$c={current:null},Yh={key:!0,ref:!0,__self:!0,__source:!0};function Zh(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)qh.call(t,r)&&!Yh.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Jo,type:e,key:o,ref:s,props:i,_owner:$c.current}}function Ov(e,t){return{$$typeof:Jo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jo}function jv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var of=/\/+/g;function Ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jv(""+e.key):t.toString(36)}function Zs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Jo:case Tv:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ea(s,0):r,rf(i)?(n="",e!=null&&(n=e.replace(of,"$&/")+"/"),Zs(i,t,n,"",function(u){return u})):i!=null&&(Oc(i)&&(i=Ov(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(of,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",rf(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Ea(o,l);s+=Zs(o,t,n,a,i)}else if(a=$v(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Ea(o,l++),s+=Zs(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function cs(e,t,n){if(e==null)return e;var r=[],i=0;return Zs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Fv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Xs={transition:null},Bv={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:$c};function Xh(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:cs,forEach:function(e,t,n){cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!Oc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Bi;de.Fragment=Nv;de.Profiler=Iv;de.PureComponent=Lc;de.StrictMode=Mv;de.Suspense=zv;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bv;de.act=Xh;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vh({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=$c.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)qh.call(t,a)&&!Yh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Jo,type:e.type,key:i,ref:o,props:r,_owner:s}};de.createContext=function(e){return e={$$typeof:Rv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pv,_context:e},e.Consumer=e};de.createElement=Zh;de.createFactory=function(e){var t=Zh.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Av,render:e}};de.isValidElement=Oc;de.lazy=function(e){return{$$typeof:Dv,_payload:{_status:-1,_result:e},_init:Fv}};de.memo=function(e,t){return{$$typeof:Lv,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Xs.transition;Xs.transition={};try{e()}finally{Xs.transition=t}};de.unstable_act=Xh;de.useCallback=function(e,t){return ct.current.useCallback(e,t)};de.useContext=function(e){return ct.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};de.useEffect=function(e,t){return ct.current.useEffect(e,t)};de.useId=function(){return ct.current.useId()};de.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return ct.current.useMemo(e,t)};de.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};de.useRef=function(e){return ct.current.useRef(e)};de.useState=function(e){return ct.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return ct.current.useTransition()};de.version="18.3.1";Bh.exports=de;var k=Bh.exports;const U=jh(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=k,Vv=Symbol.for("react.element"),Uv=Symbol.for("react.fragment"),Wv=Object.prototype.hasOwnProperty,qv=Hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yv={key:!0,ref:!0,__self:!0,__source:!0};function Gh(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Wv.call(t,r)&&!Yv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Vv,type:e,key:o,ref:s,props:i,_owner:qv.current}}Ql.Fragment=Uv;Ql.jsx=Gh;Ql.jsxs=Gh;Fh.exports=Ql;var w=Fh.exports,Qh={exports:{}},Tt={},Kh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,b){var v=P.length;P.push(b);e:for(;0<v;){var C=v-1>>>1,R=P[C];if(0<i(R,b))P[C]=b,P[v]=R,v=C;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var b=P[0],v=P.pop();if(v!==b){P[0]=v;e:for(var C=0,R=P.length,$=R>>>1;C<$;){var V=2*(C+1)-1,Z=P[V],G=V+1,re=P[G];if(0>i(Z,v))G<R&&0>i(re,Z)?(P[C]=re,P[G]=v,C=G):(P[C]=Z,P[V]=v,C=V);else if(G<R&&0>i(re,v))P[C]=re,P[G]=v,C=G;else break e}}return b}function i(P,b){var v=P.sortIndex-b.sortIndex;return v!==0?v:P.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,_=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=P)r(u),b.sortIndex=b.expirationTime,t(a,b);else break;b=n(u)}}function S(P){if(x=!1,g(P),!_)if(n(a)!==null)_=!0,T(M);else{var b=n(u);b!==null&&j(S,b.startTime-P)}}function M(P,b){_=!1,x&&(x=!1,p(I),I=-1),m=!0;var v=f;try{for(g(b),d=n(a);d!==null&&(!(d.expirationTime>b)||P&&!O());){var C=d.callback;if(typeof C=="function"){d.callback=null,f=d.priorityLevel;var R=C(d.expirationTime<=b);b=e.unstable_now(),typeof R=="function"?d.callback=R:d===n(a)&&r(a),g(b)}else r(a);d=n(a)}if(d!==null)var $=!0;else{var V=n(u);V!==null&&j(S,V.startTime-b),$=!1}return $}finally{d=null,f=v,m=!1}}var A=!1,E=null,I=-1,D=5,z=-1;function O(){return!(e.unstable_now()-z<D)}function q(){if(E!==null){var P=e.unstable_now();z=P;var b=!0;try{b=E(!0,P)}finally{b?H():(A=!1,E=null)}}else A=!1}var H;if(typeof h=="function")H=function(){h(q)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,L=y.port2;y.port1.onmessage=q,H=function(){L.postMessage(null)}}else H=function(){N(q,0)};function T(P){E=P,A||(A=!0,H())}function j(P,b){I=N(function(){P(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){_||m||(_=!0,T(M))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var b=3;break;default:b=f}var v=f;f=b;try{return P()}finally{f=v}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,b){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var v=f;f=P;try{return b()}finally{f=v}},e.unstable_scheduleCallback=function(P,b,v){var C=e.unstable_now();switch(typeof v=="object"&&v!==null?(v=v.delay,v=typeof v=="number"&&0<v?C+v:C):v=C,P){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=v+R,P={id:c++,callback:b,priorityLevel:P,startTime:v,expirationTime:R,sortIndex:-1},v>C?(P.sortIndex=v,t(u,P),n(a)===null&&P===n(u)&&(x?(p(I),I=-1):x=!0,j(S,v-C))):(P.sortIndex=R,t(a,P),_||m||(_=!0,T(M))),P},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(P){var b=f;return function(){var v=f;f=b;try{return P.apply(this,arguments)}finally{f=v}}}})(Jh);Kh.exports=Jh;var Zv=Kh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=k,Et=Zv;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var em=new Set,Co={};function Vr(e,t){Ei(e,t),Ei(e+"Capture",t)}function Ei(e,t){for(Co[e]=t,e=0;e<t.length;e++)em.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,Gv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},lf={};function Qv(e){return pu.call(lf,e)?!0:pu.call(sf,e)?!1:Gv.test(e)?lf[e]=!0:(sf[e]=!0,!1)}function Kv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jv(e,t,n,r){if(t===null||typeof t>"u"||Kv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jc=/[\-:]([a-z])/g;function Fc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jc,Fc);Ge[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jc,Fc);Ge[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jc,Fc);Ge[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bc(e,t,n,r){var i=Ge.hasOwnProperty(t)?Ge[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jv(t,n,i,r)&&(n=null),r||i===null?Qv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rn=Xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),hu=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),nm=Symbol.for("react.context"),Vc=Symbol.for("react.forward_ref"),mu=Symbol.for("react.suspense"),gu=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),rm=Symbol.for("react.offscreen"),af=Symbol.iterator;function Yi(e){return e===null||typeof e!="object"?null:(e=af&&e[af]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,ba;function lo(e){if(ba===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ba=t&&t[1]||""}return`
`+ba+e}var Ca=!1;function Ta(e,t){if(!e||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lo(e):""}function ex(e){switch(e.tag){case 5:return lo(e.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 2:case 15:return e=Ta(e.type,!1),e;case 11:return e=Ta(e.type.render,!1),e;case 1:return e=Ta(e.type,!0),e;default:return""}}function yu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jr:return"Fragment";case Kr:return"Portal";case hu:return"Profiler";case Hc:return"StrictMode";case mu:return"Suspense";case gu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nm:return(e.displayName||"Context")+".Consumer";case tm:return(e._context.displayName||"Context")+".Provider";case Vc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uc:return t=e.displayName||null,t!==null?t:yu(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return yu(e(t))}catch{}}return null}function tx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yu(t);case 8:return t===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function im(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nx(e){var t=im(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=nx(e))}function om(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=im(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vu(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sm(e,t){t=t.checked,t!=null&&Bc(e,"checked",t,!1)}function xu(e,t){sm(e,t);var n=fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wu(e,t.type,n):t.hasOwnProperty("defaultValue")&&wu(e,t.type,fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wu(e,t,n){(t!=="number"||dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ao=Array.isArray;function hi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _u(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function df(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(ao(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fr(n)}}function lm(e,t){var n=fr(t.value),r=fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function am(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?am(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,um=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function To(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rx=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(e){rx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yo[t]=yo[e]})});function cm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yo.hasOwnProperty(e)&&yo[e]?(""+t).trim():t+"px"}function dm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ix=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ku(e,t){if(t){if(ix[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Eu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function Wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cu=null,mi=null,gi=null;function pf(e){if(e=ns(e)){if(typeof Cu!="function")throw Error(W(280));var t=e.stateNode;t&&(t=na(t),Cu(e.stateNode,e.type,t))}}function fm(e){mi?gi?gi.push(e):gi=[e]:mi=e}function pm(){if(mi){var e=mi,t=gi;if(gi=mi=null,pf(e),t)for(e=0;e<t.length;e++)pf(t[e])}}function hm(e,t){return e(t)}function mm(){}var Na=!1;function gm(e,t,n){if(Na)return e(t,n);Na=!0;try{return hm(e,t,n)}finally{Na=!1,(mi!==null||gi!==null)&&(mm(),pm())}}function No(e,t){var n=e.stateNode;if(n===null)return null;var r=na(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Tu=!1;if(bn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Tu=!1}function ox(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var vo=!1,fl=null,pl=!1,Nu=null,sx={onError:function(e){vo=!0,fl=e}};function lx(e,t,n,r,i,o,s,l,a){vo=!1,fl=null,ox.apply(sx,arguments)}function ax(e,t,n,r,i,o,s,l,a){if(lx.apply(this,arguments),vo){if(vo){var u=fl;vo=!1,fl=null}else throw Error(W(198));pl||(pl=!0,Nu=u)}}function Ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ym(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hf(e){if(Ur(e)!==e)throw Error(W(188))}function ux(e){var t=e.alternate;if(!t){if(t=Ur(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hf(i),e;if(o===r)return hf(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function vm(e){return e=ux(e),e!==null?xm(e):null}function xm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xm(e);if(t!==null)return t;e=e.sibling}return null}var wm=Et.unstable_scheduleCallback,mf=Et.unstable_cancelCallback,cx=Et.unstable_shouldYield,dx=Et.unstable_requestPaint,$e=Et.unstable_now,fx=Et.unstable_getCurrentPriorityLevel,qc=Et.unstable_ImmediatePriority,_m=Et.unstable_UserBlockingPriority,hl=Et.unstable_NormalPriority,px=Et.unstable_LowPriority,Sm=Et.unstable_IdlePriority,Kl=null,an=null;function hx(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Kl,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:yx,mx=Math.log,gx=Math.LN2;function yx(e){return e>>>=0,e===0?32:31-(mx(e)/gx|0)|0}var hs=64,ms=4194304;function uo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=uo(l):(o&=s,o!==0&&(r=uo(o)))}else s=n&~i,s!==0?r=uo(s):o!==0&&(r=uo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),i=1<<n,r|=e[n],t&=~i;return r}function vx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Qt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=vx(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Mu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function km(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function wx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Yc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _e=0;function Em(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bm,Zc,Cm,Tm,Nm,Iu=!1,gs=[],tr=null,nr=null,rr=null,Mo=new Map,Io=new Map,Xn=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gf(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(t.pointerId)}}function Xi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ns(t),t!==null&&Zc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sx(e,t,n,r,i){switch(t){case"focusin":return tr=Xi(tr,e,t,n,r,i),!0;case"dragenter":return nr=Xi(nr,e,t,n,r,i),!0;case"mouseover":return rr=Xi(rr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mo.set(o,Xi(Mo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Io.set(o,Xi(Io.get(o)||null,e,t,n,r,i)),!0}return!1}function Mm(e){var t=Er(e.target);if(t!==null){var n=Ur(t);if(n!==null){if(t=n.tag,t===13){if(t=ym(n),t!==null){e.blockedOn=t,Nm(e.priority,function(){Cm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bu=r,n.target.dispatchEvent(r),bu=null}else return t=ns(n),t!==null&&Zc(t),e.blockedOn=n,!1;t.shift()}return!0}function yf(e,t,n){Gs(e)&&n.delete(t)}function kx(){Iu=!1,tr!==null&&Gs(tr)&&(tr=null),nr!==null&&Gs(nr)&&(nr=null),rr!==null&&Gs(rr)&&(rr=null),Mo.forEach(yf),Io.forEach(yf)}function Gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Iu||(Iu=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,kx)))}function Po(e){function t(i){return Gi(i,e)}if(0<gs.length){Gi(gs[0],e);for(var n=1;n<gs.length;n++){var r=gs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tr!==null&&Gi(tr,e),nr!==null&&Gi(nr,e),rr!==null&&Gi(rr,e),Mo.forEach(t),Io.forEach(t),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)Mm(n),n.blockedOn===null&&Xn.shift()}var yi=Rn.ReactCurrentBatchConfig,gl=!0;function Ex(e,t,n,r){var i=_e,o=yi.transition;yi.transition=null;try{_e=1,Xc(e,t,n,r)}finally{_e=i,yi.transition=o}}function bx(e,t,n,r){var i=_e,o=yi.transition;yi.transition=null;try{_e=4,Xc(e,t,n,r)}finally{_e=i,yi.transition=o}}function Xc(e,t,n,r){if(gl){var i=Pu(e,t,n,r);if(i===null)ja(e,t,r,yl,n),gf(e,r);else if(Sx(i,e,t,n,r))r.stopPropagation();else if(gf(e,r),t&4&&-1<_x.indexOf(e)){for(;i!==null;){var o=ns(i);if(o!==null&&bm(o),o=Pu(e,t,n,r),o===null&&ja(e,t,r,yl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ja(e,t,r,null,n)}}var yl=null;function Pu(e,t,n,r){if(yl=null,e=Wc(r),e=Er(e),e!==null)if(t=Ur(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ym(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yl=e,null}function Im(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fx()){case qc:return 1;case _m:return 4;case hl:case px:return 16;case Sm:return 536870912;default:return 16}default:return 16}}var Kn=null,Gc=null,Qs=null;function Pm(){if(Qs)return Qs;var e,t=Gc,n=t.length,r,i="value"in Kn?Kn.value:Kn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Qs=i.slice(e,1<r?1-r:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function vf(){return!1}function Nt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ys:vf,this.isPropagationStopped=vf,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qc=Nt(Hi),ts=Me({},Hi,{view:0,detail:0}),Cx=Nt(ts),Ia,Pa,Qi,Jl=Me({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(Ia=e.screenX-Qi.screenX,Pa=e.screenY-Qi.screenY):Pa=Ia=0,Qi=e),Ia)},movementY:function(e){return"movementY"in e?e.movementY:Pa}}),xf=Nt(Jl),Tx=Me({},Jl,{dataTransfer:0}),Nx=Nt(Tx),Mx=Me({},ts,{relatedTarget:0}),Ra=Nt(Mx),Ix=Me({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=Nt(Ix),Rx=Me({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ax=Nt(Rx),zx=Me({},Hi,{data:0}),wf=Nt(zx),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ox(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$x[e])?!!t[e]:!1}function Kc(){return Ox}var jx=Me({},ts,{key:function(e){if(e.key){var t=Lx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fx=Nt(jx),Bx=Me({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=Nt(Bx),Hx=Me({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),Vx=Nt(Hx),Ux=Me({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=Nt(Ux),qx=Me({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=Nt(qx),Zx=[9,13,27,32],Jc=bn&&"CompositionEvent"in window,xo=null;bn&&"documentMode"in document&&(xo=document.documentMode);var Xx=bn&&"TextEvent"in window&&!xo,Rm=bn&&(!Jc||xo&&8<xo&&11>=xo),Sf=" ",kf=!1;function Am(e,t){switch(e){case"keyup":return Zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function Gx(e,t){switch(e){case"compositionend":return zm(t);case"keypress":return t.which!==32?null:(kf=!0,Sf);case"textInput":return e=t.data,e===Sf&&kf?null:e;default:return null}}function Qx(e,t){if(ei)return e==="compositionend"||!Jc&&Am(e,t)?(e=Pm(),Qs=Gc=Kn=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rm&&t.locale!=="ko"?null:t.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kx[e.type]:t==="textarea"}function Lm(e,t,n,r){fm(r),t=vl(t,"onChange"),0<t.length&&(n=new Qc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wo=null,Ro=null;function Jx(e){qm(e,0)}function ea(e){var t=ri(e);if(om(t))return e}function e1(e,t){if(e==="change")return t}var Dm=!1;if(bn){var Aa;if(bn){var za="oninput"in document;if(!za){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),za=typeof bf.oninput=="function"}Aa=za}else Aa=!1;Dm=Aa&&(!document.documentMode||9<document.documentMode)}function Cf(){wo&&(wo.detachEvent("onpropertychange",$m),Ro=wo=null)}function $m(e){if(e.propertyName==="value"&&ea(Ro)){var t=[];Lm(t,Ro,e,Wc(e)),gm(Jx,t)}}function t1(e,t,n){e==="focusin"?(Cf(),wo=t,Ro=n,wo.attachEvent("onpropertychange",$m)):e==="focusout"&&Cf()}function n1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ea(Ro)}function r1(e,t){if(e==="click")return ea(t)}function i1(e,t){if(e==="input"||e==="change")return ea(t)}function o1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:o1;function Ao(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pu.call(t,i)||!en(e[i],t[i]))return!1}return!0}function Tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nf(e,t){var n=Tf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tf(n)}}function Om(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Om(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jm(){for(var e=window,t=dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dl(e.document)}return t}function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s1(e){var t=jm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Om(n.ownerDocument.documentElement,n)){if(r!==null&&ed(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Nf(n,o);var s=Nf(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l1=bn&&"documentMode"in document&&11>=document.documentMode,ti=null,Ru=null,_o=null,Au=!1;function Mf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Au||ti==null||ti!==dl(r)||(r=ti,"selectionStart"in r&&ed(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&Ao(_o,r)||(_o=r,r=vl(Ru,"onSelect"),0<r.length&&(t=new Qc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ni={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},La={},Fm={};bn&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function ta(e){if(La[e])return La[e];if(!ni[e])return e;var t=ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fm)return La[e]=t[n];return e}var Bm=ta("animationend"),Hm=ta("animationiteration"),Vm=ta("animationstart"),Um=ta("transitionend"),Wm=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Wm.set(e,t),Vr(t,[e])}for(var Da=0;Da<If.length;Da++){var $a=If[Da],a1=$a.toLowerCase(),u1=$a[0].toUpperCase()+$a.slice(1);gr(a1,"on"+u1)}gr(Bm,"onAnimationEnd");gr(Hm,"onAnimationIteration");gr(Vm,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Um,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Pf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ax(r,t,void 0,e),e.currentTarget=null}function qm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Pf(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Pf(i,l,u),o=a}}}if(pl)throw e=Nu,pl=!1,Nu=null,e}function ke(e,t){var n=t[Ou];n===void 0&&(n=t[Ou]=new Set);var r=e+"__bubble";n.has(r)||(Ym(t,e,2,!1),n.add(r))}function Oa(e,t,n){var r=0;t&&(r|=4),Ym(n,e,r,t)}var xs="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[xs]){e[xs]=!0,em.forEach(function(n){n!=="selectionchange"&&(c1.has(n)||Oa(n,!1,e),Oa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xs]||(t[xs]=!0,Oa("selectionchange",!1,t))}}function Ym(e,t,n,r){switch(Im(t)){case 1:var i=Ex;break;case 4:i=bx;break;default:i=Xc}n=i.bind(null,t,n,e),i=void 0,!Tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ja(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Er(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}gm(function(){var u=o,c=Wc(n),d=[];e:{var f=Wm.get(e);if(f!==void 0){var m=Qc,_=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":m=Fx;break;case"focusin":_="focus",m=Ra;break;case"focusout":_="blur",m=Ra;break;case"beforeblur":case"afterblur":m=Ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Vx;break;case Bm:case Hm:case Vm:m=Px;break;case Um:m=Wx;break;case"scroll":m=Cx;break;case"wheel":m=Yx;break;case"copy":case"cut":case"paste":m=Ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_f}var x=(t&4)!==0,N=!x&&e==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var h=u,g;h!==null;){g=h;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,p!==null&&(S=No(h,p),S!=null&&x.push(Lo(h,S,g)))),N)break;h=h.return}0<x.length&&(f=new m(f,_,null,n,c),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==bu&&(_=n.relatedTarget||n.fromElement)&&(Er(_)||_[Cn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?Er(_):null,_!==null&&(N=Ur(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(x=xf,S="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(x=_f,S="onPointerLeave",p="onPointerEnter",h="pointer"),N=m==null?f:ri(m),g=_==null?f:ri(_),f=new x(S,h+"leave",m,n,c),f.target=N,f.relatedTarget=g,S=null,Er(c)===u&&(x=new x(p,h+"enter",_,n,c),x.target=g,x.relatedTarget=N,S=x),N=S,m&&_)t:{for(x=m,p=_,h=0,g=x;g;g=Wr(g))h++;for(g=0,S=p;S;S=Wr(S))g++;for(;0<h-g;)x=Wr(x),h--;for(;0<g-h;)p=Wr(p),g--;for(;h--;){if(x===p||p!==null&&x===p.alternate)break t;x=Wr(x),p=Wr(p)}x=null}else x=null;m!==null&&Rf(d,f,m,x,!1),_!==null&&N!==null&&Rf(d,N,_,x,!0)}}e:{if(f=u?ri(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var M=e1;else if(Ef(f))if(Dm)M=i1;else{M=n1;var A=t1}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=r1);if(M&&(M=M(e,u))){Lm(d,M,n,c);break e}A&&A(e,f,u),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&wu(f,"number",f.value)}switch(A=u?ri(u):window,e){case"focusin":(Ef(A)||A.contentEditable==="true")&&(ti=A,Ru=u,_o=null);break;case"focusout":_o=Ru=ti=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Mf(d,n,c);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":Mf(d,n,c)}var E;if(Jc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ei?Am(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Rm&&n.locale!=="ko"&&(ei||I!=="onCompositionStart"?I==="onCompositionEnd"&&ei&&(E=Pm()):(Kn=c,Gc="value"in Kn?Kn.value:Kn.textContent,ei=!0)),A=vl(u,I),0<A.length&&(I=new wf(I,e,null,n,c),d.push({event:I,listeners:A}),E?I.data=E:(E=zm(n),E!==null&&(I.data=E)))),(E=Xx?Gx(e,n):Qx(e,n))&&(u=vl(u,"onBeforeInput"),0<u.length&&(c=new wf("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}qm(d,t)})}function Lo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=No(e,n),o!=null&&r.unshift(Lo(e,o,i)),o=No(e,t),o!=null&&r.push(Lo(e,o,i))),e=e.return}return r}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rf(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=No(n,o),a!=null&&s.unshift(Lo(n,a,l))):i||(a=No(n,o),a!=null&&s.push(Lo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var d1=/\r\n?/g,f1=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(d1,`
`).replace(f1,"")}function ws(e,t,n){if(t=Af(t),Af(e)!==t&&n)throw Error(W(425))}function xl(){}var zu=null,Lu=null;function Du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $u=typeof setTimeout=="function"?setTimeout:void 0,p1=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(e){return zf.resolve(null).then(e).catch(m1)}:$u;function m1(e){setTimeout(function(){throw e})}function Fa(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Po(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Po(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),ln="__reactFiber$"+Vi,Do="__reactProps$"+Vi,Cn="__reactContainer$"+Vi,Ou="__reactEvents$"+Vi,g1="__reactListeners$"+Vi,y1="__reactHandles$"+Vi;function Er(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lf(e);e!==null;){if(n=e[ln])return n;e=Lf(e)}return t}e=n,n=e.parentNode}return null}function ns(e){return e=e[ln]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function na(e){return e[Do]||null}var ju=[],ii=-1;function yr(e){return{current:e}}function Ee(e){0>ii||(e.current=ju[ii],ju[ii]=null,ii--)}function Se(e,t){ii++,ju[ii]=e.current,e.current=t}var pr={},rt=yr(pr),yt=yr(!1),Ar=pr;function bi(e,t){var n=e.type.contextTypes;if(!n)return pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vt(e){return e=e.childContextTypes,e!=null}function wl(){Ee(yt),Ee(rt)}function Df(e,t,n){if(rt.current!==pr)throw Error(W(168));Se(rt,t),Se(yt,n)}function Zm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,tx(e)||"Unknown",i));return Me({},n,r)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Ar=rt.current,Se(rt,e),Se(yt,yt.current),!0}function $f(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Zm(e,t,Ar),r.__reactInternalMemoizedMergedChildContext=e,Ee(yt),Ee(rt),Se(rt,e)):Ee(yt),Se(yt,n)}var xn=null,ra=!1,Ba=!1;function Xm(e){xn===null?xn=[e]:xn.push(e)}function v1(e){ra=!0,Xm(e)}function vr(){if(!Ba&&xn!==null){Ba=!0;var e=0,t=_e;try{var n=xn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xn=null,ra=!1}catch(i){throw xn!==null&&(xn=xn.slice(e+1)),wm(qc,vr),i}finally{_e=t,Ba=!1}}return null}var oi=[],si=0,Sl=null,kl=0,zt=[],Lt=0,zr=null,wn=1,_n="";function _r(e,t){oi[si++]=kl,oi[si++]=Sl,Sl=e,kl=t}function Gm(e,t,n){zt[Lt++]=wn,zt[Lt++]=_n,zt[Lt++]=zr,zr=e;var r=wn;e=_n;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var o=32-Qt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,wn=1<<32-Qt(t)+i|n<<i|r,_n=o+e}else wn=1<<o|n<<i|r,_n=e}function td(e){e.return!==null&&(_r(e,1),Gm(e,1,0))}function nd(e){for(;e===Sl;)Sl=oi[--si],oi[si]=null,kl=oi[--si],oi[si]=null;for(;e===zr;)zr=zt[--Lt],zt[Lt]=null,_n=zt[--Lt],zt[Lt]=null,wn=zt[--Lt],zt[Lt]=null}var kt=null,St=null,Ce=!1,Zt=null;function Qm(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Of(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,St=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zr!==null?{id:wn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,St=null,!0):!1;default:return!1}}function Fu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bu(e){if(Ce){var t=St;if(t){var n=t;if(!Of(e,t)){if(Fu(e))throw Error(W(418));t=ir(n.nextSibling);var r=kt;t&&Of(e,t)?Qm(r,n):(e.flags=e.flags&-4097|2,Ce=!1,kt=e)}}else{if(Fu(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ce=!1,kt=e}}}function jf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function _s(e){if(e!==kt)return!1;if(!Ce)return jf(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Du(e.type,e.memoizedProps)),t&&(t=St)){if(Fu(e))throw Km(),Error(W(418));for(;t;)Qm(e,t),t=ir(t.nextSibling)}if(jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=kt?ir(e.stateNode.nextSibling):null;return!0}function Km(){for(var e=St;e;)e=ir(e.nextSibling)}function Ci(){St=kt=null,Ce=!1}function rd(e){Zt===null?Zt=[e]:Zt.push(e)}var x1=Rn.ReactCurrentBatchConfig;function Ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ff(e){var t=e._init;return t(e._payload)}function Jm(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=ar(p,h),p.index=0,p.sibling=null,p}function o(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,g,S){return h===null||h.tag!==6?(h=Za(g,p.mode,S),h.return=p,h):(h=i(h,g),h.return=p,h)}function a(p,h,g,S){var M=g.type;return M===Jr?c(p,h,g.props.children,S,g.key):h!==null&&(h.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Un&&Ff(M)===h.type)?(S=i(h,g.props),S.ref=Ki(p,h,g),S.return=p,S):(S=ol(g.type,g.key,g.props,null,p.mode,S),S.ref=Ki(p,h,g),S.return=p,S)}function u(p,h,g,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Xa(g,p.mode,S),h.return=p,h):(h=i(h,g.children||[]),h.return=p,h)}function c(p,h,g,S,M){return h===null||h.tag!==7?(h=Ir(g,p.mode,S,M),h.return=p,h):(h=i(h,g),h.return=p,h)}function d(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Za(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ds:return g=ol(h.type,h.key,h.props,null,p.mode,g),g.ref=Ki(p,null,h),g.return=p,g;case Kr:return h=Xa(h,p.mode,g),h.return=p,h;case Un:var S=h._init;return d(p,S(h._payload),g)}if(ao(h)||Yi(h))return h=Ir(h,p.mode,g,null),h.return=p,h;Ss(p,h)}return null}function f(p,h,g,S){var M=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return M!==null?null:l(p,h,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:return g.key===M?a(p,h,g,S):null;case Kr:return g.key===M?u(p,h,g,S):null;case Un:return M=g._init,f(p,h,M(g._payload),S)}if(ao(g)||Yi(g))return M!==null?null:c(p,h,g,S,null);Ss(p,g)}return null}function m(p,h,g,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(g)||null,l(h,p,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ds:return p=p.get(S.key===null?g:S.key)||null,a(h,p,S,M);case Kr:return p=p.get(S.key===null?g:S.key)||null,u(h,p,S,M);case Un:var A=S._init;return m(p,h,g,A(S._payload),M)}if(ao(S)||Yi(S))return p=p.get(g)||null,c(h,p,S,M,null);Ss(h,S)}return null}function _(p,h,g,S){for(var M=null,A=null,E=h,I=h=0,D=null;E!==null&&I<g.length;I++){E.index>I?(D=E,E=null):D=E.sibling;var z=f(p,E,g[I],S);if(z===null){E===null&&(E=D);break}e&&E&&z.alternate===null&&t(p,E),h=o(z,h,I),A===null?M=z:A.sibling=z,A=z,E=D}if(I===g.length)return n(p,E),Ce&&_r(p,I),M;if(E===null){for(;I<g.length;I++)E=d(p,g[I],S),E!==null&&(h=o(E,h,I),A===null?M=E:A.sibling=E,A=E);return Ce&&_r(p,I),M}for(E=r(p,E);I<g.length;I++)D=m(E,p,I,g[I],S),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?I:D.key),h=o(D,h,I),A===null?M=D:A.sibling=D,A=D);return e&&E.forEach(function(O){return t(p,O)}),Ce&&_r(p,I),M}function x(p,h,g,S){var M=Yi(g);if(typeof M!="function")throw Error(W(150));if(g=M.call(g),g==null)throw Error(W(151));for(var A=M=null,E=h,I=h=0,D=null,z=g.next();E!==null&&!z.done;I++,z=g.next()){E.index>I?(D=E,E=null):D=E.sibling;var O=f(p,E,z.value,S);if(O===null){E===null&&(E=D);break}e&&E&&O.alternate===null&&t(p,E),h=o(O,h,I),A===null?M=O:A.sibling=O,A=O,E=D}if(z.done)return n(p,E),Ce&&_r(p,I),M;if(E===null){for(;!z.done;I++,z=g.next())z=d(p,z.value,S),z!==null&&(h=o(z,h,I),A===null?M=z:A.sibling=z,A=z);return Ce&&_r(p,I),M}for(E=r(p,E);!z.done;I++,z=g.next())z=m(E,p,I,z.value,S),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?I:z.key),h=o(z,h,I),A===null?M=z:A.sibling=z,A=z);return e&&E.forEach(function(q){return t(p,q)}),Ce&&_r(p,I),M}function N(p,h,g,S){if(typeof g=="object"&&g!==null&&g.type===Jr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:e:{for(var M=g.key,A=h;A!==null;){if(A.key===M){if(M=g.type,M===Jr){if(A.tag===7){n(p,A.sibling),h=i(A,g.props.children),h.return=p,p=h;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Un&&Ff(M)===A.type){n(p,A.sibling),h=i(A,g.props),h.ref=Ki(p,A,g),h.return=p,p=h;break e}n(p,A);break}else t(p,A);A=A.sibling}g.type===Jr?(h=Ir(g.props.children,p.mode,S,g.key),h.return=p,p=h):(S=ol(g.type,g.key,g.props,null,p.mode,S),S.ref=Ki(p,h,g),S.return=p,p=S)}return s(p);case Kr:e:{for(A=g.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=i(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Xa(g,p.mode,S),h.return=p,p=h}return s(p);case Un:return A=g._init,N(p,h,A(g._payload),S)}if(ao(g))return _(p,h,g,S);if(Yi(g))return x(p,h,g,S);Ss(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,g),h.return=p,p=h):(n(p,h),h=Za(g,p.mode,S),h.return=p,p=h),s(p)):n(p,h)}return N}var Ti=Jm(!0),eg=Jm(!1),El=yr(null),bl=null,li=null,id=null;function od(){id=li=bl=null}function sd(e){var t=El.current;Ee(El),e._currentValue=t}function Hu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vi(e,t){bl=e,id=li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(id!==e)if(e={context:e,memoizedValue:t,next:null},li===null){if(bl===null)throw Error(W(308));li=e,bl.dependencies={lanes:0,firstContext:e}}else li=li.next=e;return t}var br=null;function ld(e){br===null?br=[e]:br.push(e)}function tg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ld(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tn(e,r)}function Tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function ad(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Tn(e,n)}return i=r.interleaved,i===null?(t.next=t,ld(r)):(t.next=i.next,i.next=t),r.interleaved=t,Tn(e,n)}function Js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yc(e,n)}}function Bf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var i=e.updateQueue;Wn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,x=l;switch(f=t,m=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){d=_.call(m,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,f=typeof _=="function"?_.call(m,d,f):_,f==null)break e;d=Me({},d,f);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Dr|=s,e.lanes=s,e.memoizedState=d}}function Hf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var rs={},un=yr(rs),$o=yr(rs),Oo=yr(rs);function Cr(e){if(e===rs)throw Error(W(174));return e}function ud(e,t){switch(Se(Oo,t),Se($o,e),Se(un,rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Su(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Su(t,e)}Ee(un),Se(un,t)}function Ni(){Ee(un),Ee($o),Ee(Oo)}function rg(e){Cr(Oo.current);var t=Cr(un.current),n=Su(t,e.type);t!==n&&(Se($o,e),Se(un,n))}function cd(e){$o.current===e&&(Ee(un),Ee($o))}var Te=yr(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=[];function dd(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var el=Rn.ReactCurrentDispatcher,Va=Rn.ReactCurrentBatchConfig,Lr=0,Ne=null,He=null,We=null,Nl=!1,So=!1,jo=0,w1=0;function et(){throw Error(W(321))}function fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function pd(e,t,n,r,i,o){if(Lr=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=e===null||e.memoizedState===null?E1:b1,e=n(r,i),So){o=0;do{if(So=!1,jo=0,25<=o)throw Error(W(301));o+=1,We=He=null,t.updateQueue=null,el.current=C1,e=n(r,i)}while(So)}if(el.current=Ml,t=He!==null&&He.next!==null,Lr=0,We=He=Ne=null,Nl=!1,t)throw Error(W(300));return e}function hd(){var e=jo!==0;return jo=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ne.memoizedState=We=e:We=We.next=e,We}function Ft(){if(He===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=We===null?Ne.memoizedState:We.next;if(t!==null)We=t,He=e;else{if(e===null)throw Error(W(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},We===null?Ne.memoizedState=We=e:We=We.next=e}return We}function Fo(e,t){return typeof t=="function"?t(e):t}function Ua(e){var t=Ft(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=He,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Lr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,Ne.lanes|=c,Dr|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,en(r,t.memoizedState)||(mt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ne.lanes|=o,Dr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wa(e){var t=Ft(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);en(o,t.memoizedState)||(mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ig(){}function og(e,t){var n=Ne,r=Ft(),i=t(),o=!en(r.memoizedState,i);if(o&&(r.memoizedState=i,mt=!0),r=r.queue,md(ag.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Bo(9,lg.bind(null,n,r,i,t),void 0,null),Ye===null)throw Error(W(349));Lr&30||sg(n,t,i)}return i}function sg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lg(e,t,n,r){t.value=n,t.getSnapshot=r,ug(t)&&cg(e)}function ag(e,t,n){return n(function(){ug(t)&&cg(e)})}function ug(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function cg(e){var t=Tn(e,1);t!==null&&Kt(t,e,1,-1)}function Vf(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:e},t.queue=e,e=e.dispatch=k1.bind(null,Ne,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dg(){return Ft().memoizedState}function tl(e,t,n,r){var i=on();Ne.flags|=e,i.memoizedState=Bo(1|t,n,void 0,r===void 0?null:r)}function ia(e,t,n,r){var i=Ft();r=r===void 0?null:r;var o=void 0;if(He!==null){var s=He.memoizedState;if(o=s.destroy,r!==null&&fd(r,s.deps)){i.memoizedState=Bo(t,n,o,r);return}}Ne.flags|=e,i.memoizedState=Bo(1|t,n,o,r)}function Uf(e,t){return tl(8390656,8,e,t)}function md(e,t){return ia(2048,8,e,t)}function fg(e,t){return ia(4,2,e,t)}function pg(e,t){return ia(4,4,e,t)}function hg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mg(e,t,n){return n=n!=null?n.concat([e]):null,ia(4,4,hg.bind(null,t,e),n)}function gd(){}function gg(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yg(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vg(e,t,n){return Lr&21?(en(n,t)||(n=km(),Ne.lanes|=n,Dr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function _1(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=Va.transition;Va.transition={};try{e(!1),t()}finally{_e=n,Va.transition=r}}function xg(){return Ft().memoizedState}function S1(e,t,n){var r=lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wg(e))_g(t,n);else if(n=tg(e,t,n,r),n!==null){var i=lt();Kt(n,e,r,i),Sg(n,t,r)}}function k1(e,t,n){var r=lr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wg(e))_g(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,en(l,s)){var a=t.interleaved;a===null?(i.next=i,ld(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=tg(e,t,i,r),n!==null&&(i=lt(),Kt(n,e,r,i),Sg(n,t,r))}}function wg(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function _g(e,t){So=Nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yc(e,n)}}var Ml={readContext:jt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},E1={readContext:jt,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Uf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tl(4194308,4,hg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return tl(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=S1.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:Vf,useDebugValue:gd,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=Vf(!1),t=e[0];return e=_1.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,i=on();if(Ce){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Ye===null)throw Error(W(349));Lr&30||sg(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uf(ag.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,lg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=on(),t=Ye.identifierPrefix;if(Ce){var n=_n,r=wn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=w1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b1={readContext:jt,useCallback:gg,useContext:jt,useEffect:md,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:pg,useMemo:yg,useReducer:Ua,useRef:dg,useState:function(){return Ua(Fo)},useDebugValue:gd,useDeferredValue:function(e){var t=Ft();return vg(t,He.memoizedState,e)},useTransition:function(){var e=Ua(Fo)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:ig,useSyncExternalStore:og,useId:xg,unstable_isNewReconciler:!1},C1={readContext:jt,useCallback:gg,useContext:jt,useEffect:md,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:pg,useMemo:yg,useReducer:Wa,useRef:dg,useState:function(){return Wa(Fo)},useDebugValue:gd,useDeferredValue:function(e){var t=Ft();return He===null?t.memoizedState=e:vg(t,He.memoizedState,e)},useTransition:function(){var e=Wa(Fo)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:ig,useSyncExternalStore:og,useId:xg,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return(e=e._reactInternals)?Ur(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),i=lr(e),o=En(r,i);o.payload=t,n!=null&&(o.callback=n),t=or(e,o,i),t!==null&&(Kt(t,e,i,r),Js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),i=lr(e),o=En(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=or(e,o,i),t!==null&&(Kt(t,e,i,r),Js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=lr(e),i=En(n,r);i.tag=2,t!=null&&(i.callback=t),t=or(e,i,r),t!==null&&(Kt(t,e,r,n),Js(t,e,r))}};function Wf(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ao(n,r)||!Ao(i,o):!0}function kg(e,t,n){var r=!1,i=pr,o=t.contextType;return typeof o=="object"&&o!==null?o=jt(o):(i=vt(t)?Ar:rt.current,r=t.contextTypes,o=(r=r!=null)?bi(e,i):pr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function Uu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ad(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=jt(o):(o=vt(t)?Ar:rt.current,i.context=bi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&oa.enqueueReplaceState(i,i.state,null),Cl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mi(e,t){try{var n="",r=t;do n+=ex(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function qa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var T1=typeof WeakMap=="function"?WeakMap:Map;function Eg(e,t,n){n=En(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pl||(Pl=!0,tc=r),Wu(e,t)},n}function bg(e,t,n){n=En(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wu(e,t),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Yf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new T1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=B1.bind(null,e,t,n),t.then(e,e))}function Zf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=En(-1,1),t.tag=2,or(n,t,1))),n.lanes|=1),e)}var N1=Rn.ReactCurrentOwner,mt=!1;function st(e,t,n,r){t.child=e===null?eg(t,null,n,r):Ti(t,e.child,n,r)}function Gf(e,t,n,r,i){n=n.render;var o=t.ref;return vi(t,i),r=pd(e,t,n,r,o,i),n=hd(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nn(e,t,i)):(Ce&&n&&td(t),t.flags|=1,st(e,t,r,i),t.child)}function Qf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ed(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Cg(e,t,o,r,i)):(e=ol(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(s,r)&&e.ref===t.ref)return Nn(e,t,i)}return t.flags|=1,e=ar(o,r),e.ref=t.ref,e.return=t,t.child=e}function Cg(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ao(o,r)&&e.ref===t.ref)if(mt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,Nn(e,t,i)}return qu(e,t,n,r,i)}function Tg(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(ui,_t),_t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(ui,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Se(ui,_t),_t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Se(ui,_t),_t|=r;return st(e,t,i,n),t.child}function Ng(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qu(e,t,n,r,i){var o=vt(n)?Ar:rt.current;return o=bi(t,o),vi(t,i),n=pd(e,t,n,r,o,i),r=hd(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nn(e,t,i)):(Ce&&r&&td(t),t.flags|=1,st(e,t,n,i),t.child)}function Kf(e,t,n,r,i){if(vt(n)){var o=!0;_l(t)}else o=!1;if(vi(t,i),t.stateNode===null)nl(e,t),kg(t,n,r),Uu(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=vt(n)?Ar:rt.current,u=bi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&qf(t,s,r,u),Wn=!1;var f=t.memoizedState;s.state=f,Cl(t,r,s,i),a=t.memoizedState,l!==r||f!==a||yt.current||Wn?(typeof c=="function"&&(Vu(t,n,c,r),a=t.memoizedState),(l=Wn||Wf(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ng(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qt(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=jt(a):(a=vt(n)?Ar:rt.current,a=bi(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&qf(t,s,r,a),Wn=!1,f=t.memoizedState,s.state=f,Cl(t,r,s,i);var _=t.memoizedState;l!==d||f!==_||yt.current||Wn?(typeof m=="function"&&(Vu(t,n,m,r),_=t.memoizedState),(u=Wn||Wf(t,n,u,r,f,_,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),s.props=r,s.state=_,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Yu(e,t,n,r,o,i)}function Yu(e,t,n,r,i,o){Ng(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&$f(t,n,!1),Nn(e,t,o);r=t.stateNode,N1.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ti(t,e.child,null,o),t.child=Ti(t,null,l,o)):st(e,t,l,o),t.memoizedState=r.state,i&&$f(t,n,!0),t.child}function Mg(e){var t=e.stateNode;t.pendingContext?Df(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Df(e,t.context,!1),ud(e,t.containerInfo)}function Jf(e,t,n,r,i){return Ci(),rd(i),t.flags|=256,st(e,t,n,r),t.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function Xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ig(e,t,n){var r=t.pendingProps,i=Te.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(Te,i&1),e===null)return Bu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=aa(s,r,0,null),e=Ir(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xu(n),t.memoizedState=Zu,e):yd(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return M1(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=ar(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ar(l,o):(o=Ir(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Xu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Zu,r}return o=e.child,e=o.sibling,r=ar(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yd(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,n,r){return r!==null&&rd(r),Ti(t,e.child,null,n),e=yd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M1(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=qa(Error(W(422))),ks(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=aa({mode:"visible",children:r.children},i,0,null),o=Ir(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ti(t,e.child,null,s),t.child.memoizedState=Xu(s),t.memoizedState=Zu,o);if(!(t.mode&1))return ks(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(W(419)),r=qa(o,r,void 0),ks(e,t,s,r)}if(l=(s&e.childLanes)!==0,mt||l){if(r=Ye,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tn(e,i),Kt(r,e,i,-1))}return kd(),r=qa(Error(W(421))),ks(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=H1.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,St=ir(i.nextSibling),kt=t,Ce=!0,Zt=null,e!==null&&(zt[Lt++]=wn,zt[Lt++]=_n,zt[Lt++]=zr,wn=e.id,_n=e.overflow,zr=t),t=yd(t,r.children),t.flags|=4096,t)}function ep(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hu(e.return,t,n)}function Ya(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Pg(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(st(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ep(e,n,t);else if(e.tag===19)ep(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,o);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I1(e,t,n){switch(t.tag){case 3:Mg(t),Ci();break;case 5:rg(t);break;case 1:vt(t.type)&&_l(t);break;case 4:ud(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Se(El,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?Ig(e,t,n):(Se(Te,Te.current&1),e=Nn(e,t,n),e!==null?e.sibling:null);Se(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,Tg(e,t,n)}return Nn(e,t,n)}var Rg,Gu,Ag,zg;Rg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gu=function(){};Ag=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Cr(un.current);var o=null;switch(n){case"input":i=vu(e,i),r=vu(e,r),o=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),o=[];break;case"textarea":i=_u(e,i),r=_u(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xl)}ku(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Co.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Co.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ke("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};zg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ji(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function P1(e,t,n){var r=t.pendingProps;switch(nd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return vt(t.type)&&wl(),tt(t),null;case 3:return r=t.stateNode,Ni(),Ee(yt),Ee(rt),dd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(ic(Zt),Zt=null))),Gu(e,t),tt(t),null;case 5:cd(t);var i=Cr(Oo.current);if(n=t.type,e!==null&&t.stateNode!=null)Ag(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return tt(t),null}if(e=Cr(un.current),_s(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ln]=t,r[Do]=o,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<co.length;i++)ke(co[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":uf(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":df(r,o),ke("invalid",r)}ku(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ws(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ws(r.textContent,l,e),i=["children",""+l]):Co.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ke("scroll",r)}switch(n){case"input":fs(r),cf(r,o,!0);break;case"textarea":fs(r),ff(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=am(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ln]=t,e[Do]=r,Rg(e,t,!1,!1),t.stateNode=e;e:{switch(s=Eu(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<co.length;i++)ke(co[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":uf(e,r),i=vu(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),ke("invalid",e);break;case"textarea":df(e,r),i=_u(e,r),ke("invalid",e);break;default:i=r}ku(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?dm(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&um(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&To(e,a):typeof a=="number"&&To(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Co.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ke("scroll",e):a!=null&&Bc(e,o,a,s))}switch(n){case"input":fs(e),cf(e,r,!1);break;case"textarea":fs(e),ff(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?hi(e,!!r.multiple,o,!1):r.defaultValue!=null&&hi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)zg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Cr(Oo.current),Cr(un.current),_s(t)){if(r=t.stateNode,n=t.memoizedProps,r[ln]=t,(o=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:ws(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ws(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=t,t.stateNode=r}return tt(t),null;case 13:if(Ee(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&St!==null&&t.mode&1&&!(t.flags&128))Km(),Ci(),t.flags|=98560,o=!1;else if(o=_s(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[ln]=t}else Ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else Zt!==null&&(ic(Zt),Zt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ve===0&&(Ve=3):kd())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Ni(),Gu(e,t),e===null&&zo(t.stateNode.containerInfo),tt(t),null;case 10:return sd(t.type._context),tt(t),null;case 17:return vt(t.type)&&wl(),tt(t),null;case 19:if(Ee(Te),o=t.memoizedState,o===null)return tt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ji(o,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Tl(e),s!==null){for(t.flags|=128,Ji(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&$e()>Ii&&(t.flags|=128,r=!0,Ji(o,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ji(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return tt(t),null}else 2*$e()-o.renderingStartTime>Ii&&n!==1073741824&&(t.flags|=128,r=!0,Ji(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Te.current,Se(Te,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return Sd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function R1(e,t){switch(nd(t),t.tag){case 1:return vt(t.type)&&wl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ni(),Ee(yt),Ee(rt),dd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cd(t),null;case 13:if(Ee(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Te),null;case 4:return Ni(),null;case 10:return sd(t.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var Es=!1,nt=!1,A1=typeof WeakSet=="function"?WeakSet:Set,K=null;function ai(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function Qu(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var tp=!1;function z1(e,t){if(zu=gl,e=jm(),ed(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lu={focusedElem:e,selectionRange:n},gl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,N=_.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:qt(t.type,x),N);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(S){Ae(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return _=tp,tp=!1,_}function ko(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qu(t,n,o)}i=i.next}while(i!==r)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lg(e){var t=e.alternate;t!==null&&(e.alternate=null,Lg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[Do],delete t[Ou],delete t[g1],delete t[y1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dg(e){return e.tag===5||e.tag===3||e.tag===4}function np(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(r!==4&&(e=e.child,e!==null))for(Ju(e,t,n),e=e.sibling;e!==null;)Ju(e,t,n),e=e.sibling}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}var Ze=null,Yt=!1;function Dn(e,t,n){for(n=n.child;n!==null;)$g(e,t,n),n=n.sibling}function $g(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 5:nt||ai(n,t);case 6:var r=Ze,i=Yt;Ze=null,Dn(e,t,n),Ze=r,Yt=i,Ze!==null&&(Yt?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Yt?(e=Ze,n=n.stateNode,e.nodeType===8?Fa(e.parentNode,n):e.nodeType===1&&Fa(e,n),Po(e)):Fa(Ze,n.stateNode));break;case 4:r=Ze,i=Yt,Ze=n.stateNode.containerInfo,Yt=!0,Dn(e,t,n),Ze=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qu(n,t,s),i=i.next}while(i!==r)}Dn(e,t,n);break;case 1:if(!nt&&(ai(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,t,l)}Dn(e,t,n);break;case 21:Dn(e,t,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Dn(e,t,n),nt=r):Dn(e,t,n);break;default:Dn(e,t,n)}}function rp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new A1),t.forEach(function(r){var i=V1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,Yt=!1;break e;case 3:Ze=l.stateNode.containerInfo,Yt=!0;break e;case 4:Ze=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(Ze===null)throw Error(W(160));$g(o,s,i),Ze=null,Yt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ae(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Og(t,e),t=t.sibling}function Og(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),rn(e),r&4){try{ko(3,e,e.return),sa(3,e)}catch(x){Ae(e,e.return,x)}try{ko(5,e,e.return)}catch(x){Ae(e,e.return,x)}}break;case 1:Wt(t,e),rn(e),r&512&&n!==null&&ai(n,n.return);break;case 5:if(Wt(t,e),rn(e),r&512&&n!==null&&ai(n,n.return),e.flags&32){var i=e.stateNode;try{To(i,"")}catch(x){Ae(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&sm(i,o),Eu(l,s);var u=Eu(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?dm(i,d):c==="dangerouslySetInnerHTML"?um(i,d):c==="children"?To(i,d):Bc(i,c,d,u)}switch(l){case"input":xu(i,o);break;case"textarea":lm(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?hi(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?hi(i,!!o.multiple,o.defaultValue,!0):hi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Do]=o}catch(x){Ae(e,e.return,x)}}break;case 6:if(Wt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){Ae(e,e.return,x)}}break;case 3:if(Wt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(x){Ae(e,e.return,x)}break;case 4:Wt(t,e),rn(e);break;case 13:Wt(t,e),rn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wd=$e())),r&4&&rp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(u=nt)||c,Wt(t,e),nt=u):Wt(t,e),rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(K=e,c=e.child;c!==null;){for(d=K=c;K!==null;){switch(f=K,m=f.child,f.tag){case 0:case 11:case 14:case 15:ko(4,f,f.return);break;case 1:ai(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(x){Ae(r,n,x)}}break;case 5:ai(f,f.return);break;case 22:if(f.memoizedState!==null){op(d);continue}}m!==null?(m.return=f,K=m):op(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=cm("display",s))}catch(x){Ae(e,e.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Ae(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(t,e),rn(e),r&4&&rp(e);break;case 21:break;default:Wt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dg(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(To(i,""),r.flags&=-33);var o=np(e);ec(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=np(e);Ju(e,l,s);break;default:throw Error(W(161))}}catch(a){Ae(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L1(e,t,n){K=e,jg(e)}function jg(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Es;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||nt;l=Es;var u=nt;if(Es=s,(nt=a)&&!u)for(K=i;K!==null;)s=K,a=s.child,s.tag===22&&s.memoizedState!==null?sp(i):a!==null?(a.return=s,K=a):sp(i);for(;o!==null;)K=o,jg(o),o=o.sibling;K=i,Es=l,nt=u}ip(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):ip(e)}}function ip(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||sa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hf(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Po(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}nt||t.flags&512&&Ku(t)}catch(f){Ae(t,t.return,f)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function op(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function sp(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sa(4,t)}catch(a){Ae(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ae(t,i,a)}}var o=t.return;try{Ku(t)}catch(a){Ae(t,o,a)}break;case 5:var s=t.return;try{Ku(t)}catch(a){Ae(t,s,a)}}}catch(a){Ae(t,t.return,a)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var D1=Math.ceil,Il=Rn.ReactCurrentDispatcher,vd=Rn.ReactCurrentOwner,Ot=Rn.ReactCurrentBatchConfig,me=0,Ye=null,Fe=null,Xe=0,_t=0,ui=yr(0),Ve=0,Ho=null,Dr=0,la=0,xd=0,Eo=null,ht=null,wd=0,Ii=1/0,vn=null,Pl=!1,tc=null,sr=null,bs=!1,Jn=null,Rl=0,bo=0,nc=null,rl=-1,il=0;function lt(){return me&6?$e():rl!==-1?rl:rl=$e()}function lr(e){return e.mode&1?me&2&&Xe!==0?Xe&-Xe:x1.transition!==null?(il===0&&(il=km()),il):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Im(e.type)),e):1}function Kt(e,t,n,r){if(50<bo)throw bo=0,nc=null,Error(W(185));es(e,n,r),(!(me&2)||e!==Ye)&&(e===Ye&&(!(me&2)&&(la|=n),Ve===4&&Gn(e,Xe)),xt(e,r),n===1&&me===0&&!(t.mode&1)&&(Ii=$e()+500,ra&&vr()))}function xt(e,t){var n=e.callbackNode;xx(e,t);var r=ml(e,e===Ye?Xe:0);if(r===0)n!==null&&mf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mf(n),t===1)e.tag===0?v1(lp.bind(null,e)):Xm(lp.bind(null,e)),h1(function(){!(me&6)&&vr()}),n=null;else{switch(Em(r)){case 1:n=qc;break;case 4:n=_m;break;case 16:n=hl;break;case 536870912:n=Sm;break;default:n=hl}n=Yg(n,Fg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fg(e,t){if(rl=-1,il=0,me&6)throw Error(W(327));var n=e.callbackNode;if(xi()&&e.callbackNode!==n)return null;var r=ml(e,e===Ye?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Al(e,r);else{t=r;var i=me;me|=2;var o=Hg();(Ye!==e||Xe!==t)&&(vn=null,Ii=$e()+500,Mr(e,t));do try{j1();break}catch(l){Bg(e,l)}while(!0);od(),Il.current=o,me=i,Fe!==null?t=0:(Ye=null,Xe=0,t=Ve)}if(t!==0){if(t===2&&(i=Mu(e),i!==0&&(r=i,t=rc(e,i))),t===1)throw n=Ho,Mr(e,0),Gn(e,r),xt(e,$e()),n;if(t===6)Gn(e,r);else{if(i=e.current.alternate,!(r&30)&&!$1(i)&&(t=Al(e,r),t===2&&(o=Mu(e),o!==0&&(r=o,t=rc(e,o))),t===1))throw n=Ho,Mr(e,0),Gn(e,r),xt(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Sr(e,ht,vn);break;case 3:if(Gn(e,r),(r&130023424)===r&&(t=wd+500-$e(),10<t)){if(ml(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$u(Sr.bind(null,e,ht,vn),t);break}Sr(e,ht,vn);break;case 4:if(Gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Qt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D1(r/1960))-r,10<r){e.timeoutHandle=$u(Sr.bind(null,e,ht,vn),r);break}Sr(e,ht,vn);break;case 5:Sr(e,ht,vn);break;default:throw Error(W(329))}}}return xt(e,$e()),e.callbackNode===n?Fg.bind(null,e):null}function rc(e,t){var n=Eo;return e.current.memoizedState.isDehydrated&&(Mr(e,t).flags|=256),e=Al(e,t),e!==2&&(t=ht,ht=n,t!==null&&ic(t)),e}function ic(e){ht===null?ht=e:ht.push.apply(ht,e)}function $1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!en(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~xd,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function lp(e){if(me&6)throw Error(W(327));xi();var t=ml(e,0);if(!(t&1))return xt(e,$e()),null;var n=Al(e,t);if(e.tag!==0&&n===2){var r=Mu(e);r!==0&&(t=r,n=rc(e,r))}if(n===1)throw n=Ho,Mr(e,0),Gn(e,t),xt(e,$e()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,ht,vn),xt(e,$e()),null}function _d(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Ii=$e()+500,ra&&vr())}}function $r(e){Jn!==null&&Jn.tag===0&&!(me&6)&&xi();var t=me;me|=1;var n=Ot.transition,r=_e;try{if(Ot.transition=null,_e=1,e)return e()}finally{_e=r,Ot.transition=n,me=t,!(me&6)&&vr()}}function Sd(){_t=ui.current,Ee(ui)}function Mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,p1(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(nd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wl();break;case 3:Ni(),Ee(yt),Ee(rt),dd();break;case 5:cd(r);break;case 4:Ni();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:sd(r.type._context);break;case 22:case 23:Sd()}n=n.return}if(Ye=e,Fe=e=ar(e.current,null),Xe=_t=t,Ve=0,Ho=null,xd=la=Dr=0,ht=Eo=null,br!==null){for(t=0;t<br.length;t++)if(n=br[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}br=null}return e}function Bg(e,t){do{var n=Fe;try{if(od(),el.current=Ml,Nl){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nl=!1}if(Lr=0,We=He=Ne=null,So=!1,jo=0,vd.current=null,n===null||n.return===null){Ve=1,Ho=t,Fe=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Xe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Zf(s);if(m!==null){m.flags&=-257,Xf(m,s,l,o,t),m.mode&1&&Yf(o,u,t),t=m,a=u;var _=t.updateQueue;if(_===null){var x=new Set;x.add(a),t.updateQueue=x}else _.add(a);break e}else{if(!(t&1)){Yf(o,u,t),kd();break e}a=Error(W(426))}}else if(Ce&&l.mode&1){var N=Zf(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Xf(N,s,l,o,t),rd(Mi(a,l));break e}}o=a=Mi(a,l),Ve!==4&&(Ve=2),Eo===null?Eo=[o]:Eo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Eg(o,a,t);Bf(o,p);break e;case 1:l=a;var h=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sr===null||!sr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=bg(o,l,t);Bf(o,S);break e}}o=o.return}while(o!==null)}Ug(n)}catch(M){t=M,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function Hg(){var e=Il.current;return Il.current=Ml,e===null?Ml:e}function kd(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ye===null||!(Dr&268435455)&&!(la&268435455)||Gn(Ye,Xe)}function Al(e,t){var n=me;me|=2;var r=Hg();(Ye!==e||Xe!==t)&&(vn=null,Mr(e,t));do try{O1();break}catch(i){Bg(e,i)}while(!0);if(od(),me=n,Il.current=r,Fe!==null)throw Error(W(261));return Ye=null,Xe=0,Ve}function O1(){for(;Fe!==null;)Vg(Fe)}function j1(){for(;Fe!==null&&!cx();)Vg(Fe)}function Vg(e){var t=qg(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?Ug(e):Fe=t,vd.current=null}function Ug(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=R1(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Fe=null;return}}else if(n=P1(n,t,_t),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function Sr(e,t,n){var r=_e,i=Ot.transition;try{Ot.transition=null,_e=1,F1(e,t,n,r)}finally{Ot.transition=i,_e=r}return null}function F1(e,t,n,r){do xi();while(Jn!==null);if(me&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(wx(e,o),e===Ye&&(Fe=Ye=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bs||(bs=!0,Yg(hl,function(){return xi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ot.transition,Ot.transition=null;var s=_e;_e=1;var l=me;me|=4,vd.current=null,z1(e,n),Og(n,e),s1(Lu),gl=!!zu,Lu=zu=null,e.current=n,L1(n),dx(),me=l,_e=s,Ot.transition=o}else e.current=n;if(bs&&(bs=!1,Jn=e,Rl=i),o=e.pendingLanes,o===0&&(sr=null),hx(n.stateNode),xt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pl)throw Pl=!1,e=tc,tc=null,e;return Rl&1&&e.tag!==0&&xi(),o=e.pendingLanes,o&1?e===nc?bo++:(bo=0,nc=e):bo=0,vr(),null}function xi(){if(Jn!==null){var e=Em(Rl),t=Ot.transition,n=_e;try{if(Ot.transition=null,_e=16>e?16:e,Jn===null)var r=!1;else{if(e=Jn,Jn=null,Rl=0,me&6)throw Error(W(331));var i=me;for(me|=4,K=e.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:ko(8,c,o)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var f=c.sibling,m=c.return;if(Lg(c),c===u){K=null;break}if(f!==null){f.return=m,K=f;break}K=m}}}var _=o.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ko(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,K=p;break e}K=o.return}}var h=e.current;for(K=h;K!==null;){s=K;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,K=g;else e:for(s=h;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sa(9,l)}}catch(M){Ae(l,l.return,M)}if(l===s){K=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,K=S;break e}K=l.return}}if(me=i,vr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Kl,e)}catch{}r=!0}return r}finally{_e=n,Ot.transition=t}}return!1}function ap(e,t,n){t=Mi(n,t),t=Eg(e,t,1),e=or(e,t,1),t=lt(),e!==null&&(es(e,1,t),xt(e,t))}function Ae(e,t,n){if(e.tag===3)ap(e,e,n);else for(;t!==null;){if(t.tag===3){ap(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){e=Mi(n,e),e=bg(t,e,1),t=or(t,e,1),e=lt(),t!==null&&(es(t,1,e),xt(t,e));break}}t=t.return}}function B1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Xe&n)===n&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>$e()-wd?Mr(e,0):xd|=n),xt(e,t)}function Wg(e,t){t===0&&(e.mode&1?(t=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):t=1);var n=lt();e=Tn(e,t),e!==null&&(es(e,t,n),xt(e,n))}function H1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wg(e,n)}function V1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Wg(e,n)}var qg;qg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,I1(e,t,n);mt=!!(e.flags&131072)}else mt=!1,Ce&&t.flags&1048576&&Gm(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nl(e,t),e=t.pendingProps;var i=bi(t,rt.current);vi(t,n),i=pd(null,t,r,e,i,n);var o=hd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(o=!0,_l(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ad(t),i.updater=oa,t.stateNode=i,i._reactInternals=t,Uu(t,r,e,n),t=Yu(null,t,r,!0,o,n)):(t.tag=0,Ce&&o&&td(t),st(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=W1(r),e=qt(r,e),i){case 0:t=qu(null,t,r,e,n);break e;case 1:t=Kf(null,t,r,e,n);break e;case 11:t=Gf(null,t,r,e,n);break e;case 14:t=Qf(null,t,r,qt(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),qu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Kf(e,t,r,i,n);case 3:e:{if(Mg(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,i=o.element,ng(e,t),Cl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Mi(Error(W(423)),t),t=Jf(e,t,r,n,i);break e}else if(r!==i){i=Mi(Error(W(424)),t),t=Jf(e,t,r,n,i);break e}else for(St=ir(t.stateNode.containerInfo.firstChild),kt=t,Ce=!0,Zt=null,n=eg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ci(),r===i){t=Nn(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return rg(t),e===null&&Bu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Du(r,i)?s=null:o!==null&&Du(r,o)&&(t.flags|=32),Ng(e,t),st(e,t,s,n),t.child;case 6:return e===null&&Bu(t),null;case 13:return Ig(e,t,n);case 4:return ud(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ti(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Gf(e,t,r,i,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Se(El,r._currentValue),r._currentValue=s,o!==null)if(en(o.value,s)){if(o.children===i.children&&!yt.current){t=Nn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=En(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hu(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Hu(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}st(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vi(t,n),i=jt(i),r=r(i),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,i=qt(r,t.pendingProps),i=qt(r.type,i),Qf(e,t,r,i,n);case 15:return Cg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),nl(e,t),t.tag=1,vt(r)?(e=!0,_l(t)):e=!1,vi(t,n),kg(t,r,i),Uu(t,r,i,n),Yu(null,t,r,!0,e,n);case 19:return Pg(e,t,n);case 22:return Tg(e,t,n)}throw Error(W(156,t.tag))};function Yg(e,t){return wm(e,t)}function U1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new U1(e,t,n,r)}function Ed(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W1(e){if(typeof e=="function")return Ed(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vc)return 11;if(e===Uc)return 14}return 2}function ar(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Ed(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Jr:return Ir(n.children,i,o,t);case Hc:s=8,i|=8;break;case hu:return e=Dt(12,n,t,i|2),e.elementType=hu,e.lanes=o,e;case mu:return e=Dt(13,n,t,i),e.elementType=mu,e.lanes=o,e;case gu:return e=Dt(19,n,t,i),e.elementType=gu,e.lanes=o,e;case rm:return aa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tm:s=10;break e;case nm:s=9;break e;case Vc:s=11;break e;case Uc:s=14;break e;case Un:s=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Dt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ir(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function aa(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=rm,e.lanes=n,e.stateNode={isHidden:!1},e}function Za(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Xa(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bd(e,t,n,r,i,o,s,l,a){return e=new q1(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(o),e}function Y1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zg(e){if(!e)return pr;e=e._reactInternals;e:{if(Ur(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(vt(n))return Zm(e,n,t)}return t}function Xg(e,t,n,r,i,o,s,l,a){return e=bd(n,r,!0,e,i,o,s,l,a),e.context=Zg(null),n=e.current,r=lt(),i=lr(n),o=En(r,i),o.callback=t??null,or(n,o,i),e.current.lanes=i,es(e,i,r),xt(e,r),e}function ua(e,t,n,r){var i=t.current,o=lt(),s=lr(i);return n=Zg(n),t.context===null?t.context=n:t.pendingContext=n,t=En(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=or(i,t,s),e!==null&&(Kt(e,i,s,o),Js(e,i,s)),s}function zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cd(e,t){up(e,t),(e=e.alternate)&&up(e,t)}function Z1(){return null}var Gg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Td(e){this._internalRoot=e}ca.prototype.render=Td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));ua(e,t,null,null)};ca.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$r(function(){ua(null,e,null,null)}),t[Cn]=null}};function ca(e){this._internalRoot=e}ca.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xn.length&&t!==0&&t<Xn[n].priority;n++);Xn.splice(n,0,e),n===0&&Mm(e)}};function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cp(){}function X1(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=zl(s);o.call(u)}}var s=Xg(t,r,e,0,null,!1,!1,"",cp);return e._reactRootContainer=s,e[Cn]=s.current,zo(e.nodeType===8?e.parentNode:e),$r(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=zl(a);l.call(u)}}var a=bd(e,0,!1,null,null,!1,!1,"",cp);return e._reactRootContainer=a,e[Cn]=a.current,zo(e.nodeType===8?e.parentNode:e),$r(function(){ua(t,a,n,r)}),a}function fa(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=zl(s);l.call(a)}}ua(t,s,e,i)}else s=X1(n,t,e,i,r);return zl(s)}bm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uo(t.pendingLanes);n!==0&&(Yc(t,n|1),xt(t,$e()),!(me&6)&&(Ii=$e()+500,vr()))}break;case 13:$r(function(){var r=Tn(e,1);if(r!==null){var i=lt();Kt(r,e,1,i)}}),Cd(e,1)}};Zc=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var n=lt();Kt(t,e,134217728,n)}Cd(e,134217728)}};Cm=function(e){if(e.tag===13){var t=lr(e),n=Tn(e,t);if(n!==null){var r=lt();Kt(n,e,t,r)}Cd(e,t)}};Tm=function(){return _e};Nm=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};Cu=function(e,t,n){switch(t){case"input":if(xu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=na(r);if(!i)throw Error(W(90));om(r),xu(r,i)}}}break;case"textarea":lm(e,n);break;case"select":t=n.value,t!=null&&hi(e,!!n.multiple,t,!1)}};hm=_d;mm=$r;var G1={usingClientEntryPoint:!1,Events:[ns,ri,na,fm,pm,_d]},eo={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q1={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vm(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||Z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{Kl=Cs.inject(Q1),an=Cs}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(t))throw Error(W(200));return Y1(e,t,null,n)};Tt.createRoot=function(e,t){if(!Nd(e))throw Error(W(299));var n=!1,r="",i=Gg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bd(e,1,!1,null,null,n,!1,r,i),e[Cn]=t.current,zo(e.nodeType===8?e.parentNode:e),new Td(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=vm(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return $r(e)};Tt.hydrate=function(e,t,n){if(!da(t))throw Error(W(200));return fa(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!Nd(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Gg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Xg(t,null,e,1,n??null,i,!1,o,s),e[Cn]=t.current,zo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ca(t)};Tt.render=function(e,t,n){if(!da(t))throw Error(W(200));return fa(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!da(e))throw Error(W(40));return e._reactRootContainer?($r(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};Tt.unstable_batchedUpdates=_d;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!da(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return fa(e,t,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function Qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qg)}catch(e){console.error(e)}}Qg(),Qh.exports=Tt;var Kg=Qh.exports,Jg,dp=Kg;Jg=dp.createRoot,dp.hydrateRoot;function Mt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Mt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ey={exports:{}},ty={},ny={exports:{}},ry={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=k;function K1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J1=typeof Object.is=="function"?Object.is:K1,ew=Pi.useState,tw=Pi.useEffect,nw=Pi.useLayoutEffect,rw=Pi.useDebugValue;function iw(e,t){var n=t(),r=ew({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return nw(function(){i.value=n,i.getSnapshot=t,Ga(i)&&o({inst:i})},[e,n,t]),tw(function(){return Ga(i)&&o({inst:i}),e(function(){Ga(i)&&o({inst:i})})},[e]),rw(n),n}function Ga(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!J1(e,n)}catch{return!0}}function ow(e,t){return t()}var sw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ow:iw;ry.useSyncExternalStore=Pi.useSyncExternalStore!==void 0?Pi.useSyncExternalStore:sw;ny.exports=ry;var lw=ny.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=k,aw=lw;function uw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cw=typeof Object.is=="function"?Object.is:uw,dw=aw.useSyncExternalStore,fw=pa.useRef,pw=pa.useEffect,hw=pa.useMemo,mw=pa.useDebugValue;ty.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=fw(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=hw(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var _=s.value;if(i(_,m))return d=_}return d=m}if(_=d,cw(c,m))return _;var x=r(m);return i!==void 0&&i(_,x)?_:(c=m,d=x)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,i]);var l=dw(e,o[0],o[1]);return pw(function(){s.hasValue=!0,s.value=l},[l]),mw(l),l};ey.exports=ty;var gw=ey.exports;const iy=jh(gw),yw={},fp=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(_=>_(t,m))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(yw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},oy=e=>e?fp(e):fp,{useDebugValue:vw}=U,{useSyncExternalStoreWithSelector:xw}=iy,ww=e=>e;function sy(e,t=ww,n){const r=xw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return vw(r),r}const pp=(e,t)=>{const n=oy(e),r=(i,o=t)=>sy(n,i,o);return Object.assign(r,n),r},_w=(e,t)=>e?pp(e,t):pp;function at(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Sw={value:()=>{}};function ha(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sl(n)}function sl(e){this._=e}function kw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sl.prototype=ha.prototype={constructor:sl,on:function(e,t){var n=this._,r=kw(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Ew(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=hp(n[i],e.name,t);else if(t==null)for(i in n)n[i]=hp(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new sl(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Ew(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function hp(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Sw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var oc="http://www.w3.org/1999/xhtml";const mp={svg:"http://www.w3.org/2000/svg",xhtml:oc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ma(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),mp.hasOwnProperty(t)?{space:mp[t],local:e}:e}function bw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===oc&&t.documentElement.namespaceURI===oc?t.createElement(e):t.createElementNS(n,e)}}function Cw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ly(e){var t=ma(e);return(t.local?Cw:bw)(t)}function Tw(){}function Md(e){return e==null?Tw:function(){return this.querySelector(e)}}function Nw(e){typeof e!="function"&&(e=Md(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=e.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new bt(r,this._parents)}function Mw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Iw(){return[]}function ay(e){return e==null?Iw:function(){return this.querySelectorAll(e)}}function Pw(e){return function(){return Mw(e.apply(this,arguments))}}function Rw(e){typeof e=="function"?e=Pw(e):e=ay(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new bt(r,i)}function uy(e){return function(){return this.matches(e)}}function cy(e){return function(t){return t.matches(e)}}var Aw=Array.prototype.find;function zw(e){return function(){return Aw.call(this.children,e)}}function Lw(){return this.firstElementChild}function Dw(e){return this.select(e==null?Lw:zw(typeof e=="function"?e:cy(e)))}var $w=Array.prototype.filter;function Ow(){return Array.from(this.children)}function jw(e){return function(){return $w.call(this.children,e)}}function Fw(e){return this.selectAll(e==null?Ow:jw(typeof e=="function"?e:cy(e)))}function Bw(e){typeof e!="function"&&(e=uy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new bt(r,this._parents)}function dy(e){return new Array(e.length)}function Hw(){return new bt(this._enter||this._groups.map(dy),this._parents)}function Ll(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ll.prototype={constructor:Ll,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vw(e){return function(){return e}}function Uw(e,t,n,r,i,o){for(var s=0,l,a=t.length,u=o.length;s<u;++s)(l=t[s])?(l.__data__=o[s],r[s]=l):n[s]=new Ll(e,o[s]);for(;s<a;++s)(l=t[s])&&(i[s]=l)}function Ww(e,t,n,r,i,o,s){var l,a,u=new Map,c=t.length,d=o.length,f=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(f[l]=m=s.call(a,a.__data__,l,t)+"",u.has(m)?i[l]=a:u.set(m,a));for(l=0;l<d;++l)m=s.call(e,o[l],l,o)+"",(a=u.get(m))?(r[l]=a,a.__data__=o[l],u.delete(m)):n[l]=new Ll(e,o[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(i[l]=a)}function qw(e){return e.__data__}function Yw(e,t){if(!arguments.length)return Array.from(this,qw);var n=t?Ww:Uw,r=this._parents,i=this._groups;typeof e!="function"&&(e=Vw(e));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,m=Zw(e.call(c,c&&c.__data__,u,r)),_=m.length,x=l[u]=new Array(_),N=s[u]=new Array(_),p=a[u]=new Array(f);n(c,d,x,N,p,m,t);for(var h=0,g=0,S,M;h<_;++h)if(S=x[h]){for(h>=g&&(g=h+1);!(M=N[g])&&++g<_;);S._next=M||null}}return s=new bt(s,r),s._enter=l,s._exit=a,s}function Zw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xw(){return new bt(this._exit||this._groups.map(dy),this._parents)}function Gw(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Qw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),m,_=0;_<d;++_)(m=u[_]||c[_])&&(f[_]=m);for(;a<i;++a)l[a]=n[a];return new bt(l,this._parents)}function Kw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Jw(e){e||(e=e_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new bt(i,this._parents).order()}function e_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function t_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function n_(){return Array.from(this)}function r_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function i_(){let e=0;for(const t of this)++e;return e}function o_(){return!this.node()}function s_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function l_(e){return function(){this.removeAttribute(e)}}function a_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u_(e,t){return function(){this.setAttribute(e,t)}}function c_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function d_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function f_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function p_(e,t){var n=ma(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?a_:l_:typeof t=="function"?n.local?f_:d_:n.local?c_:u_)(n,t))}function fy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function h_(e){return function(){this.style.removeProperty(e)}}function m_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function g_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function y_(e,t,n){return arguments.length>1?this.each((t==null?h_:typeof t=="function"?g_:m_)(e,t,n??"")):Ri(this.node(),e)}function Ri(e,t){return e.style.getPropertyValue(t)||fy(e).getComputedStyle(e,null).getPropertyValue(t)}function v_(e){return function(){delete this[e]}}function x_(e,t){return function(){this[e]=t}}function w_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function __(e,t){return arguments.length>1?this.each((t==null?v_:typeof t=="function"?w_:x_)(e,t)):this.node()[e]}function py(e){return e.trim().split(/^|\s+/)}function Id(e){return e.classList||new hy(e)}function hy(e){this._node=e,this._names=py(e.getAttribute("class")||"")}hy.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function my(e,t){for(var n=Id(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function gy(e,t){for(var n=Id(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function S_(e){return function(){my(this,e)}}function k_(e){return function(){gy(this,e)}}function E_(e,t){return function(){(t.apply(this,arguments)?my:gy)(this,e)}}function b_(e,t){var n=py(e+"");if(arguments.length<2){for(var r=Id(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?E_:t?S_:k_)(n,t))}function C_(){this.textContent=""}function T_(e){return function(){this.textContent=e}}function N_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function M_(e){return arguments.length?this.each(e==null?C_:(typeof e=="function"?N_:T_)(e)):this.node().textContent}function I_(){this.innerHTML=""}function P_(e){return function(){this.innerHTML=e}}function R_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function A_(e){return arguments.length?this.each(e==null?I_:(typeof e=="function"?R_:P_)(e)):this.node().innerHTML}function z_(){this.nextSibling&&this.parentNode.appendChild(this)}function L_(){return this.each(z_)}function D_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $_(){return this.each(D_)}function O_(e){var t=typeof e=="function"?e:ly(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function j_(){return null}function F_(e,t){var n=typeof e=="function"?e:ly(e),r=t==null?j_:typeof t=="function"?t:Md(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function B_(){var e=this.parentNode;e&&e.removeChild(this)}function H_(){return this.each(B_)}function V_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function U_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function W_(e){return this.select(e?U_:V_)}function q_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Y_(e){return function(t){e.call(this,t,this.__data__)}}function Z_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function X_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function G_(e,t,n){return function(){var r=this.__on,i,o=Y_(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Q_(e,t,n){var r=Z_(e+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?G_:X_,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function yy(e,t,n){var r=fy(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function K_(e,t){return function(){return yy(this,e,t)}}function J_(e,t){return function(){return yy(this,e,t.apply(this,arguments))}}function eS(e,t){return this.each((typeof t=="function"?J_:K_)(e,t))}function*tS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var vy=[null];function bt(e,t){this._groups=e,this._parents=t}function is(){return new bt([[document.documentElement]],vy)}function nS(){return this}bt.prototype=is.prototype={constructor:bt,select:Nw,selectAll:Rw,selectChild:Dw,selectChildren:Fw,filter:Bw,data:Yw,enter:Hw,exit:Xw,join:Gw,merge:Qw,selection:nS,order:Kw,sort:Jw,call:t_,nodes:n_,node:r_,size:i_,empty:o_,each:s_,attr:p_,style:y_,property:__,classed:b_,text:M_,html:A_,raise:L_,lower:$_,append:O_,insert:F_,remove:H_,clone:W_,datum:q_,on:Q_,dispatch:eS,[Symbol.iterator]:tS};function Xt(e){return typeof e=="string"?new bt([[document.querySelector(e)]],[document.documentElement]):new bt([[e]],vy)}function rS(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sn(e,t){if(e=rS(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const iS={passive:!1},Vo={capture:!0,passive:!1};function Qa(e){e.stopImmediatePropagation()}function wi(e){e.preventDefault(),e.stopImmediatePropagation()}function xy(e){var t=e.document.documentElement,n=Xt(e).on("dragstart.drag",wi,Vo);"onselectstart"in t?n.on("selectstart.drag",wi,Vo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function wy(e,t){var n=e.document.documentElement,r=Xt(e).on("dragstart.drag",null);t&&(r.on("click.drag",wi,Vo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ts=e=>()=>e;function sc(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}sc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function oS(e){return!e.ctrlKey&&!e.button}function sS(){return this.parentNode}function lS(e,t){return t??{x:e.x,y:e.y}}function aS(){return navigator.maxTouchPoints||"ontouchstart"in this}function uS(){var e=oS,t=sS,n=lS,r=aS,i={},o=ha("start","drag","end"),s=0,l,a,u,c,d=0;function f(S){S.on("mousedown.drag",m).filter(r).on("touchstart.drag",N).on("touchmove.drag",p,iS).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(S,M){if(!(c||!e.call(this,S,M))){var A=g(this,t.call(this,S,M),S,M,"mouse");A&&(Xt(S.view).on("mousemove.drag",_,Vo).on("mouseup.drag",x,Vo),xy(S.view),Qa(S),u=!1,l=S.clientX,a=S.clientY,A("start",S))}}function _(S){if(wi(S),!u){var M=S.clientX-l,A=S.clientY-a;u=M*M+A*A>d}i.mouse("drag",S)}function x(S){Xt(S.view).on("mousemove.drag mouseup.drag",null),wy(S.view,u),wi(S),i.mouse("end",S)}function N(S,M){if(e.call(this,S,M)){var A=S.changedTouches,E=t.call(this,S,M),I=A.length,D,z;for(D=0;D<I;++D)(z=g(this,E,S,M,A[D].identifier,A[D]))&&(Qa(S),z("start",S,A[D]))}}function p(S){var M=S.changedTouches,A=M.length,E,I;for(E=0;E<A;++E)(I=i[M[E].identifier])&&(wi(S),I("drag",S,M[E]))}function h(S){var M=S.changedTouches,A=M.length,E,I;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<A;++E)(I=i[M[E].identifier])&&(Qa(S),I("end",S,M[E]))}function g(S,M,A,E,I,D){var z=o.copy(),O=sn(D||A,M),q,H,y;if((y=n.call(S,new sc("beforestart",{sourceEvent:A,target:f,identifier:I,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:z}),E))!=null)return q=y.x-O[0]||0,H=y.y-O[1]||0,function L(T,j,P){var b=O,v;switch(T){case"start":i[I]=L,v=s++;break;case"end":delete i[I],--s;case"drag":O=sn(P||j,M),v=s;break}z.call(T,S,new sc(T,{sourceEvent:j,subject:y,target:f,identifier:I,active:v,x:O[0]+q,y:O[1]+H,dx:O[0]-b[0],dy:O[1]-b[1],dispatch:z}),E)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Ts(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:Ts(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Ts(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Ts(!!S),f):r},f.on=function(){var S=o.on.apply(o,arguments);return S===o?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function Pd(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _y(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function os(){}var Uo=.7,Dl=1/Uo,_i="\\s*([+-]?\\d+)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cS=/^#([0-9a-f]{3,8})$/,dS=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),fS=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),pS=new RegExp(`^rgba\\(${_i},${_i},${_i},${Wo}\\)$`),hS=new RegExp(`^rgba\\(${cn},${cn},${cn},${Wo}\\)$`),mS=new RegExp(`^hsl\\(${Wo},${cn},${cn}\\)$`),gS=new RegExp(`^hsla\\(${Wo},${cn},${cn},${Wo}\\)$`),gp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pd(os,qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yp,formatHex:yp,formatHex8:yS,formatHsl:vS,formatRgb:vp,toString:vp});function yp(){return this.rgb().formatHex()}function yS(){return this.rgb().formatHex8()}function vS(){return Sy(this).formatHsl()}function vp(){return this.rgb().formatRgb()}function qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xp(t):n===3?new gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ns(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ns(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dS.exec(e))?new gt(t[1],t[2],t[3],1):(t=fS.exec(e))?new gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pS.exec(e))?Ns(t[1],t[2],t[3],t[4]):(t=hS.exec(e))?Ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mS.exec(e))?Sp(t[1],t[2]/100,t[3]/100,1):(t=gS.exec(e))?Sp(t[1],t[2]/100,t[3]/100,t[4]):gp.hasOwnProperty(e)?xp(gp[e]):e==="transparent"?new gt(NaN,NaN,NaN,0):null}function xp(e){return new gt(e>>16&255,e>>8&255,e&255,1)}function Ns(e,t,n,r){return r<=0&&(e=t=n=NaN),new gt(e,t,n,r)}function xS(e){return e instanceof os||(e=qo(e)),e?(e=e.rgb(),new gt(e.r,e.g,e.b,e.opacity)):new gt}function lc(e,t,n,r){return arguments.length===1?xS(e):new gt(e,t,n,r??1)}function gt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Pd(gt,lc,_y(os,{brighter(e){return e=e==null?Dl:Math.pow(Dl,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uo:Math.pow(Uo,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gt(Pr(this.r),Pr(this.g),Pr(this.b),$l(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wp,formatHex:wp,formatHex8:wS,formatRgb:_p,toString:_p}));function wp(){return`#${Tr(this.r)}${Tr(this.g)}${Tr(this.b)}`}function wS(){return`#${Tr(this.r)}${Tr(this.g)}${Tr(this.b)}${Tr((isNaN(this.opacity)?1:this.opacity)*255)}`}function _p(){const e=$l(this.opacity);return`${e===1?"rgb(":"rgba("}${Pr(this.r)}, ${Pr(this.g)}, ${Pr(this.b)}${e===1?")":`, ${e})`}`}function $l(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tr(e){return e=Pr(e),(e<16?"0":"")+e.toString(16)}function Sp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gt(e,t,n,r)}function Sy(e){if(e instanceof Gt)return new Gt(e.h,e.s,e.l,e.opacity);if(e instanceof os||(e=qo(e)),!e)return new Gt;if(e instanceof Gt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new Gt(s,l,a,e.opacity)}function _S(e,t,n,r){return arguments.length===1?Sy(e):new Gt(e,t,n,r??1)}function Gt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Pd(Gt,_S,_y(os,{brighter(e){return e=e==null?Dl:Math.pow(Dl,e),new Gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uo:Math.pow(Uo,e),new Gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new gt(Ka(e>=240?e-240:e+120,i,r),Ka(e,i,r),Ka(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Gt(kp(this.h),Ms(this.s),Ms(this.l),$l(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$l(this.opacity);return`${e===1?"hsl(":"hsla("}${kp(this.h)}, ${Ms(this.s)*100}%, ${Ms(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kp(e){return e=(e||0)%360,e<0?e+360:e}function Ms(e){return Math.max(0,Math.min(1,e||0))}function Ka(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ky=e=>()=>e;function SS(e,t){return function(n){return e+n*t}}function kS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ES(e){return(e=+e)==1?Ey:function(t,n){return n-t?kS(t,n,e):ky(isNaN(t)?n:t)}}function Ey(e,t){var n=t-e;return n?SS(e,n):ky(isNaN(e)?t:e)}const Ep=function e(t){var n=ES(t);function r(i,o){var s=n((i=lc(i)).r,(o=lc(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=Ey(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ac=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ja=new RegExp(ac.source,"g");function bS(e){return function(){return e}}function CS(e){return function(t){return e(t)+""}}function TS(e,t){var n=ac.lastIndex=Ja.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=ac.exec(e))&&(i=Ja.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:qn(r,i)})),n=Ja.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?CS(a[0].x):bS(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var bp=180/Math.PI,uc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function by(e,t,n,r,i,o){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*bp,skewX:Math.atan(a)*bp,scaleX:s,scaleY:l}}var Is;function NS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?uc:by(t.a,t.b,t.c,t.d,t.e,t.f)}function MS(e){return e==null||(Is||(Is=document.createElementNS("http://www.w3.org/2000/svg","g")),Is.setAttribute("transform",e),!(e=Is.transform.baseVal.consolidate()))?uc:(e=e.matrix,by(e.a,e.b,e.c,e.d,e.e,e.f))}function Cy(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,m,_){if(u!==d||c!==f){var x=m.push("translate(",null,t,null,n);_.push({i:x-4,x:qn(u,d)},{i:x-2,x:qn(c,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:qn(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:qn(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function a(u,c,d,f,m,_){if(u!==d||c!==f){var x=m.push(i(m)+"scale(",null,",",null,")");_.push({i:x-4,x:qn(u,d)},{i:x-2,x:qn(c,f)})}else(d!==1||f!==1)&&m.push(i(m)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(m){for(var _=-1,x=f.length,N;++_<x;)d[(N=f[_]).i]=N.x(m);return d.join("")}}}var IS=Cy(NS,"px, ","px)","deg)"),PS=Cy(MS,", ",")",")"),RS=1e-12;function Cp(e){return((e=Math.exp(e))+1/e)/2}function AS(e){return((e=Math.exp(e))-1/e)/2}function zS(e){return((e=Math.exp(2*e))-1)/(e+1)}const LS=function e(t,n,r){function i(o,s){var l=o[0],a=o[1],u=o[2],c=s[0],d=s[1],f=s[2],m=c-l,_=d-a,x=m*m+_*_,N,p;if(x<RS)p=Math.log(f/u)/t,N=function(E){return[l+E*m,a+E*_,u*Math.exp(t*E*p)]};else{var h=Math.sqrt(x),g=(f*f-u*u+r*x)/(2*u*n*h),S=(f*f-u*u-r*x)/(2*f*n*h),M=Math.log(Math.sqrt(g*g+1)-g),A=Math.log(Math.sqrt(S*S+1)-S);p=(A-M)/t,N=function(E){var I=E*p,D=Cp(M),z=u/(n*h)*(D*zS(t*I+M)-AS(M));return[l+z*m,a+z*_,u*D/Cp(t*I+M)]}}return N.duration=p*1e3*t/Math.SQRT2,N}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,a=l*l;return e(s,l,a)},i}(Math.SQRT2,2,4);var Ai=0,fo=0,to=0,Ty=1e3,Ol,po,jl=0,Or=0,ga=0,Yo=typeof performance=="object"&&performance.now?performance:Date,Ny=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Rd(){return Or||(Ny(DS),Or=Yo.now()+ga)}function DS(){Or=0}function Fl(){this._call=this._time=this._next=null}Fl.prototype=My.prototype={constructor:Fl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Rd():+n)+(t==null?0:+t),!this._next&&po!==this&&(po?po._next=this:Ol=this,po=this),this._call=e,this._time=n,cc()},stop:function(){this._call&&(this._call=null,this._time=1/0,cc())}};function My(e,t,n){var r=new Fl;return r.restart(e,t,n),r}function $S(){Rd(),++Ai;for(var e=Ol,t;e;)(t=Or-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ai}function Tp(){Or=(jl=Yo.now())+ga,Ai=fo=0;try{$S()}finally{Ai=0,jS(),Or=0}}function OS(){var e=Yo.now(),t=e-jl;t>Ty&&(ga-=t,jl=e)}function jS(){for(var e,t=Ol,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ol=n);po=e,cc(r)}function cc(e){if(!Ai){fo&&(fo=clearTimeout(fo));var t=e-Or;t>24?(e<1/0&&(fo=setTimeout(Tp,e-Yo.now()-ga)),to&&(to=clearInterval(to))):(to||(jl=Yo.now(),to=setInterval(OS,Ty)),Ai=1,Ny(Tp))}}function Np(e,t,n){var r=new Fl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var FS=ha("start","end","cancel","interrupt"),BS=[],Iy=0,Mp=1,dc=2,ll=3,Ip=4,fc=5,al=6;function ya(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;HS(e,n,{name:t,index:r,group:i,on:FS,tween:BS,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Iy})}function Ad(e,t){var n=tn(e,t);if(n.state>Iy)throw new Error("too late; already scheduled");return n}function pn(e,t){var n=tn(e,t);if(n.state>ll)throw new Error("too late; already running");return n}function tn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function HS(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=My(o,0,n.time);function o(u){n.state=Mp,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,m;if(n.state!==Mp)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===ll)return Np(s);m.state===Ip?(m.state=al,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=al,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(Np(function(){n.state===ll&&(n.state=Ip,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=dc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===dc){for(n.state=ll,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=fc,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===fc&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=al,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ul(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>dc&&r.state<fc,r.state=al,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function VS(e){return this.each(function(){ul(this,e)})}function US(e,t){var n,r;return function(){var i=pn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function WS(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=pn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function qS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=tn(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?US:WS)(n,e,t))}function zd(e,t,n){var r=e._id;return e.each(function(){var i=pn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return tn(i,r).value[t]}}function Py(e,t){var n;return(typeof t=="number"?qn:t instanceof qo?Ep:(n=qo(t))?(t=n,Ep):TS)(e,t)}function YS(e){return function(){this.removeAttribute(e)}}function ZS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function GS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function QS(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function KS(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function JS(e,t){var n=ma(e),r=n==="transform"?PS:Py;return this.attrTween(e,typeof t=="function"?(n.local?KS:QS)(n,r,zd(this,"attr."+e,t)):t==null?(n.local?ZS:YS)(n):(n.local?GS:XS)(n,r,t))}function ek(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tk(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&tk(e,o)),n}return i._value=t,i}function rk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ek(e,o)),n}return i._value=t,i}function ik(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ma(e);return this.tween(n,(r.local?nk:rk)(r,t))}function ok(e,t){return function(){Ad(this,e).delay=+t.apply(this,arguments)}}function sk(e,t){return t=+t,function(){Ad(this,e).delay=t}}function lk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ok:sk)(t,e)):tn(this.node(),t).delay}function ak(e,t){return function(){pn(this,e).duration=+t.apply(this,arguments)}}function uk(e,t){return t=+t,function(){pn(this,e).duration=t}}function ck(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ak:uk)(t,e)):tn(this.node(),t).duration}function dk(e,t){if(typeof t!="function")throw new Error;return function(){pn(this,e).ease=t}}function fk(e){var t=this._id;return arguments.length?this.each(dk(t,e)):tn(this.node(),t).ease}function pk(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pn(this,e).ease=n}}function hk(e){if(typeof e!="function")throw new Error;return this.each(pk(this._id,e))}function mk(e){typeof e!="function"&&(e=uy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Mn(r,this._parents,this._name,this._id)}function gk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=t[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,m=0;m<c;++m)(f=a[m]||u[m])&&(d[m]=f);for(;l<r;++l)s[l]=t[l];return new Mn(s,this._parents,this._name,this._id)}function yk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function vk(e,t,n){var r,i,o=yk(t)?Ad:pn;return function(){var s=o(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function xk(e,t){var n=this._id;return arguments.length<2?tn(this.node(),n).on.on(e):this.each(vk(n,e,t))}function wk(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function _k(){return this.on("end.remove",wk(this._id))}function Sk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Md(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,ya(u[f],t,n,f,u,tn(c,n)));return new Mn(o,this._parents,t,n)}function kk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ay(e));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),m,_=tn(c,n),x=0,N=f.length;x<N;++x)(m=f[x])&&ya(m,t,n,x,f,_);o.push(f),s.push(c)}return new Mn(o,s,t,n)}var Ek=is.prototype.constructor;function bk(){return new Ek(this._groups,this._parents)}function Ck(e,t){var n,r,i;return function(){var o=Ri(this,e),s=(this.style.removeProperty(e),Ri(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Ry(e){return function(){this.style.removeProperty(e)}}function Tk(e,t,n){var r,i=n+"",o;return function(){var s=Ri(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Nk(e,t,n){var r,i,o;return function(){var s=Ri(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Ri(this,e))),s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l))}}function Mk(e,t){var n,r,i,o="style."+t,s="end."+o,l;return function(){var a=pn(this,e),u=a.on,c=a.value[o]==null?l||(l=Ry(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function Ik(e,t,n){var r=(e+="")=="transform"?IS:Py;return t==null?this.styleTween(e,Ck(e,r)).on("end.style."+e,Ry(e)):typeof t=="function"?this.styleTween(e,Nk(e,r,zd(this,"style."+e,t))).each(Mk(this._id,e)):this.styleTween(e,Tk(e,r,t),n).on("end.style."+e,null)}function Pk(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Rk(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Pk(e,s,n)),r}return o._value=t,o}function Ak(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Rk(e,t,n??""))}function zk(e){return function(){this.textContent=e}}function Lk(e){return function(){var t=e(this);this.textContent=t??""}}function Dk(e){return this.tween("text",typeof e=="function"?Lk(zd(this,"text",e)):zk(e==null?"":e+""))}function $k(e){return function(t){this.textContent=e.call(this,t)}}function Ok(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$k(i)),t}return r._value=e,r}function jk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ok(e))}function Fk(){for(var e=this._name,t=this._id,n=Ay(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=tn(a,t);ya(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Mn(r,this._parents,e,n)}function Bk(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=pn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),i===0&&o()})}var Hk=0;function Mn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ay(){return++Hk}var yn=is.prototype;Mn.prototype={constructor:Mn,select:Sk,selectAll:kk,selectChild:yn.selectChild,selectChildren:yn.selectChildren,filter:mk,merge:gk,selection:bk,transition:Fk,call:yn.call,nodes:yn.nodes,node:yn.node,size:yn.size,empty:yn.empty,each:yn.each,on:xk,attr:JS,attrTween:ik,style:Ik,styleTween:Ak,text:Dk,textTween:jk,remove:_k,tween:qS,delay:lk,duration:ck,ease:fk,easeVarying:hk,end:Bk,[Symbol.iterator]:yn[Symbol.iterator]};function Vk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Uk={time:null,delay:0,duration:250,ease:Vk};function Wk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qk(e){var t,n;e instanceof Mn?(t=e._id,e=e._name):(t=Ay(),(n=Uk).time=Rd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&ya(a,e,t,u,s,n||Wk(a,t));return new Mn(r,this._parents,e,t)}is.prototype.interrupt=VS;is.prototype.transition=qk;const Ps=e=>()=>e;function Yk(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Sn(e,t,n){this.k=e,this.x=t,this.y=n}Sn.prototype={constructor:Sn,scale:function(e){return e===1?this:new Sn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Sn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ur=new Sn(1,0,0);Sn.prototype;function eu(e){e.stopImmediatePropagation()}function no(e){e.preventDefault(),e.stopImmediatePropagation()}function Zk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Xk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Pp(){return this.__zoom||ur}function Gk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Qk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Jk(){var e=Zk,t=Xk,n=Kk,r=Gk,i=Qk,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=LS,u=ha("start","zoom","end"),c,d,f,m=500,_=150,x=0,N=10;function p(y){y.property("__zoom",Pp).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(y,L,T,j){var P=y.selection?y.selection():y;P.property("__zoom",Pp),y!==P?M(y,L,T,j):P.interrupt().each(function(){A(this,arguments).event(j).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},p.scaleBy=function(y,L,T,j){p.scaleTo(y,function(){var P=this.__zoom.k,b=typeof L=="function"?L.apply(this,arguments):L;return P*b},T,j)},p.scaleTo=function(y,L,T,j){p.transform(y,function(){var P=t.apply(this,arguments),b=this.__zoom,v=T==null?S(P):typeof T=="function"?T.apply(this,arguments):T,C=b.invert(v),R=typeof L=="function"?L.apply(this,arguments):L;return n(g(h(b,R),v,C),P,s)},T,j)},p.translateBy=function(y,L,T,j){p.transform(y,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,j)},p.translateTo=function(y,L,T,j,P){p.transform(y,function(){var b=t.apply(this,arguments),v=this.__zoom,C=j==null?S(b):typeof j=="function"?j.apply(this,arguments):j;return n(ur.translate(C[0],C[1]).scale(v.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof T=="function"?-T.apply(this,arguments):-T),b,s)},j,P)};function h(y,L){return L=Math.max(o[0],Math.min(o[1],L)),L===y.k?y:new Sn(L,y.x,y.y)}function g(y,L,T){var j=L[0]-T[0]*y.k,P=L[1]-T[1]*y.k;return j===y.x&&P===y.y?y:new Sn(y.k,j,P)}function S(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function M(y,L,T,j){y.on("start.zoom",function(){A(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(j).end()}).tween("zoom",function(){var P=this,b=arguments,v=A(P,b).event(j),C=t.apply(P,b),R=T==null?S(C):typeof T=="function"?T.apply(P,b):T,$=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),V=P.__zoom,Z=typeof L=="function"?L.apply(P,b):L,G=a(V.invert(R).concat($/V.k),Z.invert(R).concat($/Z.k));return function(re){if(re===1)re=Z;else{var ae=G(re),ve=$/ae[2];re=new Sn(ve,R[0]-ae[0]*ve,R[1]-ae[1]*ve)}v.zoom(null,re)}})}function A(y,L,T){return!T&&y.__zooming||new E(y,L)}function E(y,L){this.that=y,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,L),this.taps=0}E.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,L){return this.mouse&&y!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var L=Xt(this.that).datum();u.call(y,this.that,new Yk(y,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),L)}};function I(y,...L){if(!e.apply(this,arguments))return;var T=A(this,L).event(y),j=this.__zoom,P=Math.max(o[0],Math.min(o[1],j.k*Math.pow(2,r.apply(this,arguments)))),b=sn(y);if(T.wheel)(T.mouse[0][0]!==b[0]||T.mouse[0][1]!==b[1])&&(T.mouse[1]=j.invert(T.mouse[0]=b)),clearTimeout(T.wheel);else{if(j.k===P)return;T.mouse=[b,j.invert(b)],ul(this),T.start()}no(y),T.wheel=setTimeout(v,_),T.zoom("mouse",n(g(h(j,P),T.mouse[0],T.mouse[1]),T.extent,s));function v(){T.wheel=null,T.end()}}function D(y,...L){if(f||!e.apply(this,arguments))return;var T=y.currentTarget,j=A(this,L,!0).event(y),P=Xt(y.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",$,!0),b=sn(y,T),v=y.clientX,C=y.clientY;xy(y.view),eu(y),j.mouse=[b,this.__zoom.invert(b)],ul(this),j.start();function R(V){if(no(V),!j.moved){var Z=V.clientX-v,G=V.clientY-C;j.moved=Z*Z+G*G>x}j.event(V).zoom("mouse",n(g(j.that.__zoom,j.mouse[0]=sn(V,T),j.mouse[1]),j.extent,s))}function $(V){P.on("mousemove.zoom mouseup.zoom",null),wy(V.view,j.moved),no(V),j.event(V).end()}}function z(y,...L){if(e.apply(this,arguments)){var T=this.__zoom,j=sn(y.changedTouches?y.changedTouches[0]:y,this),P=T.invert(j),b=T.k*(y.shiftKey?.5:2),v=n(g(h(T,b),j,P),t.apply(this,L),s);no(y),l>0?Xt(this).transition().duration(l).call(M,v,j,y):Xt(this).call(p.transform,v,j,y)}}function O(y,...L){if(e.apply(this,arguments)){var T=y.touches,j=T.length,P=A(this,L,y.changedTouches.length===j).event(y),b,v,C,R;for(eu(y),v=0;v<j;++v)C=T[v],R=sn(C,this),R=[R,this.__zoom.invert(R),C.identifier],P.touch0?!P.touch1&&P.touch0[2]!==R[2]&&(P.touch1=R,P.taps=0):(P.touch0=R,b=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(P.taps<2&&(d=R[0],c=setTimeout(function(){c=null},m)),ul(this),P.start())}}function q(y,...L){if(this.__zooming){var T=A(this,L).event(y),j=y.changedTouches,P=j.length,b,v,C,R;for(no(y),b=0;b<P;++b)v=j[b],C=sn(v,this),T.touch0&&T.touch0[2]===v.identifier?T.touch0[0]=C:T.touch1&&T.touch1[2]===v.identifier&&(T.touch1[0]=C);if(v=T.that.__zoom,T.touch1){var $=T.touch0[0],V=T.touch0[1],Z=T.touch1[0],G=T.touch1[1],re=(re=Z[0]-$[0])*re+(re=Z[1]-$[1])*re,ae=(ae=G[0]-V[0])*ae+(ae=G[1]-V[1])*ae;v=h(v,Math.sqrt(re/ae)),C=[($[0]+Z[0])/2,($[1]+Z[1])/2],R=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(T.touch0)C=T.touch0[0],R=T.touch0[1];else return;T.zoom("touch",n(g(v,C,R),T.extent,s))}}function H(y,...L){if(this.__zooming){var T=A(this,L).event(y),j=y.changedTouches,P=j.length,b,v;for(eu(y),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),b=0;b<P;++b)v=j[b],T.touch0&&T.touch0[2]===v.identifier?delete T.touch0:T.touch1&&T.touch1[2]===v.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(v=sn(v,this),Math.hypot(d[0]-v[0],d[1]-v[1])<N)){var C=Xt(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return p.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:Ps(+y),p):r},p.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Ps(!!y),p):e},p.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Ps(!!y),p):i},p.extent=function(y){return arguments.length?(t=typeof y=="function"?y:Ps([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),p):t},p.scaleExtent=function(y){return arguments.length?(o[0]=+y[0],o[1]=+y[1],p):[o[0],o[1]]},p.translateExtent=function(y){return arguments.length?(s[0][0]=+y[0][0],s[1][0]=+y[1][0],s[0][1]=+y[0][1],s[1][1]=+y[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(y){return arguments.length?(n=y,p):n},p.duration=function(y){return arguments.length?(l=+y,p):l},p.interpolate=function(y){return arguments.length?(a=y,p):a},p.on=function(){var y=u.on.apply(u,arguments);return y===u?p:y},p.clickDistance=function(y){return arguments.length?(x=(y=+y)*y,p):Math.sqrt(x)},p.tapDistance=function(y){return arguments.length?(N=+y,p):N},p}const va=k.createContext(null),e2=va.Provider,In={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},zy=In.error001();function Le(e,t){const n=k.useContext(va);if(n===null)throw new Error(zy);return sy(n,e,t)}const Je=()=>{const e=k.useContext(va);if(e===null)throw new Error(zy);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},t2=e=>e.userSelectionActive?"none":"all";function n2({position:e,children:t,className:n,style:r,...i}){const o=Le(t2),s=`${e}`.split("-");return U.createElement("div",{className:Mt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function r2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:U.createElement(n2,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},U.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const i2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=k.useRef(null),[f,m]=k.useState({x:0,y:0,width:0,height:0}),_=Mt(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(d.current){const x=d.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:U.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:_,visibility:f.width?"visible":"hidden",...c},i&&U.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),U.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var o2=k.memo(i2);const Ld=e=>({width:e.offsetWidth,height:e.offsetHeight}),zi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Dd=(e={x:0,y:0},t)=>({x:zi(e.x,t[0][0],t[1][0]),y:zi(e.y,t[0][1],t[1][1])}),Rp=(e,t,n)=>e<t?zi(Math.abs(e-t),1,50)/50:e>n?-zi(Math.abs(e-n),1,50)/50:0,Ly=(e,t)=>{const n=Rp(e.x,35,t.width-35)*20,r=Rp(e.y,35,t.height-35)*20;return[n,r]},Dy=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},s2=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),$d=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),l2=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ap=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),pc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},a2=e=>$t(e.width)&&$t(e.height)&&$t(e.x)&&$t(e.y),$t=e=>!isNaN(e)&&isFinite(e),ze=Symbol.for("internals"),$y=["Enter"," ","Escape"],u2=(e,t)=>{},c2=e=>"nativeEvent"in e;function hc(e){var i,o;const t=c2(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Oy=e=>"clientX"in e,cr=(e,t)=>{var o,s;const n=Oy(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Bl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ss=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m=20})=>U.createElement(U.Fragment,null,U.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),m&&U.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&$t(n)&&$t(r)?U.createElement(o2,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);ss.displayName="BaseEdge";function ro(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function jy({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[o,l,i,s]}function Fy({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:l}){const a=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var jr;(function(e){e.Strict="strict",e.Loose="loose"})(jr||(jr={}));var Nr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Nr||(Nr={}));var Zo;(function(e){e.Partial="partial",e.Full="full"})(Zo||(Zo={}));var Qn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Qn||(Qn={}));var Hl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Hl||(Hl={}));var ee;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ee||(ee={}));function zp({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ee.Left||e===ee.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function By({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top}){const[s,l]=zp({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,u]=zp({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,d,f,m]=Fy({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${i}`,c,d,f,m]}const Od=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ee.Bottom,targetPosition:o=ee.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:_,interactionWidth:x})=>{const[N,p,h]=By({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return U.createElement(ss,{path:N,labelX:p,labelY:h,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:_,interactionWidth:x})});Od.displayName="SimpleBezierEdge";const Lp={[ee.Left]:{x:-1,y:0},[ee.Right]:{x:1,y:0},[ee.Top]:{x:0,y:-1},[ee.Bottom]:{x:0,y:1}},d2=({source:e,sourcePosition:t=ee.Bottom,target:n})=>t===ee.Left||t===ee.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Dp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function f2({source:e,sourcePosition:t=ee.Bottom,target:n,targetPosition:r=ee.Top,center:i,offset:o}){const s=Lp[t],l=Lp[r],a={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+l.x*o,y:n.y+l.y*o},c=d2({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let m=[],_,x;const N={x:0,y:0},p={x:0,y:0},[h,g,S,M]=jy({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){_=i.x??h,x=i.y??g;const E=[{x:_,y:a.y},{x:_,y:u.y}],I=[{x:a.x,y:x},{x:u.x,y:x}];s[d]===f?m=d==="x"?E:I:m=d==="x"?I:E}else{const E=[{x:a.x,y:u.y}],I=[{x:u.x,y:a.y}];if(d==="x"?m=s.x===f?I:E:m=s.y===f?E:I,t===r){const H=Math.abs(e[d]-n[d]);if(H<=o){const y=Math.min(o-1,o-H);s[d]===f?N[d]=(a[d]>e[d]?-1:1)*y:p[d]=(u[d]>n[d]?-1:1)*y}}if(t!==r){const H=d==="x"?"y":"x",y=s[d]===l[H],L=a[H]>u[H],T=a[H]<u[H];(s[d]===1&&(!y&&L||y&&T)||s[d]!==1&&(!y&&T||y&&L))&&(m=d==="x"?E:I)}const D={x:a.x+N.x,y:a.y+N.y},z={x:u.x+p.x,y:u.y+p.y},O=Math.max(Math.abs(D.x-m[0].x),Math.abs(z.x-m[0].x)),q=Math.max(Math.abs(D.y-m[0].y),Math.abs(z.y-m[0].y));O>=q?(_=(D.x+z.x)/2,x=m[0].y):(_=m[0].x,x=(D.y+z.y)/2)}return[[e,{x:a.x+N.x,y:a.y+N.y},...m,{x:u.x+p.x,y:u.y+p.y},n],_,x,S,M]}function p2(e,t,n,r){const i=Math.min(Dp(e,t)/2,Dp(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${o},${s+i*a}Q ${o},${s} ${o+i*l},${s}`}function mc({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,m,_]=f2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:l,y:a},offset:u});return[c.reduce((N,p,h)=>{let g="";return h>0&&h<c.length-1?g=p2(c[h-1],p,c[h+1],s):g=`${h===0?"M":"L"}${p.x} ${p.y}`,N+=g,N},""),d,f,m,_]}const xa=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=ee.Bottom,targetPosition:f=ee.Top,markerEnd:m,markerStart:_,pathOptions:x,interactionWidth:N})=>{const[p,h,g]=mc({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return U.createElement(ss,{path:p,labelX:h,labelY:g,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:_,interactionWidth:N})});xa.displayName="SmoothStepEdge";const jd=k.memo(e=>{var t;return U.createElement(xa,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});jd.displayName="StepEdge";function h2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,l]=jy({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,l]}const Fd=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})=>{const[_,x,N]=h2({sourceX:e,sourceY:t,targetX:n,targetY:r});return U.createElement(ss,{path:_,labelX:x,labelY:N,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})});Fd.displayName="StraightEdge";function Rs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function $p({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case ee.Left:return[t-Rs(t-r,o),n];case ee.Right:return[t+Rs(r-t,o),n];case ee.Top:return[t,n-Rs(n-i,o)];case ee.Bottom:return[t,n+Rs(i-n,o)]}}function Hy({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,curvature:s=.25}){const[l,a]=$p({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=$p({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,f,m,_]=Fy({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${i}`,d,f,m,_]}const Vl=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ee.Bottom,targetPosition:o=ee.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:_,pathOptions:x,interactionWidth:N})=>{const[p,h,g]=Hy({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:x==null?void 0:x.curvature});return U.createElement(ss,{path:p,labelX:h,labelY:g,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:_,interactionWidth:N})});Vl.displayName="BezierEdge";const Bd=k.createContext(null),m2=Bd.Provider;Bd.Consumer;const g2=()=>k.useContext(Bd),y2=e=>"id"in e&&"source"in e&&"target"in e,v2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,gc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,x2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Vy=(e,t)=>{if(!e.source||!e.target)return t;let n;return y2(e)?n={...e}:n={...e,id:v2(e)},x2(n,t)?t:t.concat(n)},yc=({x:e,y:t},[n,r,i],o,[s,l])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},Uy=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Si=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Hd=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Si(i,t).positionAbsolute;return s2(r,$d({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return l2(n)},Wy=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:m=!0,hidden:_=!1}=c;if(s&&!m||_)return!1;const{positionAbsolute:x}=Si(c,l),N={x:x.x,y:x.y,width:d||0,height:f||0},p=pc(a,N),h=typeof d>"u"||typeof f>"u"||d===null||f===null,g=o&&p>0,S=(d||0)*(f||0);(h||g||p>=S||c.dragging)&&u.push(c)}),u},qy=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Yy=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),l=n/(e.height*(1+o)),a=Math.min(s,l),u=zi(a,r,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,m=n/2-d*u;return{x:f,y:m,zoom:u}},kr=(e,t=0)=>e.transition().duration(t);function Op(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,l;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+o.y+o.height/2}),i},[])}function w2(e,t,n,r,i,o){const{x:s,y:l}=cr(e),u=t.elementsFromPoint(s,l).find(_=>_.classList.contains("react-flow__handle"));if(u){const _=u.getAttribute("data-nodeid");if(_){const x=Vd(void 0,u),N=u.getAttribute("data-handleid"),p=o({nodeId:_,id:N,type:x});if(p){const h=i.find(g=>g.nodeId===_&&g.type===x&&g.id===N);return{handle:{id:N,type:x,nodeId:_,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:p}}}}let c=[],d=1/0;if(i.forEach(_=>{const x=Math.sqrt((_.x-n.x)**2+(_.y-n.y)**2);if(x<=r){const N=o(_);x<=d&&(x<d?c=[{handle:_,validHandleResult:N}]:x===d&&c.push({handle:_,validHandleResult:N}),d=x)}}),!c.length)return{handle:null,validHandleResult:Zy()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:_})=>_.isValid),m=c.some(({handle:_})=>_.type==="target");return c.find(({handle:_,validHandleResult:x})=>m?_.type==="target":f?x.isValid:!0)||c[0]}const _2={source:null,target:null,sourceHandle:null,targetHandle:null},Zy=()=>({handleDomNode:null,isValid:!1,connection:_2,endHandle:null});function Xy(e,t,n,r,i,o,s){const l=i==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Zy(),handleDomNode:a};if(a){const c=Vd(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),_=a.classList.contains("connectableend"),x={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=x,m&&_&&(t===jr.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=o(x))}return u}function S2({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[ze]){const{handleBounds:s}=o[ze];let l=[],a=[];s&&(l=Op(o,s,"source",`${t}-${n}-${r}`),a=Op(o,s,"target",`${t}-${n}-${r}`)),i.push(...l,...a)}return i},[])}function Vd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function tu(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function k2(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Gy({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Dy(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:m,connectionRadius:_,onConnectStart:x,panBy:N,getNodes:p,cancelConnection:h}=o();let g=0,S;const{x:M,y:A}=cr(e),E=c==null?void 0:c.elementFromPoint(M,A),I=Vd(a,E),D=f==null?void 0:f.getBoundingClientRect();if(!D||!I)return;let z,O=cr(e,D),q=!1,H=null,y=!1,L=null;const T=S2({nodes:p(),nodeId:n,handleId:t,handleType:I}),j=()=>{if(!m)return;const[v,C]=Ly(O,D);N({x:v,y:C}),g=requestAnimationFrame(j)};s({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:I,connectionStartHandle:{nodeId:n,handleId:t,type:I},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:I});function P(v){const{transform:C}=o();O=cr(v,D);const{handle:R,validHandleResult:$}=w2(v,c,yc(O,C,!1,[1,1]),_,T,V=>Xy(V,d,n,t,i?"target":"source",l,c));if(S=R,q||(j(),q=!0),L=$.handleDomNode,H=$.connection,y=$.isValid,s({connectionPosition:S&&y?Uy({x:S.x,y:S.y},C):O,connectionStatus:k2(!!S,y),connectionEndHandle:$.endHandle}),!S&&!y&&!L)return tu(z);H.source!==H.target&&L&&(tu(z),z=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",y),L.classList.toggle("react-flow__handle-valid",y))}function b(v){var C,R;(S||L)&&H&&y&&(r==null||r(H)),(R=(C=o()).onConnectEnd)==null||R.call(C,v),a&&(u==null||u(v)),tu(z),h(),cancelAnimationFrame(g),q=!1,y=!1,H=null,L=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",b),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",b)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",b),c.addEventListener("touchmove",P),c.addEventListener("touchend",b)}const jp=()=>!0,E2=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),b2=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},Qy=k.forwardRef(({type:e="source",position:t=ee.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},m)=>{var D,z;const _=s||null,x=e==="target",N=Je(),p=g2(),{connectOnClick:h,noPanClassName:g}=Le(E2,at),{connecting:S,clickConnecting:M}=Le(b2(p,_,e),at);p||(z=(D=N.getState()).onError)==null||z.call(D,"010",In.error010());const A=O=>{const{defaultEdgeOptions:q,onConnect:H,hasDefaultEdges:y}=N.getState(),L={...q,...O};if(y){const{edges:T,setEdges:j}=N.getState();j(Vy(L,T))}H==null||H(L),l==null||l(L)},E=O=>{if(!p)return;const q=Oy(O);i&&(q&&O.button===0||!q)&&Gy({event:O,handleId:_,nodeId:p,onConnect:A,isTarget:x,getState:N.getState,setState:N.setState,isValidConnection:n||N.getState().isValidConnection||jp}),q?c==null||c(O):d==null||d(O)},I=O=>{const{onClickConnectStart:q,onClickConnectEnd:H,connectionClickStartHandle:y,connectionMode:L,isValidConnection:T}=N.getState();if(!p||!y&&!i)return;if(!y){q==null||q(O,{nodeId:p,handleId:_,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:_}});return}const j=Dy(O.target),P=n||T||jp,{connection:b,isValid:v}=Xy({nodeId:p,id:_,type:e},L,y.nodeId,y.handleId||null,y.type,P,j);v&&A(b),H==null||H(O),N.setState({connectionClickStartHandle:null})};return U.createElement("div",{"data-handleid":_,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${_}-${e}`,className:Mt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,u,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:o,connecting:M,connectionindicator:r&&(i&&!S||o&&S)}]),onMouseDown:E,onTouchStart:E,onClick:h?I:void 0,ref:m,...f},a)});Qy.displayName="Handle";var hr=k.memo(Qy);const Ky=({data:e,isConnectable:t,targetPosition:n=ee.Top,sourcePosition:r=ee.Bottom})=>U.createElement(U.Fragment,null,U.createElement(hr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,U.createElement(hr,{type:"source",position:r,isConnectable:t}));Ky.displayName="DefaultNode";var vc=k.memo(Ky);const Jy=({data:e,isConnectable:t,sourcePosition:n=ee.Bottom})=>U.createElement(U.Fragment,null,e==null?void 0:e.label,U.createElement(hr,{type:"source",position:n,isConnectable:t}));Jy.displayName="InputNode";var e0=k.memo(Jy);const t0=({data:e,isConnectable:t,targetPosition:n=ee.Top})=>U.createElement(U.Fragment,null,U.createElement(hr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);t0.displayName="OutputNode";var n0=k.memo(t0);const Ud=()=>null;Ud.displayName="GroupNode";const C2=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),As=e=>e.id;function T2(e,t){return at(e.selectedNodes.map(As),t.selectedNodes.map(As))&&at(e.selectedEdges.map(As),t.selectedEdges.map(As))}const r0=k.memo(({onSelectionChange:e})=>{const t=Je(),{selectedNodes:n,selectedEdges:r}=Le(C2,T2);return k.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});r0.displayName="SelectionListener";const N2=e=>!!e.onSelectionChange;function M2({onSelectionChange:e}){const t=Le(N2);return e||t?U.createElement(r0,{onSelectionChange:e}):null}const I2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function qr(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ce(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const P2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:_,minZoom:x,maxZoom:N,nodeExtent:p,onNodesChange:h,onEdgesChange:g,elementsSelectable:S,connectionMode:M,snapGrid:A,snapToGrid:E,translateExtent:I,connectOnClick:D,defaultEdgeOptions:z,fitView:O,fitViewOptions:q,onNodesDelete:H,onEdgesDelete:y,onNodeDrag:L,onNodeDragStart:T,onNodeDragStop:j,onSelectionDrag:P,onSelectionDragStart:b,onSelectionDragStop:v,noPanClassName:C,nodeOrigin:R,rfId:$,autoPanOnConnect:V,autoPanOnNodeDrag:Z,onError:G,connectionRadius:re,isValidConnection:ae,nodeDragThreshold:ve})=>{const{setNodes:se,setEdges:be,setDefaultNodesAndEdges:Be,setMinZoom:Oe,setMaxZoom:Ie,setTranslateExtent:ye,setNodeExtent:De,reset:xe}=Le(I2,at),ne=Je();return k.useEffect(()=>{const ot=r==null?void 0:r.map(It=>({...It,...z}));return Be(n,ot),()=>{xe()}},[]),ce("defaultEdgeOptions",z,ne.setState),ce("connectionMode",M,ne.setState),ce("onConnect",i,ne.setState),ce("onConnectStart",o,ne.setState),ce("onConnectEnd",s,ne.setState),ce("onClickConnectStart",l,ne.setState),ce("onClickConnectEnd",a,ne.setState),ce("nodesDraggable",u,ne.setState),ce("nodesConnectable",c,ne.setState),ce("nodesFocusable",d,ne.setState),ce("edgesFocusable",f,ne.setState),ce("edgesUpdatable",m,ne.setState),ce("elementsSelectable",S,ne.setState),ce("elevateNodesOnSelect",_,ne.setState),ce("snapToGrid",E,ne.setState),ce("snapGrid",A,ne.setState),ce("onNodesChange",h,ne.setState),ce("onEdgesChange",g,ne.setState),ce("connectOnClick",D,ne.setState),ce("fitViewOnInit",O,ne.setState),ce("fitViewOnInitOptions",q,ne.setState),ce("onNodesDelete",H,ne.setState),ce("onEdgesDelete",y,ne.setState),ce("onNodeDrag",L,ne.setState),ce("onNodeDragStart",T,ne.setState),ce("onNodeDragStop",j,ne.setState),ce("onSelectionDrag",P,ne.setState),ce("onSelectionDragStart",b,ne.setState),ce("onSelectionDragStop",v,ne.setState),ce("noPanClassName",C,ne.setState),ce("nodeOrigin",R,ne.setState),ce("rfId",$,ne.setState),ce("autoPanOnConnect",V,ne.setState),ce("autoPanOnNodeDrag",Z,ne.setState),ce("onError",G,ne.setState),ce("connectionRadius",re,ne.setState),ce("isValidConnection",ae,ne.setState),ce("nodeDragThreshold",ve,ne.setState),qr(e,se),qr(t,be),qr(x,Oe),qr(N,Ie),qr(I,ye),qr(p,De),null},Fp={display:"none"},R2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},i0="react-flow__node-desc",o0="react-flow__edge-desc",A2="react-flow__aria-live",z2=e=>e.ariaLiveMessage;function L2({rfId:e}){const t=Le(z2);return U.createElement("div",{id:`${A2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:R2},t)}function D2({rfId:e,disableKeyboardA11y:t}){return U.createElement(U.Fragment,null,U.createElement("div",{id:`${i0}-${e}`,style:Fp},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),U.createElement("div",{id:`${o0}-${e}`,style:Fp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&U.createElement(L2,{rfId:e}))}var Xo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),o=k.useRef(new Set([])),[s,l]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return k.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(i.current=m.ctrlKey||m.metaKey||m.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&hc(m))return!1;const x=Hp(m.code,l);o.current.add(m[x]),Bp(s,o.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&hc(m))return!1;const x=Hp(m.code,l);Bp(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[x]),m.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function Bp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Hp(e,t){return t.includes(e)?"code":"key"}function s0(e,t,n,r){var l,a;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Si(o,r);return s0(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=o[ze])==null?void 0:l.z)??0)>(n.z??0)?((a=o[ze])==null?void 0:a.z)??0:n.z??0},r)}function l0(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:l,z:a}=s0(r,e,{...r.position,z:((o=r[ze])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:l},r[ze].z=a,n!=null&&n[r.id]&&(r[ze].isParent=!0)}})}function nu(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(l=>{var m;const a=($t(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(o[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,ze,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[ze])==null?void 0:m.handleBounds,z:a}}),i.set(l.id,c)}),l0(i,n,o),i}function a0(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const _=n().filter(N=>{var h;const p=t.includeHiddenNodes?N.width&&N.height:!N.hidden;return(h=t.nodes)!=null&&h.length?p&&t.nodes.some(g=>g.id===N.id):p}),x=_.every(N=>N.width&&N.height);if(_.length>0&&x){const N=Hd(_,d),{x:p,y:h,zoom:g}=Yy(N,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),S=ur.translate(p,h).scale(g);return typeof t.duration=="number"&&t.duration>0?l.transform(kr(a,t.duration),S):l.transform(a,S),!0}}return!1}function $2(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[ze]:r[ze],selected:n.selected})}),new Map(t)}function O2(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function zs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:$2(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:O2(t,o)}),l==null||l(t))}const Yr=()=>{},j2={zoomIn:Yr,zoomOut:Yr,zoomTo:Yr,getZoom:()=>1,setViewport:Yr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Yr,fitBounds:Yr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},F2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),B2=()=>{const e=Je(),{d3Zoom:t,d3Selection:n}=Le(F2,at);return k.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(kr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(kr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(kr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,l,a]=e.getState().transform,u=ur.translate(i.x??s,i.y??l).scale(i.zoom??a);t.transform(kr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>a0(e.getState,i),setCenter:(i,o,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=l/2-i*c,f=a/2-o*c,m=ur.translate(d,f).scale(c);t.transform(kr(n,s==null?void 0:s.duration),m)},fitBounds:(i,o)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=Yy(i,s,l,a,u,(o==null?void 0:o.padding)??.1),m=ur.translate(c,d).scale(f);t.transform(kr(n,o==null?void 0:o.duration),m)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),yc(i,o,s,l)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return i;const{x:u,y:c}=a.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return yc(d,o,s,l)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:l,y:a}=s.getBoundingClientRect(),u=Uy(i,o);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:j2,[t,n])};function u0(){const e=B2(),t=Je(),n=k.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=k.useCallback(x=>t.getState().nodeInternals.get(x),[]),i=k.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(N=>({...N}))},[]),o=k.useCallback(x=>{const{edges:N=[]}=t.getState();return N.find(p=>p.id===x)},[]),s=k.useCallback(x=>{const{getNodes:N,setNodes:p,hasDefaultNodes:h,onNodesChange:g}=t.getState(),S=N(),M=typeof x=="function"?x(S):x;if(h)p(M);else if(g){const A=M.length===0?S.map(E=>({type:"remove",id:E.id})):M.map(E=>({item:E,type:"reset"}));g(A)}},[]),l=k.useCallback(x=>{const{edges:N=[],setEdges:p,hasDefaultEdges:h,onEdgesChange:g}=t.getState(),S=typeof x=="function"?x(N):x;if(h)p(S);else if(g){const M=S.length===0?N.map(A=>({type:"remove",id:A.id})):S.map(A=>({item:A,type:"reset"}));g(M)}},[]),a=k.useCallback(x=>{const N=Array.isArray(x)?x:[x],{getNodes:p,setNodes:h,hasDefaultNodes:g,onNodesChange:S}=t.getState();if(g){const A=[...p(),...N];h(A)}else if(S){const M=N.map(A=>({item:A,type:"add"}));S(M)}},[]),u=k.useCallback(x=>{const N=Array.isArray(x)?x:[x],{edges:p=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:S}=t.getState();if(g)h([...p,...N]);else if(S){const M=N.map(A=>({item:A,type:"add"}));S(M)}},[]),c=k.useCallback(()=>{const{getNodes:x,edges:N=[],transform:p}=t.getState(),[h,g,S]=p;return{nodes:x().map(M=>({...M})),edges:N.map(M=>({...M})),viewport:{x:h,y:g,zoom:S}}},[]),d=k.useCallback(({nodes:x,edges:N})=>{const{nodeInternals:p,getNodes:h,edges:g,hasDefaultNodes:S,hasDefaultEdges:M,onNodesDelete:A,onEdgesDelete:E,onNodesChange:I,onEdgesChange:D}=t.getState(),z=(x||[]).map(L=>L.id),O=(N||[]).map(L=>L.id),q=h().reduce((L,T)=>{const j=T.parentNode||T.parentId,P=!z.includes(T.id)&&j&&L.find(v=>v.id===j);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(z.includes(T.id)||P)&&L.push(T),L},[]),H=g.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),y=H.filter(L=>O.includes(L.id));if(q||y){const L=qy(q,H),T=[...y,...L],j=T.reduce((P,b)=>(P.includes(b.id)||P.push(b.id),P),[]);if((M||S)&&(M&&t.setState({edges:g.filter(P=>!j.includes(P.id))}),S&&(q.forEach(P=>{p.delete(P.id)}),t.setState({nodeInternals:new Map(p)}))),j.length>0&&(E==null||E(T),D&&D(j.map(P=>({id:P,type:"remove"})))),q.length>0&&(A==null||A(q),I)){const P=q.map(b=>({id:b.id,type:"remove"}));I(P)}}},[]),f=k.useCallback(x=>{const N=a2(x),p=N?null:t.getState().nodeInternals.get(x.id);return!N&&!p?[null,null,N]:[N?x:Ap(p),p,N]},[]),m=k.useCallback((x,N=!0,p)=>{const[h,g,S]=f(x);return h?(p||t.getState().getNodes()).filter(M=>{if(!S&&(M.id===g.id||!M.positionAbsolute))return!1;const A=Ap(M),E=pc(A,h);return N&&E>0||E>=h.width*h.height}):[]},[]),_=k.useCallback((x,N,p=!0)=>{const[h]=f(x);if(!h)return!1;const g=pc(h,N);return p&&g>0||g>=h.width*h.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:_}),[e,n,r,i,o,s,l,a,u,c,d,m,_])}const H2={actInsideInputWithModifier:!1};var V2=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Je(),{deleteElements:r}=u0(),i=Xo(e,H2),o=Xo(t);k.useEffect(()=>{if(i){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function U2(e){const t=Je();k.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=Ld(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",In.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Wd={position:"absolute",width:"100%",height:"100%",top:0,left:0},W2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ls=e=>({x:e.x,y:e.y,zoom:e.k}),Zr=(e,t)=>e.target.closest(`.${t}`),Vp=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Up=e=>{const t=e.ctrlKey&&Bl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},q2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Y2=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Nr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:m,minZoom:_,maxZoom:x,zoomActivationKeyCode:N,preventScrolling:p=!0,children:h,noWheelClassName:g,noPanClassName:S})=>{const M=k.useRef(),A=Je(),E=k.useRef(!1),I=k.useRef(!1),D=k.useRef(null),z=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:q,d3ZoomHandler:H,userSelectionActive:y}=Le(q2,at),L=Xo(N),T=k.useRef(0),j=k.useRef(!1),P=k.useRef();return U2(D),k.useEffect(()=>{if(D.current){const b=D.current.getBoundingClientRect(),v=Jk().scaleExtent([_,x]).translateExtent(m),C=Xt(D.current).call(v),R=ur.translate(f.x,f.y).scale(zi(f.zoom,_,x)),$=[[0,0],[b.width,b.height]],V=v.constrain()(R,$,m);v.transform(C,V),v.wheelDelta(Up),A.setState({d3Zoom:v,d3Selection:C,d3ZoomHandler:C.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:D.current.closest(".react-flow")})}},[]),k.useEffect(()=>{q&&O&&(s&&!L&&!y?q.on("wheel.zoom",b=>{if(Zr(b,g))return!1;b.preventDefault(),b.stopImmediatePropagation();const v=q.property("__zoom").k||1;if(b.ctrlKey&&o){const ae=sn(b),ve=Up(b),se=v*Math.pow(2,ve);O.scaleTo(q,se,ae,b);return}const C=b.deltaMode===1?20:1;let R=a===Nr.Vertical?0:b.deltaX*C,$=a===Nr.Horizontal?0:b.deltaY*C;!Bl()&&b.shiftKey&&a!==Nr.Vertical&&(R=b.deltaY*C,$=0),O.translateBy(q,-(R/v)*l,-($/v)*l,{internal:!0});const V=Ls(q.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:G,onViewportChangeEnd:re}=A.getState();clearTimeout(P.current),j.current||(j.current=!0,t==null||t(b,V),Z==null||Z(V)),j.current&&(e==null||e(b,V),G==null||G(V),P.current=setTimeout(()=>{n==null||n(b,V),re==null||re(V),j.current=!1},150))},{passive:!1}):typeof H<"u"&&q.on("wheel.zoom",function(b,v){if(!p&&b.type==="wheel"&&!b.ctrlKey||Zr(b,g))return null;b.preventDefault(),H.call(this,b,v)},{passive:!1}))},[y,s,a,q,O,H,L,o,p,g,t,e,n]),k.useEffect(()=>{O&&O.on("start",b=>{var R,$;if(!b.sourceEvent||b.sourceEvent.internal)return null;T.current=(R=b.sourceEvent)==null?void 0:R.button;const{onViewportChangeStart:v}=A.getState(),C=Ls(b.transform);E.current=!0,z.current=C,(($=b.sourceEvent)==null?void 0:$.type)==="mousedown"&&A.setState({paneDragging:!0}),v==null||v(C),t==null||t(b.sourceEvent,C)})},[O,t]),k.useEffect(()=>{O&&(y&&!E.current?O.on("zoom",null):y||O.on("zoom",b=>{var C;const{onViewportChange:v}=A.getState();if(A.setState({transform:[b.transform.x,b.transform.y,b.transform.k]}),I.current=!!(r&&Vp(d,T.current??0)),(e||v)&&!((C=b.sourceEvent)!=null&&C.internal)){const R=Ls(b.transform);v==null||v(R),e==null||e(b.sourceEvent,R)}}))},[y,O,e,d,r]),k.useEffect(()=>{O&&O.on("end",b=>{if(!b.sourceEvent||b.sourceEvent.internal)return null;const{onViewportChangeEnd:v}=A.getState();if(E.current=!1,A.setState({paneDragging:!1}),r&&Vp(d,T.current??0)&&!I.current&&r(b.sourceEvent),I.current=!1,(n||v)&&W2(z.current,b.transform)){const C=Ls(b.transform);z.current=C,clearTimeout(M.current),M.current=setTimeout(()=>{v==null||v(C),n==null||n(b.sourceEvent,C)},s?150:0)}})},[O,s,d,n,r]),k.useEffect(()=>{O&&O.filter(b=>{const v=L||i,C=o&&b.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&b.button===1&&b.type==="mousedown"&&(Zr(b,"react-flow__node")||Zr(b,"react-flow__edge")))return!0;if(!d&&!v&&!s&&!u&&!o||y||!u&&b.type==="dblclick"||Zr(b,g)&&b.type==="wheel"||Zr(b,S)&&(b.type!=="wheel"||s&&b.type==="wheel"&&!L)||!o&&b.ctrlKey&&b.type==="wheel"||!v&&!s&&!C&&b.type==="wheel"||!d&&(b.type==="mousedown"||b.type==="touchstart")||Array.isArray(d)&&!d.includes(b.button)&&b.type==="mousedown")return!1;const R=Array.isArray(d)&&d.includes(b.button)||!b.button||b.button<=1;return(!b.ctrlKey||b.type==="wheel")&&R})},[y,O,i,o,s,u,d,c,L]),U.createElement("div",{className:"react-flow__renderer",ref:D,style:Wd},h)},Z2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function X2(){const{userSelectionActive:e,userSelectionRect:t}=Le(Z2,at);return e&&t?U.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Wp(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function c0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(l=>l.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const l of o)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&Wp(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&Wp(r,s);break}case"remove":return r}return r.push(s),r},n)}function d0(e,t){return c0(e,t)}function G2(e,t){return c0(e,t)}const Yn=(e,t)=>({id:e,type:"select",selected:t});function ci(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Yn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Yn(r.id,!1))),n},[])}const ru=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Q2=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),f0=k.memo(({isSelecting:e,selectionMode:t=Zo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=k.useRef(null),m=Je(),_=k.useRef(0),x=k.useRef(0),N=k.useRef(),{userSelectionActive:p,elementsSelectable:h,dragging:g}=Le(Q2,at),S=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),_.current=0,x.current=0},M=H=>{o==null||o(H),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=H=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){H.preventDefault();return}s==null||s(H)},E=l?H=>l(H):void 0,I=H=>{const{resetSelectedElements:y,domNode:L}=m.getState();if(N.current=L==null?void 0:L.getBoundingClientRect(),!h||!e||H.button!==0||H.target!==f.current||!N.current)return;const{x:T,y:j}=cr(H,N.current);y(),m.setState({userSelectionRect:{width:0,height:0,startX:T,startY:j,x:T,y:j}}),r==null||r(H)},D=H=>{const{userSelectionRect:y,nodeInternals:L,edges:T,transform:j,onNodesChange:P,onEdgesChange:b,nodeOrigin:v,getNodes:C}=m.getState();if(!e||!N.current||!y)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const R=cr(H,N.current),$=y.startX??0,V=y.startY??0,Z={...y,x:R.x<$?R.x:$,y:R.y<V?R.y:V,width:Math.abs(R.x-$),height:Math.abs(R.y-V)},G=C(),re=Wy(L,Z,j,t===Zo.Partial,!0,v),ae=qy(re,T).map(se=>se.id),ve=re.map(se=>se.id);if(_.current!==ve.length){_.current=ve.length;const se=ci(G,ve);se.length&&(P==null||P(se))}if(x.current!==ae.length){x.current=ae.length;const se=ci(T,ae);se.length&&(b==null||b(se))}m.setState({userSelectionRect:Z})},z=H=>{if(H.button!==0)return;const{userSelectionRect:y}=m.getState();!p&&y&&H.target===f.current&&(M==null||M(H)),m.setState({nodesSelectionActive:_.current>0}),S(),i==null||i(H)},O=H=>{p&&(m.setState({nodesSelectionActive:_.current>0}),i==null||i(H)),S()},q=h&&(e||p);return U.createElement("div",{className:Mt(["react-flow__pane",{dragging:g,selection:e}]),onClick:q?void 0:ru(M,f),onContextMenu:ru(A,f),onWheel:ru(E,f),onMouseEnter:q?void 0:a,onMouseDown:q?I:void 0,onMouseMove:q?D:u,onMouseUp:q?z:void 0,onMouseLeave:q?O:c,ref:f,style:Wd},d,U.createElement(X2,null))});f0.displayName="Pane";function p0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:p0(r,t):!1}function qp(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function K2(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!p0(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function J2(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function h0(e,t,n,r,i=[0,0],o){const s=J2(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:m}=Si(d,i).positionAbsolute;l=d&&$t(f)&&$t(m)&&$t(d.width)&&$t(d.height)?[[f+e.width*i[0],m+e.height*i[1]],[f+d.width-e.width+e.width*i[0],m+d.height-e.height+e.height*i[1]]]:l}else o==null||o("005",In.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:m}=Si(d,i).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Si(d,i).positionAbsolute}const c=l&&l!=="parent"?Dd(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function iu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Yp=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return o.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...Ld(a)}})};function io(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function xc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",In.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function eE(){const e=Je();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(a.x/i[0]):a.x,ySnapped:o?i[1]*Math.round(a.y/i[1]):a.y,...a}},[])}function ou(e){return(t,n,r)=>e==null?void 0:e(t,r)}function m0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const l=Je(),[a,u]=k.useState(!1),c=k.useRef([]),d=k.useRef({x:null,y:null}),f=k.useRef(0),m=k.useRef(null),_=k.useRef({x:0,y:0}),x=k.useRef(null),N=k.useRef(!1),p=k.useRef(!1),h=k.useRef(!1),g=eE();return k.useEffect(()=>{if(e!=null&&e.current){const S=Xt(e.current),M=({x:I,y:D})=>{const{nodeInternals:z,onNodeDrag:O,onSelectionDrag:q,updateNodePositions:H,nodeExtent:y,snapGrid:L,snapToGrid:T,nodeOrigin:j,onError:P}=l.getState();d.current={x:I,y:D};let b=!1,v={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&y){const R=Hd(c.current,j);v=$d(R)}if(c.current=c.current.map(R=>{const $={x:I-R.distance.x,y:D-R.distance.y};T&&($.x=L[0]*Math.round($.x/L[0]),$.y=L[1]*Math.round($.y/L[1]));const V=[[y[0][0],y[0][1]],[y[1][0],y[1][1]]];c.current.length>1&&y&&!R.extent&&(V[0][0]=R.positionAbsolute.x-v.x+y[0][0],V[1][0]=R.positionAbsolute.x+(R.width??0)-v.x2+y[1][0],V[0][1]=R.positionAbsolute.y-v.y+y[0][1],V[1][1]=R.positionAbsolute.y+(R.height??0)-v.y2+y[1][1]);const Z=h0(R,$,z,V,j,P);return b=b||R.position.x!==Z.position.x||R.position.y!==Z.position.y,R.position=Z.position,R.positionAbsolute=Z.positionAbsolute,R}),!b)return;H(c.current,!0,!0),u(!0);const C=i?O:ou(q);if(C&&x.current){const[R,$]=iu({nodeId:i,dragItems:c.current,nodeInternals:z});C(x.current,R,$)}},A=()=>{if(!m.current)return;const[I,D]=Ly(_.current,m.current);if(I!==0||D!==0){const{transform:z,panBy:O}=l.getState();d.current.x=(d.current.x??0)-I/z[2],d.current.y=(d.current.y??0)-D/z[2],O({x:I,y:D})&&M(d.current)}f.current=requestAnimationFrame(A)},E=I=>{var j;const{nodeInternals:D,multiSelectionActive:z,nodesDraggable:O,unselectNodesAndEdges:q,onNodeDragStart:H,onSelectionDragStart:y}=l.getState();p.current=!0;const L=i?H:ou(y);(!s||!o)&&!z&&i&&((j=D.get(i))!=null&&j.selected||q()),i&&o&&s&&xc({id:i,store:l,nodeRef:e});const T=g(I);if(d.current=T,c.current=K2(D,O,T,i),L&&c.current){const[P,b]=iu({nodeId:i,dragItems:c.current,nodeInternals:D});L(I.sourceEvent,P,b)}};if(t)S.on(".drag",null);else{const I=uS().on("start",D=>{const{domNode:z,nodeDragThreshold:O}=l.getState();O===0&&E(D),h.current=!1;const q=g(D);d.current=q,m.current=(z==null?void 0:z.getBoundingClientRect())||null,_.current=cr(D.sourceEvent,m.current)}).on("drag",D=>{var H,y;const z=g(D),{autoPanOnNodeDrag:O,nodeDragThreshold:q}=l.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!N.current&&p.current&&O&&(N.current=!0,A()),!p.current){const L=z.xSnapped-(((H=d==null?void 0:d.current)==null?void 0:H.x)??0),T=z.ySnapped-(((y=d==null?void 0:d.current)==null?void 0:y.y)??0);Math.sqrt(L*L+T*T)>q&&E(D)}(d.current.x!==z.xSnapped||d.current.y!==z.ySnapped)&&c.current&&p.current&&(x.current=D.sourceEvent,_.current=cr(D.sourceEvent,m.current),M(z))}}).on("end",D=>{if(!(!p.current||h.current)&&(u(!1),N.current=!1,p.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:z,nodeInternals:O,onNodeDragStop:q,onSelectionDragStop:H}=l.getState(),y=i?q:ou(H);if(z(c.current,!1,!1),y){const[L,T]=iu({nodeId:i,dragItems:c.current,nodeInternals:O});y(D.sourceEvent,L,T)}}}).filter(D=>{const z=D.target;return!D.button&&(!n||!qp(z,`.${n}`,e))&&(!r||qp(z,r,e))});return S.call(I),()=>{S.on(".drag",null)}}}},[e,t,n,r,o,l,i,s,g]),a}function g0(){const e=Je();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=s().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),f=l?a[0]:5,m=l?a[1]:5,_=n.isShiftPressed?4:1,x=n.x*f*_,N=n.y*m*_,p=d.map(h=>{if(h.positionAbsolute){const g={x:h.positionAbsolute.x+x,y:h.positionAbsolute.y+N};l&&(g.x=a[0]*Math.round(g.x/a[0]),g.y=a[1]*Math.round(g.y/a[1]));const{positionAbsolute:S,position:M}=h0(h,g,r,i,void 0,u);h.position=M,h.positionAbsolute=S}return h});o(p,!0,!1)},[])}const ki={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var oo=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onContextMenu:_,onDoubleClick:x,style:N,className:p,isDraggable:h,isSelectable:g,isConnectable:S,isFocusable:M,selectNodesOnDrag:A,sourcePosition:E,targetPosition:I,hidden:D,resizeObserver:z,dragHandle:O,zIndex:q,isParent:H,noDragClassName:y,noPanClassName:L,initialized:T,disableKeyboardA11y:j,ariaLabel:P,rfId:b,hasHandleBounds:v})=>{const C=Je(),R=k.useRef(null),$=k.useRef(null),V=k.useRef(E),Z=k.useRef(I),G=k.useRef(r),re=g||h||c||d||f||m,ae=g0(),ve=io(n,C.getState,d),se=io(n,C.getState,f),be=io(n,C.getState,m),Be=io(n,C.getState,_),Oe=io(n,C.getState,x),Ie=xe=>{const{nodeDragThreshold:ne}=C.getState();if(g&&(!A||!h||ne>0)&&xc({id:n,store:C,nodeRef:R}),c){const ot=C.getState().nodeInternals.get(n);ot&&c(xe,{...ot})}},ye=xe=>{if(!hc(xe)&&!j)if($y.includes(xe.key)&&g){const ne=xe.key==="Escape";xc({id:n,store:C,unselect:ne,nodeRef:R})}else h&&u&&Object.prototype.hasOwnProperty.call(ki,xe.key)&&(C.setState({ariaLiveMessage:`Moved selected node ${xe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ae({x:ki[xe.key].x,y:ki[xe.key].y,isShiftPressed:xe.shiftKey}))};k.useEffect(()=>()=>{$.current&&(z==null||z.unobserve($.current),$.current=null)},[]),k.useEffect(()=>{if(R.current&&!D){const xe=R.current;(!T||!v||$.current!==xe)&&($.current&&(z==null||z.unobserve($.current)),z==null||z.observe(xe),$.current=xe)}},[D,T,v]),k.useEffect(()=>{const xe=G.current!==r,ne=V.current!==E,ot=Z.current!==I;R.current&&(xe||ne||ot)&&(xe&&(G.current=r),ne&&(V.current=E),ot&&(Z.current=I),C.getState().updateNodeDimensions([{id:n,nodeElement:R.current,forceUpdate:!0}]))},[n,r,E,I]);const De=m0({nodeRef:R,disabled:D||!h,noDragClassName:y,handleSelector:O,nodeId:n,isSelectable:g,selectNodesOnDrag:A});return D?null:U.createElement("div",{className:Mt(["react-flow__node",`react-flow__node-${r}`,{[L]:h},p,{selected:u,selectable:g,parent:H,dragging:De}]),ref:R,style:{zIndex:q,transform:`translate(${l}px,${a}px)`,pointerEvents:re?"all":"none",visibility:T?"visible":"hidden",...N},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ve,onMouseMove:se,onMouseLeave:be,onContextMenu:Be,onClick:Ie,onDoubleClick:Oe,onKeyDown:M?ye:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":j?void 0:`${i0}-${b}`,"aria-label":P},U.createElement(m2,{value:n},U.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:S,sourcePosition:E,targetPosition:I,dragging:De,dragHandle:O,zIndex:q})))};return t.displayName="NodeWrapper",k.memo(t)};const tE=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Hd(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function nE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Je(),{width:i,height:o,x:s,y:l,transformString:a,userSelectionActive:u}=Le(tE,at),c=g0(),d=k.useRef(null);if(k.useEffect(()=>{var _;n||(_=d.current)==null||_.focus({preventScroll:!0})},[n]),m0({nodeRef:d}),u||!i||!o)return null;const f=e?_=>{const x=r.getState().getNodes().filter(N=>N.selected);e(_,x)}:void 0,m=_=>{Object.prototype.hasOwnProperty.call(ki,_.key)&&c({x:ki[_.key].x,y:ki[_.key].y,isShiftPressed:_.shiftKey})};return U.createElement("div",{className:Mt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},U.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:o,top:l,left:s}}))}var rE=k.memo(nE);const iE=e=>e.nodesSelectionActive,y0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:_,onSelectionEnd:x,multiSelectionKeyCode:N,panActivationKeyCode:p,zoomActivationKeyCode:h,elementsSelectable:g,zoomOnScroll:S,zoomOnPinch:M,panOnScroll:A,panOnScrollSpeed:E,panOnScrollMode:I,zoomOnDoubleClick:D,panOnDrag:z,defaultViewport:O,translateExtent:q,minZoom:H,maxZoom:y,preventScrolling:L,onSelectionContextMenu:T,noWheelClassName:j,noPanClassName:P,disableKeyboardA11y:b})=>{const v=Le(iE),C=Xo(d),R=Xo(p),$=R||z,V=R||A,Z=C||f&&$!==!0;return V2({deleteKeyCode:l,multiSelectionKeyCode:N}),U.createElement(Y2,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:g,zoomOnScroll:S,zoomOnPinch:M,panOnScroll:V,panOnScrollSpeed:E,panOnScrollMode:I,zoomOnDoubleClick:D,panOnDrag:!C&&$,defaultViewport:O,translateExtent:q,minZoom:H,maxZoom:y,zoomActivationKeyCode:h,preventScrolling:L,noWheelClassName:j,noPanClassName:P},U.createElement(f0,{onSelectionStart:_,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:$,isSelecting:!!Z,selectionMode:m},e,v&&U.createElement(rE,{onSelectionContextMenu:T,noPanClassName:P,disableKeyboardA11y:b})))};y0.displayName="FlowRenderer";var oE=k.memo(y0);function sE(e){return Le(k.useCallback(n=>e?Wy(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function lE(e){const t={input:oo(e.input||e0),default:oo(e.default||vc),output:oo(e.output||n0),group:oo(e.group||Ud)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=oo(e[o]||vc),i),n);return{...t,...r}}const aE=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},uE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),v0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=Le(uE,at),l=sE(e.onlyRenderVisibleElements),a=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(f)});return a.current=c,c},[]);return k.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),U.createElement("div",{className:"react-flow__nodes",style:Wd},l.map(c=>{var M,A,E;let d=c.type||"default";e.nodeTypes[d]||(s==null||s("003",In.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),_=!!(c.selectable||i&&typeof c.selectable>"u"),x=!!(c.connectable||n&&typeof c.connectable>"u"),N=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?Dd(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(p==null?void 0:p.x)??0,g=(p==null?void 0:p.y)??0,S=aE({x:h,y:g,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return U.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||ee.Bottom,targetPosition:c.targetPosition||ee.Top,hidden:c.hidden,xPos:h,yPos:g,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:_,isConnectable:x,isFocusable:N,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((M=c[ze])==null?void 0:M.z)??0,isParent:!!((A=c[ze])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((E=c[ze])!=null&&E.handleBounds)})}))};v0.displayName="NodeRenderer";var cE=k.memo(v0);const dE=(e,t,n)=>n===ee.Left?e-t:n===ee.Right?e+t:e,fE=(e,t,n)=>n===ee.Top?e-t:n===ee.Bottom?e+t:e,Zp="react-flow__edgeupdater",Xp=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:l})=>U.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Mt([Zp,`${Zp}-${l}`]),cx:dE(t,r,e),cy:fE(n,r,e),r,stroke:"transparent",fill:"transparent"}),pE=()=>!0;var Xr=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:_,labelBgBorderRadius:x,style:N,source:p,target:h,sourceX:g,sourceY:S,targetX:M,targetY:A,sourcePosition:E,targetPosition:I,elementsSelectable:D,hidden:z,sourceHandleId:O,targetHandleId:q,onContextMenu:H,onMouseEnter:y,onMouseMove:L,onMouseLeave:T,reconnectRadius:j,onReconnect:P,onReconnectStart:b,onReconnectEnd:v,markerEnd:C,markerStart:R,rfId:$,ariaLabel:V,isFocusable:Z,isReconnectable:G,pathOptions:re,interactionWidth:ae,disableKeyboardA11y:ve})=>{const se=k.useRef(null),[be,Be]=k.useState(!1),[Oe,Ie]=k.useState(!1),ye=Je(),De=k.useMemo(()=>`url('#${gc(R,$)}')`,[R,$]),xe=k.useMemo(()=>`url('#${gc(C,$)}')`,[C,$]);if(z)return null;const ne=B=>{var Re;const{edges:Q,addSelectedEdges:pe,unselectNodesAndEdges:we,multiSelectionActive:Ue}=ye.getState(),Pe=Q.find(Pt=>Pt.id===n);Pe&&(D&&(ye.setState({nodesSelectionActive:!1}),Pe.selected&&Ue?(we({nodes:[],edges:[Pe]}),(Re=se.current)==null||Re.blur()):pe([n])),s&&s(B,Pe))},ot=ro(n,ye.getState,l),It=ro(n,ye.getState,H),xr=ro(n,ye.getState,y),hn=ro(n,ye.getState,L),An=ro(n,ye.getState,T),Ht=(B,Q)=>{if(B.button!==0)return;const{edges:pe,isValidConnection:we}=ye.getState(),Ue=Q?h:p,Pe=(Q?q:O)||null,Re=Q?"target":"source",Pt=we||pE,Ut=Q,Rt=pe.find(ft=>ft.id===n);Ie(!0),b==null||b(B,Rt,Re);const nn=ft=>{Ie(!1),v==null||v(ft,Rt,Re)};Gy({event:B,handleId:Pe,nodeId:Ue,onConnect:ft=>P==null?void 0:P(Rt,ft),isTarget:Ut,getState:ye.getState,setState:ye.setState,isValidConnection:Pt,edgeUpdaterType:Re,onReconnectEnd:nn})},zn=B=>Ht(B,!0),mn=B=>Ht(B,!1),gn=()=>Be(!0),Vt=()=>Be(!1),Ln=!D&&!s,F=B=>{var Q;if(!ve&&$y.includes(B.key)&&D){const{unselectNodesAndEdges:pe,addSelectedEdges:we,edges:Ue}=ye.getState();B.key==="Escape"?((Q=se.current)==null||Q.blur(),pe({edges:[Ue.find(Re=>Re.id===n)]})):we([n])}};return U.createElement("g",{className:Mt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:a,animated:u,inactive:Ln,updating:be}]),onClick:ne,onDoubleClick:ot,onContextMenu:It,onMouseEnter:xr,onMouseMove:hn,onMouseLeave:An,onKeyDown:Z?F:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${p} to ${h}`,"aria-describedby":Z?`${o0}-${$}`:void 0,ref:se},!Oe&&U.createElement(e,{id:n,source:p,target:h,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:_,labelBgBorderRadius:x,data:o,style:N,sourceX:g,sourceY:S,targetX:M,targetY:A,sourcePosition:E,targetPosition:I,sourceHandleId:O,targetHandleId:q,markerStart:De,markerEnd:xe,pathOptions:re,interactionWidth:ae}),G&&U.createElement(U.Fragment,null,(G==="source"||G===!0)&&U.createElement(Xp,{position:E,centerX:g,centerY:S,radius:j,onMouseDown:zn,onMouseEnter:gn,onMouseOut:Vt,type:"source"}),(G==="target"||G===!0)&&U.createElement(Xp,{position:I,centerX:M,centerY:A,radius:j,onMouseDown:mn,onMouseEnter:gn,onMouseOut:Vt,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function hE(e){const t={default:Xr(e.default||Vl),straight:Xr(e.bezier||Fd),step:Xr(e.step||jd),smoothstep:Xr(e.step||xa),simplebezier:Xr(e.simplebezier||Od)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Xr(e[o]||Vl),i),n);return{...t,...r}}function Gp(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case ee.Top:return{x:r+o/2,y:i};case ee.Right:return{x:r+o,y:i+s/2};case ee.Bottom:return{x:r+o/2,y:i+s};case ee.Left:return{x:r,y:i+s/2}}}function Qp(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const mE=(e,t,n,r,i,o)=>{const s=Gp(n,e,t),l=Gp(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function gE({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=$d({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Kp(e){var r,i,o,s,l;const t=((r=e==null?void 0:e[ze])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const yE=[{level:0,isMaxLevel:!0,edges:[]}];function vE(e,t,n=!1){let r=-1;const i=e.reduce((s,l)=>{var c,d;const a=$t(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),m=t.get(l.source),_=l.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),x=Math.max(((c=m==null?void 0:m[ze])==null?void 0:c.z)||0,((d=f==null?void 0:f[ze])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(_?x:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return o.length===0?yE:o}function xE(e,t,n){const r=Le(k.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),l=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&gE({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return vE(r,t,n)}const wE=({color:e="none",strokeWidth:t=1})=>U.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),_E=({color:e="none",strokeWidth:t=1})=>U.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Jp={[Hl.Arrow]:wE,[Hl.ArrowClosed]:_E};function SE(e){const t=Je();return k.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Jp,e)?Jp[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",In.error009(e)),null)},[e])}const kE=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=SE(t);return a?U.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0"},U.createElement(a,{color:n,strokeWidth:s})):null},EE=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=gc(s,t);r.includes(l)||(i.push({id:l,color:s.color||e,...s}),r.push(l))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},x0=({defaultColor:e,rfId:t})=>{const n=Le(k.useCallback(EE({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return U.createElement("defs",null,n.map(r=>U.createElement(kE,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};x0.displayName="MarkerDefinitions";var bE=k.memo(x0);const CE=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),w0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:_,reconnectRadius:x,children:N,disableKeyboardA11y:p})=>{const{edgesFocusable:h,edgesUpdatable:g,elementsSelectable:S,width:M,height:A,connectionMode:E,nodeInternals:I,onError:D}=Le(CE,at),z=xE(t,I,n);return M?U.createElement(U.Fragment,null,z.map(({level:O,edges:q,isMaxLevel:H})=>U.createElement("svg",{key:O,style:{zIndex:O},width:M,height:A,className:"react-flow__edges react-flow__container"},H&&U.createElement(bE,{defaultColor:e,rfId:r}),U.createElement("g",null,q.map(y=>{const[L,T,j]=Kp(I.get(y.source)),[P,b,v]=Kp(I.get(y.target));if(!j||!v)return null;let C=y.type||"default";i[C]||(D==null||D("011",In.error011(C)),C="default");const R=i[C]||i.default,$=E===jr.Strict?b.target:(b.target??[]).concat(b.source??[]),V=Qp(T.source,y.sourceHandle),Z=Qp($,y.targetHandle),G=(V==null?void 0:V.position)||ee.Bottom,re=(Z==null?void 0:Z.position)||ee.Top,ae=!!(y.focusable||h&&typeof y.focusable>"u"),ve=y.reconnectable||y.updatable,se=typeof f<"u"&&(ve||g&&typeof ve>"u");if(!V||!Z)return D==null||D("008",In.error008(V,y)),null;const{sourceX:be,sourceY:Be,targetX:Oe,targetY:Ie}=mE(L,V,G,P,Z,re);return U.createElement(R,{key:y.id,id:y.id,className:Mt([y.className,o]),type:C,data:y.data,selected:!!y.selected,animated:!!y.animated,hidden:!!y.hidden,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,style:y.style,source:y.source,target:y.target,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerEnd:y.markerEnd,markerStart:y.markerStart,sourceX:be,sourceY:Be,targetX:Oe,targetY:Ie,sourcePosition:G,targetPosition:re,elementsSelectable:S,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:_,reconnectRadius:x,rfId:r,ariaLabel:y.ariaLabel,isFocusable:ae,isReconnectable:se,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth,disableKeyboardA11y:p})})))),N):null};w0.displayName="EdgeRenderer";var TE=k.memo(w0);const NE=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ME({children:e}){const t=Le(NE);return U.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function IE(e){const t=u0(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const PE={[ee.Left]:ee.Right,[ee.Right]:ee.Left,[ee.Top]:ee.Bottom,[ee.Bottom]:ee.Top},_0=({nodeId:e,handleType:t,style:n,type:r=Qn.Bezier,CustomComponent:i,connectionStatus:o})=>{var A,E,I;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=Le(k.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),at),d=(A=s==null?void 0:s[ze])==null?void 0:A.handleBounds;let f=d==null?void 0:d[t];if(c===jr.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!f)return null;const m=l?f.find(D=>D.id===l):f[0],_=m?m.x+m.width/2:(s.width??0)/2,x=m?m.y+m.height/2:s.height??0,N=(((E=s.positionAbsolute)==null?void 0:E.x)??0)+_,p=(((I=s.positionAbsolute)==null?void 0:I.y)??0)+x,h=m==null?void 0:m.position,g=h?PE[h]:null;if(!h||!g)return null;if(i)return U.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:N,fromY:p,toX:a,toY:u,fromPosition:h,toPosition:g,connectionStatus:o});let S="";const M={sourceX:N,sourceY:p,sourcePosition:h,targetX:a,targetY:u,targetPosition:g};return r===Qn.Bezier?[S]=Hy(M):r===Qn.Step?[S]=mc({...M,borderRadius:0}):r===Qn.SmoothStep?[S]=mc(M):r===Qn.SimpleBezier?[S]=By(M):S=`M${N},${p} ${a},${u}`,U.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};_0.displayName="ConnectionLine";const RE=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function AE({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:l,height:a,connectionStatus:u}=Le(RE,at);return!(i&&o&&l&&s)?null:U.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},U.createElement("g",{className:Mt(["react-flow__connection",u])},U.createElement(_0,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function eh(e,t){return k.useRef(null),Je(),k.useMemo(()=>t(e),[e])}const S0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:_,onSelectionStart:x,onSelectionEnd:N,connectionLineType:p,connectionLineStyle:h,connectionLineComponent:g,connectionLineContainerStyle:S,selectionKeyCode:M,selectionOnDrag:A,selectionMode:E,multiSelectionKeyCode:I,panActivationKeyCode:D,zoomActivationKeyCode:z,deleteKeyCode:O,onlyRenderVisibleElements:q,elementsSelectable:H,selectNodesOnDrag:y,defaultViewport:L,translateExtent:T,minZoom:j,maxZoom:P,preventScrolling:b,defaultMarkerColor:v,zoomOnScroll:C,zoomOnPinch:R,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:Z,zoomOnDoubleClick:G,panOnDrag:re,onPaneClick:ae,onPaneMouseEnter:ve,onPaneMouseMove:se,onPaneMouseLeave:be,onPaneScroll:Be,onPaneContextMenu:Oe,onEdgeContextMenu:Ie,onEdgeMouseEnter:ye,onEdgeMouseMove:De,onEdgeMouseLeave:xe,onReconnect:ne,onReconnectStart:ot,onReconnectEnd:It,reconnectRadius:xr,noDragClassName:hn,noWheelClassName:An,noPanClassName:Ht,elevateEdgesOnSelect:zn,disableKeyboardA11y:mn,nodeOrigin:gn,nodeExtent:Vt,rfId:Ln})=>{const F=eh(e,lE),B=eh(t,hE);return IE(o),U.createElement(oE,{onPaneClick:ae,onPaneMouseEnter:ve,onPaneMouseMove:se,onPaneMouseLeave:be,onPaneContextMenu:Oe,onPaneScroll:Be,deleteKeyCode:O,selectionKeyCode:M,selectionOnDrag:A,selectionMode:E,onSelectionStart:x,onSelectionEnd:N,multiSelectionKeyCode:I,panActivationKeyCode:D,zoomActivationKeyCode:z,elementsSelectable:H,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:C,zoomOnPinch:R,zoomOnDoubleClick:G,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:Z,panOnDrag:re,defaultViewport:L,translateExtent:T,minZoom:j,maxZoom:P,onSelectionContextMenu:_,preventScrolling:b,noDragClassName:hn,noWheelClassName:An,noPanClassName:Ht,disableKeyboardA11y:mn},U.createElement(ME,null,U.createElement(TE,{edgeTypes:B,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:q,onEdgeContextMenu:Ie,onEdgeMouseEnter:ye,onEdgeMouseMove:De,onEdgeMouseLeave:xe,onReconnect:ne,onReconnectStart:ot,onReconnectEnd:It,reconnectRadius:xr,defaultMarkerColor:v,noPanClassName:Ht,elevateEdgesOnSelect:!!zn,disableKeyboardA11y:mn,rfId:Ln},U.createElement(AE,{style:h,type:p,component:g,containerStyle:S})),U.createElement("div",{className:"react-flow__edgelabel-renderer"}),U.createElement(cE,{nodeTypes:F,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:y,onlyRenderVisibleElements:q,noPanClassName:Ht,noDragClassName:hn,disableKeyboardA11y:mn,nodeOrigin:gn,nodeExtent:Vt,rfId:Ln})))};S0.displayName="GraphView";var zE=k.memo(S0);const wc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$n={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:wc,nodeExtent:wc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:jr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:u2,isValidConnection:void 0},LE=()=>_w((e,t)=>({...$n,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:nu(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?nu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((x,N)=>{const p=i.get(N.id);if(p!=null&&p.hidden)i.set(p.id,{...p,[ze]:{...p[ze],handleBounds:void 0}});else if(p){const h=Ld(N.nodeElement);!!(h.width&&h.height&&(p.width!==h.width||p.height!==h.height||N.forceUpdate))&&(i.set(p.id,{...p,[ze]:{...p[ze],handleBounds:{source:Yp(".source",N.nodeElement,f,u),target:Yp(".target",N.nodeElement,f,u)}},...h}),x.push({id:p.id,type:"dimensions",dimensions:h}))}return x},[]);l0(i,u);const _=s||o&&!s&&a0(t,{initial:!0,...l});e({nodeInternals:new Map(i),fitViewOnInitDone:_}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:i};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(o){const u=d0(n,l()),c=nu(u,i,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>Yn(a,!0)):(s=ci(o(),n),l=ci(i,[])),zs({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>Yn(a,!0)):(s=ci(i,n),l=ci(o(),[])),zs({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),l=r||i,a=s.map(c=>(c.selected=!1,Yn(c.id,!1))),u=l.map(c=>Yn(c.id,!1));zs({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(l=>l.selected).map(l=>Yn(l.id,!1)),s=n.filter(l=>l.selected).map(l=>Yn(l.id,!1));zs({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Dd(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=ur.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],d=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:$n.connectionNodeId,connectionHandleId:$n.connectionHandleId,connectionHandleType:$n.connectionHandleType,connectionStatus:$n.connectionStatus,connectionStartHandle:$n.connectionStartHandle,connectionEndHandle:$n.connectionEndHandle}),reset:()=>e({...$n})}),Object.is),k0=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=LE()),U.createElement(e2,{value:t.current},e)};k0.displayName="ReactFlowProvider";const E0=({children:e})=>k.useContext(va)?U.createElement(U.Fragment,null,e):U.createElement(k0,null,e);E0.displayName="ReactFlowWrapper";const DE={input:e0,default:vc,output:n0,group:Ud},$E={default:Vl,straight:Fd,step:jd,smoothstep:xa,simplebezier:Od},OE=[0,0],jE=[15,15],FE={x:0,y:0,zoom:1},BE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},b0=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=DE,edgeTypes:s=$E,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:m,onConnectStart:_,onConnectEnd:x,onClickConnectStart:N,onClickConnectEnd:p,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:S,onNodeContextMenu:M,onNodeDoubleClick:A,onNodeDragStart:E,onNodeDrag:I,onNodeDragStop:D,onNodesDelete:z,onEdgesDelete:O,onSelectionChange:q,onSelectionDragStart:H,onSelectionDrag:y,onSelectionDragStop:L,onSelectionContextMenu:T,onSelectionStart:j,onSelectionEnd:P,connectionMode:b=jr.Strict,connectionLineType:v=Qn.Bezier,connectionLineStyle:C,connectionLineComponent:R,connectionLineContainerStyle:$,deleteKeyCode:V="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:G=!1,selectionMode:re=Zo.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:ve=Bl()?"Meta":"Control",zoomActivationKeyCode:se=Bl()?"Meta":"Control",snapToGrid:be=!1,snapGrid:Be=jE,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Ie=!0,nodesDraggable:ye,nodesConnectable:De,nodesFocusable:xe,nodeOrigin:ne=OE,edgesFocusable:ot,edgesUpdatable:It,elementsSelectable:xr,defaultViewport:hn=FE,minZoom:An=.5,maxZoom:Ht=2,translateExtent:zn=wc,preventScrolling:mn=!0,nodeExtent:gn,defaultMarkerColor:Vt="#b1b1b7",zoomOnScroll:Ln=!0,zoomOnPinch:F=!0,panOnScroll:B=!1,panOnScrollSpeed:Q=.5,panOnScrollMode:pe=Nr.Free,zoomOnDoubleClick:we=!0,panOnDrag:Ue=!0,onPaneClick:Pe,onPaneMouseEnter:Re,onPaneMouseMove:Pt,onPaneMouseLeave:Ut,onPaneScroll:Rt,onPaneContextMenu:nn,children:wr,onEdgeContextMenu:ft,onEdgeDoubleClick:Ui,onEdgeMouseEnter:Wi,onEdgeMouseMove:qi,onEdgeMouseLeave:Sa,onEdgeUpdate:us,onEdgeUpdateStart:J0,onEdgeUpdateEnd:ev,onReconnect:tv,onReconnectStart:nv,onReconnectEnd:rv,reconnectRadius:iv=10,edgeUpdaterRadius:ov=10,onNodesChange:sv,onEdgesChange:lv,noDragClassName:av="nodrag",noWheelClassName:uv="nowheel",noPanClassName:Jd="nopan",fitView:cv=!1,fitViewOptions:dv,connectOnClick:fv=!0,attributionPosition:pv,proOptions:hv,defaultEdgeOptions:mv,elevateNodesOnSelect:gv=!0,elevateEdgesOnSelect:yv=!1,disableKeyboardA11y:ef=!1,autoPanOnConnect:vv=!0,autoPanOnNodeDrag:xv=!0,connectionRadius:wv=20,isValidConnection:_v,onError:Sv,style:kv,id:tf,nodeDragThreshold:Ev,...bv},Cv)=>{const ka=tf||"1";return U.createElement("div",{...bv,style:{...kv,...BE},ref:Cv,className:Mt(["react-flow",i]),"data-testid":"rf__wrapper",id:tf},U.createElement(E0,null,U.createElement(zE,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:S,onNodeContextMenu:M,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:s,connectionLineType:v,connectionLineStyle:C,connectionLineComponent:R,connectionLineContainerStyle:$,selectionKeyCode:Z,selectionOnDrag:G,selectionMode:re,deleteKeyCode:V,multiSelectionKeyCode:ve,panActivationKeyCode:ae,zoomActivationKeyCode:se,onlyRenderVisibleElements:Oe,selectNodesOnDrag:Ie,defaultViewport:hn,translateExtent:zn,minZoom:An,maxZoom:Ht,preventScrolling:mn,zoomOnScroll:Ln,zoomOnPinch:F,zoomOnDoubleClick:we,panOnScroll:B,panOnScrollSpeed:Q,panOnScrollMode:pe,panOnDrag:Ue,onPaneClick:Pe,onPaneMouseEnter:Re,onPaneMouseMove:Pt,onPaneMouseLeave:Ut,onPaneScroll:Rt,onPaneContextMenu:nn,onSelectionContextMenu:T,onSelectionStart:j,onSelectionEnd:P,onEdgeContextMenu:ft,onEdgeDoubleClick:Ui,onEdgeMouseEnter:Wi,onEdgeMouseMove:qi,onEdgeMouseLeave:Sa,onReconnect:tv??us,onReconnectStart:nv??J0,onReconnectEnd:rv??ev,reconnectRadius:iv??ov,defaultMarkerColor:Vt,noDragClassName:av,noWheelClassName:uv,noPanClassName:Jd,elevateEdgesOnSelect:yv,rfId:ka,disableKeyboardA11y:ef,nodeOrigin:ne,nodeExtent:gn}),U.createElement(P2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:_,onConnectEnd:x,onClickConnectStart:N,onClickConnectEnd:p,nodesDraggable:ye,nodesConnectable:De,nodesFocusable:xe,edgesFocusable:ot,edgesUpdatable:It,elementsSelectable:xr,elevateNodesOnSelect:gv,minZoom:An,maxZoom:Ht,nodeExtent:gn,onNodesChange:sv,onEdgesChange:lv,snapToGrid:be,snapGrid:Be,connectionMode:b,translateExtent:zn,connectOnClick:fv,defaultEdgeOptions:mv,fitView:cv,fitViewOptions:dv,onNodesDelete:z,onEdgesDelete:O,onNodeDragStart:E,onNodeDrag:I,onNodeDragStop:D,onSelectionDrag:y,onSelectionDragStart:H,onSelectionDragStop:L,noPanClassName:Jd,nodeOrigin:ne,rfId:ka,autoPanOnConnect:vv,autoPanOnNodeDrag:xv,onError:Sv,connectionRadius:wv,isValidConnection:_v,nodeDragThreshold:Ev}),U.createElement(M2,{onSelectionChange:q}),wr,U.createElement(r2,{proOptions:hv,position:pv}),U.createElement(D2,{rfId:ka,disableKeyboardA11y:ef})))});b0.displayName="ReactFlow";function C0(e){return t=>{const[n,r]=k.useState(t),i=k.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const HE=C0(d0),VE=C0(G2);var Jt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Jt||(Jt={}));function UE({color:e,dimensions:t,lineWidth:n}){return U.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function WE({color:e,radius:t}){return U.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const qE={[Jt.Dots]:"#91919a",[Jt.Lines]:"#eee",[Jt.Cross]:"#e2e2e2"},YE={[Jt.Dots]:1,[Jt.Lines]:1,[Jt.Cross]:6},ZE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function T0({id:e,variant:t=Jt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:s,style:l,className:a}){const u=k.useRef(null),{transform:c,patternId:d}=Le(ZE,at),f=s||qE[t],m=r||YE[t],_=t===Jt.Dots,x=t===Jt.Cross,N=Array.isArray(n)?n:[n,n],p=[N[0]*c[2]||1,N[1]*c[2]||1],h=m*c[2],g=x?[h,h]:p,S=_?[h/o,h/o]:[g[0]/o,g[1]/o];return U.createElement("svg",{className:Mt(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},U.createElement("pattern",{id:d+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},_?U.createElement(WE,{color:f,radius:h/o}):U.createElement(UE,{dimensions:g,color:f,lineWidth:i})),U.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}T0.displayName="Background";var XE=k.memo(T0);const N0={},{useDebugValue:GE}=U,{useSyncExternalStoreWithSelector:QE}=iy;let th=!1;const KE=e=>e;function JE(e,t=KE,n){(N0?"production":void 0)!=="production"&&n&&!th&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),th=!0);const r=QE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return GE(r),r}const nh=e=>{(N0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?oy(e):e,n=(r,i)=>JE(t,r,i);return Object.assign(n,t),n},M0=e=>e?nh(e):nh,On=["TEXT"],eb={id:"flow:draft-layout",version:"1.0.0",nodes:[{id:"ui-entry",type:"module",name:"UI",params:{__position:{x:120,y:360},role:"entrypoint",moduleKey:"interface"},in:[{port:"feedback",types:On}],out:[{port:"conversation",types:On}]},{id:"prompt-main",type:"module",name:"Prompt",params:{__position:{x:420,y:360},preset:"analysis",moduleKey:"prompt"},in:[{port:"context",types:On}],out:[{port:"prompt",types:On}]},{id:"llm-primary",type:"llm",name:"LLAMA3.1 8B",params:{__position:{x:720,y:360},adapter:"llama_cpp",modelId:"model:llama3.1-8b.Q4_K_M",runtime:"CPU",temperature:.2,maxTokens:2048},in:[{port:"prompt",types:On}],out:[{port:"response",types:On}]},{id:"memory-primary",type:"module",name:"Memory",params:{__position:{x:1020,y:360},mode:"append",moduleKey:"memory"},in:[{port:"write",types:On}],out:[{port:"recall",types:On}]}],edges:[{id:"edge-ui-prompt",from:["ui-entry","conversation"],to:["prompt-main","context"],label:"primary"},{id:"edge-prompt-llm",from:["prompt-main","prompt"],to:["llm-primary","prompt"],label:"draft"},{id:"edge-llm-memory",from:["llm-primary","response"],to:["memory-primary","write"],label:"completion"},{id:"edge-memory-ui",from:["memory-primary","recall"],to:["ui-entry","feedback"],label:"memory"}],prompts:{packs:[]},models:{registryRef:"../models/models.json"},profiles:{default:{concurrency:2}}},tb=()=>JSON.parse(JSON.stringify(eb)),I0="__position",nb={x:360,y:240},P0=e=>`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,rb=e=>P0(e||"node"),ib=e=>P0(`edge-${e.from[0]}-${e.to[0]}-${e.from[1]}-${e.to[1]}`),Ds=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),ob=e=>{const t=e.params,n=t==null?void 0:t[I0];if(n&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"){const r=n;return{x:r.x,y:r.y}}return{...nb}},sb=(e,t)=>{const n={...e.params??{}};return n[I0]={x:t.x,y:t.y},n},lb=e=>typeof e=="string"&&e.trim().length>0,di=(...e)=>{for(const t of e)if(lb(t))return t.trim();return null},rh=(e,t)=>{if(!Array.isArray(e))return null;const n=[...e];for(;n.length>0;){const r=n.pop();if(!r||typeof r!="object")continue;const i=r,o=di(i.id,i.modelId,i.model_id);if(o&&o===t){const l=di(i.name,i.label,i.title);if(l)return l}const s=[i.models,i.items,i.children];for(const l of s)Array.isArray(l)&&n.push(...l)}return null},R0=(e,t)=>{const n=di(e.modelLabel,e.modelName,e.displayName,e.title,e.label);if(n)return n;const r=e.model;if(r&&typeof r=="object"){const o=r,s=di(o.name,o.label,o.title);if(s)return s;const l=di(o.id,o.modelId,o.model_id);if(l){const a=l.trim(),u=rh(t,a);if(u)return u;const c=a.replace(/^model:/i,"").trim();if(c)return c}}const i=di(e.modelId,e.model_id);if(i){const o=i.trim(),s=rh(t,o);if(s)return s;const l=o.replace(/^model:/i,"").trim();if(l)return l}return null},ls=M0((e,t)=>({flow:tb(),setFlow:n=>e({flow:n}),addNode:n=>e(r=>({flow:{...r.flow,nodes:[...r.flow.nodes,n]}})),updateNodeParams:(n,r)=>e(i=>({flow:{...i.flow,nodes:i.flow.nodes.map(o=>{if(o.id!==n)return o;const s={...o.params??{}},l=r(s),a=l&&typeof l=="object"?l:s;if((o.type??"module")==="llm"){const u=R0(a,i.catalog);if(u&&u!==o.name)return{...o,name:u,params:a}}return{...o,params:a}})}})),catalog:[],setCatalog:n=>e({catalog:n}),activeTool:"select",setActiveTool:n=>e({activeTool:n}),clipboard:null,setClipboard:n=>e({clipboard:n}),copyNode:n=>{const r=t().flow.nodes.find(s=>s.id===n);if(!r)return;const i=Ds(r),o=ob(r);e({clipboard:{kind:"node",node:i,position:o}})},cutNode:n=>{const{copyNode:r,deleteNode:i}=t();r(n),i(n)},deleteNode:n=>e(r=>{if(!r.flow.nodes.some(s=>s.id===n))return{};const i=r.flow.nodes.filter(s=>s.id!==n),o=r.flow.edges.filter(s=>s.from[0]!==n&&s.to[0]!==n);return{flow:{...r.flow,nodes:i,edges:o}}}),copyEdge:n=>{const r=t().flow.edges.find(i=>i.id===n);r&&e({clipboard:{kind:"edge",edge:Ds(r)}})},cutEdge:n=>{const{copyEdge:r,deleteEdge:i}=t();r(n),i(n)},deleteEdge:n=>e(r=>r.flow.edges.some(i=>i.id===n)?{flow:{...r.flow,edges:r.flow.edges.filter(i=>i.id!==n)}}:{}),pasteClipboard:n=>{const r=t().clipboard;if(!r||n&&r.kind!==n)return null;if(r.kind==="node"){const i=r.node,o={x:r.position.x+48,y:r.position.y+48},s=Ds(i),l=rb(s.type??"node"),a=sb(s,o),u={...s,id:l,params:a};return e(c=>({flow:{...c.flow,nodes:[...c.flow.nodes,u]}})),u}if(r.kind==="edge"){const i=t().flow,{edge:o}=r,s=i.nodes.some(u=>u.id===o.from[0]),l=i.nodes.some(u=>u.id===o.to[0]);if(!s||!l)return null;const a={...Ds(o),id:ib(o)};return e(u=>({flow:{...u.flow,edges:[...u.flow.edges,a]}})),a}return null}})),A0=k.createContext(null),ab=A0.Provider;function qd(){const e=k.useContext(A0);if(!e)throw new Error("useCanvasBoundary must be used within a CanvasBoundaryProvider");return e}const ue=16,z0=280,L0=220,Fr=(e,t,n)=>Math.min(Math.max(e,t),n);function fi(e,t,n){return n<t?t:Fr(e,t,n)}function Rr(e,t){const n=Math.min(e.size.width,t.width),r=Math.min(e.size.height,t.height),i=Math.max(0,t.width-n),o=Math.max(0,t.height-r),s=Fr(e.position.x,0,i),l=Fr(e.position.y,0,o);return{position:{x:s,y:l},size:{width:n,height:r}}}function ub(e,t,n){const r={position:{x:e.position.x+t.dx,y:e.position.y+t.dy},size:{...e.size}};return Rr(r,n)}function ho(e,t){const n=Math.max(0,t.width-ue*2),r=Math.max(0,t.height-ue*2),i=fi(e.width,Math.min(z0,n),n),o=fi(e.height,Math.min(L0,r),r),s=Math.max(ue,t.width-ue-i),l=Math.max(ue,t.height-ue-o),a=Fr(e.left,ue,s),u=Fr(e.top,ue,l);return{left:a,top:u,width:i,height:o}}function cb(e,t,n,r,i){let{x:o,y:s}=t.position,{width:l,height:a}=t.size;const u=r.width-o,c=r.height-s;if(e.includes("e")&&(l=fi(l+n.dx,i.width,u)),e.includes("s")&&(a=fi(a+n.dy,i.height,c)),e.includes("w")){let d=o+n.dx;const f=Math.max(0,o+l-r.width),m=o+l-i.width;d=Fr(d,f,m);const _=l+(o-d);o=d,l=fi(_,i.width,r.width-o)}if(e.includes("n")){let d=s+n.dy;const f=Math.max(0,s+a-r.height),m=s+a-i.height;d=Fr(d,f,m);const _=a+(s-d);s=d,a=fi(_,i.height,r.height-s)}return Rr({position:{x:o,y:s},size:{width:l,height:a}},r)}const $s=40,su=180,jn={position:"absolute",background:"transparent",zIndex:2};function ih(e){var n;const t=(n=e==null?void 0:e.current)==null?void 0:n.getBoundingClientRect();return t?{width:t.width,height:t.height}:{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER}}function Yd({title:e,open:t,position:n,size:r,minimized:i,minSize:o,onUpdate:s,onRequestClose:l,onToggleMinimize:a,children:u}){const c=qd(),[d,f]=k.useState(t),m=k.useRef();k.useEffect(()=>{if(t){f(!0),m.current&&(window.clearTimeout(m.current),m.current=void 0);return}return m.current=window.setTimeout(()=>{f(!1),m.current=void 0},su),()=>{m.current&&(window.clearTimeout(m.current),m.current=void 0)}},[t]),k.useEffect(()=>()=>{m.current&&window.clearTimeout(m.current)},[]);const _=k.useMemo(()=>({width:Math.max((o==null?void 0:o.width)??280,240),height:Math.max((o==null?void 0:o.height)??220,$s+40)}),[o]),x=k.useMemo(()=>({position:n,size:r}),[n,r]),N=k.useCallback(I=>{I.preventDefault(),I.stopPropagation();const D=I.clientX,z=I.clientY,O=x,q=ih(c),H=L=>{const T={dx:L.clientX-D,dy:L.clientY-z},j=ub(O,T,q);s(j)},y=()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",y)};window.addEventListener("mousemove",H),window.addEventListener("mouseup",y,{once:!0})},[c,x,s]),p=k.useCallback(I=>D=>{if(i)return;D.preventDefault(),D.stopPropagation();const z=D.clientX,O=D.clientY,q=x,H=ih(c),y=T=>{const j={dx:T.clientX-z,dy:T.clientY-O},P=cb(I,q,j,H,_);s(P)},L=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",L)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",L,{once:!0})},[c,x,i,s,_]),h=k.useMemo(()=>[{direction:"n",style:{...jn,top:-2,left:"50%",transform:"translateX(-50%)",width:"40%",height:6,cursor:"ns-resize"}},{direction:"s",style:{...jn,bottom:-2,left:"50%",transform:"translateX(-50%)",width:"40%",height:6,cursor:"ns-resize"}},{direction:"e",style:{...jn,right:-2,top:"50%",transform:"translateY(-50%)",width:6,height:"40%",cursor:"ew-resize"}},{direction:"w",style:{...jn,left:-2,top:"50%",transform:"translateY(-50%)",width:6,height:"40%",cursor:"ew-resize"}},{direction:"ne",style:{...jn,top:-4,right:-4,width:12,height:12,cursor:"nesw-resize"}},{direction:"nw",style:{...jn,top:-4,left:-4,width:12,height:12,cursor:"nwse-resize"}},{direction:"se",style:{...jn,bottom:-4,right:-4,width:12,height:12,cursor:"nwse-resize"}},{direction:"sw",style:{...jn,bottom:-4,left:-4,width:12,height:12,cursor:"nesw-resize"}}],[]),g={position:"absolute",top:x.position.y,left:x.position.x,width:x.size.width,height:i?$s:x.size.height,minWidth:_.width,minHeight:i?$s:_.height,background:"#f8fafc",border:"1px solid #cbd5f5",borderRadius:12,boxShadow:"0 18px 32px rgba(15, 23, 42, 0.18)",overflow:"hidden",display:d?"flex":"none",flexDirection:"column",transition:`opacity ${su}ms ease, transform ${su}ms ease, width 140ms ease, height 140ms ease`,opacity:t?1:0,transform:t?"scale(1)":"scale(0.98)",pointerEvents:"auto",zIndex:30},S={height:$s,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 12px",background:"linear-gradient(180deg, #1f2937 0%, #0f172a 100%)",color:"#f8fafc",fontWeight:600,letterSpacing:.2,cursor:"grab",userSelect:"none"},M={border:"none",background:"transparent",color:"inherit",cursor:"pointer",padding:"4px 6px",borderRadius:6,transition:"background 0.2s ease"},A={display:"flex",gap:4},E={flex:1,padding:"14px 16px",overflowY:"auto",background:"rgba(248, 250, 252, 0.92)",color:"#0f172a",fontSize:13,display:i?"none":"block"};return d?w.jsxs("div",{"data-testid":"context-window",style:g,onContextMenu:I=>I.preventDefault(),children:[w.jsxs("div",{style:S,onMouseDown:N,role:"toolbar","aria-label":`${e} controls`,children:[w.jsx("span",{children:e}),w.jsxs("div",{style:A,children:[w.jsx("button",{type:"button","aria-label":i?"Restore":"Minimize",style:M,onMouseDown:I=>I.stopPropagation(),onClick:I=>{I.stopPropagation(),a()},children:i?"":"_"}),w.jsx("button",{type:"button","aria-label":"Close",style:M,onMouseDown:I=>I.stopPropagation(),onClick:I=>{I.stopPropagation(),l()},children:""})]})]}),w.jsx("div",{style:E,children:u}),i?null:h.map(I=>w.jsx("div",{style:I.style,onMouseDown:p(I.direction)},I.direction))]}):null}const db={padding:"12px 16px",display:"flex",flexDirection:"column",gap:14,fontFamily:"Inter, system-ui, sans-serif",fontSize:14,color:"#0f172a"},fb={margin:0,fontSize:16,fontWeight:700},pb={margin:0,fontSize:12,color:"#64748b",lineHeight:1.4},Qe={display:"flex",flexDirection:"column",gap:6},Ke={fontSize:12,fontWeight:600,letterSpacing:.4,textTransform:"uppercase",color:"#475569"},Ct={borderRadius:8,border:"1px solid #cbd5f5",background:"#ffffff",padding:"8px 10px",fontSize:13,color:"#111827",lineHeight:1.4},wa={...Ct,minHeight:96,resize:"vertical"},_a={fontSize:12,color:"#94a3b8"},hb={background:"#f8fafc",borderRadius:8,padding:"10px 12px",fontSize:12,color:"#1f2937",overflowX:"auto"},mb={prompt:{title:"Prompt Settings",description:"Shape the instruction block sent to the connected model."},debate:{title:"Debate Loop",description:"Control how many passes collaborators take before resolving."},log:{title:"Log Capture",description:"Decide what the logger should keep from this stage."},cache:{title:"Cache Policy",description:"Reuse previous outputs or request fresh generations."},divider:{title:"Divider",description:"Label a branch point so canvases stay readable."},interface:{title:"Interface",description:"Configure the chat entry point into the flow."},memory:{title:"Memory",description:"Control how context is stored and recalled across runs."},tool:{title:"Tool Call",description:"Point the node at a callable tool with structured arguments."}};function it(e,t,n){e(r=>{const i=r&&typeof r=="object"?{...r}:{};return i[t]=n,i})}function gb(e,t){const n=typeof(e==null?void 0:e.template)=="string"?e.template:"",r=typeof(e==null?void 0:e.tone)=="string"?e.tone:"neutral";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Prompt Template"}),w.jsx("textarea",{style:wa,value:n,onChange:i=>it(t,"template",i.target.value),placeholder:"Summarize the task you want the model to perform"}),w.jsx("span",{style:_a,children:"Include contextual cues, constraints, or formatting hints."})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Tone"}),w.jsxs("select",{style:Ct,value:r,onChange:i=>it(t,"tone",i.target.value),children:[w.jsx("option",{value:"neutral",children:"Neutral"}),w.jsx("option",{value:"enthusiastic",children:"Enthusiastic"}),w.jsx("option",{value:"direct",children:"Direct"}),w.jsx("option",{value:"supportive",children:"Supportive"})]})]})]})}function yb(e,t){const n=typeof(e==null?void 0:e.mode)=="string"?e.mode:"single-pass",r=typeof(e==null?void 0:e.rounds)=="number"&&Number.isFinite(e.rounds)?Math.max(1,Math.floor(e.rounds)):2;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Mode"}),w.jsxs("select",{style:Ct,value:n,onChange:i=>it(t,"mode",i.target.value),children:[w.jsx("option",{value:"single-pass",children:"Single Pass"}),w.jsx("option",{value:"multi-round",children:"Multi-round"}),w.jsx("option",{value:"round-robin",children:"Round Robin"})]})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Rounds"}),w.jsx("input",{style:Ct,type:"number",min:1,value:r,onChange:i=>{const o=Number.parseInt(i.target.value,10),s=Number.isFinite(o)?Math.max(1,o):1;it(t,"rounds",s)}}),w.jsx("span",{style:_a,children:"Higher counts give the loop more chances to refine an answer."})]})]})}function vb(e,t){const n=typeof(e==null?void 0:e.strategy)=="string"?e.strategy:"reuse",r=typeof(e==null?void 0:e.ttl)=="number"&&Number.isFinite(e.ttl)?Math.max(0,Math.floor(e.ttl)):1800;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Strategy"}),w.jsxs("select",{style:Ct,value:n,onChange:i=>it(t,"strategy",i.target.value),children:[w.jsx("option",{value:"reuse",children:"Prefer Cached Value"}),w.jsx("option",{value:"refresh",children:"Always Refresh"}),w.jsx("option",{value:"conditional",children:"Refresh When Stale"})]})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Time To Live (seconds)"}),w.jsx("input",{style:Ct,type:"number",min:0,value:r,onChange:i=>{const o=Number.parseInt(i.target.value,10),s=Number.isFinite(o)?Math.max(0,o):0;it(t,"ttl",s)}})]})]})}function xb(e,t){const n=typeof(e==null?void 0:e.scope)=="string"?e.scope:"session",r=typeof(e==null?void 0:e.summary)=="string"?e.summary:"";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Scope"}),w.jsxs("select",{style:Ct,value:n,onChange:i=>it(t,"scope",i.target.value),children:[w.jsx("option",{value:"session",children:"Session Only"}),w.jsx("option",{value:"project",children:"Project"}),w.jsx("option",{value:"global",children:"Global"})]})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Summary Notes"}),w.jsx("textarea",{style:wa,value:r,onChange:i=>it(t,"summary",i.target.value),placeholder:"Capture what future runs should remember"})]})]})}function wb(e,t){const n=typeof(e==null?void 0:e.label)=="string"?e.label:"Checkpoint",r=typeof(e==null?void 0:e.defaultPath)=="string"?e.defaultPath:"A";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Label"}),w.jsx("input",{style:Ct,value:n,onChange:i=>it(t,"label",i.target.value)})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Default Path"}),w.jsxs("select",{style:Ct,value:r,onChange:i=>it(t,"defaultPath",i.target.value),children:[w.jsx("option",{value:"A",children:"Path A"}),w.jsx("option",{value:"B",children:"Path B"}),w.jsx("option",{value:"auto",children:"Auto-select"})]})]})]})}function _b(e,t){const n=typeof(e==null?void 0:e.toolName)=="string"?e.toolName:"calculator",r=typeof(e==null?void 0:e.arguments)=="string"?e.arguments:"";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Tool Identifier"}),w.jsx("input",{style:Ct,value:n,onChange:i=>it(t,"toolName",i.target.value.trim()),placeholder:"calculator"}),w.jsx("span",{style:_a,children:"Must match a tool published in the workspace adapters."})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Arguments (JSON)"}),w.jsx("textarea",{style:wa,value:r,onChange:i=>it(t,"arguments",i.target.value),placeholder:'{"query":"2+2"}'})]})]})}function Sb(e,t){const n=typeof(e==null?void 0:e.level)=="string"?e.level:"info",r=typeof(e==null?void 0:e.notes)=="string"?e.notes:"";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Level"}),w.jsxs("select",{style:Ct,value:n,onChange:i=>it(t,"level",i.target.value),children:[w.jsx("option",{value:"debug",children:"Debug"}),w.jsx("option",{value:"info",children:"Info"}),w.jsx("option",{value:"warn",children:"Warn"})]})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Notes"}),w.jsx("textarea",{style:wa,value:r,onChange:i=>it(t,"notes",i.target.value),placeholder:"Describe what should be logged from this node"})]})]})}function kb(e,t){const n=typeof(e==null?void 0:e.title)=="string"?e.title:"Chat",r=typeof(e==null?void 0:e.placeholder)=="string"?e.placeholder:"Ask the team anything";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Window Title"}),w.jsx("input",{style:Ct,value:n,onChange:i=>it(t,"title",i.target.value)})]}),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Input Placeholder"}),w.jsx("input",{style:Ct,value:r,onChange:i=>it(t,"placeholder",i.target.value)})]})]})}function Eb(e,t,n){switch(e){case"prompt":return gb(t,n);case"debate":return yb(t,n);case"cache":return vb(t,n);case"memory":return xb(t,n);case"divider":return wb(t,n);case"tool":return _b(t,n);case"log":return Sb(t,n);case"interface":return kb(t,n);default:return w.jsx("div",{style:_a,children:"No editable settings are available yet."})}}function bb({module:e,params:t,onUpdate:n}){const r=mb[e];return w.jsxs("div",{style:db,children:[w.jsxs("div",{children:[w.jsx("h4",{style:fb,children:r.title}),w.jsx("p",{style:pb,children:r.description})]}),Eb(e,t,n),w.jsxs("div",{style:Qe,children:[w.jsx("span",{style:Ke,children:"Raw Parameters"}),w.jsx("pre",{style:hb,children:JSON.stringify(t??{},null,2)})]})]})}const Zd=["Cut","Copy","Paste","Reverse Inputs","Delete"],Go=176,Ul=232,Xd="data-voide-edit-menu",Cb={position:"fixed",minWidth:Go,background:"#fff1f2",border:"1px solid rgba(244, 63, 94, 0.38)",borderRadius:12,boxShadow:"0 18px 36px rgba(190, 18, 60, 0.28)",padding:6,display:"flex",flexDirection:"column",gap:2,zIndex:160,pointerEvents:"auto"},D0={padding:"8px 12px",borderRadius:8,border:"none",background:"transparent",color:"#7f1d1d",fontWeight:600,fontSize:13,textAlign:"left",cursor:"pointer"},Tb={...D0,color:"rgba(127, 29, 29, 0.4)",cursor:"not-allowed"};function $0({position:e,items:t}){return w.jsx("div",{[Xd]:"",style:{...Cb,left:e.left,top:e.top},children:t.map(n=>w.jsx("button",{type:"button",disabled:n.disabled,style:n.disabled?Tb:D0,onMouseDown:r=>r.stopPropagation(),onClick:r=>{r.stopPropagation(),!n.disabled&&n.onSelect()},onMouseEnter:r=>{n.disabled||(r.currentTarget.style.background="rgba(248, 113, 113, 0.18)")},onMouseLeave:r=>{r.currentTarget.style.background="transparent"},children:n.label},n.label))})}const _c={width:420,height:520},oh={position:{x:0,y:0}},Nb="Flow is paused. Start the run to accept new input.",so=new Map,cl=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`chat-${Date.now().toString(36)}-${Math.random().toString(16).slice(2)}`,sh=e=>({position:{x:(e==null?void 0:e.position.x)??oh.position.x,y:(e==null?void 0:e.position.y)??oh.position.y},size:{width:(e==null?void 0:e.size.width)??_c.width,height:(e==null?void 0:e.size.height)??_c.height}}),Mb=e=>({id:cl(),name:e.name||"attachment",size:e.size,type:e.type||"application/octet-stream",file:e}),Ib=e=>({id:e.id,name:e.name,size:e.size,type:e.type,url:e.url??(typeof URL<"u"?URL.createObjectURL(e.file):void 0)}),Pb=(e,t,n,r)=>{const i=e[t];return i?{...i,nodeLabel:i.nodeLabel||n,geometry:r?sh(r):i.geometry}:{nodeId:t,nodeLabel:n,messages:[],draft:"",draftAttachments:[],geometry:sh(r),scrollTop:0,stickToBottom:!0,open:!1,streamingMessageId:null,notice:null}},Rb=(e,t)=>e.trim().length===0&&t.length>0?"I've received the files you attached. I'll review them and respond soon.":e.trim().length===0?"I'm ready whenever you are. Send a prompt from the canvas Play control.":`I see: "${e.trim().slice(0,280)}${e.trim().length>280?"":""}"
I'll run that through the flow and let you know what I find.`,qe=M0((e,t)=>({threads:{},activeNodeId:null,flowAcceptsInput:!0,openChat:({nodeId:n,nodeLabel:r,geometry:i})=>{e(o=>{const s=Pb(o.threads,n,r,i);return{threads:{...o.threads,[n]:{...s,open:!0}},activeNodeId:n}})},closeChat:n=>{e(r=>{const i=n??r.activeNodeId;if(!i)return r;const o=r.threads[i];if(!o)return r;const s={...o,open:!1};return{threads:{...r.threads,[i]:s},activeNodeId:r.activeNodeId===i?null:r.activeNodeId}})},setDraft:(n,r)=>{e(i=>{const o=i.threads[n];return o?{threads:{...i.threads,[n]:{...o,draft:r}}}:i})},addDraftAttachments:(n,r)=>{!r||r.length===0||e(i=>{const o=i.threads[n];if(!o)return i;const s=r.map(Mb);return{threads:{...i.threads,[n]:{...o,draftAttachments:[...o.draftAttachments,...s]}}}})},removeDraftAttachment:(n,r)=>{e(i=>{const o=i.threads[n];return o?{threads:{...i.threads,[n]:{...o,draftAttachments:o.draftAttachments.filter(s=>s.id!==r)}}}:i})},clearDraft:n=>{e(r=>{const i=r.threads[n];return i?{threads:{...r.threads,[n]:{...i,draft:"",draftAttachments:[]}}}:r})},setScrollState:(n,r,i)=>{e(o=>{const s=o.threads[n];return!s||s.scrollTop===r&&s.stickToBottom===i?o:{threads:{...o.threads,[n]:{...s,scrollTop:r,stickToBottom:i}}}})},updateGeometry:(n,r)=>{e(i=>{const o=i.threads[n];if(!o)return i;const s=i.threads[n].geometry,l=Rr(r,{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER});return s.position.x===l.position.x&&s.position.y===l.position.y&&s.size.width===l.size.width&&s.size.height===l.size.height?i:{threads:{...i.threads,[n]:{...o,geometry:l}}}})},sendDraft:n=>{const i=t().threads[n];if(!i)return!1;const o=i.draft??"",s=o.trim().length>0,l=i.draftAttachments.length>0;if(!s&&!l)return!1;const a=Date.now(),u=i.draftAttachments.map(Ib),c={id:cl(),role:"user",content:o,createdAt:a,attachments:u},d={id:cl(),role:"assistant",content:"",createdAt:Date.now(),attachments:[],streaming:!0};e({flowAcceptsInput:!1}),e(_=>{const x=_.threads[n];if(!x)return _;const N={...x,messages:[...x.messages,c,d],draft:"",draftAttachments:[],stickToBottom:!0,streamingMessageId:d.id,notice:null};return{threads:{..._.threads,[n]:N}}});const f=`${n}:${d.id}`;if(so.has(f)){const _=so.get(f);typeof _=="number"&&window.clearTimeout(_)}const m=window.setTimeout(()=>{const _=Rb(o,u);t().completeStreaming(n,d.id,_)},1200);return so.set(f,m),!0},sendActiveDraft:()=>{const n=t();return n.activeNodeId?n.sendDraft(n.activeNodeId):!1},appendAssistantResponse:(n,r,i=[])=>{e(o=>{const s=o.threads[n];if(!s)return o;const l=s.messages.filter(u=>u.id!==s.streamingMessageId),a={id:cl(),role:"assistant",content:r,createdAt:Date.now(),attachments:i};return{threads:{...o.threads,[n]:{...s,messages:[...l,a],streamingMessageId:null}}}}),e({flowAcceptsInput:!0})},completeStreaming:(n,r,i)=>{e(o=>{const s=o.threads[n];if(!s)return o;const l=s.messages.map(c=>c.id===r?{...c,content:i,streaming:!1,createdAt:Date.now()}:c),a=`${n}:${r}`,u=so.get(a);return typeof u=="number"&&(window.clearTimeout(u),so.delete(a)),{threads:{...o.threads,[n]:{...s,messages:l,streamingMessageId:s.streamingMessageId===r?null:s.streamingMessageId}}}}),e({flowAcceptsInput:!0})},getThread:n=>t().threads[n],hasOpenChat:()=>{const n=t();return Object.values(n.threads).some(r=>r.open)},setFlowAcceptsInput:n=>{e(r=>r.flowAcceptsInput===n?r:{flowAcceptsInput:n})}})),Ab=_c,zb=Nb,Sc="__ioOrientation",Gd=e=>!e||typeof e!="object"?"default":e[Sc]==="reversed"?"reversed":"default",O0=e=>{const t=e&&typeof e=="object"?{...e}:{};return Gd(t)==="reversed"?(delete t[Sc],t):{...t,[Sc]:"reversed"}},Lb={width:156,minHeight:82,padding:"16px 20px",borderRadius:16,border:"2px solid #1f2937",background:"#ffffff",color:"#111827",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",position:"relative",boxShadow:"0 4px 8px rgba(15, 23, 42, 0.08)"},lh={width:12,height:12,borderRadius:"50%",background:"#1f2937",border:"2px solid #ffffff"},ah=(e,t)=>`${(e+1)/(t+1)*100}%`,Db={prompt:{width:360,height:320},debate:{width:380,height:360},log:{width:380,height:360},cache:{width:320,height:280},divider:{width:320,height:260},interface:{width:340,height:300},memory:{width:340,height:300},tool:{width:320,height:280}},uh={width:320,height:260},$b=e=>(e?Db[e]:uh)??uh,Ob="__position",jb=`[${Xd}]`,Os=(e,t,n)=>Math.min(n,Math.max(t,e)),Fb=e=>{var s;const t=(e.name??"").toLowerCase(),n=(e.id??"").toLowerCase(),i=(typeof((s=e.params)==null?void 0:s.moduleKey)=="string"?e.params.moduleKey:"").toLowerCase(),o=`${t} ${n} ${i}`;return i==="tool"||i==="toolcall"||i==="tool-call"?"tool":o.includes("prompt")?"prompt":o.includes("debate")||o.includes("loop")?"debate":o.includes("log")?"log":o.includes("cache")||o.includes("memo")?"cache":o.includes("memory")||o.includes("recall")?"memory":o.includes("divert")||o.includes("divider")||o.includes("switch")?"divider":o.includes("tool call")||o.includes("tool-call")||o.includes("tool:")||o.includes("toolcall")||o.includes("tool ")||o.endsWith("tool")?"tool":o.includes("ui")||o.includes("interface")?"interface":null};function ch({data:e}){const t=e.in??[],n=e.out??[],{overlayRef:r}=qd(),i=k.useMemo(()=>Gd(e.params),[e.params]),o=i==="reversed"?ee.Right:ee.Left,s=i==="reversed"?ee.Left:ee.Right,l=k.useMemo(()=>Fb(e),[e]),a=k.useMemo(()=>$b(l),[l]),[u,c]=k.useState(()=>({open:!1,minimized:!1,geometry:{position:{x:0,y:0},size:{...a}}})),[d,f]=k.useState(null),m=qe(v=>v.openChat),_=qe(v=>v.getThread),{updateNodeParams:x,copyNode:N,cutNode:p,deleteNode:h,pasteClipboard:g,clipboard:S}=ls(v=>({updateNodeParams:v.updateNodeParams,copyNode:v.copyNode,cutNode:v.cutNode,deleteNode:v.deleteNode,pasteClipboard:v.pasteClipboard,clipboard:v.clipboard})),M=k.useCallback(v=>{var R;const C=(R=r.current)==null?void 0:R.getBoundingClientRect();return C?Rr(v,{width:C.width,height:C.height}):v},[r]),A=k.useCallback((v,C)=>{f(null),c(R=>{var G;const $=(G=r.current)==null?void 0:G.getBoundingClientRect();if(!$)return{...R,open:!0,minimized:!1};const V={position:{x:typeof v=="number"?v-$.left+12:R.geometry.position.x,y:typeof C=="number"?C-$.top+12:R.geometry.position.y},size:R.geometry.size},Z=Rr(V,{width:$.width,height:$.height});return{...R,open:!0,minimized:!1,geometry:Z}})},[r]),E=k.useCallback(v=>{var De;v.preventDefault(),v.stopPropagation(),c(xe=>({...xe,open:!1,minimized:!1}));const C=(De=r.current)==null?void 0:De.getBoundingClientRect();if(!C){f({left:v.clientX,top:v.clientY,pointer:null});return}const R=Math.max(ue,C.width-Go-ue),$=Math.max(ue,C.height-Ul-ue),V=Os(v.clientX-C.left,ue,R),Z=Os(v.clientY-C.top,ue,$),G=v.currentTarget.getBoundingClientRect(),re=G.left-C.left,ae=re+G.width,se=G.top-C.top+G.height/2,be=C.width-ae-ue,Be=re-ue,Oe=12;let Ie=be>=Be?ae+Oe:re-Go-Oe;Ie=Os(Ie,ue,R);let ye=se-Ul/2;ye=Os(ye,ue,$),f({left:C.left+Ie,top:C.top+ye,pointer:{x:V,y:Z}})},[r]),I=k.useCallback(v=>{var R;if(v.button!==0)return;const C=v.target;(R=C==null?void 0:C.closest)!=null&&R.call(C,".react-flow__handle")||(v.stopPropagation(),A(v.clientX,v.clientY))},[A]),D=k.useCallback(()=>c(v=>({...v,open:!1})),[]),z=k.useCallback(()=>c(v=>({...v,minimized:!v.minimized})),[]),O=k.useCallback(v=>{c(C=>({...C,geometry:M(v)}))},[M]),q=k.useCallback(v=>{x(e.id,v)},[e.id,x]),H=(S==null?void 0:S.kind)==="node",y=t.length>0||n.length>0,L=k.useCallback(v=>{const C=(d==null?void 0:d.pointer)??null;switch(f(null),v){case"Copy":N(e.id);break;case"Cut":p(e.id);break;case"Delete":h(e.id);break;case"Paste":{if(!H)break;const R=g("node");R&&!("from"in R)&&C&&x(R.id,$=>({...$&&typeof $=="object"?$:{},[Ob]:{x:C.x,y:C.y}}));break}case"Reverse Inputs":{x(e.id,R=>O0(R));break}}},[H,N,p,e.id,h,d,g,x]),T=k.useMemo(()=>Zd.map(v=>({label:v,disabled:v==="Paste"?!H:v==="Reverse Inputs"?!y:!1,onSelect:()=>L(v)})),[H,y,L]);k.useEffect(()=>{if(!d)return;const v=R=>{var V;const $=R.target;(V=$==null?void 0:$.closest)!=null&&V.call($,jb)||f(null)},C=R=>{R.key==="Escape"&&f(null)};return window.addEventListener("mousedown",v),window.addEventListener("contextmenu",v),window.addEventListener("keydown",C),()=>{window.removeEventListener("mousedown",v),window.removeEventListener("contextmenu",v),window.removeEventListener("keydown",C)}},[d]);const j=!!l,P=l==="interface",b=k.useCallback(v=>{var C,R;if(P){v.stopPropagation();const $=(C=r.current)==null?void 0:C.getBoundingClientRect(),V=v.currentTarget.getBoundingClientRect(),Z=_(e.id),G=((R=Z==null?void 0:Z.geometry)==null?void 0:R.size)??{...Ab};let re=(Z==null?void 0:Z.geometry)??{position:{x:0,y:0},size:{...G}};if($){const ae=V.left-$.left,ve=V.right-$.left,be=V.top-$.top+V.height/2,Be=20,Oe=$.width,Ie=$.height;let ye=ve+Be;ye+G.width>Oe&&(ye=ae-Be-G.width),ye<0&&(ye=Math.max(0,Math.min(ae,Oe-G.width)));let De=be-G.height/2;De+G.height>Ie&&(De=Ie-G.height),De<0&&(De=0),re=Rr({position:{x:ye,y:De},size:G},{width:Oe,height:Ie})}m({nodeId:e.id,nodeLabel:e.name??e.id??"Interface",geometry:re});return}I(v)},[e.id,e.name,P,_,I,m,r]);return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:Lb,"data-voide-io-orientation":i,onClick:j?b:void 0,onContextMenu:j?E:void 0,children:[t.map((v,C)=>w.jsx(hr,{type:"target",position:o,id:`${e.id}:${v.port}`,style:{...lh,top:ah(C,t.length)}},v.port)),w.jsx("span",{children:e.name}),n.map((v,C)=>w.jsx(hr,{type:"source",position:s,id:`${e.id}:${v.port}`,style:{...lh,top:ah(C,n.length)}},v.port))]}),j?w.jsx(Yd,{title:`${e.name} Options`,open:u.open,position:u.geometry.position,size:u.geometry.size,minimized:u.minimized,onRequestClose:D,onToggleMinimize:z,onUpdate:O,children:w.jsx(bb,{module:l,params:e.params,onUpdate:q})}):null,d?w.jsx($0,{position:{left:d.left,top:d.top},items:T}):null]})}const Bb=[{order:"a",md5sum:"a54c08a7b90e4029a8c2ab5b5dc936aa",name:"Reasoner v1",filename:"qwen2.5-coder-7b-instruct-q4_0.gguf",filesize:"4431390720",requires:"3.6.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Based on <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct">Qwen2.5-Coder 7B</a></li><li>Uses built-in javascript code interpreter</li><li>Use for complex reasoning tasks that can be aided by computation analysis</li><li>License: <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct/blob/main/LICENSE">Apache License Version 2.0</a></li><li>#reasoning</li></ul>',url:"https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct-GGUF/resolve/main/qwen2.5-coder-7b-instruct-q4_0.gguf",chatTemplate:`{{- '<|im_start|>system\\n' }}
{% if toolList|length > 0 %}You have access to the following functions:
{% for tool in toolList %}
Use the function '{{tool.function}}' to: '{{tool.description}}'
{% if tool.parameters|length > 0 %}
parameters:
{% for info in tool.parameters %}
  {{info.name}}:
    type: {{info.type}}
    description: {{info.description}}
    required: {{info.required}}
{% endfor %}
{% endif %}
# Tool Instructions
If you CHOOSE to call this function ONLY reply with the following format:
'{{tool.symbolicFormat}}'
Here is an example. If the user says, '{{tool.examplePrompt}}', then you reply
'{{tool.exampleCall}}'
After the result you might reply with, '{{tool.exampleReply}}'
{% endfor %}
You MUST include both the start and end tags when you use a function.

You are a helpful AI assistant who uses the functions to break down, analyze, perform, and verify complex reasoning tasks. You SHOULD try to verify your answers using the functions where possible.
{% endif %}
{{- '<|im_end|>\\n' }}
{% for message in messages %}
{{'<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{% endfor %}
{% if add_generation_prompt %}
{{ '<|im_start|>assistant\\n' }}
{% endif %}
`,systemPrompt:""},{order:"aa",md5sum:"c87ad09e1e4c8f9c35a5fcef52b6f1c9",name:"Llama 3 8B Instruct",filename:"Meta-Llama-3-8B-Instruct.Q4_0.gguf",filesize:"4661724384",requires:"2.7.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in Llama 3 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3/license/">Meta Llama 3 Community License</a></li></ul>',url:"https://gpt4all.io/models/gguf/Meta-Llama-3-8B-Instruct.Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2<|eot_id|>`,systemPrompt:"",chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {{- content }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"aa1",sha256sum:"5cd4ee65211770f1d99b4f6f4951780b9ef40e29314bd6542bb5bd0ad0bc29d1",name:"DeepSeek-R1-Distill-Qwen-7B",filename:"DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",filesize:"4444121056",requires:"3.8.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-7B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-7B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<User>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<Assistant>' + content + '<endofsentence>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<Assistant>' }}
{%- endif %}`},{order:"aa2",sha256sum:"906b3382f2680f4ce845459b4a122e904002b075238080307586bcffcde49eef",name:"DeepSeek-R1-Distill-Qwen-14B",filename:"DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",filesize:"8544267680",requires:"3.8.0",ramrequired:"16",parameters:"14 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-14B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-14B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<User>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<Assistant>' + content + '<endofsentence>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<Assistant>' }}
{%- endif %}`},{order:"aa3",sha256sum:"0eb93e436ac8beec18aceb958c120d282cb2cf5451b23185e7be268fe9d375cc",name:"DeepSeek-R1-Distill-Llama-8B",filename:"DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",filesize:"4675894112",requires:"3.8.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Llama-3.1-8B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Llama-8B-GGUF/resolve/main/DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<User>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<Assistant>' + content + '<endofsentence>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<Assistant>' }}
{%- endif %}`},{order:"aa4",sha256sum:"b3af887d0a015b39fab2395e4faf682c1a81a6a3fd09a43f0d4292f7d94bf4d0",name:"DeepSeek-R1-Distill-Qwen-1.5B",filename:"DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",filesize:"1068807776",requires:"3.8.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-1.5B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-1.5B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<User>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<Assistant>' + content + '<endofsentence>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<Assistant>' }}
{%- endif %}`},{order:"b",md5sum:"27b44e8ae1817525164ddf4f8dae8af4",name:"Llama 3.2 3B Instruct",filename:"Llama-3.2-3B-Instruct-Q4_0.gguf",filesize:"1921909280",requires:"3.4.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"c",md5sum:"48ff0243978606fdba19d899b77802fc",name:"Llama 3.2 1B Instruct",filename:"Llama-3.2-1B-Instruct-Q4_0.gguf",filesize:"773025920",requires:"3.4.0",ramrequired:"2",parameters:"1 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"d",md5sum:"a5f6b4eabd3992da4d7fb7f020f921eb",name:"Nous Hermes 2 Mistral DPO",filename:"Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",filesize:"4108928000",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Good overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in ChatML format</li><li>Trained by Mistral AI<li>Finetuned by Nous Research on the OpenHermes-2.5 dataset<li>Licensed for commercial use</ul>",url:"https://huggingface.co/NousResearch/Nous-Hermes-2-Mistral-7B-DPO-GGUF/resolve/main/Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:"",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"e",md5sum:"97463be739b50525df56d33b26b00852",name:"Mistral Instruct",filename:"mistral-7b-instruct-v0.1.Q4_0.gguf",filesize:"4108916384",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",systemPrompt:"",description:"<strong>Strong overall fast instruction following model</strong><br><ul><li>Fast responses</li><li>Trained by Mistral AI<li>Uncensored</li><li>Licensed for commercial use</li></ul>",url:"https://gpt4all.io/models/gguf/mistral-7b-instruct-v0.1.Q4_0.gguf",promptTemplate:"[INST] %1 [/INST]",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if (message['role'] == 'user') != ((loop.index0 - loop_start) % 2 == 0) %}
            {{- raise_exception('After the optional system message, conversation roles must alternate user/assistant/user/assistant/...') }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {%- if loop.index0 == loop_start and loop_start == 1 %}
                {{- ' [INST] ' + system_message + '\\n\\n' + message['content'] + ' [/INST]' }}
            {%- else %}
                {{- ' [INST] ' + message['content'] + ' [/INST]' }}
            {%- endif %}
        {%- elif message['role'] == 'assistant' %}
            {{- ' ' + message['content'] + eos_token }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}`},{order:"f",md5sum:"8a9c75bcd8a66b7693f158ec96924eeb",name:"Llama 3.1 8B Instruct 128k",filename:"Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",filesize:"4661212096",requires:"3.1.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li><strong>For advanced users only. Not recommended for use on Windows or Linux without selecting CUDA due to speed issues.</strong></li><li>Fast responses</li><li>Chat based model</li><li>Large context size of 128k</li><li>Accepts agentic system prompts in Llama 3.1 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_1/license/">Meta Llama 3.1 Community License</a></li></ul>',url:"https://huggingface.co/GPT4All-Community/Meta-Llama-3.1-8B-Instruct-128k/resolve/main/Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {%- if loop.index0 == 0 %}
        {%- set content = bos_token + content %}
    {%- endif %}
    {{- content }}
{%- endfor %}
{{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}`},{order:"g",md5sum:"f692417a22405d80573ac10cb0cd6c6a",name:"Mistral OpenOrca",filename:"mistral-7b-openorca.gguf2.Q4_0.gguf",filesize:"4108928128",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:'<strong>Strong overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by Mistral AI<li>Finetuned on OpenOrca dataset curated via <a href="https://atlas.nomic.ai/">Nomic Atlas</a><li>Licensed for commercial use</ul>',url:"https://gpt4all.io/models/gguf/mistral-7b-openorca.gguf2.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
You are MistralOrca, a large language model trained by Alignment Lab AI.
<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"h",md5sum:"c4c78adf744d6a20f05c8751e3961b84",name:"GPT4All Falcon",filename:"gpt4all-falcon-newbpe-q4_0.gguf",filesize:"4210994112",requires:"2.6.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Falcon",systemPrompt:"",description:"<strong>Very fast model with good quality</strong><br><ul><li>Fastest responses</li><li>Instruction based</li><li>Trained by TII<li>Finetuned by Nomic AI<li>Licensed for commercial use</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-falcon-newbpe-q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User: ' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Assistant: ' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Assistant:' }}
{%- endif %}`},{order:"i",md5sum:"00c8593ba57f5240f59662367b3ed4a5",name:"Orca 2 (Medium)",filename:"orca-2-7b.Q4_0.gguf",filesize:"3825824192",requires:"2.5.2",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-7b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"j",md5sum:"3c0d63c4689b9af7baa82469a6f51a19",name:"Orca 2 (Full)",filename:"orca-2-13b.Q4_0.gguf",filesize:"7365856064",requires:"2.5.2",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-13b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"k",md5sum:"5aff90007499bce5c64b1c0760c0b186",name:"Wizard v1.2",filename:"wizardlm-13b-v1.2.Q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Strong overall larger model</strong><br><ul><li>Instruction based<li>Gives very long responses<li>Finetuned with only 1k of high-quality data<li>Trained by Microsoft and Peking University<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/wizardlm-13b-v1.2.Q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + ' ' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in loop_messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
        {%- if (loop.index0 - loop_start) % 2 == 0 %}
            {{- ' ' }}
        {%- else %}
            {{- eos_token }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"A chat between a curious user and an artificial intelligence assistant. The assistant gives helpful, detailed, and polite answers to the user's questions."},{order:"l",md5sum:"31b47b4e8c1816b62684ac3ca373f9e1",name:"Ghost 7B v0.9.1",filename:"ghost-7b-v0.9.1-Q4_0.gguf",filesize:"4108916960",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Ghost 7B v0.9.1</strong> fast, powerful and smooth for Vietnamese and English languages.",url:"https://huggingface.co/lamhieu/ghost-7b-v0.9.1-gguf/resolve/main/ghost-7b-v0.9.1-Q4_0.gguf",promptTemplate:`<|user|>
%1</s>
<|assistant|>
%2</s>
`,systemPrompt:`<|system|>
You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior.
</s>`,chatTemplate:`{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<|user|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'system' %}
        {{- '<|system|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'assistant' %}
        {{- '<|assistant|>\\n'  + message['content'] + eos_token }}
    {%- endif %}
    {%- if loop.last and add_generation_prompt %}
        {{- '<|assistant|>' }}
    {%- endif %}
{%- endfor %}`,systemMessage:"You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior."},{order:"m",md5sum:"3d12810391d04d1153b692626c0c6e16",name:"Hermes",filename:"nous-hermes-llama2-13b.Q4_0.gguf",filesize:"7366062080",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Extremely good model</strong><br><ul><li>Instruction based<li>Gives long responses<li>Curated with 300,000 uncensored instructions<li>Trained by Nous Research<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/nous-hermes-llama2-13b.Q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Instruction:\\n' }}
{%- endif %}`},{order:"n",md5sum:"40388eb2f8d16bb5d08c96fdfaac6b2c",name:"Snoozy",filename:"gpt4all-13b-snoozy-q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",description:"<strong>Very good overall model</strong><br><ul><li>Instruction based<li>Based on the same dataset as Groovy<li>Slower than Groovy, with higher quality responses<li>Trained by Nomic AI<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-13b-snoozy-q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`,systemMessage:"Below is an instruction that describes a task. Write a response that appropriately completes the request."},{order:"o",md5sum:"15dcb4d7ea6de322756449c11a0b7545",name:"MPT Chat",filename:"mpt-7b-chat-newbpe-q4_0.gguf",filesize:"3912373472",requires:"2.7.1",removedIn:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat-newbpe-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"p",md5sum:"ab5d8e8a2f79365ea803c1f1d0aa749d",name:"MPT Chat",filename:"mpt-7b-chat.gguf4.Q4_0.gguf",filesize:"3796178112",requires:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat.gguf4.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"q",md5sum:"f8347badde9bfc2efbe89124d78ddaf5",name:"Phi-3 Mini Instruct",filename:"Phi-3-mini-4k-instruct.Q4_0.gguf",filesize:"2176181568",requires:"2.7.1",ramrequired:"4",parameters:"4 billion",quant:"q4_0",type:"Phi-3",description:'<ul><li>Very fast responses</li><li>Chat based model</li><li>Accepts system prompts in Phi-3 format</li><li>Trained by Microsoft</li><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li></ul>',url:"https://gpt4all.io/models/gguf/Phi-3-mini-4k-instruct.Q4_0.gguf",promptTemplate:`<|user|>
%1<|end|>
<|assistant|>
%2<|end|>
`,systemPrompt:"",chatTemplate:`{{- bos_token }}
{%- for message in messages %}
    {{- '<|' + message['role'] + '|>\\n' + message['content'] + '<|end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|assistant|>\\n' }}
{%- else %}
    {{- eos_token }}
{%- endif %}`},{order:"r",md5sum:"0e769317b90ac30d6e09486d61fefa26",name:"Mini Orca (Small)",filename:"orca-mini-3b-gguf2-q4_0.gguf",filesize:"1979946720",requires:"2.5.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"OpenLLaMa",description:"<strong>Small version of new model with novel dataset</strong><br><ul><li>Very fast responses</li><li>Instruction based</li><li>Explain tuned datasets</li><li>Orca Research Paper dataset construction approaches</li><li>Cannot be used commercially</li></ul>",url:"https://gpt4all.io/models/gguf/orca-mini-3b-gguf2-q4_0.gguf",promptTemplate:`### User:
%1

### Response:
`,systemPrompt:`### System:
You are an AI assistant that follows instruction extremely well. Help as much as you can.

`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- '### System:\\n' + messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`},{order:"s",md5sum:"c232f17e09bca4b7ee0b5b1f4107c01e",disableGUI:"true",name:"Replit",filename:"replit-code-v1_5-3b-newbpe-q4_0.gguf",filesize:"1953055104",requires:"2.6.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"Replit",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>Licensed for commercial use<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/replit-code-v1_5-3b-newbpe-q4_0.gguf",chatTemplate:null},{order:"t",md5sum:"70841751ccd95526d3dcfa829e11cd4c",disableGUI:"true",name:"Starcoder",filename:"starcoder-newbpe-q4_0.gguf",filesize:"8987411904",requires:"2.6.0",ramrequired:"4",parameters:"7 billion",quant:"q4_0",type:"Starcoder",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/starcoder-newbpe-q4_0.gguf",chatTemplate:null},{order:"u",md5sum:"e973dd26f0ffa6e46783feaea8f08c83",disableGUI:"true",name:"Rift coder",filename:"rift-coder-v0-7b-q4_0.gguf",filesize:"3825903776",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on collection of Python and TypeScript</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</li>",url:"https://gpt4all.io/models/gguf/rift-coder-v0-7b-q4_0.gguf",chatTemplate:null},{order:"v",md5sum:"e479e6f38b59afc51a470d1953a6bfc7",disableGUI:"true",name:"SBert",filename:"all-MiniLM-L6-v2-f16.gguf",filesize:"45887744",requires:"2.5.0",removedIn:"2.7.4",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2-f16.gguf",chatTemplate:null},{order:"w",md5sum:"dd90e2cb7f8e9316ac3796cece9883b5",name:"SBert",filename:"all-MiniLM-L6-v2.gguf2.f16.gguf",filesize:"45949216",requires:"2.7.4",removedIn:"3.0.0",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2.gguf2.f16.gguf",chatTemplate:null},{order:"x",md5sum:"919de4dd6f25351bcb0223790db1932d",name:"EM German Mistral",filename:"em_german_mistral_v01.Q4_0.gguf",filesize:"4108916352",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Mistral-based model for German-language applications</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by ellamind<li>Finetuned on German instruction and chat data</a><li>Licensed for commercial use</ul>",url:"https://huggingface.co/TheBloke/em_german_mistral_v01-GGUF/resolve/main/em_german_mistral_v01.Q4_0.gguf",promptTemplate:"USER: %1 ASSISTANT: ",systemPrompt:"Du bist ein hilfreicher Assistent. ",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if not loop.first %}
            {{- ' ' }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('After the optional system message, conversation roles must be either user or assistant.') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {%- if messages %}
        {{- ' ' }}
    {%- endif %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"Du bist ein hilfreicher Assistent."},{order:"y",md5sum:"60ea031126f82db8ddbbfecc668315d2",disableGUI:"true",name:"Nomic Embed Text v1",filename:"nomic-embed-text-v1.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.f16.gguf",chatTemplate:null},{order:"z",md5sum:"a5401e7f7e46ed9fcaed5b60a281d547",disableGUI:"true",name:"Nomic Embed Text v1.5",filename:"nomic-embed-text-v1.5.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1.5",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.5.f16.gguf",chatTemplate:null},{order:"zzz",md5sum:"a8c5a783105f87a481543d4ed7d7586d",name:"Qwen2-1.5B-Instruct",filename:"qwen2-1_5b-instruct-q4_0.gguf",filesize:"937532800",requires:"3.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Very fast responses</li><li>Instruction based model</li><li>Usage of LocalDocs (RAG): Highly recommended</li><li>Supports context length of up to 32768</li><li>Trained and finetuned by Qwen (Alibaba Cloud)</li><li>License: <a href="https://www.apache.org/licenses/LICENSE-2.0.html/">Apache 2.0</a></li></ul>',url:"https://huggingface.co/Qwen/Qwen2-1.5B-Instruct-GGUF/resolve/main/qwen2-1_5b-instruct-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>`,systemPrompt:`<|im_start|>system
Below is an instruction that describes a task. Write a response that appropriately completes the request.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {%- if loop.first and messages[0]['role'] != 'system' %}
        {{- '<|im_start|>system\\nYou are a helpful assistant.<|im_end|>\\n' }}
    {%- endif %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`}],Hb={width:184,height:96,borderRadius:9999,border:"3px solid #dc2626",background:"#fff1f2",color:"#991b1b",fontWeight:700,textTransform:"uppercase",letterSpacing:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 6px 12px rgba(220, 38, 38, 0.18)"},dh={width:14,height:14,borderRadius:"50%",background:"#dc2626",border:"2px solid #fff1f2"},js={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#9f1239",marginBottom:8},Fn={fontSize:11,fontWeight:600,color:"#b91c1c",textTransform:"uppercase",letterSpacing:.4},Bn={borderRadius:8,border:"1px solid rgba(244, 63, 94, 0.35)",background:"#ffffff",color:"#7f1d1d",fontWeight:500,fontSize:13,padding:"8px 10px",boxShadow:"0 1px 2px rgba(244, 63, 94, 0.12)",outline:"none"},Fs={fontSize:11,color:"#be123c"},Hn={display:"flex",flexDirection:"column",gap:4},Vb={display:"flex",alignItems:"center",gap:8,fontSize:12,fontWeight:500,color:"#7f1d1d",cursor:"pointer"},Ub={width:16,height:16,accentColor:"#dc2626",cursor:"pointer"},fh={display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))"},Bs={display:"flex",flexDirection:"column",gap:4,padding:"8px 12px",borderRadius:10,background:"rgba(254, 226, 226, 0.6)"},Hs={fontSize:11,fontWeight:600,color:"#991b1b",textTransform:"uppercase",letterSpacing:.5},Vs={fontSize:13,fontWeight:500,color:"#7f1d1d"},Wb={position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},qb=360,Yb=380,er=.5,kc=Go,ph=Ul,Zb={position:"fixed",minWidth:kc,background:"#fef2f2",border:"1px solid rgba(220, 38, 38, 0.25)",borderRadius:12,boxShadow:"0 18px 36px rgba(220, 38, 38, 0.22)",padding:6,display:"flex",flexDirection:"column",gap:2,zIndex:170,pointerEvents:"auto"},j0={padding:"8px 12px",borderRadius:8,border:"none",background:"transparent",color:"#7f1d1d",fontWeight:600,fontSize:13,textAlign:"left",cursor:"pointer",transition:"background 120ms ease, transform 120ms ease"},Xb={...j0,color:"rgba(127, 29, 29, 0.4)",cursor:"not-allowed"},Gr=256,lu=16,hh=(e,t)=>`${(e+1)/(t+1)*100}%`,At=(e,t,n)=>Math.min(n,Math.max(t,e)),Gb=["llama.cpp","gpt4all","ollama"],pt={context:4096,backend:"llama.cpp",temperature:.7,topP:.95,topK:40,minP:.1},Qb={qwen2:{context:32768,backend:"llama.cpp",temperature:.4,topP:.9,topK:40,minP:.05},llama3:{context:8192,backend:"llama.cpp",temperature:.7,topP:.95,topK:45,minP:.1},deepseek:{context:8192,backend:"llama.cpp",temperature:.3,topP:.92,topK:40,minP:.06},mistral:{context:8192,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},falcon:{context:4096,backend:"gpt4all",temperature:.6,topP:.9,topK:40,minP:.08},llama2:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},llama:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},mpt:{context:8192,backend:"gpt4all",temperature:.65,topP:.9,topK:38,minP:.08},"phi-3":{context:8192,backend:"ollama",temperature:.55,topP:.9,topK:32,minP:.06},openllama:{context:4096,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},replit:{context:4096,backend:"gpt4all",temperature:.75,topP:.9,topK:40,minP:.1},starcoder:{context:8192,backend:"ollama",temperature:.4,topP:.95,topK:60,minP:.05},bert:{context:512,backend:"gpt4all",temperature:.5,topP:.9,topK:20,minP:.05}},Kb=Bb,Us=Kb.map((e,t)=>{const n=e.filename??e.order??`model-${t}`,r=(n??`model-${t}`).replace(/\s+/g,"-").toLowerCase(),i=r.startsWith("model:")?r:`model:${r}`,o=e.name??n??i,s=(e.type??"").toLowerCase(),a={...Qb[s]??pt};return{id:i,label:o,model:e,profile:a}}),Jb=e=>({top:e.top,left:e.left,width:e.width,height:e.height}),Ws=(e,t)=>({left:e.left-t.left,top:e.top-t.top,right:e.right-t.left,bottom:e.bottom-t.top}),mo=(e,t)=>!e||!t?!1:Math.abs(e.left-t.left)<er&&Math.abs(e.top-t.top)<er&&Math.abs(e.width-t.width)<er&&Math.abs(e.height-t.height)<er,eC=(e,t)=>!e||!t?!1:Math.abs(e.left-t.left)<er&&Math.abs(e.top-t.top)<er&&Math.abs(e.width-t.width)<er&&Math.abs(e.height-t.height)<er,qs=e=>({position:{x:e.left,y:e.top},size:{width:e.width,height:e.height}}),pi=e=>({left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height}),tC=(e,t)=>mo(e?pi(e):null,t?pi(t):null),mh=(e,t)=>{const n=Math.min(qb,Math.max(t.width-ue*2,z0)),r=Math.min(Yb,Math.max(t.height-ue*2,L0)),i=e.left-t.left,o=e.right-t.left,s=e.top-t.top,l=e.bottom-t.top;let a=o+ue;a+n>t.width-ue&&(a=i-n-ue),a<ue&&(a=ue);let u=s;return u+r>t.height-ue&&(u=Math.max(ue,l-r)),u<ue&&(u=ue),ho({left:a,top:u,width:n,height:r},t)};function nC({data:e}){const t=e.in??[],n=e.out??[],r=k.useMemo(()=>Gd(e.params),[e.params]),i=r==="reversed"?ee.Right:ee.Left,o=r==="reversed"?ee.Left:ee.Right,s=k.useRef(null),[l,a]=k.useState(null),[u,c]=k.useState(null),[d,f]=k.useState(!1),[m,_]=k.useState(!1),[x,N]=k.useState(null),[p,h]=k.useState(!1),g=k.useRef(null),{updateNodeParams:S,copyNode:M,cutNode:A,deleteNode:E,pasteClipboard:I,clipboard:D}=ls(F=>({updateNodeParams:F.updateNodeParams,copyNode:F.copyNode,cutNode:F.cutNode,deleteNode:F.deleteNode,pasteClipboard:F.pasteClipboard,clipboard:F.clipboard})),z=e.params??{},O=(D==null?void 0:D.kind)==="node",q=t.length>0||n.length>0,H=k.useMemo(()=>Zd.map(F=>({label:F,disabled:F==="Paste"?!O:F==="Reverse Inputs"?!q:!1})),[O,q]),y=k.useCallback(F=>{S&&S(e.id,B=>({...B??{},...F}))},[e.id,S]),L=k.useMemo(()=>{const F=[typeof z.modelId=="string"?z.modelId:"",typeof z.model_id=="string"?z.model_id:""];for(const B of F){const Q=B.trim();if(Q)return Q}return""},[z.modelId,z.model_id]),T=k.useMemo(()=>L?Us.find(B=>B.id===L)??null:null,[L]),j=L,P=(T==null?void 0:T.profile.context)??pt.context,b=k.useMemo(()=>{const F={...z};L&&(F.modelId=L,F.model_id=L);const B=R0(F,Us);if(B)return B;if(L){const Q=L.replace(/^model:/i,"").trim();if(Q)return Q}return"LLM"},[z,L]);k.useEffect(()=>{if(typeof z.modelId=="string"||typeof z.model_id=="string"||!T)return;const F=T.profile,B=Math.min(F.context,1024);y({modelId:T.id,model_id:T.id,adapter:F.backend,maxInputTokens:F.context,maxResponseTokens:B,maxTokens:B,temperature:F.temperature,topP:F.topP,topK:F.topK,minP:F.minP})},[z.modelId,z.model_id,T,y]);const v=typeof z.adapter=="string"?z.adapter:(T==null?void 0:T.profile.backend)??pt.backend,C=typeof z.includeRawInput=="boolean"?z.includeRawInput:!1,R=typeof z.maxInputTokens=="number"?z.maxInputTokens:P,$=At(Math.round(R),Gr,Math.max(Gr,P)),V=typeof z.maxResponseTokens=="number"?z.maxResponseTokens:typeof z.maxTokens=="number"?z.maxTokens:Math.min(P,1024),Z=At(Math.round(V),lu,$),G=typeof z.temperature=="number"?z.temperature:(T==null?void 0:T.profile.temperature)??pt.temperature,re=typeof z.topP=="number"?z.topP:(T==null?void 0:T.profile.topP)??pt.topP,ae=typeof z.topK=="number"?z.topK:(T==null?void 0:T.profile.topK)??pt.topK,ve=typeof z.minP=="number"?z.minP:(T==null?void 0:T.profile.minP)??pt.minP,se=k.useCallback(F=>{a(B=>eC(B,F)?B:F)},[]),be=k.useCallback(()=>{const F=s.current;if(!F)return null;const B=F.closest(".react-flow");return B?{canvasMetrics:Jb(B.getBoundingClientRect()),anchorBounds:F.getBoundingClientRect()}:null},[]),Be=k.useCallback(F=>{const B=F.target.value.trim();if(!B){const we=Math.min(pt.context,1024);y({modelId:"",model_id:"",adapter:pt.backend,maxInputTokens:pt.context,maxResponseTokens:we,maxTokens:we,temperature:pt.temperature,topP:pt.topP,topK:pt.topK,minP:pt.minP});return}const Q=Us.find(we=>we.id===B);if(!Q){y({modelId:B,model_id:B});return}const pe=Math.min(Q.profile.context,1024);y({modelId:Q.id,model_id:Q.id,adapter:Q.profile.backend,maxInputTokens:Q.profile.context,maxResponseTokens:pe,maxTokens:pe,temperature:Q.profile.temperature,topP:Q.profile.topP,topK:Q.profile.topK,minP:Q.profile.minP})},[y]),Oe=k.useCallback(F=>{y({adapter:F.target.value})},[y]),Ie=k.useCallback(F=>{const B=At(F,Gr,Math.max(Gr,P)),Q=Math.min(Z,B);y({maxInputTokens:B,maxResponseTokens:Q,maxTokens:Q})},[P,Z,y]),ye=k.useCallback(F=>{const B=At(F,lu,$);y({maxResponseTokens:B,maxTokens:B})},[$,y]),De=k.useCallback(F=>{const B=Number(F.target.value);Number.isNaN(B)||y({temperature:At(B,0,2)})},[y]),xe=k.useCallback(F=>{const B=Number(F.target.value);Number.isNaN(B)||y({topP:At(B,0,1)})},[y]),ne=k.useCallback(F=>{const B=Number(F.target.value);Number.isNaN(B)||y({topK:At(Math.round(B),0,320)})},[y]),ot=k.useCallback(F=>{const B=Number(F.target.value);Number.isNaN(B)||y({minP:At(B,0,1)})},[y]),It=k.useCallback(()=>{const F=be();if(!F)return;const{canvasMetrics:B,anchorBounds:Q}=F;se(B),g.current=Ws(Q,B),c(pe=>{const we=pe?pi(pe):null,Ue=we??mh(Q,B),Pe=ho(Ue,B);return we&&mo(we,Pe)?pe:qs(Pe)}),f(!0),_(!1),N(null),h(!1)},[be,se]),xr=k.useCallback(F=>{F.preventDefault(),F.stopPropagation();const B=be();if(!B)return;const{canvasMetrics:Q,anchorBounds:pe}=B;se(Q),g.current=Ws(pe,Q),c(Wi=>{const qi=Wi?pi(Wi):null,Sa=qi??mh(pe,Q),us=ho(Sa,Q);return qi&&mo(qi,us)?Wi:qs(us)}),f(!1),h(!1);const we=Math.max(ue,Q.width-kc-ue),Ue=Math.max(ue,Q.height-ph-ue);At(F.clientX-Q.left,ue,we),At(F.clientY-Q.top,ue,Ue);const Pe=pe.left-Q.left,Re=Pe+pe.width,Ut=pe.top-Q.top+pe.height/2,Rt=Q.width-Re-ue,nn=Pe-ue,wr=12;let ft=Rt>=nn?Re+wr:Pe-kc-wr;ft=At(ft,ue,we);let Ui=Ut-ph/2;Ui=At(Ui,ue,Ue),N({left:Q.left+ft,top:Q.top+Ui,clientX:F.clientX,clientY:F.clientY,nodeId:e.id})},[e.id,be,se]),hn=k.useCallback(()=>{It()},[It]),An=k.useCallback(F=>{switch(N(null),F){case"Copy":M(e.id);break;case"Cut":A(e.id);break;case"Delete":E(e.id);break;case"Paste":O&&I("node");break;case"Reverse Inputs":S==null||S(e.id,B=>O0(B));break}},[O,M,A,e.id,E,I,S]),Ht=k.useCallback(F=>{if(F.button!==0)return;const B=F.target;B!=null&&B.closest(".react-flow__handle")||(F.stopPropagation(),It())},[It]),zn=k.useCallback(()=>{f(!1),_(!0),h(!1)},[]),mn=k.useCallback(()=>{f(!0),_(!1),h(F=>!F)},[]),gn=k.useCallback(F=>{c(B=>tC(B,F)?B:F)},[]);k.useEffect(()=>{if(!(d||m))return;const F=()=>{const we=be();if(!we)return;const{canvasMetrics:Ue,anchorBounds:Pe}=we;se(Ue),g.current=Ws(Pe,Ue),c(Re=>{if(!Re)return Re;const Pt=pi(Re),Ut=ho(Pt,Ue);return mo(Pt,Ut)?Re:qs(Ut)})};F(),window.addEventListener("resize",F);let B=null;const Q=s.current,pe=Q==null?void 0:Q.closest(".react-flow");return pe&&typeof ResizeObserver<"u"&&(B=new ResizeObserver(F),B.observe(pe)),()=>{window.removeEventListener("resize",F),B==null||B.disconnect()}},[be,m,d,se]),k.useEffect(()=>{if(!d)return;const F=s.current;if(!F)return;const B=()=>{const pe=be();if(!pe)return;const{canvasMetrics:we,anchorBounds:Ue}=pe;se(we);const Pe=Ws(Ue,we),Re=g.current;if(g.current=Pe,!Re)return;const Pt=Pe.left-Re.left,Ut=Pe.top-Re.top;Math.abs(Pt)<.2&&Math.abs(Ut)<.2||c(Rt=>{if(!Rt)return Rt;const nn=pi(Rt),wr={...nn,left:nn.left+Pt,top:nn.top+Ut},ft=ho(wr,we);return mo(nn,ft)?Rt:qs(ft)})},Q=new MutationObserver(B);return Q.observe(F,{attributes:!0,attributeFilter:["style","class"]}),()=>Q.disconnect()},[be,d,se]),k.useEffect(()=>{if(!x)return;const F=Q=>{var we;const pe=Q.target;(we=pe==null?void 0:pe.closest)!=null&&we.call(pe,"[data-node-edit-menu]")||N(null)},B=Q=>{Q.key==="Escape"&&N(null)};return window.addEventListener("mousedown",F),window.addEventListener("contextmenu",F),window.addEventListener("keydown",B),()=>{window.removeEventListener("mousedown",F),window.removeEventListener("contextmenu",F),window.removeEventListener("keydown",B)}},[x]);const Vt=m&&!!u,Ln=k.useMemo(()=>({position:"absolute",bottom:6,right:6,width:28,height:28,borderRadius:"50%",border:"2px solid #dc2626",background:"#fee2e2",color:"#b91c1c",fontSize:14,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 14px rgba(220, 38, 38, 0.28)",cursor:"pointer",transition:"opacity 160ms ease, transform 160ms ease",opacity:Vt?1:0,transform:Vt?"scale(1)":"scale(0.85)",pointerEvents:Vt?"auto":"none"}),[Vt]);return w.jsxs(w.Fragment,{children:[w.jsxs("div",{ref:s,style:Hb,"data-voide-io-orientation":r,onContextMenu:xr,onClick:Ht,children:[t.map((F,B)=>w.jsx(hr,{type:"target",position:i,id:`${e.id}:${F.port}`,style:{...dh,top:hh(B,t.length)}},F.port)),w.jsx("span",{children:b}),n.map((F,B)=>w.jsx(hr,{type:"source",position:o,id:`${e.id}:${F.port}`,style:{...dh,top:hh(B,n.length)}},F.port)),w.jsx("button",{type:"button",onClick:hn,onContextMenu:F=>{F.preventDefault(),F.stopPropagation(),hn()},style:Ln,"aria-label":"Open LLM options",children:""})]}),x?w.jsx("div",{"data-node-edit-menu":!0,style:{...Zb,left:x.left,top:x.top},children:H.map(({label:F,disabled:B})=>w.jsx("button",{type:"button",disabled:B,style:B?Xb:j0,onMouseDown:Q=>Q.stopPropagation(),onClick:Q=>{Q.stopPropagation(),!B&&An(F)},onMouseEnter:Q=>{B||(Q.currentTarget.style.background="rgba(248, 113, 113, 0.18)")},onMouseLeave:Q=>{Q.currentTarget.style.background="transparent"},children:F},F))}):null,l&&u&&w.jsx(Yd,{title:`${b} Options`,open:d,position:u.position,size:u.size,minimized:p,onRequestClose:zn,onToggleMinimize:mn,onUpdate:gn,children:w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[w.jsx("span",{style:Wb,children:"Quick Actions"}),w.jsxs("div",{children:[w.jsx("div",{style:js,children:"Model Selection"}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-model`,children:"LLM Model"}),w.jsxs("select",{id:`${e.id}-model`,value:j,onChange:Be,style:Bn,children:[w.jsx("option",{value:"",children:"Select a model"}),Us.map(F=>w.jsx("option",{value:F.id,children:F.label},F.id))]})]}),w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-backend`,children:"Backend"}),w.jsx("select",{id:`${e.id}-backend`,value:v,onChange:Oe,style:Bn,children:Gb.map(F=>w.jsx("option",{value:F,children:F},F))}),w.jsxs("label",{style:Vb,htmlFor:`${e.id}-include-raw-input`,children:[w.jsx("input",{id:`${e.id}-include-raw-input`,type:"checkbox",checked:C,onChange:F=>y({includeRawInput:F.target.checked}),style:Ub}),"Forward input with response"]}),w.jsx("span",{style:Fs,children:"Runtime adapter used to communicate with this module."}),w.jsx("span",{style:Fs,children:"When enabled, downstream nodes receive the full prompt alongside the model output."})]})]})]}),w.jsxs("div",{children:[w.jsx("div",{style:js,children:"Token Limits"}),w.jsxs("div",{style:fh,children:[w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-input-tokens`,children:"Max Input Tokens"}),w.jsx("input",{id:`${e.id}-input-tokens`,type:"number",min:Gr,max:Math.max(Gr,P),step:128,value:$,onChange:F=>{const B=Number(F.target.value);Number.isNaN(B)||Ie(B)},style:Bn}),w.jsxs("span",{style:Fs,children:["Up to ",P.toLocaleString()," tokens based on the model."]})]}),w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-response-tokens`,children:"Max Response Length"}),w.jsx("input",{id:`${e.id}-response-tokens`,type:"number",min:lu,max:$,step:32,value:Z,onChange:F=>{const B=Number(F.target.value);Number.isNaN(B)||ye(B)},style:Bn}),w.jsx("span",{style:Fs,children:"Cannot exceed max input tokens for this module."})]})]})]}),w.jsxs("div",{children:[w.jsx("div",{style:js,children:"Sampling Controls"}),w.jsxs("div",{style:fh,children:[w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-temperature`,children:"Temperature"}),w.jsx("input",{id:`${e.id}-temperature`,type:"number",min:0,max:2,step:.05,value:Number(G.toFixed(2)),onChange:De,style:Bn})]}),w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-top-p`,children:"Top P"}),w.jsx("input",{id:`${e.id}-top-p`,type:"number",min:0,max:1,step:.01,value:Number(re.toFixed(2)),onChange:xe,style:Bn})]}),w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-top-k`,children:"Top K"}),w.jsx("input",{id:`${e.id}-top-k`,type:"number",min:0,max:320,step:1,value:Math.round(ae),onChange:ne,style:Bn})]}),w.jsxs("div",{style:Hn,children:[w.jsx("label",{style:Fn,htmlFor:`${e.id}-min-p`,children:"Min P"}),w.jsx("input",{id:`${e.id}-min-p`,type:"number",min:0,max:1,step:.01,value:Number(ve.toFixed(2)),onChange:ot,style:Bn})]})]})]}),w.jsxs("div",{children:[w.jsx("div",{style:js,children:"Model Summary"}),T?w.jsxs("div",{style:{display:"grid",gap:10},children:[w.jsxs("div",{style:Bs,children:[w.jsx("span",{style:Hs,children:"Model"}),w.jsx("span",{style:Vs,children:T.label})]}),T.model.parameters?w.jsxs("div",{style:Bs,children:[w.jsx("span",{style:Hs,children:"Parameters"}),w.jsx("span",{style:Vs,children:T.model.parameters})]}):null,T.model.ramrequired?w.jsxs("div",{style:Bs,children:[w.jsx("span",{style:Hs,children:"Suggested RAM"}),w.jsxs("span",{style:Vs,children:[T.model.ramrequired," GB"]})]}):null]}):w.jsxs("div",{style:Bs,children:[w.jsx("span",{style:Hs,children:"No model selected"}),w.jsx("span",{style:Vs,children:"Choose a model to configure backend and sampling parameters."})]})]})]})})]})}const rC="rgba(15, 23, 42, 0.96)",iC=.88,F0=8,Ec=20,B0=24,H0={position:"absolute",display:"flex",flexDirection:"column",background:rC,borderRadius:20,border:"1px solid rgba(148, 163, 184, 0.28)",boxShadow:"0 32px 80px rgba(15, 23, 42, 0.6)",overflow:"hidden",color:"#f8fafc",zIndex:40},au={...H0,position:"relative",margin:"0 auto",width:"min(720px, 100%)",height:"100%"},oC={flex:1,overflowY:"auto",padding:"24px 24px 16px",display:"flex",flexDirection:"column",gap:16,background:"linear-gradient(180deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.92))"},sC={padding:"16px 20px 20px",background:"rgba(15, 23, 42, 0.94)",borderTop:"1px solid rgba(148, 163, 184, 0.18)",display:"flex",flexDirection:"column",gap:12},lC={display:"flex",gap:12,alignItems:"flex-end"},V0={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.75)",color:"#cbd5f5",fontSize:12,cursor:"pointer"},aC={...V0,background:"rgba(37, 99, 235, 0.15)",border:"1px solid rgba(96, 165, 250, 0.45)",cursor:"default"},uC={width:38,height:38,borderRadius:12,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease"},cC={flex:1,minHeight:36,maxHeight:F0*Ec+B0,borderRadius:16,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(15, 23, 42, 0.75)",color:"#f8fafc",padding:"12px 16px",fontSize:14,lineHeight:`${Ec}px`,resize:"none",outline:"none",overflow:"hidden",boxShadow:"inset 0 1px 3px rgba(15, 23, 42, 0.4)"},dC={fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(148, 163, 184, 0.6)",marginBottom:6,fontWeight:500},U0={maxWidth:`${iC*100}%`,borderRadius:20,padding:"14px 18px",boxShadow:"0 18px 48px rgba(15, 23, 42, 0.42)",display:"flex",flexDirection:"column",gap:10,fontSize:14,lineHeight:1.6,whiteSpace:"pre-wrap",wordBreak:"break-word"},fC={...U0,alignSelf:"flex-end",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.88), rgba(96, 165, 250, 0.82))",color:"#f8fafc",borderTopRightRadius:8},W0={...U0,alignSelf:"flex-start",background:"rgba(15, 23, 42, 0.88)",border:"1px solid rgba(148, 163, 184, 0.22)",color:"#e2e8f0",borderTopLeftRadius:8},pC={...W0,background:"rgba(30, 41, 59, 0.85)",borderStyle:"dashed"},hC={position:"absolute",top:12,right:12,width:28,height:28,borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",fontSize:15,lineHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease",zIndex:2},mC={position:"absolute",top:16,left:20,padding:"6px 10px",borderRadius:999,background:"rgba(37, 99, 235, 0.18)",border:"1px solid rgba(96, 165, 250, 0.35)",color:"#bfdbfe",fontSize:11,letterSpacing:.35,textTransform:"uppercase"},gC={margin:"auto",textAlign:"center",color:"rgba(226, 232, 240, 0.65)",fontSize:13,lineHeight:1.6,padding:"24px 12px"};function gh(e){if(!Number.isFinite(e)||e<=0)return"0 B";const t=["B","KB","MB","GB","TB"],n=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1),r=e/1024**n;return`${r>=100?r.toFixed(0):r.toFixed(r>=10?1:2)} ${t[n]}`}function yC(){return k.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[])}function vC(){const[e,t]=k.useState(1);return k.useEffect(()=>{const n=window.setInterval(()=>{t(r=>r%3+1)},360);return()=>window.clearInterval(n)},[]),w.jsxs("span",{style:{display:"inline-flex",gap:4,alignItems:"center",color:"rgba(148, 163, 184, 0.9)"},children:[w.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.9)",opacity:e>=1?1:.3,transition:"opacity 0.2s ease"}}),w.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.75)",opacity:e>=2?1:.3,transition:"opacity 0.2s ease"}}),w.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.6)",opacity:e>=3?1:.3,transition:"opacity 0.2s ease"}})]})}function q0({thread:e,flowAcceptsInput:t,mode:n,onRequestClose:r,onScrollStateChange:i,onDraftChange:o,onDraftAttachmentsAdd:s,onDraftAttachmentRemove:l}){const a=k.useRef(null),u=k.useRef(null),c=k.useRef(null),[d,f]=k.useState(!1),m=yC(),_=k.useCallback(()=>{const E=a.current;if(!E)return;E.style.height="auto";const I=F0*Ec+B0,D=Math.min(E.scrollHeight,I);E.style.height=`${D}px`,E.style.overflowY=E.scrollHeight>I?"auto":"hidden"},[]);k.useEffect(()=>{_()},[e.draft,_]),k.useEffect(()=>{const E=c.current;if(!E)return;const I=Math.max(0,E.scrollHeight-E.clientHeight);if(e.stickToBottom){E.scrollTop=I;return}E.scrollTop=Math.min(e.scrollTop,I)},[e.nodeId,e.scrollTop,e.stickToBottom,e.messages.length]),k.useEffect(()=>{const E=c.current;E&&e.stickToBottom&&(E.scrollTop=E.scrollHeight)},[e.messages.length,e.stickToBottom,e.streamingMessageId]);const x=k.useCallback(()=>{const E=c.current;if(!E)return;const{scrollTop:I,scrollHeight:D,clientHeight:z}=E,q=D-(I+z)<28;i(I,q)},[i]),N=k.useCallback(()=>{var E;(E=u.current)==null||E.click()},[]),p=k.useCallback(E=>{const I=Array.from(E.target.files??[]);I.length>0&&s(I),E.target.value=""},[s]),h=k.useCallback(E=>{E.preventDefault(),E.stopPropagation(),E.dataTransfer&&(E.dataTransfer.dropEffect="copy"),f(!0)},[]),g=k.useCallback(()=>{f(!1)},[]),S=k.useCallback(E=>{var D;E.preventDefault(),E.stopPropagation();const I=Array.from(((D=E.dataTransfer)==null?void 0:D.files)??[]);I.length>0&&s(I),f(!1)},[s]),M=k.useCallback(E=>{const I=m.format(new Date(E.createdAt)),D=E.role==="user"?fC:E.role==="assistant"?W0:pC,z=O=>{if(!O.url&&!O.file)return;const q=O.url??URL.createObjectURL(O.file);window.open(q,"_blank","noopener,noreferrer")};return w.jsxs("article",{style:{display:"flex",flexDirection:"column"},children:[w.jsx("span",{style:{...dC,textAlign:E.role==="user"?"right":"left",marginLeft:E.role==="user"?"auto":0,marginRight:E.role==="user"?0:"auto"},children:I}),w.jsxs("div",{style:D,children:[E.streaming?w.jsx(vC,{}):E.content,E.attachments.length>0?w.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:4},children:E.attachments.map(O=>w.jsxs("button",{type:"button",style:{...V0,alignSelf:E.role==="user"?"flex-end":"flex-start"},onClick:()=>z(O),children:[w.jsx("span",{"aria-hidden":!0,children:""}),w.jsx("span",{children:O.name}),w.jsx("span",{style:{opacity:.75},children:gh(O.size)})]},O.id))}):null]})]},E.id)},[m]),A=d?{border:"1px solid rgba(96, 165, 250, 0.55)",background:"rgba(30, 64, 175, 0.15)"}:null;return w.jsxs("div",{role:"dialog","aria-label":`${e.nodeLabel} chat`,style:{...n==="floating"?H0:au,width:n==="floating"?e.geometry.size.width:au.width,height:n==="floating"?e.geometry.size.height:au.height,pointerEvents:"auto",...n==="floating"?{left:e.geometry.position.x,top:e.geometry.position.y}:{}},children:[w.jsx("span",{style:mC,children:e.nodeLabel}),n==="floating"&&r?w.jsx("button",{type:"button","aria-label":"Close chat",style:hC,onClick:r,children:""}):null,w.jsx("div",{ref:c,style:oC,onScroll:x,children:e.messages.length===0?w.jsx("div",{style:gC,children:"Start a conversation from this interface node. Draft your prompt below and press the Play control on the canvas to send it."}):e.messages.map(E=>M(E))}),w.jsxs("div",{style:{...sC,...A??{}},onDragEnter:h,onDragOver:h,onDragLeave:g,onDrop:S,children:[w.jsxs("div",{style:lC,children:[w.jsx("button",{type:"button","aria-label":"Attach files",style:uC,onClick:N,children:"+"}),w.jsx("textarea",{ref:a,placeholder:"Type here press Play on the canvas to send",style:cC,value:e.draft,onChange:E=>o(E.target.value),"aria-multiline":"true"})]}),e.draftAttachments.length>0?w.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,paddingLeft:50},children:e.draftAttachments.map(E=>w.jsxs("span",{style:aC,children:[w.jsx("span",{"aria-hidden":!0,children:""}),w.jsx("span",{children:E.name}),w.jsx("span",{style:{opacity:.75},children:gh(E.size)}),w.jsx("button",{type:"button",onClick:()=>l(E.id),style:{background:"transparent",border:"none",color:"rgba(226, 232, 240, 0.75)",fontSize:14,cursor:"pointer"},"aria-label":`Remove ${E.name}`,children:""})]},E.id))}):null,t?null:w.jsxs("div",{style:{paddingLeft:50,fontSize:12,color:"rgba(248, 250, 252, 0.7)",display:"flex",gap:8,alignItems:"center"},children:[w.jsx("span",{"aria-hidden":!0,children:""}),w.jsx("span",{children:zb})]}),w.jsx("input",{ref:u,type:"file",multiple:!0,tabIndex:-1,style:{display:"none"},onChange:p})]})]})}function xC(){const{overlayRef:e}=qd(),t=qe(c=>c.activeNodeId),n=qe(c=>c.flowAcceptsInput),r=qe(c=>c.closeChat),i=qe(c=>c.setDraft),o=qe(c=>c.addDraftAttachments),s=qe(c=>c.removeDraftAttachment),l=qe(c=>c.setScrollState),a=qe(c=>c.getThread),u=k.useMemo(()=>t?a(t)??null:null,[t,a]);return!e.current||!u||!u.open?null:Kg.createPortal(w.jsx(q0,{thread:u,flowAcceptsInput:n,mode:"floating",onRequestClose:()=>r(u.nodeId),onScrollStateChange:(c,d)=>l(u.nodeId,c,d),onDraftChange:c=>i(u.nodeId,c),onDraftAttachmentsAdd:c=>o(u.nodeId,c),onDraftAttachmentRemove:c=>s(u.nodeId,c)}),e.current)}function wC({nodeId:e="standalone",label:t="Chat"}){const n=qe(u=>u.flowAcceptsInput),r=qe(u=>u.setDraft),i=qe(u=>u.addDraftAttachments),o=qe(u=>u.removeDraftAttachment),s=qe(u=>u.setScrollState),l=qe(u=>u.openChat);k.useEffect(()=>{l({nodeId:e,nodeLabel:t})},[t,e,l]);const a=qe(u=>u.threads[e]);return a?w.jsx(q0,{thread:{...a,geometry:a.geometry},flowAcceptsInput:n,mode:"standalone",onScrollStateChange:(u,c)=>s(e,u,c),onDraftChange:u=>r(e,u),onDraftAttachmentsAdd:u=>i(e,u),onDraftAttachmentRemove:u=>o(e,u)}):null}const Y0="__position",_C={width:320,height:260},Vn=12,SC=`[${Xd}]`,kC=e=>{const t=e.params,n=t==null?void 0:t[Y0];return n&&typeof n.x=="number"&&typeof n.y=="number"?{x:n.x,y:n.y}:{x:360,y:240}},yh=e=>({id:e.id,data:e,position:kC(e),type:e.type??"module"}),vh=e=>({id:e.id,source:e.from[0],target:e.to[0],sourceHandle:`${e.from[0]}:${e.from[1]}`,targetHandle:`${e.to[0]}:${e.to[1]}`,label:e.label??""});function EC(){const{flow:e,setFlow:t,activeTool:n,copyEdge:r,cutEdge:i,deleteEdge:o,pasteClipboard:s,clipboard:l}=ls(v=>({flow:v.flow,setFlow:v.setFlow,activeTool:v.activeTool,copyEdge:v.copyEdge,cutEdge:v.cutEdge,deleteEdge:v.deleteEdge,pasteClipboard:v.pasteClipboard,clipboard:v.clipboard})),a=k.useRef(null),u=k.useRef(null),[c,d]=k.useState(null),[f,m]=k.useState(null),[_,x]=k.useState(null),N=k.useCallback(()=>{a.current&&d(a.current.getBoundingClientRect())},[]);k.useLayoutEffect(()=>{const v=a.current;if(!v)return;N();let C=null;typeof ResizeObserver<"u"&&(C=new ResizeObserver(()=>N()),C.observe(v));const R=()=>N();return window.addEventListener("resize",R),window.addEventListener("scroll",R,!0),()=>{C==null||C.disconnect(),window.removeEventListener("resize",R),window.removeEventListener("scroll",R,!0)}},[N]);const p=k.useMemo(()=>({module:ch,llm:nC,default:ch}),[]),[h,g,S]=HE(e.nodes.map(yh)),[M,A,E]=VE(e.edges.map(vh));k.useEffect(()=>{g(e.nodes.map(yh))},[e.nodes,g]),k.useEffect(()=>{A(e.edges.map(vh))},[e.edges,A]);const I=k.useCallback(v=>{S(v);const C=v.filter($=>$.type==="position"&&!!$.position);if(C.length===0)return;const R=e.nodes.map($=>{const V=C.find(G=>G.id===$.id);if(!V||!V.position)return $;const Z={...$.params??{}};return Z[Y0]=V.position,{...$,params:Z}});t({...e,nodes:R})},[e,S,t]),D=k.useCallback(v=>{E(v);const C=v.filter(R=>R.type==="remove").map(R=>R.id);C.length!==0&&t({...e,edges:e.edges.filter(R=>!C.includes(R.id))})},[e,E,t]),z=k.useCallback(v=>{var G,re;if(!v.source||!v.target)return;const C=((G=v.sourceHandle)==null?void 0:G.split(":")[1])??"out",R=((re=v.targetHandle)==null?void 0:re.split(":")[1])??"in",$=`e:${v.source}-${C}:${v.target}-${R}`,V={id:$,source:v.source,target:v.target,sourceHandle:v.sourceHandle,targetHandle:v.targetHandle,label:""};A(ae=>Vy(V,ae));const Z={id:$,from:[v.source,C],to:[v.target,R]};t({...e,edges:[...e.edges,Z]})},[e,A,t]),O=k.useCallback((v,C)=>{v.preventDefault(),v.stopPropagation();const R=u.current;if(!R)return;const $=R.getBoundingClientRect(),V={x:v.clientX-$.left+Vn,y:v.clientY-$.top+Vn};x(null),m(Z=>{const G=Z&&Z.node.id===C.data.id?Z.geometry.size:_C,re=Rr({position:V,size:G},{width:$.width,height:$.height});return{node:C.data,geometry:re,open:!0,minimized:!1}}),N()},[u,N]),q=k.useCallback(()=>{x(null),m(v=>v?{...v,open:!1,minimized:!1}:null)},[]),H=k.useCallback(v=>{v.preventDefault(),x(null),m(C=>C?{...C,open:!1,minimized:!1}:null)},[]),y=k.useCallback((v,C)=>{v.preventDefault(),v.stopPropagation();const R=u.current;if(!R)return;const $=R.getBoundingClientRect(),V=v.clientX-$.left,Z=v.clientY-$.top,G=Math.max(Vn,$.width-Go-Vn),re=Math.max(Vn,$.height-Ul-Vn),ae=Math.min(Math.max(V,Vn),G),ve=Math.min(Math.max(Z,Vn),re);m(se=>se?{...se,open:!1,minimized:!1}:null),x({edgeId:C.id,left:$.left+ae,top:$.top+ve})},[m,x]),L=k.useCallback(v=>{if(!_)return;const C=_.edgeId;switch(x(null),v){case"Copy":r(C);break;case"Cut":i(C);break;case"Delete":o(C);break;case"Paste":s("edge");break}},[r,i,o,_,s]);k.useEffect(()=>{if(!_)return;const v=R=>{var V;const $=R.target;(V=$==null?void 0:$.closest)!=null&&V.call($,SC)||x(null)},C=R=>{R.key==="Escape"&&x(null)};return window.addEventListener("mousedown",v),window.addEventListener("contextmenu",v),window.addEventListener("keydown",C),()=>{window.removeEventListener("mousedown",v),window.removeEventListener("contextmenu",v),window.removeEventListener("keydown",C)}},[_]),k.useEffect(()=>{if(!_)return;e.edges.some(C=>C.id===_.edgeId)||x(null)},[_,e.edges]);const T=k.useCallback(v=>{m(C=>C&&{...C,geometry:v})},[]),j=k.useCallback(()=>{m(v=>v?{...v,open:!1,minimized:!1}:null)},[]),P=k.useCallback(()=>{m(v=>v&&{...v,minimized:!v.minimized,open:!0})},[]),b=k.useMemo(()=>({bounds:c,refreshBounds:N,overlayRef:u}),[c,N]);return w.jsx(ab,{value:b,children:w.jsxs("div",{ref:a,"data-testid":"graph-canvas-container",style:{width:"100%",height:"100%",position:"relative"},children:[w.jsx(b0,{nodes:h,edges:M,onNodesChange:I,onEdgesChange:D,onConnect:z,nodeTypes:p,onNodeContextMenu:O,onEdgeContextMenu:y,onPaneClick:q,onPaneContextMenu:H,fitView:!0,proOptions:{hideAttribution:!0},style:{background:"#ffffff",cursor:n==="wire"?"crosshair":"default"},children:w.jsx(XE,{color:"#e2e8f0",gap:32,size:1})}),w.jsx("div",{ref:u,"data-testid":"graph-canvas-overlay",style:{position:"absolute",inset:0,pointerEvents:"none"}}),w.jsx(xC,{}),_?w.jsx($0,{position:{left:_.left,top:_.top},items:Zd.map(v=>({label:v,disabled:v==="Paste"&&(l==null?void 0:l.kind)!=="edge",onSelect:()=>L(v)}))}):null,f?w.jsx(Yd,{title:`${f.node.name??f.node.id??"Node"} Context`,open:f.open,position:f.geometry.position,size:f.geometry.size,minimized:f.minimized,onUpdate:T,onRequestClose:j,onToggleMinimize:P,children:w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[w.jsx("div",{style:{fontSize:14,fontWeight:600},children:f.node.name??f.node.id??"Node"}),w.jsx("div",{style:{fontSize:12,color:"#475569",lineHeight:1.4},children:"Right-click menus for the graph will appear here. Select a node to inspect its details and shortcuts."}),w.jsxs("div",{style:{fontSize:12},children:[w.jsx("strong",{children:"ID:"})," ",f.node.id]}),f.node.type?w.jsxs("div",{style:{fontSize:12},children:[w.jsx("strong",{children:"Type:"})," ",f.node.type]}):null]})}):null]})})}const bC=["System","File","Edit","View"],CC={background:"none",border:"none",color:"inherit",fontWeight:600,fontSize:14,padding:"8px 12px",borderRadius:8,cursor:"pointer"},uu={background:"#1e293b",border:"1px solid #334155",borderRadius:12,width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",color:"#f8fafc",cursor:"pointer",transition:"transform 0.15s ease"},TC={display:"flex",alignItems:"center",gap:8,background:"#f97316",border:"none",color:"#111827",fontWeight:700,fontSize:14,padding:"10px 18px",borderRadius:999,cursor:"pointer",boxShadow:"0 6px 18px rgba(249, 115, 22, 0.35)"},cu={fontSize:18,lineHeight:"18px"};function NC({onRun:e}){return w.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 24px",height:64,background:"linear-gradient(90deg, #0f172a, #1f2937)",color:"#e2e8f0",borderBottom:"1px solid #1e293b"},children:[w.jsx("nav",{style:{display:"flex",gap:8},children:bC.map(t=>w.jsx("button",{style:CC,onClick:()=>console.log(t),children:t},t))}),w.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[w.jsx("button",{type:"button",style:uu,onClick:e,"aria-label":"Play",children:w.jsx("span",{"aria-hidden":!0,style:cu,children:""})}),w.jsx("button",{type:"button",style:uu,onClick:()=>console.log("Pause"),"aria-label":"Pause",children:w.jsx("span",{"aria-hidden":!0,style:cu,children:""})}),w.jsx("button",{type:"button",style:uu,onClick:()=>console.log("Stop"),"aria-label":"Stop",children:w.jsx("span",{"aria-hidden":!0,style:cu,children:""})})]}),w.jsxs("button",{type:"button",style:TC,onClick:()=>console.log("Build"),"aria-label":"Build project",children:[w.jsx("span",{"aria-hidden":!0,style:{fontSize:18,lineHeight:"18px"},children:""}),w.jsx("span",{children:"Build"})]})]})}const MC="__position",IC=[{key:"llm",label:"LLM",nodeType:"llm",inputs:[{port:"prompt",types:["TEXT"]}],outputs:[{port:"response",types:["TEXT"]}],description:"Large language model"},{key:"prompt",label:"Prompt",nodeType:"module",inputs:[],outputs:[{port:"prompt",types:["TEXT"]}],description:"Prepare model prompts"},{key:"debate",label:"Debate/Loop",nodeType:"module",inputs:[{port:"input",types:["TEXT"]}],outputs:[{port:"result",types:["TEXT"]}],description:"Iterative reasoning"},{key:"cache",label:"Cache",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"out",types:["TEXT","JSON"]}],description:"Reuse previous outputs"},{key:"log",label:"Log",nodeType:"module",inputs:[{port:"entry",types:["TEXT","JSON"]}],outputs:[],description:"Record activity"},{key:"memory",label:"Memory",nodeType:"module",inputs:[{port:"store",types:["TEXT","JSON"]}],outputs:[{port:"recall",types:["TEXT","JSON"]}],description:"Long-lived context"},{key:"divider",label:"Divider",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"pathA",types:["TEXT","JSON"]},{port:"pathB",types:["TEXT","JSON"]}],description:"Route outputs"},{key:"tool",label:"Tool Call",nodeType:"module",inputs:[{port:"input",types:["TEXT","JSON"]}],outputs:[{port:"result",types:["TEXT","JSON"]}],description:"Invoke registered tools"}],PC=[{key:"wire",label:"Wiring Tool",description:"Connect modules together"}],RC=e=>{const i=e%3,o=Math.floor(e/3);return{x:220+i*220,y:160+o*140}},AC=e=>`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,7)}`,zC=(e,t)=>{const n=RC(t);return{id:AC(e.key),type:e.nodeType,name:e.label,params:{[MC]:n,moduleKey:e.key},in:e.inputs,out:e.outputs}},xh={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#475569",marginBottom:8},bc={border:"1px solid #d1d5db",borderRadius:12,padding:"12px 10px",background:"#ffffff",color:"#1f2937",fontWeight:600,textAlign:"left",display:"flex",flexDirection:"column",gap:4,cursor:"pointer",transition:"border-color 0.2s ease, box-shadow 0.2s ease"},du={...bc,justifyContent:"space-between",flexDirection:"row",alignItems:"center"};function LC(){const{flow:e,addNode:t,activeTool:n,setActiveTool:r}=ls(s=>({flow:s.flow,addNode:s.addNode,activeTool:s.activeTool,setActiveTool:s.setActiveTool})),i=s=>{const l=zC(s,e.nodes.length);t(l),n!=="select"&&r("select")},o=s=>{r(n===s.key?"select":s.key)};return w.jsxs("aside",{style:{width:192,borderRight:"1px solid #e2e8f0",background:"#f8fafc",padding:"16px 14px",display:"flex",flexDirection:"column",gap:24,overflowY:"auto"},children:[w.jsxs("div",{children:[w.jsx("div",{style:xh,children:"Modules"}),w.jsx("div",{style:{display:"grid",gap:12},children:IC.map(s=>w.jsxs("button",{style:{...bc,borderColor:s.key==="llm"?"#fca5a5":bc.border,boxShadow:"none"},onClick:()=>i(s),children:[w.jsx("span",{children:s.label}),s.description?w.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:s.description}):null]},s.key))})]}),w.jsxs("div",{children:[w.jsx("div",{style:xh,children:"Tools"}),w.jsx("div",{style:{display:"grid",gap:12},children:PC.map(s=>w.jsxs("button",{style:{...du,borderColor:n===s.key?"#94a3b8":du.border,background:n===s.key?"#e2e8f0":du.background},onClick:()=>o(s),children:[w.jsx("span",{children:s.label}),s.description?w.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:s.description}):null]},s.key))})]})]})}const DC={height:"100vh",width:"100vw",background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.92))",display:"flex",alignItems:"stretch",justifyContent:"center",padding:"32px 24px"},$C={flex:1,maxWidth:840,minHeight:0};function OC(){return w.jsx("div",{style:DC,children:w.jsx("div",{style:$C,children:w.jsx(wC,{nodeId:"standalone",label:"Interface"})})})}var ge;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),s={};for(const l of o)s[l]=i[l];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ge||(ge={}));var wh;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(wh||(wh={}));const J=ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zn=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}},Y=ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let l=r,a=0;for(;a<s.path.length;){const u=s.path[a];a===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(s))):l[u]=l[u]||{_errors:[]},l=l[u],a++}}};return i(this),r}static assert(t){if(!(t instanceof Pn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Pn.create=e=>new Pn(e);const Cc=(e,t)=>{let n;switch(e.code){case Y.invalid_type:e.received===J.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ge.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${ge.joinValues(e.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ge.joinValues(e.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${ge.joinValues(e.options)}, received '${e.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ge.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Y.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Y.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=t.defaultError,ge.assertNever(e)}return{message:n}};let jC=Cc;function FC(){return jC}const BC=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let l="";const a=r.filter(u=>!!u).slice().reverse();for(const u of a)l=u(s,{data:t,defaultError:l}).message;return{...i,path:o,message:l}};function X(e,t){const n=FC(),r=BC({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Cc?void 0:Cc].filter(i=>!!i)});e.common.issues.push(r)}class ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return oe;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return ut.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return oe;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const oe=Object.freeze({status:"aborted"}),go=e=>({status:"dirty",value:e}),Bt=e=>({status:"valid",value:e}),_h=e=>e.status==="aborted",Sh=e=>e.status==="dirty",Li=e=>e.status==="valid",Wl=e=>typeof Promise<"u"&&e instanceof Promise;var te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(te||(te={}));class fn{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kh=(e,t)=>{if(Li(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Pn(e.common.issues);return this._error=n,this._error}}};function le(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,l)=>{const{message:a}=e;return s.code==="invalid_enum_value"?{message:a??l.defaultError}:typeof l.data>"u"?{message:a??r??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:a??n??l.defaultError}},description:i}}class fe{get description(){return this._def.description}_getType(t){return Zn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Zn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ut,ctx:{common:t.parent.common,data:t.data,parsedType:Zn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Wl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zn(t)},i=this._parseSync({data:t,path:r.path,parent:r});return kh(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zn(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:n});return Li(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(o=>Li(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zn(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(Wl(i)?i:Promise.resolve(i));return kh(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),l=()=>o.addIssue({code:Y.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(a=>a?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Oi({schema:this,typeName:ie.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return dr.create(this,this._def)}nullable(){return ji.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this)}promise(){return Gl.create(this,this._def)}or(t){return Yl.create([this,t],this._def)}and(t){return Zl.create(this,t,this._def)}transform(t){return new Oi({...le(this._def),schema:this,typeName:ie.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Rc({...le(this._def),innerType:this,defaultValue:n,typeName:ie.ZodDefault})}brand(){return new cT({typeName:ie.ZodBranded,type:this,...le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ac({...le(this._def),innerType:this,catchValue:n,typeName:ie.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Qd.create(this,t)}readonly(){return zc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HC=/^c[^\s-]{8,}$/i,VC=/^[0-9a-z]+$/,UC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,WC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qC=/^[a-z0-9_-]{21}$/i,YC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fu;const QC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Z0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rT=new RegExp(`^${Z0}$`);function X0(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function iT(e){return new RegExp(`^${X0(e)}$`)}function oT(e){let t=`${Z0}T${X0(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function sT(e,t){return!!((t==="v4"||!t)&&QC.test(e)||(t==="v6"||!t)&&JC.test(e))}function lT(e,t){if(!YC.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function aT(e,t){return!!((t==="v4"||!t)&&KC.test(e)||(t==="v6"||!t)&&eT.test(e))}class kn extends fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_type,expected:J.string,received:o.parsedType}),oe}const r=new ut;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),X(i,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),X(i,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,l=t.data.length<o.value;(s||l)&&(i=this._getOrReturnCtx(t,i),s?X(i,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&X(i,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")XC.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"email",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")fu||(fu=new RegExp(GC,"u")),fu.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"emoji",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")WC.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"uuid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")qC.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"nanoid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")HC.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"cuid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")VC.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"cuid2",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")UC.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"ulid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),X(i,{validation:"url",code:Y.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"regex",code:Y.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),X(i,{code:Y.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),X(i,{code:Y.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),X(i,{code:Y.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?oT(o).test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{code:Y.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?rT.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{code:Y.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?iT(o).test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{code:Y.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?ZC.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"duration",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?sT(t.data,o.version)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"ip",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?lT(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"jwt",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?aT(t.data,o.version)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"cidr",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?tT.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"base64",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?nT.test(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{validation:"base64url",code:Y.invalid_string,message:o.message}),r.dirty()):ge.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Y.invalid_string,...te.errToObj(r)})}_addCheck(t){return new kn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...te.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...te.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...te.errToObj(n)})}nonempty(t){return this.min(1,te.errToObj(t))}trim(){return new kn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}kn.create=e=>new kn({checks:[],typeName:ie.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...le(e)});function uT(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}class Di extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_type,expected:J.number,received:o.parsedType}),oe}let r;const i=new ut;for(const o of this._def.checks)o.kind==="int"?ge.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),X(r,{code:Y.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),X(r,{code:Y.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),X(r,{code:Y.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?uT(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),X(r,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),X(r,{code:Y.not_finite,message:o.message}),i.dirty()):ge.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,te.toString(n))}setLimit(t,n,r,i){return new Di({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:te.toString(i)}]})}_addCheck(t){return new Di({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ge.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Di.create=e=>new Di({checks:[],typeName:ie.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...le(e)});class Qo extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let r;const i=new ut;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),X(r,{code:Y.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),X(r,{code:Y.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),X(r,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):ge.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return X(n,{code:Y.invalid_type,expected:J.bigint,received:n.parsedType}),oe}gte(t,n){return this.setLimit("min",t,!0,te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,te.toString(n))}setLimit(t,n,r,i){return new Qo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:te.toString(i)}]})}_addCheck(t){return new Qo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Qo.create=e=>new Qo({checks:[],typeName:ie.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...le(e)});class Tc extends fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const r=this._getOrReturnCtx(t);return X(r,{code:Y.invalid_type,expected:J.boolean,received:r.parsedType}),oe}return Bt(t.data)}}Tc.create=e=>new Tc({typeName:ie.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...le(e)});class ql extends fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_type,expected:J.date,received:o.parsedType}),oe}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_date}),oe}const r=new ut;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),X(i,{code:Y.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),X(i,{code:Y.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):ge.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ql({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ql.create=e=>new ql({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ie.ZodDate,...le(e)});class Eh extends fe{_parse(t){if(this._getType(t)!==J.symbol){const r=this._getOrReturnCtx(t);return X(r,{code:Y.invalid_type,expected:J.symbol,received:r.parsedType}),oe}return Bt(t.data)}}Eh.create=e=>new Eh({typeName:ie.ZodSymbol,...le(e)});class Nc extends fe{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return X(r,{code:Y.invalid_type,expected:J.undefined,received:r.parsedType}),oe}return Bt(t.data)}}Nc.create=e=>new Nc({typeName:ie.ZodUndefined,...le(e)});class bh extends fe{_parse(t){if(this._getType(t)!==J.null){const r=this._getOrReturnCtx(t);return X(r,{code:Y.invalid_type,expected:J.null,received:r.parsedType}),oe}return Bt(t.data)}}bh.create=e=>new bh({typeName:ie.ZodNull,...le(e)});class Mc extends fe{constructor(){super(...arguments),this._any=!0}_parse(t){return Bt(t.data)}}Mc.create=e=>new Mc({typeName:ie.ZodAny,...le(e)});class Ch extends fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Bt(t.data)}}Ch.create=e=>new Ch({typeName:ie.ZodUnknown,...le(e)});class mr extends fe{_parse(t){const n=this._getOrReturnCtx(t);return X(n,{code:Y.invalid_type,expected:J.never,received:n.parsedType}),oe}}mr.create=e=>new mr({typeName:ie.ZodNever,...le(e)});class Th extends fe{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return X(r,{code:Y.invalid_type,expected:J.void,received:r.parsedType}),oe}return Bt(t.data)}}Th.create=e=>new Th({typeName:ie.ZodVoid,...le(e)});class dn extends fe{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==J.array)return X(n,{code:Y.invalid_type,expected:J.array,received:n.parsedType}),oe;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(s||l)&&(X(n,{code:s?Y.too_big:Y.too_small,minimum:l?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(X(n,{code:Y.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(X(n,{code:Y.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,l)=>i.type._parseAsync(new fn(n,s,n.path,l)))).then(s=>ut.mergeArray(r,s));const o=[...n.data].map((s,l)=>i.type._parseSync(new fn(n,s,n.path,l)));return ut.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new dn({...this._def,minLength:{value:t,message:te.toString(n)}})}max(t,n){return new dn({...this._def,maxLength:{value:t,message:te.toString(n)}})}length(t,n){return new dn({...this._def,exactLength:{value:t,message:te.toString(n)}})}nonempty(t){return this.min(1,t)}}dn.create=(e,t)=>new dn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ie.ZodArray,...le(t)});function Qr(e){if(e instanceof je){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=dr.create(Qr(r))}return new je({...e._def,shape:()=>t})}else return e instanceof dn?new dn({...e._def,type:Qr(e.element)}):e instanceof dr?dr.create(Qr(e.unwrap())):e instanceof ji?ji.create(Qr(e.unwrap())):e instanceof Br?Br.create(e.items.map(t=>Qr(t))):e}class je extends fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ge.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==J.object){const u=this._getOrReturnCtx(t);return X(u,{code:Y.invalid_type,expected:J.object,received:u.parsedType}),oe}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof mr&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||l.push(u);const a=[];for(const u of s){const c=o[u],d=i.data[u];a.push({key:{status:"valid",value:u},value:c._parse(new fn(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof mr){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of l)a.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")l.length>0&&(X(i,{code:Y.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of l){const d=i.data[c];a.push({key:{status:"valid",value:c},value:u._parse(new fn(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of a){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>ut.mergeObjectSync(r,u)):ut.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return te.errToObj,new je({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:te.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new je({...this._def,unknownKeys:"strip"})}passthrough(){return new je({...this._def,unknownKeys:"passthrough"})}extend(t){return new je({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new je({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ie.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new je({...this._def,catchall:t})}pick(t){const n={};for(const r of ge.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new je({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ge.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new je({...this._def,shape:()=>n})}deepPartial(){return Qr(this)}partial(t){const n={};for(const r of ge.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new je({...this._def,shape:()=>n})}required(t){const n={};for(const r of ge.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof dr;)o=o._def.innerType;n[r]=o}return new je({...this._def,shape:()=>n})}keyof(){return G0(ge.objectKeys(this.shape))}}je.create=(e,t)=>new je({shape:()=>e,unknownKeys:"strip",catchall:mr.create(),typeName:ie.ZodObject,...le(t)});je.strictCreate=(e,t)=>new je({shape:()=>e,unknownKeys:"strict",catchall:mr.create(),typeName:ie.ZodObject,...le(t)});je.lazycreate=(e,t)=>new je({shape:e,unknownKeys:"strip",catchall:mr.create(),typeName:ie.ZodObject,...le(t)});class Yl extends fe{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const s=o.map(l=>new Pn(l.ctx.common.issues));return X(n,{code:Y.invalid_union,unionErrors:s}),oe}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const a of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=a._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const l=s.map(a=>new Pn(a));return X(n,{code:Y.invalid_union,unionErrors:l}),oe}}get options(){return this._def.options}}Yl.create=(e,t)=>new Yl({options:e,typeName:ie.ZodUnion,...le(t)});function Ic(e,t){const n=Zn(e),r=Zn(t);if(e===t)return{valid:!0,data:e};if(n===J.object&&r===J.object){const i=ge.objectKeys(t),o=ge.objectKeys(e).filter(l=>i.indexOf(l)!==-1),s={...e,...t};for(const l of o){const a=Ic(e[l],t[l]);if(!a.valid)return{valid:!1};s[l]=a.data}return{valid:!0,data:s}}else if(n===J.array&&r===J.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],l=t[o],a=Ic(s,l);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return n===J.date&&r===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zl extends fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(_h(o)||_h(s))return oe;const l=Ic(o.value,s.value);return l.valid?((Sh(o)||Sh(s))&&n.dirty(),{status:n.value,value:l.data}):(X(r,{code:Y.invalid_intersection_types}),oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zl.create=(e,t,n)=>new Zl({left:e,right:t,typeName:ie.ZodIntersection,...le(n)});class Br extends fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.array)return X(r,{code:Y.invalid_type,expected:J.array,received:r.parsedType}),oe;if(r.data.length<this._def.items.length)return X(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&r.data.length>this._def.items.length&&(X(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,l)=>{const a=this._def.items[l]||this._def.rest;return a?a._parse(new fn(r,s,r.path,l)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>ut.mergeArray(n,s)):ut.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Br({...this._def,rest:t})}}Br.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Br({items:e,typeName:ie.ZodTuple,rest:null,...le(t)})};class Xl extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.object)return X(r,{code:Y.invalid_type,expected:J.object,received:r.parsedType}),oe;const i=[],o=this._def.keyType,s=this._def.valueType;for(const l in r.data)i.push({key:o._parse(new fn(r,l,r.path,l)),value:s._parse(new fn(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?ut.mergeObjectAsync(n,i):ut.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof fe?new Xl({keyType:t,valueType:n,typeName:ie.ZodRecord,...le(r)}):new Xl({keyType:kn.create(),valueType:t,typeName:ie.ZodRecord,...le(n)})}}class Nh extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.map)return X(r,{code:Y.invalid_type,expected:J.map,received:r.parsedType}),oe;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([l,a],u)=>({key:i._parse(new fn(r,l,r.path,[u,"key"])),value:o._parse(new fn(r,a,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const a of s){const u=await a.key,c=await a.value;if(u.status==="aborted"||c.status==="aborted")return oe;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const a of s){const u=a.key,c=a.value;if(u.status==="aborted"||c.status==="aborted")return oe;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}}}}Nh.create=(e,t,n)=>new Nh({valueType:t,keyType:e,typeName:ie.ZodMap,...le(n)});class Ko extends fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.set)return X(r,{code:Y.invalid_type,expected:J.set,received:r.parsedType}),oe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(X(r,{code:Y.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(X(r,{code:Y.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(a){const u=new Set;for(const c of a){if(c.status==="aborted")return oe;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((a,u)=>o._parse(new fn(r,a,r.path,u)));return r.common.async?Promise.all(l).then(a=>s(a)):s(l)}min(t,n){return new Ko({...this._def,minSize:{value:t,message:te.toString(n)}})}max(t,n){return new Ko({...this._def,maxSize:{value:t,message:te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ko.create=(e,t)=>new Ko({valueType:e,minSize:null,maxSize:null,typeName:ie.ZodSet,...le(t)});class Mh extends fe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mh.create=(e,t)=>new Mh({getter:e,typeName:ie.ZodLazy,...le(t)});class Pc extends fe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return X(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pc.create=(e,t)=>new Pc({value:e,typeName:ie.ZodLiteral,...le(t)});function G0(e,t){return new $i({values:e,typeName:ie.ZodEnum,...le(t)})}class $i extends fe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return X(n,{expected:ge.joinValues(r),received:n.parsedType,code:Y.invalid_type}),oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return X(n,{received:n.data,code:Y.invalid_enum_value,options:r}),oe}return Bt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return $i.create(t,{...this._def,...n})}exclude(t,n=this._def){return $i.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}$i.create=G0;class Ih extends fe{_parse(t){const n=ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==J.string&&r.parsedType!==J.number){const i=ge.objectValues(n);return X(r,{expected:ge.joinValues(i),received:r.parsedType,code:Y.invalid_type}),oe}if(this._cache||(this._cache=new Set(ge.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ge.objectValues(n);return X(r,{received:r.data,code:Y.invalid_enum_value,options:i}),oe}return Bt(t.data)}get enum(){return this._def.values}}Ih.create=(e,t)=>new Ih({values:e,typeName:ie.ZodNativeEnum,...le(t)});class Gl extends fe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.promise&&n.common.async===!1)return X(n,{code:Y.invalid_type,expected:J.promise,received:n.parsedType}),oe;const r=n.parsedType===J.promise?n.data:Promise.resolve(n.data);return Bt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Gl.create=(e,t)=>new Gl({type:e,typeName:ie.ZodPromise,...le(t)});class Oi extends fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{X(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async l=>{if(n.value==="aborted")return oe;const a=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return a.status==="aborted"?oe:a.status==="dirty"||n.value==="dirty"?go(a.value):a});{if(n.value==="aborted")return oe;const l=this._def.schema._parseSync({data:s,path:r.path,parent:r});return l.status==="aborted"?oe:l.status==="dirty"||n.value==="dirty"?go(l.value):l}}if(i.type==="refinement"){const s=l=>{const a=i.refinement(l,o);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?oe:(l.status==="dirty"&&n.dirty(),s(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?oe:(l.status==="dirty"&&n.dirty(),s(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Li(s))return oe;const l=i.transform(s.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Li(s)?Promise.resolve(i.transform(s.value,o)).then(l=>({status:n.value,value:l})):oe);ge.assertNever(i)}}Oi.create=(e,t,n)=>new Oi({schema:e,typeName:ie.ZodEffects,effect:t,...le(n)});Oi.createWithPreprocess=(e,t,n)=>new Oi({schema:t,effect:{type:"preprocess",transform:e},typeName:ie.ZodEffects,...le(n)});class dr extends fe{_parse(t){return this._getType(t)===J.undefined?Bt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}dr.create=(e,t)=>new dr({innerType:e,typeName:ie.ZodOptional,...le(t)});class ji extends fe{_parse(t){return this._getType(t)===J.null?Bt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ji.create=(e,t)=>new ji({innerType:e,typeName:ie.ZodNullable,...le(t)});class Rc extends fe{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===J.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Rc.create=(e,t)=>new Rc({innerType:e,typeName:ie.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...le(t)});class Ac extends fe{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Wl(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Pn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Pn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ac.create=(e,t)=>new Ac({innerType:e,typeName:ie.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...le(t)});class Ph extends fe{_parse(t){if(this._getType(t)!==J.nan){const r=this._getOrReturnCtx(t);return X(r,{code:Y.invalid_type,expected:J.nan,received:r.parsedType}),oe}return{status:"valid",value:t.data}}}Ph.create=e=>new Ph({typeName:ie.ZodNaN,...le(e)});class cT extends fe{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qd extends fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?oe:o.status==="dirty"?(n.dirty(),go(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?oe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Qd({in:t,out:n,typeName:ie.ZodPipeline})}}class zc extends fe{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Li(i)&&(i.value=Object.freeze(i.value)),i);return Wl(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}zc.create=(e,t)=>new zc({innerType:e,typeName:ie.ZodReadonly,...le(t)});var ie;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ie||(ie={}));const he=kn.create,Hr=Di.create,Kd=Tc.create,Q0=Nc.create,dT=Mc.create;mr.create;const Fi=dn.create,wt=je.create,fT=Yl.create;Zl.create;const Rh=Br.create,pT=Xl.create,as=Pc.create,hT=$i.create;Gl.create;dr.create;ji.create;const Ah=wt({port:he(),types:Fi(he()).default([])}).passthrough(),mT=wt({id:he(),type:he(),name:he().optional(),params:pT(dT()).default({}),in:Fi(Ah).default([]),out:Fi(Ah).default([])}).passthrough(),gT=wt({id:he().optional(),from:Rh([he(),he()]),to:Rh([he(),he()]),label:he().optional()}).passthrough(),K0=wt({id:he(),version:he().default("1.0.0"),nodes:Fi(mT).default([]),edges:Fi(gT).default([])}).passthrough(),zh={request:K0,response:wt({ok:Kd(),errors:Fi(he())})},Lh={request:K0,response:wt({runId:he()})},Dh={request:wt({modelId:he()}),response:wt({ok:Kd()})},yT=wt({type:as("node_state"),runId:he(),nodeId:he(),state:he(),at:Hr()}),vT=wt({type:as("edge_transfer"),runId:he(),edgeId:he(),bytes:Hr(),at:Hr()}),xT=wt({type:as("normalize"),runId:he(),nodeId:he(),fromType:he(),toType:he(),at:Hr()}),wT=wt({type:as("error"),runId:he(),nodeId:he(),code:he(),message:he(),at:Hr()}),_T=wt({type:as("operation_progress"),runId:he(),nodeId:he(),tokens:Hr(),latencyMs:Hr(),status:hT(["ok","error"]),reason:he().optional()}),ST=fT([yT,vT,xT,wT,_T]),kT={payload:ST},$h={request:Q0(),response:he()};Q0(),wt({ok:Kd()});async function Ys(e,t,n,r){const i=t.safeParse(r);if(!i.success)throw{type:"validation",issues:i.error.issues};const o=await e(i.data);if(o&&typeof o=="object"&&"error"in o)throw{type:"ipc",error:o.error};const s=n.safeParse(o);if(!s.success)throw{type:"validation",issues:s.error.issues};return s.data}const ET={validateFlow:e=>Ys(window.voide.validateFlow,zh.request,zh.response,e),runFlow:e=>Ys(window.voide.runFlow,Lh.request,Lh.response,e),ensureModel:e=>Ys(window.voide.ensureModel,Dh.request,Dh.response,{modelId:e}),getVersion:()=>Ys(window.voide.getVersion,$h.request,$h.response,void 0),onTelemetry:e=>{window.voide.onTelemetry(t=>{const n=kT.payload.safeParse(t);n.success&&e(n.data)})}},bT={display:"flex",flexDirection:"column",height:"100vh",background:"#e2e8f0"},CT={display:"flex",flex:1,minHeight:0},TT={flex:1,minHeight:0,position:"relative",background:"#ffffff"};function Oh(){return typeof window>"u"?"":window.location.hash.replace(/^#/,"").replace(/^\//,"")}function NT(){const e=ls(n=>n.flow),t=k.useCallback(async()=>{const{sendActiveDraft:n,hasOpenChat:r}=qe.getState(),i=n();r()&&!i||await ET.runFlow(e)},[e]);return w.jsxs("div",{style:bT,children:[w.jsx(NC,{onRun:t}),w.jsxs("div",{style:CT,children:[w.jsx(LC,{}),w.jsx("div",{style:TT,children:w.jsx(EC,{})})]})]})}function MT(){const[e,t]=k.useState(()=>Oh());return k.useEffect(()=>{if(typeof window>"u")return;const n=()=>t(Oh());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),e==="chat"?w.jsx(OC,{}):w.jsx(NT,{})}Jg(document.getElementById("root")).render(w.jsx(MT,{}));

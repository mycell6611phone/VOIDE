(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,i,s){this.props=o,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,i,s){this.props=o,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,i,s){var a,c={},d=null,g=null;if(i!=null)for(a in i.ref!==void 0&&(g=i.ref),i.key!==void 0&&(d=""+i.key),i)J.call(i,a)&&!L$1.hasOwnProperty(a)&&(c[a]=i[a]);var _=arguments.length-2;if(_===1)c.children=s;else if(1<_){for(var b=Array(_),j=0;j<_;j++)b[j]=arguments[j+2];c.children=b}if(o&&o.defaultProps)for(a in _=o.defaultProps,_)c[a]===void 0&&(c[a]=_[a]);return{$$typeof:l$2,type:o,key:d,ref:g,props:c,_owner:K$1.current}}function N$1(o,i){return{$$typeof:l$2,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(o,i){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):i.toString(36)}function R$1(o,i,s,a,c){var d=typeof o;(d==="undefined"||d==="boolean")&&(o=null);var g=!1;if(o===null)g=!0;else switch(d){case"string":case"number":g=!0;break;case"object":switch(o.$$typeof){case l$2:case n$3:g=!0}}if(g)return g=o,c=c(g),o=a===""?"."+Q$1(g,0):a,I$1(c)?(s="",o!=null&&(s=o.replace(P$1,"$&/")+"/"),R$1(c,i,s,"",function(j){return j})):c!=null&&(O$1(c)&&(c=N$1(c,s+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+o)),i.push(c)),1;if(g=0,a=a===""?".":a+":",I$1(o))for(var _=0;_<o.length;_++){d=o[_];var b=a+Q$1(d,_);g+=R$1(d,i,s,b,c)}else if(b=A$1(o),typeof b=="function")for(o=b.call(o),_=0;!(d=o.next()).done;)d=d.value,b=a+Q$1(d,_++),g+=R$1(d,i,s,b,c);else if(d==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return g}function S$1(o,i,s){if(o==null)return o;var a=[],c=0;return R$1(o,a,"","",function(d){return i.call(s,d,c++)}),a}function T$1(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(s){(o._status===0||o._status===-1)&&(o._status=1,o._result=s)},function(s){(o._status===0||o._status===-1)&&(o._status=2,o._result=s)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(o,i,s){S$1(o,function(){i.apply(this,arguments)},s)},count:function(o){var i=0;return S$1(o,function(){i++}),i},toArray:function(o){return S$1(o,function(i){return i})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(o,i,s){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var a=C$1({},o.props),c=o.key,d=o.ref,g=o._owner;if(i!=null){if(i.ref!==void 0&&(d=i.ref,g=K$1.current),i.key!==void 0&&(c=""+i.key),o.type&&o.type.defaultProps)var _=o.type.defaultProps;for(b in i)J.call(i,b)&&!L$1.hasOwnProperty(b)&&(a[b]=i[b]===void 0&&_!==void 0?_[b]:i[b])}var b=arguments.length-2;if(b===1)a.children=s;else if(1<b){_=Array(b);for(var j=0;j<b;j++)_[j]=arguments[j+2];a.children=_}return{$$typeof:l$2,type:o.type,key:c,ref:d,props:a,_owner:g}};react_production_min.createContext=function(o){return o={$$typeof:u$2,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$2,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var i=M$1.bind(null,o);return i.type=o,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,i){return{$$typeof:x,type:o,compare:i===void 0?null:i}};react_production_min.startTransition=function(o){var i=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=i}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(o,i){return U$1.current.useCallback(o,i)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,i){return U$1.current.useEffect(o,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,i,s){return U$1.current.useImperativeHandle(o,i,s)};react_production_min.useInsertionEffect=function(o,i){return U$1.current.useInsertionEffect(o,i)};react_production_min.useLayoutEffect=function(o,i){return U$1.current.useLayoutEffect(o,i)};react_production_min.useMemo=function(o,i){return U$1.current.useMemo(o,i)};react_production_min.useReducer=function(o,i,s){return U$1.current.useReducer(o,i,s)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,i,s){return U$1.current.useSyncExternalStore(o,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(o,i,s){var a,c={},d=null,g=null;s!==void 0&&(d=""+s),i.key!==void 0&&(d=""+i.key),i.ref!==void 0&&(g=i.ref);for(a in i)m$2.call(i,a)&&!p$3.hasOwnProperty(a)&&(c[a]=i[a]);if(o&&o.defaultProps)for(a in i=o.defaultProps,i)c[a]===void 0&&(c[a]=i[a]);return{$$typeof:k$1,type:o,key:d,ref:g,props:c,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(ct,ut){var mt=ct.length;ct.push(ut);e:for(;0<mt;){var Et=mt-1>>>1,ht=ct[Et];if(0<c(ht,ut))ct[Et]=ut,ct[mt]=ht,mt=Et;else break e}}function s(ct){return ct.length===0?null:ct[0]}function a(ct){if(ct.length===0)return null;var ut=ct[0],mt=ct.pop();if(mt!==ut){ct[0]=mt;e:for(var Et=0,ht=ct.length,It=ht>>>1;Et<It;){var Rt=2*(Et+1)-1,Mt=ct[Rt],At=Rt+1,Lt=ct[At];if(0>c(Mt,mt))At<ht&&0>c(Lt,Mt)?(ct[Et]=Lt,ct[At]=mt,Et=At):(ct[Et]=Mt,ct[Rt]=mt,Et=Rt);else if(At<ht&&0>c(Lt,mt))ct[Et]=Lt,ct[At]=mt,Et=At;else break e}}return ut}function c(ct,ut){var mt=ct.sortIndex-ut.sortIndex;return mt!==0?mt:ct.id-ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var g=Date,_=g.now();o.unstable_now=function(){return g.now()-_}}var b=[],j=[],$=1,_e=null,et=3,rt=!1,ot=!1,st=!1,ft=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function it(ct){for(var ut=s(j);ut!==null;){if(ut.callback===null)a(j);else if(ut.startTime<=ct)a(j),ut.sortIndex=ut.expirationTime,i(b,ut);else break;ut=s(j)}}function at(ct){if(st=!1,it(ct),!ot)if(s(b)!==null)ot=!0,gt(pt);else{var ut=s(j);ut!==null&&_t(at,ut.startTime-ct)}}function pt(ct,ut){ot=!1,st&&(st=!1,tt(vt),vt=-1),rt=!0;var mt=et;try{for(it(ut),_e=s(b);_e!==null&&(!(_e.expirationTime>ut)||ct&&!Tt());){var Et=_e.callback;if(typeof Et=="function"){_e.callback=null,et=_e.priorityLevel;var ht=Et(_e.expirationTime<=ut);ut=o.unstable_now(),typeof ht=="function"?_e.callback=ht:_e===s(b)&&a(b),it(ut)}else a(b);_e=s(b)}if(_e!==null)var It=!0;else{var Rt=s(j);Rt!==null&&_t(at,Rt.startTime-ut),It=!1}return It}finally{_e=null,et=mt,rt=!1}}var yt=!1,dt=null,vt=-1,wt=5,St=-1;function Tt(){return!(o.unstable_now()-St<wt)}function bt(){if(dt!==null){var ct=o.unstable_now();St=ct;var ut=!0;try{ut=dt(!0,ct)}finally{ut?kt():(yt=!1,dt=null)}}else yt=!1}var kt;if(typeof nt=="function")kt=function(){nt(bt)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,xt=lt.port2;lt.port1.onmessage=bt,kt=function(){xt.postMessage(null)}}else kt=function(){ft(bt,0)};function gt(ct){dt=ct,yt||(yt=!0,kt())}function _t(ct,ut){vt=ft(function(){ct(o.unstable_now())},ut)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(ct){ct.callback=null},o.unstable_continueExecution=function(){ot||rt||(ot=!0,gt(pt))},o.unstable_forceFrameRate=function(ct){0>ct||125<ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<ct?Math.floor(1e3/ct):5},o.unstable_getCurrentPriorityLevel=function(){return et},o.unstable_getFirstCallbackNode=function(){return s(b)},o.unstable_next=function(ct){switch(et){case 1:case 2:case 3:var ut=3;break;default:ut=et}var mt=et;et=ut;try{return ct()}finally{et=mt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(ct,ut){switch(ct){case 1:case 2:case 3:case 4:case 5:break;default:ct=3}var mt=et;et=ct;try{return ut()}finally{et=mt}},o.unstable_scheduleCallback=function(ct,ut,mt){var Et=o.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Et+mt:Et):mt=Et,ct){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=mt+ht,ct={id:$++,callback:ut,priorityLevel:ct,startTime:mt,expirationTime:ht,sortIndex:-1},mt>Et?(ct.sortIndex=mt,i(j,ct),s(b)===null&&ct===s(j)&&(st?(tt(vt),vt=-1):st=!0,_t(at,mt-Et))):(ct.sortIndex=ht,i(b,ct),ot||rt||(ot=!0,gt(pt))),ct},o.unstable_shouldYield=Tt,o.unstable_wrapCallback=function(ct){var ut=et;return function(){var mt=et;et=ut;try{return ct.apply(this,arguments)}finally{et=mt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,i){ha(o,i),ha(o+"Capture",i)}function ha(o,i){for(ea[o]=i,o=0;o<i.length;o++)da.add(i[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,i,s,a){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,i,s,a){if(i===null||typeof i>"u"||pa(o,i,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$1(o,i,s,a,c,d,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=o,this.type=i,this.sanitizeURL=d,this.removeEmptyString=g}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];z[i]=new v$1(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(ra,sa);z[i]=new v$1(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(ra,sa);z[i]=new v$1(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(ra,sa);z[i]=new v$1(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,i,s,a){var c=z.hasOwnProperty(i)?z[i]:null;(c!==null?c.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,c,a)&&(s=null),a||c===null?oa(i)&&(s===null?o.removeAttribute(i):o.setAttribute(i,""+s)):c.mustUseProperty?o[c.propertyName]=s===null?c.type===3?!1:"":s:(i=c.attributeName,a=c.attributeNamespace,s===null?o.removeAttribute(i):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?o.setAttributeNS(a,i,s):o.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+o}var Na=!1;function Oa(o,i){if(!o||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var a=j}Reflect.construct(o,[],i)}else{try{i.call()}catch(j){a=j}o.call(i.prototype)}else{try{throw Error()}catch(j){a=j}o()}}catch(j){if(j&&a&&typeof j.stack=="string"){for(var c=j.stack.split(`
`),d=a.stack.split(`
`),g=c.length-1,_=d.length-1;1<=g&&0<=_&&c[g]!==d[_];)_--;for(;1<=g&&0<=_;g--,_--)if(c[g]!==d[_]){if(g!==1||_!==1)do if(g--,_--,0>_||c[g]!==d[_]){var b=`
`+c[g].replace(" at new "," at ");return o.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",o.displayName)),b}while(1<=g&&0<=_);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return i=o.displayName||null,i!==null?i:Qa(o.type)||"Memo";case Ha:i=o._payload,o=o._init;try{return Qa(o(i))}catch{}}return null}function Ra(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(o){var i=Ta(o)?"checked":"value",s=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),a=""+o[i];if(!o.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(o,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return o&&(a=Ta(o)?o.checked?"true":"false":o.value),o=a,o!==s?(i.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??o._wrapperState.initialChecked})}function Za(o,i){var s=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),o._wrapperState={initialChecked:a,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(o,i){i=i.checked,i!=null&&ta(o,"checked",i,!1)}function bb(o,i){ab(o,i);var s=Sa(i.value),a=i.type;if(s!=null)a==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+s):o.value!==""+s&&(o.value=""+s);else if(a==="submit"||a==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?cb(o,i.type,s):i.hasOwnProperty("defaultValue")&&cb(o,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function db(o,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,s||i===o.value||(o.value=i),o.defaultValue=i}s=o.name,s!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,s!==""&&(o.name=s)}function cb(o,i,s){(i!=="number"||Xa(o.ownerDocument)!==o)&&(s==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+s&&(o.defaultValue=""+s))}var eb=Array.isArray;function fb(o,i,s,a){if(o=o.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<o.length;s++)c=i.hasOwnProperty("$"+o[s].value),o[s].selected!==c&&(o[s].selected=c),c&&a&&(o[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,c=0;c<o.length;c++){if(o[c].value===s){o[c].selected=!0,a&&(o[c].defaultSelected=!0);return}i!==null||o[c].disabled||(i=o[c])}i!==null&&(i.selected=!0)}}function gb(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p$2(92));if(eb(s)){if(1<s.length)throw Error(p$2(93));s=s[0]}i=s}i==null&&(i=""),s=i}o._wrapperState={initialValue:Sa(s)}}function ib(o,i){var s=Sa(i.value),a=Sa(i.defaultValue);s!=null&&(s=""+s,s!==o.value&&(o.value=s),i.defaultValue==null&&o.defaultValue!==s&&(o.defaultValue=s)),a!=null&&(o.defaultValue=""+a)}function jb(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,a,c){MSApp.execUnsafeLocalFunction(function(){return o(i,s,a,c)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function ob(o,i){if(i){var s=o.firstChild;if(s&&s===o.lastChild&&s.nodeType===3){s.nodeValue=i;return}}o.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),pb[i]=pb[o]})});function rb(o,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(o)&&pb[o]?(""+i).trim():i+"px"}function sb(o,i){o=o.style;for(var s in i)if(i.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=rb(s,i[s],a);s==="float"&&(s="cssFloat"),a?o.setProperty(s,c):o[s]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,i){if(i){if(tb[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$2(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$2(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$2(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$2(62))}}function vb(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$2(280));var i=o.stateNode;i&&(i=Db(i),yb(o.stateNode,o.type,i))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,i=Ab;if(Ab=zb=null,Bb(o),i)for(o=0;o<i.length;o++)Bb(i[o])}}function Gb(o,i){return o(i)}function Hb(){}var Ib=!1;function Jb(o,i,s){if(Ib)return o(i,s);Ib=!0;try{return Gb(o,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,i){var s=o.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(o=o.type,a=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!a;break e;default:o=!1}if(o)return null;if(s&&typeof s!="function")throw Error(p$2(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,i,s,a,c,d,g,_,b){var j=Array.prototype.slice.call(arguments,3);try{i.apply(s,j)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,i,s,a,c,d,g,_,b){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,i,s,a,c,d,g,_,b){if(Tb.apply(this,arguments),Ob){if(Ob){var j=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=j)}}function Vb(o){var i=o,s=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(s=i.return),o=i.return;while(o)}return i.tag===3?s:null}function Wb(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$2(188))}function Yb(o){var i=o.alternate;if(!i){if(i=Vb(o),i===null)throw Error(p$2(188));return i!==o?null:o}for(var s=o,a=i;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return Xb(c),o;if(d===a)return Xb(c),i;d=d.sibling}throw Error(p$2(188))}if(s.return!==a.return)s=c,a=d;else{for(var g=!1,_=c.child;_;){if(_===s){g=!0,s=c,a=d;break}if(_===a){g=!0,a=c,s=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===s){g=!0,s=d,a=c;break}if(_===a){g=!0,a=d,s=c;break}_=_.sibling}if(!g)throw Error(p$2(189))}}if(s.alternate!==a)throw Error(p$2(190))}if(s.tag!==3)throw Error(p$2(188));return s.stateNode.current===s?o:i}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=$b(o);if(i!==null)return i;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc$1=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,i){var s=o.pendingLanes;if(s===0)return 0;var a=0,c=o.suspendedLanes,d=o.pingedLanes,g=s&268435455;if(g!==0){var _=g&~c;_!==0?a=tc(_):(d&=g,d!==0&&(a=tc(d)))}else g=s&~c,g!==0?a=tc(g):d!==0&&(a=tc(d));if(a===0)return 0;if(i!==0&&i!==a&&!(i&c)&&(c=a&-a,d=i&-i,c>=d||c===16&&(d&4194240)!==0))return i;if(a&4&&(a|=s&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=a;0<i;)s=31-oc(i),c=1<<s,a|=o[s],i&=~c;return a}function vc(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,i){for(var s=o.suspendedLanes,a=o.pingedLanes,c=o.expirationTimes,d=o.pendingLanes;0<d;){var g=31-oc(d),_=1<<g,b=c[g];b===-1?(!(_&s)||_&a)&&(c[g]=vc(_,i)):b<=i&&(o.expiredLanes|=_),d&=~_}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var i=[],s=0;31>s;s++)i.push(o);return i}function Ac(o,i,s){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-oc(i),o[i]=s}function Bc(o,i){var s=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var a=o.eventTimes;for(o=o.expirationTimes;0<s;){var c=31-oc(s),d=1<<c;i[c]=0,a[c]=-1,o[c]=-1,s&=~d}}function Cc(o,i){var s=o.entangledLanes|=i;for(o=o.entanglements;s;){var a=31-oc(s),c=1<<a;c&i|o[a]&i&&(o[a]|=i),s&=~c}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,i){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(o,i,s,a,c,d){return o===null||o.nativeEvent!==d?(o={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),o):(o.eventSystemFlags|=a,i=o.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),o)}function Uc(o,i,s,a,c){switch(i){case"focusin":return Lc=Tc(Lc,o,i,s,a,c),!0;case"dragenter":return Mc=Tc(Mc,o,i,s,a,c),!0;case"mouseover":return Nc=Tc(Nc,o,i,s,a,c),!0;case"pointerover":var d=c.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,o,i,s,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Pc.set(d,Tc(Pc.get(d)||null,o,i,s,a,c)),!0}return!1}function Vc(o){var i=Wc(o.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){o.blockedOn=i,Ic(o.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){o.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var s=Yc(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(s===null){s=o.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return i=Cb(s),i!==null&&Fc(i),o.blockedOn=s,!1;i.shift()}return!0}function Zc(o,i,s){Xc(o)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,i){o.blockedOn===i&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function i(c){return ad(c,o)}if(0<Kc.length){ad(Kc[0],o);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===o&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===o&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,i,s,a){var c=C,d=cd.transition;cd.transition=null;try{C=1,fd(o,i,s,a)}finally{C=c,cd.transition=d}}function gd(o,i,s,a){var c=C,d=cd.transition;cd.transition=null;try{C=4,fd(o,i,s,a)}finally{C=c,cd.transition=d}}function fd(o,i,s,a){if(dd){var c=Yc(o,i,s,a);if(c===null)hd(o,i,a,id$1,s),Sc(o,a);else if(Uc(c,o,i,s,a))a.stopPropagation();else if(Sc(o,a),i&4&&-1<Rc.indexOf(o)){for(;c!==null;){var d=Cb(c);if(d!==null&&Ec(d),d=Yc(o,i,s,a),d===null&&hd(o,i,a,id$1,s),d===c)break;c=d}c!==null&&a.stopPropagation()}else hd(o,i,a,null,s)}}var id$1=null;function Yc(o,i,s,a){if(id$1=null,o=xb(a),o=Wc(o),o!==null)if(i=Vb(o),i===null)o=null;else if(s=i.tag,s===13){if(o=Wb(i),o!==null)return o;o=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return id$1=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,i=ld,s=i.length,a,c="value"in kd?kd.value:kd.textContent,d=c.length;for(o=0;o<s&&i[o]===c[o];o++);var g=s-o;for(a=1;a<=g&&i[s-a]===c[d-a];a++);return md=c.slice(o,1<a?1-a:void 0)}function od(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function i(s,a,c,d,g){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in o)o.hasOwnProperty(_)&&(s=o[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=Od[o])?!!i[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var i=Md[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(o,i){switch(o){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,i){switch(o){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return o=i.data,o===ee&&fe?null:o;default:return null}}function ke(o,i){if(ie)return o==="compositionend"||!ae&&ge(o,i)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!le[o.type]:i==="textarea"}function ne(o,i,s,a){Eb(a),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,a),o.push({event:s,listeners:i}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var i=ue(o);if(Wa(i))return o}function ve(o,i){if(o==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,o,xb(o)),Jb(re,i)}}function Ce(o,i,s){o==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,i){if(o==="click")return te(i)}function Fe(o,i){if(o==="input"||o==="change")return te(i)}function Ge(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,i){if(He(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var s=Object.keys(o),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!ja.call(i,c)||!He(o[c],i[c]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,i){var s=Je(o);o=0;for(var a;s;){if(s.nodeType===3){if(a=o+s.textContent.length,o<=i&&a>=i)return{node:s,offset:i-o};o=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Le(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var o=window,i=Xa();i instanceof o.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)o=i.contentWindow;else break;i=Xa(o.document)}return i}function Ne(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Oe(o){var i=Me(),s=o.focusedElem,a=o.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(i=a.start,o=a.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var c=s.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!o.extend&&d>a&&(c=a,a=d,d=c),c=Ke(s,d);var g=Ke(s,a);c&&g&&(o.rangeCount!==1||o.anchorNode!==c.node||o.anchorOffset!==c.offset||o.focusNode!==g.node||o.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),o.removeAllRanges(),d>a?(o.addRange(i),o.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(i=new td("onSelect","select",null,i,s),o.push({event:i,listeners:a}),i.target=Qe)))}function Ve(o,i){var s={};return s[o.toLowerCase()]=i.toLowerCase(),s["Webkit"+o]="webkit"+i,s["Moz"+o]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var i=We[o],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[o]=i[s];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,i){df.set(o,i),fa(i,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,i,s){var a=o.type||"unknown-event";o.currentTarget=s,Ub(a,i,void 0,o),o.currentTarget=null}function se(o,i){i=(i&4)!==0;for(var s=0;s<o.length;s++){var a=o[s],c=a.event;a=a.listeners;e:{var d=void 0;if(i)for(var g=a.length-1;0<=g;g--){var _=a[g],b=_.instance,j=_.currentTarget;if(_=_.listener,b!==d&&c.isPropagationStopped())break e;nf(c,_,j),d=b}else for(g=0;g<a.length;g++){if(_=a[g],b=_.instance,j=_.currentTarget,_=_.listener,b!==d&&c.isPropagationStopped())break e;nf(c,_,j),d=b}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var a=o+"__bubble";s.has(a)||(pf(i,o,2,!1),s.add(a))}function qf(o,i,s){var a=0;i&&(a|=4),pf(s,o,a,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,o),qf(s,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(o,i,s,a){switch(jd(i)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}s=c.bind(null,i,s,o),c=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),a?c!==void 0?o.addEventListener(i,s,{capture:!0,passive:c}):o.addEventListener(i,s,!0):c!==void 0?o.addEventListener(i,s,{passive:c}):o.addEventListener(i,s,!1)}function hd(o,i,s,a,c){var d=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;_!==null;){if(g=Wc(_),g===null)return;if(b=g.tag,b===5||b===6){a=d=g;continue e}_=_.parentNode}}a=a.return}Jb(function(){var j=d,$=xb(s),_e=[];e:{var et=df.get(o);if(et!==void 0){var rt=td,ot=o;switch(o){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":ot="focus",rt=Fd;break;case"focusout":ot="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var st=(i&4)!==0,ft=!st&&o==="scroll",tt=st?et!==null?et+"Capture":null:et;st=[];for(var nt=j,it;nt!==null;){it=nt;var at=it.stateNode;if(it.tag===5&&at!==null&&(it=at,tt!==null&&(at=Kb(nt,tt),at!=null&&st.push(tf(nt,at,it)))),ft)break;nt=nt.return}0<st.length&&(et=new rt(et,ot,null,s,$),_e.push({event:et,listeners:st}))}}if(!(i&7)){e:{if(et=o==="mouseover"||o==="pointerover",rt=o==="mouseout"||o==="pointerout",et&&s!==wb&&(ot=s.relatedTarget||s.fromElement)&&(Wc(ot)||ot[uf]))break e;if((rt||et)&&(et=$.window===$?$:(et=$.ownerDocument)?et.defaultView||et.parentWindow:window,rt?(ot=s.relatedTarget||s.toElement,rt=j,ot=ot?Wc(ot):null,ot!==null&&(ft=Vb(ot),ot!==ft||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(rt=null,ot=j),rt!==ot)){if(st=Bd,at="onMouseLeave",tt="onMouseEnter",nt="mouse",(o==="pointerout"||o==="pointerover")&&(st=Td,at="onPointerLeave",tt="onPointerEnter",nt="pointer"),ft=rt==null?et:ue(rt),it=ot==null?et:ue(ot),et=new st(at,nt+"leave",rt,s,$),et.target=ft,et.relatedTarget=it,at=null,Wc($)===j&&(st=new st(tt,nt+"enter",ot,s,$),st.target=it,st.relatedTarget=ft,at=st),ft=at,rt&&ot)t:{for(st=rt,tt=ot,nt=0,it=st;it;it=vf(it))nt++;for(it=0,at=tt;at;at=vf(at))it++;for(;0<nt-it;)st=vf(st),nt--;for(;0<it-nt;)tt=vf(tt),it--;for(;nt--;){if(st===tt||tt!==null&&st===tt.alternate)break t;st=vf(st),tt=vf(tt)}st=null}else st=null;rt!==null&&wf(_e,et,rt,st,!1),ot!==null&&ft!==null&&wf(_e,ft,ot,st,!0)}}e:{if(et=j?ue(j):window,rt=et.nodeName&&et.nodeName.toLowerCase(),rt==="select"||rt==="input"&&et.type==="file")var pt=ve;else if(me(et))if(we)pt=Fe;else{pt=De;var yt=Ce}else(rt=et.nodeName)&&rt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(pt=Ee);if(pt&&(pt=pt(o,j))){ne(_e,pt,s,$);break e}yt&&yt(o,et,j),o==="focusout"&&(yt=et._wrapperState)&&yt.controlled&&et.type==="number"&&cb(et,"number",et.value)}switch(yt=j?ue(j):window,o){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=j,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_e,s,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_e,s,$)}var dt;if(ae)e:{switch(o){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ie?ge(o,s)&&(vt="onCompositionEnd"):o==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(de&&s.locale!=="ko"&&(ie||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ie&&(dt=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(j,vt),0<yt.length&&(vt=new Ld(vt,o,null,s,$),_e.push({event:vt,listeners:yt}),dt?vt.data=dt:(dt=he(s),dt!==null&&(vt.data=dt)))),(dt=ce?je(o,s):ke(o,s))&&(j=oe(j,"onBeforeInput"),0<j.length&&($=new Ld("onBeforeInput","beforeinput",null,s,$),_e.push({event:$,listeners:j}),$.data=dt))}se(_e,i)})}function tf(o,i,s){return{instance:o,listener:i,currentTarget:s}}function oe(o,i){for(var s=i+"Capture",a=[];o!==null;){var c=o,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Kb(o,s),d!=null&&a.unshift(tf(o,d,c)),d=Kb(o,i),d!=null&&a.push(tf(o,d,c))),o=o.return}return a}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,i,s,a,c){for(var d=i._reactName,g=[];s!==null&&s!==a;){var _=s,b=_.alternate,j=_.stateNode;if(b!==null&&b===a)break;_.tag===5&&j!==null&&(_=j,c?(b=Kb(s,d),b!=null&&g.unshift(tf(s,b,_))):c||(b=Kb(s,d),b!=null&&g.push(tf(s,b,_)))),s=s.return}g.length!==0&&o.push({event:i,listeners:g})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,i,s){if(i=zf(i),zf(o)!==i&&s)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,i){var s=i,a=0;do{var c=s.nextSibling;if(o.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){o.removeChild(c),bd(i);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);bd(i)}function Lf(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var s=o.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return o;i--}else s==="/$"&&i++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var i=o[Of];if(i)return i;for(var s=o.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(o=Mf(o);o!==null;){if(s=o[Of])return s;o=Mf(o)}return i}o=s,s=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$2(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,i){Tf++,Sf[Tf]=o.current,o.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,i){var s=o.type.contextTypes;if(!s)return Vf;var a=o.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=i[d];return a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,i,s){if(H.current!==Vf)throw Error(p$2(168));G(H,i),G(Wf,s)}function bg(o,i,s){var a=o.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in i))throw Error(p$2(108,Ra(o)||"Unknown",c));return A({},s,a)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,i,s){var a=o.stateNode;if(!a)throw Error(p$2(169));s?(o=bg(o,i,Xf),a.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,i=C;try{var s=eg;for(C=1;o<s.length;o++){var a=s[o];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),c}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,i){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=i}function ug(o,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var a=rg;o=sg;var c=32-oc(a)-1;a&=~(1<<c),s+=1;var d=32-oc(i)+c;if(30<d){var g=c-c%5;d=(a&(1<<g)-1).toString(32),a>>=g,c-=g,rg=1<<32-oc(i)+c|s<<c|a,sg=d+o}else rg=1<<d|s<<c|a,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=o,i=o.deletions,i===null?(o.deletions=[s],o.flags|=16):i.push(s)}function Cg(o,i){switch(o.tag){case 5:var s=o.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,xg=o,yg=Lf(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,xg=o,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=o,o.child=s,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var i=yg;if(i){var s=i;if(!Cg(o,i)){if(Dg(o))throw Error(p$2(418));i=Lf(s.nextSibling);var a=xg;i&&Cg(o,i)?Ag(a,s):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$2(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!Ef(o.type,o.memoizedProps)),i&&(i=yg)){if(Dg(o))throw Hg(),Error(p$2(418));for(;i;)Ag(o,i),i=Lf(i.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$2(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var s=o.data;if(s==="/$"){if(i===0){yg=Lf(o.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,i,s){if(o=s.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$2(309));var a=s.stateNode}if(!a)throw Error(p$2(147,o));var c=a,d=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(g){var _=c.refs;g===null?delete _[d]:_[d]=g},i._stringRef=d,i)}if(typeof o!="string")throw Error(p$2(284));if(!s._owner)throw Error(p$2(290,o))}return o}function Mg(o,i){throw o=Object.prototype.toString.call(i),Error(p$2(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function Ng(o){var i=o._init;return i(o._payload)}function Og(o){function i(tt,nt){if(o){var it=tt.deletions;it===null?(tt.deletions=[nt],tt.flags|=16):it.push(nt)}}function s(tt,nt){if(!o)return null;for(;nt!==null;)i(tt,nt),nt=nt.sibling;return null}function a(tt,nt){for(tt=new Map;nt!==null;)nt.key!==null?tt.set(nt.key,nt):tt.set(nt.index,nt),nt=nt.sibling;return tt}function c(tt,nt){return tt=Pg(tt,nt),tt.index=0,tt.sibling=null,tt}function d(tt,nt,it){return tt.index=it,o?(it=tt.alternate,it!==null?(it=it.index,it<nt?(tt.flags|=2,nt):it):(tt.flags|=2,nt)):(tt.flags|=1048576,nt)}function g(tt){return o&&tt.alternate===null&&(tt.flags|=2),tt}function _(tt,nt,it,at){return nt===null||nt.tag!==6?(nt=Qg(it,tt.mode,at),nt.return=tt,nt):(nt=c(nt,it),nt.return=tt,nt)}function b(tt,nt,it,at){var pt=it.type;return pt===ya?$(tt,nt,it.props.children,at,it.key):nt!==null&&(nt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&Ng(pt)===nt.type)?(at=c(nt,it.props),at.ref=Lg(tt,nt,it),at.return=tt,at):(at=Rg(it.type,it.key,it.props,null,tt.mode,at),at.ref=Lg(tt,nt,it),at.return=tt,at)}function j(tt,nt,it,at){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==it.containerInfo||nt.stateNode.implementation!==it.implementation?(nt=Sg(it,tt.mode,at),nt.return=tt,nt):(nt=c(nt,it.children||[]),nt.return=tt,nt)}function $(tt,nt,it,at,pt){return nt===null||nt.tag!==7?(nt=Tg(it,tt.mode,at,pt),nt.return=tt,nt):(nt=c(nt,it),nt.return=tt,nt)}function _e(tt,nt,it){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return nt=Qg(""+nt,tt.mode,it),nt.return=tt,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:return it=Rg(nt.type,nt.key,nt.props,null,tt.mode,it),it.ref=Lg(tt,null,nt),it.return=tt,it;case wa:return nt=Sg(nt,tt.mode,it),nt.return=tt,nt;case Ha:var at=nt._init;return _e(tt,at(nt._payload),it)}if(eb(nt)||Ka(nt))return nt=Tg(nt,tt.mode,it,null),nt.return=tt,nt;Mg(tt,nt)}return null}function et(tt,nt,it,at){var pt=nt!==null?nt.key:null;if(typeof it=="string"&&it!==""||typeof it=="number")return pt!==null?null:_(tt,nt,""+it,at);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return it.key===pt?b(tt,nt,it,at):null;case wa:return it.key===pt?j(tt,nt,it,at):null;case Ha:return pt=it._init,et(tt,nt,pt(it._payload),at)}if(eb(it)||Ka(it))return pt!==null?null:$(tt,nt,it,at,null);Mg(tt,it)}return null}function rt(tt,nt,it,at,pt){if(typeof at=="string"&&at!==""||typeof at=="number")return tt=tt.get(it)||null,_(nt,tt,""+at,pt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return tt=tt.get(at.key===null?it:at.key)||null,b(nt,tt,at,pt);case wa:return tt=tt.get(at.key===null?it:at.key)||null,j(nt,tt,at,pt);case Ha:var yt=at._init;return rt(tt,nt,it,yt(at._payload),pt)}if(eb(at)||Ka(at))return tt=tt.get(it)||null,$(nt,tt,at,pt,null);Mg(nt,at)}return null}function ot(tt,nt,it,at){for(var pt=null,yt=null,dt=nt,vt=nt=0,wt=null;dt!==null&&vt<it.length;vt++){dt.index>vt?(wt=dt,dt=null):wt=dt.sibling;var St=et(tt,dt,it[vt],at);if(St===null){dt===null&&(dt=wt);break}o&&dt&&St.alternate===null&&i(tt,dt),nt=d(St,nt,vt),yt===null?pt=St:yt.sibling=St,yt=St,dt=wt}if(vt===it.length)return s(tt,dt),I&&tg(tt,vt),pt;if(dt===null){for(;vt<it.length;vt++)dt=_e(tt,it[vt],at),dt!==null&&(nt=d(dt,nt,vt),yt===null?pt=dt:yt.sibling=dt,yt=dt);return I&&tg(tt,vt),pt}for(dt=a(tt,dt);vt<it.length;vt++)wt=rt(dt,tt,vt,it[vt],at),wt!==null&&(o&&wt.alternate!==null&&dt.delete(wt.key===null?vt:wt.key),nt=d(wt,nt,vt),yt===null?pt=wt:yt.sibling=wt,yt=wt);return o&&dt.forEach(function(Tt){return i(tt,Tt)}),I&&tg(tt,vt),pt}function st(tt,nt,it,at){var pt=Ka(it);if(typeof pt!="function")throw Error(p$2(150));if(it=pt.call(it),it==null)throw Error(p$2(151));for(var yt=pt=null,dt=nt,vt=nt=0,wt=null,St=it.next();dt!==null&&!St.done;vt++,St=it.next()){dt.index>vt?(wt=dt,dt=null):wt=dt.sibling;var Tt=et(tt,dt,St.value,at);if(Tt===null){dt===null&&(dt=wt);break}o&&dt&&Tt.alternate===null&&i(tt,dt),nt=d(Tt,nt,vt),yt===null?pt=Tt:yt.sibling=Tt,yt=Tt,dt=wt}if(St.done)return s(tt,dt),I&&tg(tt,vt),pt;if(dt===null){for(;!St.done;vt++,St=it.next())St=_e(tt,St.value,at),St!==null&&(nt=d(St,nt,vt),yt===null?pt=St:yt.sibling=St,yt=St);return I&&tg(tt,vt),pt}for(dt=a(tt,dt);!St.done;vt++,St=it.next())St=rt(dt,tt,vt,St.value,at),St!==null&&(o&&St.alternate!==null&&dt.delete(St.key===null?vt:St.key),nt=d(St,nt,vt),yt===null?pt=St:yt.sibling=St,yt=St);return o&&dt.forEach(function(bt){return i(tt,bt)}),I&&tg(tt,vt),pt}function ft(tt,nt,it,at){if(typeof it=="object"&&it!==null&&it.type===ya&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case va:e:{for(var pt=it.key,yt=nt;yt!==null;){if(yt.key===pt){if(pt=it.type,pt===ya){if(yt.tag===7){s(tt,yt.sibling),nt=c(yt,it.props.children),nt.return=tt,tt=nt;break e}}else if(yt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&Ng(pt)===yt.type){s(tt,yt.sibling),nt=c(yt,it.props),nt.ref=Lg(tt,yt,it),nt.return=tt,tt=nt;break e}s(tt,yt);break}else i(tt,yt);yt=yt.sibling}it.type===ya?(nt=Tg(it.props.children,tt.mode,at,it.key),nt.return=tt,tt=nt):(at=Rg(it.type,it.key,it.props,null,tt.mode,at),at.ref=Lg(tt,nt,it),at.return=tt,tt=at)}return g(tt);case wa:e:{for(yt=it.key;nt!==null;){if(nt.key===yt)if(nt.tag===4&&nt.stateNode.containerInfo===it.containerInfo&&nt.stateNode.implementation===it.implementation){s(tt,nt.sibling),nt=c(nt,it.children||[]),nt.return=tt,tt=nt;break e}else{s(tt,nt);break}else i(tt,nt);nt=nt.sibling}nt=Sg(it,tt.mode,at),nt.return=tt,tt=nt}return g(tt);case Ha:return yt=it._init,ft(tt,nt,yt(it._payload),at)}if(eb(it))return ot(tt,nt,it,at);if(Ka(it))return st(tt,nt,it,at);Mg(tt,it)}return typeof it=="string"&&it!==""||typeof it=="number"?(it=""+it,nt!==null&&nt.tag===6?(s(tt,nt.sibling),nt=c(nt,it),nt.return=tt,tt=nt):(s(tt,nt),nt=Qg(it,tt.mode,at),nt.return=tt,tt=nt),g(tt)):s(tt,nt)}return ft}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(o){var i=Wg.current;E(Wg),o._currentValue=i}function bh(o,i,s){for(;o!==null;){var a=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),o===s)break;o=o.return}}function ch(o,i){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(dh=!0),o.firstContext=null)}function eh(o){var i=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return i}var fh=null;function gh(o){fh===null?fh=[o]:fh.push(o)}function hh(o,i,s,a){var c=i.interleaved;return c===null?(s.next=s,gh(i)):(s.next=c.next,c.next=s),i.interleaved=s,ih(o,a)}function ih(o,i){o.lanes|=i;var s=o.alternate;for(s!==null&&(s.lanes|=i),s=o,o=o.return;o!==null;)o.childLanes|=i,s=o.alternate,s!==null&&(s.childLanes|=i),s=o,o=o.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(o,i,s){var a=o.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i,ih(o,s)}return c=a.interleaved,c===null?(i.next=i,gh(a)):(i.next=c.next,c.next=i),a.interleaved=i,ih(o,s)}function oh(o,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var a=i.lanes;a&=o.pendingLanes,s|=a,i.lanes=s,Cc(o,s)}}function ph(o,i){var s=o.updateQueue,a=o.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var g={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=g:d=d.next=g,s=s.next}while(s!==null);d===null?c=d=i:d=d.next=i}else c=d=i;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},o.updateQueue=s;return}o=s.lastBaseUpdate,o===null?s.firstBaseUpdate=i:o.next=i,s.lastBaseUpdate=i}function qh(o,i,s,a){var c=o.updateQueue;jh=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,j=b.next;b.next=null,g===null?d=j:g.next=j,g=b;var $=o.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==g&&(_===null?$.firstBaseUpdate=j:_.next=j,$.lastBaseUpdate=b))}if(d!==null){var _e=c.baseState;g=0,$=j=b=null,_=d;do{var et=_.lane,rt=_.eventTime;if((a&et)===et){$!==null&&($=$.next={eventTime:rt,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var ot=o,st=_;switch(et=i,rt=s,st.tag){case 1:if(ot=st.payload,typeof ot=="function"){_e=ot.call(rt,_e,et);break e}_e=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=st.payload,et=typeof ot=="function"?ot.call(rt,_e,et):ot,et==null)break e;_e=A({},_e,et);break e;case 2:jh=!0}}_.callback!==null&&_.lane!==0&&(o.flags|=64,et=c.effects,et===null?c.effects=[_]:et.push(_))}else rt={eventTime:rt,lane:et,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(j=$=rt,b=_e):$=$.next=rt,g|=et;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;et=_,_=et.next,et.next=null,c.lastBaseUpdate=et,c.shared.pending=null}}while(!0);if($===null&&(b=_e),c.baseState=b,c.firstBaseUpdate=j,c.lastBaseUpdate=$,i=c.shared.interleaved,i!==null){c=i;do g|=c.lane,c=c.next;while(c!==i)}else d===null&&(c.shared.lanes=0);rh|=g,o.lanes=g,o.memoizedState=_e}}function sh(o,i,s){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var a=o[i],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(p$2(191,c));c.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(o){if(o===th)throw Error(p$2(174));return o}function yh(o,i){switch(G(wh,i),G(vh,o),G(uh,th),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=lb(i,o)}E(uh),G(uh,i)}function zh(){E(uh),E(vh),E(wh)}function Ah(o){xh(wh.current);var i=xh(uh.current),s=lb(i,o.type);i!==s&&(G(vh,o),G(uh,s))}function Bh(o){vh.current===o&&(E(uh),E(vh))}var L=Uf(0);function Ch(o){for(var i=o;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var o=0;o<Dh.length;o++)Dh[o]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(o,i){if(i===null)return!1;for(var s=0;s<i.length&&s<o.length;s++)if(!He(o[s],i[s]))return!1;return!0}function Nh(o,i,s,a,c,d){if(Hh=d,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=o===null||o.memoizedState===null?Oh:Ph,o=s(a,c),Jh){d=0;do{if(Jh=!1,Kh=0,25<=d)throw Error(p$2(301));d+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,o=s(a,c)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p$2(300));return o}function Sh(){var o=Kh!==0;return Kh=0,o}function Th(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=o:O=O.next=o,O}function Uh(){if(N===null){var o=M.alternate;o=o!==null?o.memoizedState:null}else o=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=o;else{if(o===null)throw Error(p$2(310));N=o,o={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=o:O=O.next=o}return O}function Vh(o,i){return typeof i=="function"?i(o):i}function Wh(o){var i=Uh(),s=i.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=o;var a=N,c=a.baseQueue,d=s.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}a.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,a=a.baseState;var _=g=null,b=null,j=d;do{var $=j.lane;if((Hh&$)===$)b!==null&&(b=b.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),a=j.hasEagerState?j.eagerState:o(a,j.action);else{var _e={lane:$,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};b===null?(_=b=_e,g=a):b=b.next=_e,M.lanes|=$,rh|=$}j=j.next}while(j!==null&&j!==d);b===null?g=a:b.next=_,He(a,i.memoizedState)||(dh=!0),i.memoizedState=a,i.baseState=g,i.baseQueue=b,s.lastRenderedState=a}if(o=s.interleaved,o!==null){c=o;do d=c.lane,M.lanes|=d,rh|=d,c=c.next;while(c!==o)}else c===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(o){var i=Uh(),s=i.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=o;var a=s.dispatch,c=s.pending,d=i.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do d=o(d,g.action),g=g.next;while(g!==c);He(d,i.memoizedState)||(dh=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,a]}function Yh(){}function Zh(o,i){var s=M,a=Uh(),c=i(),d=!He(a.memoizedState,c);if(d&&(a.memoizedState=c,dh=!0),a=a.queue,$h(ai.bind(null,s,a,o),[o]),a.getSnapshot!==i||d||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,a,c,i),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di(s,i,c)}return c}function di(o,i,s){o.flags|=16384,o={getSnapshot:i,value:s},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[o]):(s=i.stores,s===null?i.stores=[o]:s.push(o))}function ci(o,i,s,a){i.value=s,i.getSnapshot=a,ei(i)&&fi(o)}function ai(o,i,s){return s(function(){ei(i)&&fi(o)})}function ei(o){var i=o.getSnapshot;o=o.value;try{var s=i();return!He(o,s)}catch{return!0}}function fi(o){var i=ih(o,1);i!==null&&gi(i,o,1,-1)}function hi(o){var i=Th();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o},i.queue=o,o=o.dispatch=ii.bind(null,M,o),[i.memoizedState,o]}function bi(o,i,s,a){return o={tag:o,create:i,destroy:s,deps:a,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=o.next=o):(s=i.lastEffect,s===null?i.lastEffect=o.next=o:(a=s.next,s.next=o,o.next=a,i.lastEffect=o)),o}function ji(){return Uh().memoizedState}function ki(o,i,s,a){var c=Th();M.flags|=o,c.memoizedState=bi(1|i,s,void 0,a===void 0?null:a)}function li(o,i,s,a){var c=Uh();a=a===void 0?null:a;var d=void 0;if(N!==null){var g=N.memoizedState;if(d=g.destroy,a!==null&&Mh(a,g.deps)){c.memoizedState=bi(i,s,d,a);return}}M.flags|=o,c.memoizedState=bi(1|i,s,d,a)}function mi(o,i){return ki(8390656,8,o,i)}function $h(o,i){return li(2048,8,o,i)}function ni(o,i){return li(4,2,o,i)}function oi(o,i){return li(4,4,o,i)}function pi(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function qi(o,i,s){return s=s!=null?s.concat([o]):null,li(4,4,pi.bind(null,i,o),s)}function ri(){}function si(o,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(s.memoizedState=[o,i],o)}function ti(o,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(o=o(),s.memoizedState=[o,i],o)}function ui(o,i,s){return Hh&21?(He(s,i)||(s=yc(),M.lanes|=s,rh|=s,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,dh=!0),o.memoizedState=s)}function vi(o,i){var s=C;C=s!==0&&4>s?s:4,o(!0);var a=Gh.transition;Gh.transition={};try{o(!1),i()}finally{C=s,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(o,i,s){var a=yi(o);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(o))Ai(i,s);else if(s=hh(o,i,s,a),s!==null){var c=R();gi(s,o,a,c),Bi(s,i,a)}}function ii(o,i,s){var a=yi(o),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(o))Ai(i,c);else{var d=o.alternate;if(o.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var g=i.lastRenderedState,_=d(g,s);if(c.hasEagerState=!0,c.eagerState=_,He(_,g)){var b=i.interleaved;b===null?(c.next=c,gh(i)):(c.next=b.next,b.next=c),i.interleaved=c;return}}catch{}finally{}s=hh(o,i,c,a),s!==null&&(c=R(),gi(s,o,a,c),Bi(s,i,a))}}function zi(o){var i=o.alternate;return o===M||i!==null&&i===M}function Ai(o,i){Jh=Ih=!0;var s=o.pending;s===null?i.next=i:(i.next=s.next,s.next=i),o.pending=i}function Bi(o,i,s){if(s&4194240){var a=i.lanes;a&=o.pendingLanes,s|=a,i.lanes=s,Cc(o,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(o,i){return Th().memoizedState=[o,i===void 0?null:i],o},useContext:eh,useEffect:mi,useImperativeHandle:function(o,i,s){return s=s!=null?s.concat([o]):null,ki(4194308,4,pi.bind(null,i,o),s)},useLayoutEffect:function(o,i){return ki(4194308,4,o,i)},useInsertionEffect:function(o,i){return ki(4,2,o,i)},useMemo:function(o,i){var s=Th();return i=i===void 0?null:i,o=o(),s.memoizedState=[o,i],o},useReducer:function(o,i,s){var a=Th();return i=s!==void 0?s(i):i,a.memoizedState=a.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},a.queue=o,o=o.dispatch=xi.bind(null,M,o),[a.memoizedState,o]},useRef:function(o){var i=Th();return o={current:o},i.memoizedState=o},useState:hi,useDebugValue:ri,useDeferredValue:function(o){return Th().memoizedState=o},useTransition:function(){var o=hi(!1),i=o[0];return o=vi.bind(null,o[1]),Th().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,s){var a=M,c=Th();if(I){if(s===void 0)throw Error(p$2(407));s=s()}else{if(s=i(),Q===null)throw Error(p$2(349));Hh&30||di(a,i,s)}c.memoizedState=s;var d={value:s,getSnapshot:i};return c.queue=d,mi(ai.bind(null,a,d,o),[o]),a.flags|=2048,bi(9,ci.bind(null,a,d,s,i),void 0,null),s},useId:function(){var o=Th(),i=Q.identifierPrefix;if(I){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var i=Uh();return ui(i,N.memoizedState,o)},useTransition:function(){var o=Wh(Vh)[0],i=Uh().memoizedState;return[o,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var i=Uh();return N===null?i.memoizedState=o:ui(i,N.memoizedState,o)},useTransition:function(){var o=Xh(Vh)[0],i=Uh().memoizedState;return[o,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o,i){if(o&&o.defaultProps){i=A({},i),o=o.defaultProps;for(var s in o)i[s]===void 0&&(i[s]=o[s]);return i}return i}function Di(o,i,s,a){i=o.memoizedState,s=s(a,i),s=s==null?i:A({},i,s),o.memoizedState=s,o.lanes===0&&(o.updateQueue.baseState=s)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,i,s){o=o._reactInternals;var a=R(),c=yi(o),d=mh(a,c);d.payload=i,s!=null&&(d.callback=s),i=nh(o,d,c),i!==null&&(gi(i,o,c,a),oh(i,o,c))},enqueueReplaceState:function(o,i,s){o=o._reactInternals;var a=R(),c=yi(o),d=mh(a,c);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=nh(o,d,c),i!==null&&(gi(i,o,c,a),oh(i,o,c))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var s=R(),a=yi(o),c=mh(s,a);c.tag=2,i!=null&&(c.callback=i),i=nh(o,c,a),i!==null&&(gi(i,o,a,s),oh(i,o,a))}};function Fi(o,i,s,a,c,d,g){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(a,d,g):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,a)||!Ie(c,d):!0}function Gi(o,i,s){var a=!1,c=Vf,d=i.contextType;return typeof d=="object"&&d!==null?d=eh(d):(c=Zf(i)?Xf:H.current,a=i.contextTypes,d=(a=a!=null)?Yf(o,c):Vf),i=new i(s,d),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,o.stateNode=i,i._reactInternals=o,a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=d),i}function Hi(o,i,s,a){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==o&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(o,i,s,a){var c=o.stateNode;c.props=s,c.state=o.memoizedState,c.refs={},kh(o);var d=i.contextType;typeof d=="object"&&d!==null?c.context=eh(d):(d=Zf(i)?Xf:H.current,c.context=Yf(o,d)),c.state=o.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Di(o,i,d,s),c.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(o,s,c,a),c.state=o.memoizedState),typeof c.componentDidMount=="function"&&(o.flags|=4194308)}function Ji(o,i){try{var s="",a=i;do s+=Pa(a),a=a.return;while(a);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:o,source:i,stack:c,digest:null}}function Ki(o,i,s){return{value:o,source:null,stack:s??null,digest:i??null}}function Li(o,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(o,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var a=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=a),Li(o,i)},s}function Qi(o,i,s){s=mh(-1,s),s.tag=3;var a=o.type.getDerivedStateFromError;if(typeof a=="function"){var c=i.value;s.payload=function(){return a(c)},s.callback=function(){Li(o,i)}}var d=o.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Li(o,i),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),s}function Si(o,i,s){var a=o.pingCache;if(a===null){a=o.pingCache=new Mi;var c=new Set;a.set(i,c)}else c=a.get(i),c===void 0&&(c=new Set,a.set(i,c));c.has(s)||(c.add(s),o=Ti.bind(null,o,i,s),i.then(o,o))}function Ui(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Vi(o,i,s,a,c){return o.mode&1?(o.flags|=65536,o.lanes=c,o):(o===i?o.flags|=65536:(o.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),o)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(o,i,s,a){i.child=o===null?Vg(i,null,s,a):Ug(i,o.child,s,a)}function Yi(o,i,s,a,c){s=s.render;var d=i.ref;return ch(i,c),a=Nh(o,i,s,a,d,c),s=Sh(),o!==null&&!dh?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~c,Zi(o,i,c)):(I&&s&&vg(i),i.flags|=1,Xi(o,i,a,c),i.child)}function $i(o,i,s,a,c){if(o===null){var d=s.type;return typeof d=="function"&&!aj(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=d,bj(o,i,d,a,c)):(o=Rg(s.type,null,a,i,i.mode,c),o.ref=i.ref,o.return=i,i.child=o)}if(d=o.child,!(o.lanes&c)){var g=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(g,a)&&o.ref===i.ref)return Zi(o,i,c)}return i.flags|=1,o=Pg(d,a),o.ref=i.ref,o.return=i,i.child=o}function bj(o,i,s,a,c){if(o!==null){var d=o.memoizedProps;if(Ie(d,a)&&o.ref===i.ref)if(dh=!1,i.pendingProps=a=d,(o.lanes&c)!==0)o.flags&131072&&(dh=!0);else return i.lanes=o.lanes,Zi(o,i,c)}return cj(o,i,s,a,c)}function dj(o,i,s){var a=i.pendingProps,c=a.children,d=o!==null?o.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return o=d!==null?d.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:s,G(ej,fj),fj|=a}else d!==null?(a=d.baseLanes|s,i.memoizedState=null):a=s,G(ej,fj),fj|=a;return Xi(o,i,c,s),i.child}function gj(o,i){var s=i.ref;(o===null&&s!==null||o!==null&&o.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(o,i,s,a,c){var d=Zf(s)?Xf:H.current;return d=Yf(i,d),ch(i,c),s=Nh(o,i,s,a,d,c),a=Sh(),o!==null&&!dh?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~c,Zi(o,i,c)):(I&&a&&vg(i),i.flags|=1,Xi(o,i,s,c),i.child)}function hj(o,i,s,a,c){if(Zf(s)){var d=!0;cg(i)}else d=!1;if(ch(i,c),i.stateNode===null)ij(o,i),Gi(i,s,a),Ii(i,s,a,c),a=!0;else if(o===null){var g=i.stateNode,_=i.memoizedProps;g.props=_;var b=g.context,j=s.contextType;typeof j=="object"&&j!==null?j=eh(j):(j=Zf(s)?Xf:H.current,j=Yf(i,j));var $=s.getDerivedStateFromProps,_e=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function";_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==a||b!==j)&&Hi(i,g,a,j),jh=!1;var et=i.memoizedState;g.state=et,qh(i,a,g,c),b=i.memoizedState,_!==a||et!==b||Wf.current||jh?(typeof $=="function"&&(Di(i,s,$,a),b=i.memoizedState),(_=jh||Fi(i,s,_,a,et,b,j))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=b),g.props=a,g.state=b,g.context=j,a=_):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,lh(o,i),_=i.memoizedProps,j=i.type===i.elementType?_:Ci(i.type,_),g.props=j,_e=i.pendingProps,et=g.context,b=s.contextType,typeof b=="object"&&b!==null?b=eh(b):(b=Zf(s)?Xf:H.current,b=Yf(i,b));var rt=s.getDerivedStateFromProps;($=typeof rt=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==_e||et!==b)&&Hi(i,g,a,b),jh=!1,et=i.memoizedState,g.state=et,qh(i,a,g,c);var ot=i.memoizedState;_!==_e||et!==ot||Wf.current||jh?(typeof rt=="function"&&(Di(i,s,rt,a),ot=i.memoizedState),(j=jh||Fi(i,s,j,a,et,ot,b)||!1)?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,ot,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,ot,b)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===o.memoizedProps&&et===o.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&et===o.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=ot),g.props=a,g.state=ot,g.context=b,a=j):(typeof g.componentDidUpdate!="function"||_===o.memoizedProps&&et===o.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&et===o.memoizedState||(i.flags|=1024),a=!1)}return jj(o,i,s,a,d,c)}function jj(o,i,s,a,c,d){gj(o,i);var g=(i.flags&128)!==0;if(!a&&!g)return c&&dg(i,s,!1),Zi(o,i,d);a=i.stateNode,Wi.current=i;var _=g&&typeof s.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,o!==null&&g?(i.child=Ug(i,o.child,null,d),i.child=Ug(i,null,_,d)):Xi(o,i,_,d),i.memoizedState=a.state,c&&dg(i,s,!0),i.child}function kj(o){var i=o.stateNode;i.pendingContext?ag(o,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(o,i.context,!1),yh(o,i.containerInfo)}function lj(o,i,s,a,c){return Ig(),Jg(c),i.flags|=256,Xi(o,i,s,a),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,i,s){var a=i.pendingProps,c=L.current,d=!1,g=(i.flags&128)!==0,_;if((_=g)||(_=o!==null&&o.memoizedState===null?!1:(c&2)!==0),_?(d=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(c|=1),G(L,c&1),o===null)return Eg(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=a.children,o=a.fallback,d?(a=i.mode,d=i.child,g={mode:"hidden",children:g},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=g):d=pj(g,a,0,null),o=Tg(o,a,s,null),d.return=i,o.return=i,d.sibling=o,i.child=d,i.child.memoizedState=nj(s),i.memoizedState=mj,o):qj(i,g));if(c=o.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return rj(o,i,g,a,_,c,s);if(d){d=a.fallback,g=i.mode,c=o.child,_=c.sibling;var b={mode:"hidden",children:a.children};return!(g&1)&&i.child!==c?(a=i.child,a.childLanes=0,a.pendingProps=b,i.deletions=null):(a=Pg(c,b),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?d=Pg(_,d):(d=Tg(d,g,s,null),d.flags|=2),d.return=i,a.return=i,a.sibling=d,i.child=a,a=d,d=i.child,g=o.child.memoizedState,g=g===null?nj(s):{baseLanes:g.baseLanes|s,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=o.childLanes&~s,i.memoizedState=mj,a}return d=o.child,o=d.sibling,a=Pg(d,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=s),a.return=i,a.sibling=null,o!==null&&(s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)),i.child=a,i.memoizedState=null,a}function qj(o,i){return i=pj({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function sj(o,i,s,a){return a!==null&&Jg(a),Ug(i,o.child,null,s),o=qj(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function rj(o,i,s,a,c,d,g){if(s)return i.flags&256?(i.flags&=-257,a=Ki(Error(p$2(422))),sj(o,i,g,a)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(d=a.fallback,c=i.mode,a=pj({mode:"visible",children:a.children},c,0,null),d=Tg(d,c,g,null),d.flags|=2,a.return=i,d.return=i,a.sibling=d,i.child=a,i.mode&1&&Ug(i,o.child,null,g),i.child.memoizedState=nj(g),i.memoizedState=mj,d);if(!(i.mode&1))return sj(o,i,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,d=Error(p$2(419)),a=Ki(d,a,void 0),sj(o,i,g,a)}if(_=(g&o.childLanes)!==0,dh||_){if(a=Q,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,ih(o,c),gi(a,o,c,-1))}return tj(),a=Ki(Error(p$2(421))),sj(o,i,g,a)}return c.data==="$?"?(i.flags|=128,i.child=o.child,i=uj.bind(null,o),c._reactRetry=i,null):(o=d.treeContext,yg=Lf(c.nextSibling),xg=i,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=i),i=qj(i,a.children),i.flags|=4096,i)}function vj(o,i,s){o.lanes|=i;var a=o.alternate;a!==null&&(a.lanes|=i),bh(o.return,i,s)}function wj(o,i,s,a,c){var d=o.memoizedState;d===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=c)}function xj(o,i,s){var a=i.pendingProps,c=a.revealOrder,d=a.tail;if(Xi(o,i,a.children,s),a=L.current,a&2)a=a&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,s,i);else if(o.tag===19)vj(o,s,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}a&=1}if(G(L,a),!(i.mode&1))i.memoizedState=null;else switch(c){case"forwards":for(s=i.child,c=null;s!==null;)o=s.alternate,o!==null&&Ch(o)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),wj(i,!1,c,s,d);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(o=c.alternate,o!==null&&Ch(o)===null){i.child=c;break}o=c.sibling,c.sibling=s,s=c,c=o}wj(i,!0,s,null,d);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function Zi(o,i,s){if(o!==null&&(i.dependencies=o.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(p$2(153));if(i.child!==null){for(o=i.child,s=Pg(o,o.pendingProps),i.child=s,s.return=i;o.sibling!==null;)o=o.sibling,s=s.sibling=Pg(o,o.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(o,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,c=i.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=c;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):s&i.child.childLanes?oj(o,i,s):(G(L,L.current&1),o=Zi(o,i,s),o!==null?o.sibling:null);G(L,L.current&1);break;case 19:if(a=(s&i.childLanes)!==0,o.flags&128){if(a)return xj(o,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return i.lanes=0,dj(o,i,s)}return Zi(o,i,s)}var zj,Aj,Bj,Cj;zj=function(o,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(o,i,s,a){var c=o.memoizedProps;if(c!==a){o=i.stateNode,xh(uh.current);var d=null;switch(s){case"input":c=Ya(o,c),a=Ya(o,a),d=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),d=[];break;case"textarea":c=gb(o,c),a=gb(o,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(o.onclick=Bf)}ub(s,a);var g;s=null;for(j in c)if(!a.hasOwnProperty(j)&&c.hasOwnProperty(j)&&c[j]!=null)if(j==="style"){var _=c[j];for(g in _)_.hasOwnProperty(g)&&(s||(s={}),s[g]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?d||(d=[]):(d=d||[]).push(j,null));for(j in a){var b=a[j];if(_=c!=null?c[j]:void 0,a.hasOwnProperty(j)&&b!==_&&(b!=null||_!=null))if(j==="style")if(_){for(g in _)!_.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(s||(s={}),s[g]="");for(g in b)b.hasOwnProperty(g)&&_[g]!==b[g]&&(s||(s={}),s[g]=b[g])}else s||(d||(d=[]),d.push(j,s)),s=b;else j==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,_=_?_.__html:void 0,b!=null&&_!==b&&(d=d||[]).push(j,b)):j==="children"?typeof b!="string"&&typeof b!="number"||(d=d||[]).push(j,""+b):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(ea.hasOwnProperty(j)?(b!=null&&j==="onScroll"&&D("scroll",o),d||_===b||(d=[])):(d=d||[]).push(j,b))}s&&(d=d||[]).push("style",s);var j=d;(i.updateQueue=j)&&(i.flags|=4)}};Cj=function(o,i,s,a){s!==a&&(i.flags|=4)};function Dj(o,i){if(!I)switch(o.tailMode){case"hidden":i=o.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?o.tail=null:s.sibling=null;break;case"collapsed":s=o.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:a.sibling=null}}function S(o){var i=o.alternate!==null&&o.alternate.child===o.child,s=0,a=0;if(i)for(var c=o.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=o,c=c.sibling;else for(c=o.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=o,c=c.sibling;return o.subtreeFlags|=a,o.childLanes=s,i}function Ej(o,i,s){var a=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return a=i.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(o===null||o.child===null)&&(Gg(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,i),S(i),null;case 5:Bh(i);var c=xh(wh.current);if(s=i.type,o!==null&&i.stateNode!=null)Bj(o,i,s,a,c),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(p$2(166));return S(i),null}if(o=xh(uh.current),Gg(i)){a=i.stateNode,s=i.type;var d=i.memoizedProps;switch(a[Of]=i,a[Pf]=d,o=(i.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,d),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},D("invalid",a);break;case"textarea":hb(a,d),D("invalid",a)}ub(s,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var _=d[g];g==="children"?typeof _=="string"?a.textContent!==_&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,_,o),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,_,o),c=["children",""+_]):ea.hasOwnProperty(g)&&_!=null&&g==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db(a,d,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}a=c,i.updateQueue=a,a!==null&&(i.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(s)),o==="http://www.w3.org/1999/xhtml"?s==="script"?(o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof a.is=="string"?o=g.createElement(s,{is:a.is}):(o=g.createElement(s),s==="select"&&(g=o,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):o=g.createElementNS(o,s),o[Of]=i,o[Pf]=a,zj(o,i,!1,!1),i.stateNode=o;e:{switch(g=vb(s,a),s){case"dialog":D("cancel",o),D("close",o),c=a;break;case"iframe":case"object":case"embed":D("load",o),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],o);c=a;break;case"source":D("error",o),c=a;break;case"img":case"image":case"link":D("error",o),D("load",o),c=a;break;case"details":D("toggle",o),c=a;break;case"input":Za(o,a),c=Ya(o,a),D("invalid",o);break;case"option":c=a;break;case"select":o._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,a),c=gb(o,a),D("invalid",o);break;default:c=a}ub(s,c),_=c;for(d in _)if(_.hasOwnProperty(d)){var b=_[d];d==="style"?sb(o,b):d==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&nb(o,b)):d==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&ob(o,b):typeof b=="number"&&ob(o,""+b):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?b!=null&&d==="onScroll"&&D("scroll",o):b!=null&&ta(o,d,b,g))}switch(s){case"input":Va(o),db(o,a,!1);break;case"textarea":Va(o),jb(o);break;case"option":a.value!=null&&o.setAttribute("value",""+Sa(a.value));break;case"select":o.multiple=!!a.multiple,d=a.value,d!=null?fb(o,!!a.multiple,d,!1):a.defaultValue!=null&&fb(o,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(o&&i.stateNode!=null)Cj(o,i,o.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(p$2(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(a=i.stateNode,s=i.memoizedProps,a[Of]=i,(d=a.nodeValue!==s)&&(o=xg,o!==null))switch(o.tag){case 3:Af(a.nodeValue,s,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(o.mode&1)!==0)}d&&(i.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=i,i.stateNode=a}return S(i),null;case 13:if(E(L),a=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,d=!1;else if(d=Gg(i),a!==null&&a.dehydrated!==null){if(o===null){if(!d)throw Error(p$2(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p$2(317));d[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),d=!1}else zg!==null&&(Fj(zg),zg=null),d=!0;if(!d)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(a=a!==null,a!==(o!==null&&o.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(o===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(o,i),o===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),d=i.memoizedState,d===null)return S(i),null;if(a=(i.flags&128)!==0,g=d.rendering,g===null)if(a)Dj(d,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(g=Ch(o),g!==null){for(i.flags|=128,Dj(d,!1),a=g.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=s,s=i.child;s!==null;)d=s,o=a,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=o,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,o=g.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s=s.sibling;return G(L,L.current&1|2),i.child}o=o.sibling}d.tail!==null&&B()>Gj&&(i.flags|=128,a=!0,Dj(d,!1),i.lanes=4194304)}else{if(!a)if(o=Ch(g),o!==null){if(i.flags|=128,a=!0,s=o.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!I)return S(i),null}else 2*B()-d.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,a=!0,Dj(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(s=d.last,s!==null?s.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=B(),i.sibling=null,s=L.current,G(L,a?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Hj(),a=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p$2(156,i.tag))}function Ij(o,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return zh(),E(Wf),E(H),Eh(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(p$2(340));Ig()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(o,i){var s=o.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W(o,i,a)}else s.current=null}function Mj(o,i,s){try{s()}catch(a){W(o,i,a)}}var Nj=!1;function Oj(o,i){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{s=(s=o.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var g=0,_=-1,b=-1,j=0,$=0,_e=o,et=null;t:for(;;){for(var rt;_e!==s||c!==0&&_e.nodeType!==3||(_=g+c),_e!==d||a!==0&&_e.nodeType!==3||(b=g+a),_e.nodeType===3&&(g+=_e.nodeValue.length),(rt=_e.firstChild)!==null;)et=_e,_e=rt;for(;;){if(_e===o)break t;if(et===s&&++j===c&&(_=g),et===d&&++$===a&&(b=g),(rt=_e.nextSibling)!==null)break;_e=et,et=_e.parentNode}_e=rt}s=_===-1||b===-1?null:{start:_,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:o,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,V=o;else for(;V!==null;){i=V;try{var ot=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var st=ot.memoizedProps,ft=ot.memoizedState,tt=i.stateNode,nt=tt.getSnapshotBeforeUpdate(i.elementType===i.type?st:Ci(i.type,st),ft);tt.__reactInternalSnapshotBeforeUpdate=nt}break;case 3:var it=i.stateNode.containerInfo;it.nodeType===1?it.textContent="":it.nodeType===9&&it.documentElement&&it.removeChild(it.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(at){W(i,i.return,at)}if(o=i.sibling,o!==null){o.return=i.return,V=o;break}V=i.return}return ot=Nj,Nj=!1,ot}function Pj(o,i,s){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var d=c.destroy;c.destroy=void 0,d!==void 0&&Mj(i,s,d)}c=c.next}while(c!==a)}}function Qj(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&o)===o){var a=s.create;s.destroy=a()}s=s.next}while(s!==i)}}function Rj(o){var i=o.ref;if(i!==null){var s=o.stateNode;switch(o.tag){case 5:o=s;break;default:o=s}typeof i=="function"?i(o):i.current=o}}function Sj(o){var i=o.alternate;i!==null&&(o.alternate=null,Sj(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,i,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(o,i):s.insertBefore(o,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(o,s)):(i=s,i.appendChild(o)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(a!==4&&(o=o.child,o!==null))for(Vj(o,i,s),o=o.sibling;o!==null;)Vj(o,i,s),o=o.sibling}function Wj(o,i,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,i?s.insertBefore(o,i):s.appendChild(o);else if(a!==4&&(o=o.child,o!==null))for(Wj(o,i,s),o=o.sibling;o!==null;)Wj(o,i,s),o=o.sibling}var X=null,Xj=!1;function Yj(o,i,s){for(s=s.child;s!==null;)Zj(o,i,s),s=s.sibling}function Zj(o,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,i);case 6:var a=X,c=Xj;X=null,Yj(o,i,s),X=a,Xj=c,X!==null&&(Xj?(o=X,s=s.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Xj?(o=X,s=s.stateNode,o.nodeType===8?Kf(o.parentNode,s):o.nodeType===1&&Kf(o,s),bd(o)):Kf(X,s.stateNode));break;case 4:a=X,c=Xj,X=s.stateNode.containerInfo,Xj=!0,Yj(o,i,s),X=a,Xj=c;break;case 0:case 11:case 14:case 15:if(!U&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&(d&2||d&4)&&Mj(s,i,g),c=c.next}while(c!==a)}Yj(o,i,s);break;case 1:if(!U&&(Lj(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){W(s,i,_)}Yj(o,i,s);break;case 21:Yj(o,i,s);break;case 22:s.mode&1?(U=(a=U)||s.memoizedState!==null,Yj(o,i,s),U=a):Yj(o,i,s);break;default:Yj(o,i,s)}}function ak(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var s=o.stateNode;s===null&&(s=o.stateNode=new Kj),i.forEach(function(a){var c=bk.bind(null,o,a);s.has(a)||(s.add(a),a.then(c,c))})}}function ck(o,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var d=o,g=i,_=g;e:for(;_!==null;){switch(_.tag){case 5:X=_.stateNode,Xj=!1;break e;case 3:X=_.stateNode.containerInfo,Xj=!0;break e;case 4:X=_.stateNode.containerInfo,Xj=!0;break e}_=_.return}if(X===null)throw Error(p$2(160));Zj(d,g,c),X=null,Xj=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(j){W(c,i,j)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,o),i=i.sibling}function dk(o,i){var s=o.alternate,a=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(i,o),ek(o),a&4){try{Pj(3,o,o.return),Qj(3,o)}catch(st){W(o,o.return,st)}try{Pj(5,o,o.return)}catch(st){W(o,o.return,st)}}break;case 1:ck(i,o),ek(o),a&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,o),ek(o),a&512&&s!==null&&Lj(s,s.return),o.flags&32){var c=o.stateNode;try{ob(c,"")}catch(st){W(o,o.return,st)}}if(a&4&&(c=o.stateNode,c!=null)){var d=o.memoizedProps,g=s!==null?s.memoizedProps:d,_=o.type,b=o.updateQueue;if(o.updateQueue=null,b!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&ab(c,d),vb(_,g);var j=vb(_,d);for(g=0;g<b.length;g+=2){var $=b[g],_e=b[g+1];$==="style"?sb(c,_e):$==="dangerouslySetInnerHTML"?nb(c,_e):$==="children"?ob(c,_e):ta(c,$,_e,j)}switch(_){case"input":bb(c,d);break;case"textarea":ib(c,d);break;case"select":var et=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var rt=d.value;rt!=null?fb(c,!!d.multiple,rt,!1):et!==!!d.multiple&&(d.defaultValue!=null?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}c[Pf]=d}catch(st){W(o,o.return,st)}}break;case 6:if(ck(i,o),ek(o),a&4){if(o.stateNode===null)throw Error(p$2(162));c=o.stateNode,d=o.memoizedProps;try{c.nodeValue=d}catch(st){W(o,o.return,st)}}break;case 3:if(ck(i,o),ek(o),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(st){W(o,o.return,st)}break;case 4:ck(i,o),ek(o);break;case 13:ck(i,o),ek(o),c=o.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),a&4&&ak(o);break;case 22:if($=s!==null&&s.memoizedState!==null,o.mode&1?(U=(j=U)||$,ck(i,o),U=j):ck(i,o),ek(o),a&8192){if(j=o.memoizedState!==null,(o.stateNode.isHidden=j)&&!$&&o.mode&1)for(V=o,$=o.child;$!==null;){for(_e=V=$;V!==null;){switch(et=V,rt=et.child,et.tag){case 0:case 11:case 14:case 15:Pj(4,et,et.return);break;case 1:Lj(et,et.return);var ot=et.stateNode;if(typeof ot.componentWillUnmount=="function"){a=et,s=et.return;try{i=a,ot.props=i.memoizedProps,ot.state=i.memoizedState,ot.componentWillUnmount()}catch(st){W(a,s,st)}}break;case 5:Lj(et,et.return);break;case 22:if(et.memoizedState!==null){gk(_e);continue}}rt!==null?(rt.return=et,V=rt):gk(_e)}$=$.sibling}e:for($=null,_e=o;;){if(_e.tag===5){if($===null){$=_e;try{c=_e.stateNode,j?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=_e.stateNode,b=_e.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,_.style.display=rb("display",g))}catch(st){W(o,o.return,st)}}}else if(_e.tag===6){if($===null)try{_e.stateNode.nodeValue=j?"":_e.memoizedProps}catch(st){W(o,o.return,st)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===o)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===o)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===o)break e;$===_e&&($=null),_e=_e.return}$===_e&&($=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ck(i,o),ek(o),a&4&&ak(o);break;case 21:break;default:ck(i,o),ek(o)}}function ek(o){var i=o.flags;if(i&2){try{e:{for(var s=o.return;s!==null;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p$2(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var d=Uj(o);Wj(o,d,c);break;case 3:case 4:var g=a.stateNode.containerInfo,_=Uj(o);Vj(o,_,g);break;default:throw Error(p$2(161))}}catch(b){W(o,o.return,b)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function hk(o,i,s){V=o,ik(o)}function ik(o,i,s){for(var a=(o.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Jj;if(!g){var _=c.alternate,b=_!==null&&_.memoizedState!==null||U;_=Jj;var j=U;if(Jj=g,(U=b)&&!j)for(V=c;V!==null;)g=V,b=g.child,g.tag===22&&g.memoizedState!==null?jk(c):b!==null?(b.return=g,V=b):jk(c);for(;d!==null;)V=d,ik(d),d=d.sibling;V=c,Jj=_,U=j}kk(o)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):kk(o)}}function kk(o){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!U)if(s===null)a.componentDidMount();else{var c=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&sh(i,d,a);break;case 3:var g=i.updateQueue;if(g!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,g,s)}break;case 5:var _=i.stateNode;if(s===null&&i.flags&4){s=_;var b=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var j=i.alternate;if(j!==null){var $=j.memoizedState;if($!==null){var _e=$.dehydrated;_e!==null&&bd(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||i.flags&512&&Rj(i)}catch(et){W(i,i.return,et)}}if(i===o){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function gk(o){for(;V!==null;){var i=V;if(i===o){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function jk(o){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(b){W(i,s,b)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var c=i.return;try{a.componentDidMount()}catch(b){W(i,c,b)}}var d=i.return;try{Rj(i)}catch(b){W(i,d,b)}break;case 5:var g=i.return;try{Rj(i)}catch(b){W(i,g,b)}}}catch(b){W(i,i.return,b)}if(i===o){V=null;break}var _=i.sibling;if(_!==null){_.return=i.return,V=_;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function gi(o,i,s,a){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(o,s,a),(!(K&2)||o!==Q)&&(o===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(o,Z)),Dk(o,a),s===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(o,i){var s=o.callbackNode;wc(o,i);var a=uc(o,o===Q?Z:0);if(a===0)s!==null&&bc(s),o.callbackNode=null,o.callbackPriority=0;else if(i=a&-a,o.callbackPriority!==i){if(s!=null&&bc(s),i===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,o))}o.callbackPriority=i,o.callbackNode=s}}function Gk(o,i){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var s=o.callbackNode;if(Hk()&&o.callbackNode!==s)return null;var a=uc(o,o===Q?Z:0);if(a===0)return null;if(a&30||a&o.expiredLanes||i)i=Ik(o,a);else{i=a;var c=K;K|=2;var d=Jk();(Q!==o||Z!==i)&&(uk=null,Gj=B()+500,Kk(o,i));do try{Lk();break}catch(_){Mk(o,_)}while(!0);$g(),mk.current=d,K=c,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(c=xc(o),c!==0&&(a=c,i=Nk(o,c))),i===1)throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;if(i===6)Ck(o,a);else{if(c=o.current.alternate,!(a&30)&&!Ok(c)&&(i=Ik(o,a),i===2&&(d=xc(o),d!==0&&(a=d,i=Nk(o,d))),i===1))throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;switch(o.finishedWork=c,o.finishedLanes=a,i){case 0:case 1:throw Error(p$2(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,a),(a&130023424)===a&&(i=fk+500-B(),10<i)){if(uc(o,0)!==0)break;if(c=o.suspendedLanes,(c&a)!==a){R(),o.pingedLanes|=o.suspendedLanes&c;break}o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),i);break}Pk(o,tk,uk);break;case 4:if(Ck(o,a),(a&4194240)===a)break;for(i=o.eventTimes,c=-1;0<a;){var g=31-oc(a);d=1<<g,g=i[g],g>c&&(c=g),a&=~d}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),a);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(o,B()),o.callbackNode===s?Gk.bind(null,o):null}function Nk(o,i){var s=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,i).flags|=256),o=Ik(o,i),o!==2&&(i=tk,tk=s,i!==null&&Fj(i)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var i=o;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],d=c.getSnapshot;c=c.value;try{if(!He(d(),c))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(o,i){for(i&=~rk,i&=~qk,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var s=31-oc(i),a=1<<s;o[s]=-1,i&=~a}}function Ek(o){if(K&6)throw Error(p$2(327));Hk();var i=uc(o,0);if(!(i&1))return Dk(o,B()),null;var s=Ik(o,i);if(o.tag!==0&&s===2){var a=xc(o);a!==0&&(i=a,s=Nk(o,a))}if(s===1)throw s=pk,Kk(o,0),Ck(o,i),Dk(o,B()),s;if(s===6)throw Error(p$2(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Pk(o,tk,uk),Dk(o,B()),null}function Qk(o,i){var s=K;K|=1;try{return o(i)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok.transition,a=C;try{if(ok.transition=null,C=1,o)return o()}finally{C=a,ok.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(o,i){o.finishedWork=null,o.finishedLanes=0;var s=o.timeoutHandle;if(s!==-1&&(o.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=o,Y=o=Pg(o.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,d=s.pending;if(d!==null){var g=d.next;d.next=c,a.next=g}s.pending=a}fh=null}return o}function Mk(o,i){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=i,Y=null;break}e:{var d=o,g=s.return,_=s,b=i;if(i=Z,_.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=b,$=_,_e=$.tag;if(!($.mode&1)&&(_e===0||_e===11||_e===15)){var et=$.alternate;et?($.updateQueue=et.updateQueue,$.memoizedState=et.memoizedState,$.lanes=et.lanes):($.updateQueue=null,$.memoizedState=null)}var rt=Ui(g);if(rt!==null){rt.flags&=-257,Vi(rt,g,_,d,i),rt.mode&1&&Si(d,j,i),i=rt,b=j;var ot=i.updateQueue;if(ot===null){var st=new Set;st.add(b),i.updateQueue=st}else ot.add(b);break e}else{if(!(i&1)){Si(d,j,i),tj();break e}b=Error(p$2(426))}}else if(I&&_.mode&1){var ft=Ui(g);if(ft!==null){!(ft.flags&65536)&&(ft.flags|=256),Vi(ft,g,_,d,i),Jg(Ji(b,_));break e}}d=b=Ji(b,_),T!==4&&(T=2),sk===null?sk=[d]:sk.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var tt=Ni(d,b,i);ph(d,tt);break e;case 1:_=b;var nt=d.type,it=d.stateNode;if(!(d.flags&128)&&(typeof nt.getDerivedStateFromError=="function"||it!==null&&typeof it.componentDidCatch=="function"&&(Ri===null||!Ri.has(it)))){d.flags|=65536,i&=-i,d.lanes|=i;var at=Qi(d,_,i);ph(d,at);break e}}d=d.return}while(d!==null)}Sk(s)}catch(pt){i=pt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var o=mk.current;return mk.current=Rh,o===null?Rh:o}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(o,i){var s=K;K|=2;var a=Jk();(Q!==o||Z!==i)&&(uk=null,Kk(o,i));do try{Tk();break}catch(c){Mk(o,c)}while(!0);if($g(),K=s,mk.current=a,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc$1();)Uk(Y)}function Uk(o){var i=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,i===null?Sk(o):Y=i,nk.current=null}function Sk(o){var i=o;do{var s=i.alternate;if(o=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y=s;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,i,fj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=o}while(i!==null);T===0&&(T=5)}function Pk(o,i,s){var a=C,c=ok.transition;try{ok.transition=null,C=1,Wk(o,i,s,a)}finally{ok.transition=c,C=a}return null}function Wk(o,i,s,a){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));s=o.finishedWork;var c=o.finishedLanes;if(s===null)return null;if(o.finishedWork=null,o.finishedLanes=0,s===o.current)throw Error(p$2(177));o.callbackNode=null,o.callbackPriority=0;var d=s.lanes|s.childLanes;if(Bc(o,d),o===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=ok.transition,ok.transition=null;var g=C;C=1;var _=K;K|=4,nk.current=null,Oj(o,s),dk(s,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=s,hk(s),dc(),K=_,C=g,ok.transition=d}else o.current=s;if(vk&&(vk=!1,wk=o,xk=c),d=o.pendingLanes,d===0&&(Ri=null),mc(s.stateNode),Dk(o,B()),i!==null)for(a=o.onRecoverableError,s=0;s<i.length;s++)c=i[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,o=Pi,Pi=null,o;return xk&1&&o.tag!==0&&Hk(),d=o.pendingLanes,d&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc(xk),i=ok.transition,s=C;try{if(ok.transition=null,C=16>o?16:o,wk===null)var a=!1;else{if(o=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var c=K;for(K|=4,V=o.current;V!==null;){var d=V,g=d.child;if(V.flags&16){var _=d.deletions;if(_!==null){for(var b=0;b<_.length;b++){var j=_[b];for(V=j;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,d)}var _e=$.child;if(_e!==null)_e.return=$,V=_e;else for(;V!==null;){$=V;var et=$.sibling,rt=$.return;if(Sj($),$===j){V=null;break}if(et!==null){et.return=rt,V=et;break}V=rt}}}var ot=d.alternate;if(ot!==null){var st=ot.child;if(st!==null){ot.child=null;do{var ft=st.sibling;st.sibling=null,st=ft}while(st!==null)}}V=d}}if(d.subtreeFlags&2064&&g!==null)g.return=d,V=g;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Pj(9,d,d.return)}var tt=d.sibling;if(tt!==null){tt.return=d.return,V=tt;break e}V=d.return}}var nt=o.current;for(V=nt;V!==null;){g=V;var it=g.child;if(g.subtreeFlags&2064&&it!==null)it.return=g,V=it;else e:for(g=nt;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qj(9,_)}}catch(pt){W(_,_.return,pt)}if(_===g){V=null;break e}var at=_.sibling;if(at!==null){at.return=_.return,V=at;break e}V=_.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}a=!0}return a}finally{C=s,ok.transition=i}}return!1}function Xk(o,i,s){i=Ji(s,i),i=Ni(o,i,1),o=nh(o,i,1),i=R(),o!==null&&(Ac(o,1,i),Dk(o,i))}function W(o,i,s){if(o.tag===3)Xk(o,o,s);else for(;i!==null;){if(i.tag===3){Xk(i,o,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){o=Ji(s,o),o=Qi(i,o,1),i=nh(i,o,1),o=R(),i!==null&&(Ac(i,1,o),Dk(i,o));break}}i=i.return}}function Ti(o,i,s){var a=o.pingCache;a!==null&&a.delete(i),i=R(),o.pingedLanes|=o.suspendedLanes&s,Q===o&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(o,0):rk|=s),Dk(o,i)}function Yk(o,i){i===0&&(o.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R();o=ih(o,i),o!==null&&(Ac(o,i,s),Dk(o,s))}function uj(o){var i=o.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(o,s)}function bk(o,i){var s=0;switch(o.tag){case 13:var a=o.stateNode,c=o.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=o.stateNode;break;default:throw Error(p$2(314))}a!==null&&a.delete(i),Yk(o,s)}var Vk;Vk=function(o,i,s){if(o!==null)if(o.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(o.lanes&s)&&!(i.flags&128))return dh=!1,yj(o,i,s);dh=!!(o.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;ij(o,i),o=i.pendingProps;var c=Yf(i,H.current);ch(i,s),c=Nh(null,i,a,o,c,s);var d=Sh();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(a)?(d=!0,cg(i)):d=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(i),c.updater=Ei,i.stateNode=c,c._reactInternals=i,Ii(i,a,o,s),i=jj(null,i,a,!0,d,s)):(i.tag=0,I&&d&&vg(i),Xi(null,i,c,s),i=i.child),i;case 16:a=i.elementType;e:{switch(ij(o,i),o=i.pendingProps,c=a._init,a=c(a._payload),i.type=a,c=i.tag=Zk(a),o=Ci(a,o),c){case 0:i=cj(null,i,a,o,s);break e;case 1:i=hj(null,i,a,o,s);break e;case 11:i=Yi(null,i,a,o,s);break e;case 14:i=$i(null,i,a,Ci(a.type,o),s);break e}throw Error(p$2(306,a,""))}return i;case 0:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),cj(o,i,a,c,s);case 1:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),hj(o,i,a,c,s);case 3:e:{if(kj(i),o===null)throw Error(p$2(387));a=i.pendingProps,d=i.memoizedState,c=d.element,lh(o,i),qh(i,a,null,s);var g=i.memoizedState;if(a=g.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){c=Ji(Error(p$2(423)),i),i=lj(o,i,a,s,c);break e}else if(a!==c){c=Ji(Error(p$2(424)),i),i=lj(o,i,a,s,c);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Vg(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===c){i=Zi(o,i,s);break e}Xi(o,i,a,s)}i=i.child}return i;case 5:return Ah(i),o===null&&Eg(i),a=i.type,c=i.pendingProps,d=o!==null?o.memoizedProps:null,g=c.children,Ef(a,c)?g=null:d!==null&&Ef(a,d)&&(i.flags|=32),gj(o,i),Xi(o,i,g,s),i.child;case 6:return o===null&&Eg(i),null;case 13:return oj(o,i,s);case 4:return yh(i,i.stateNode.containerInfo),a=i.pendingProps,o===null?i.child=Ug(i,null,a,s):Xi(o,i,a,s),i.child;case 11:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),Yi(o,i,a,c,s);case 7:return Xi(o,i,i.pendingProps,s),i.child;case 8:return Xi(o,i,i.pendingProps.children,s),i.child;case 12:return Xi(o,i,i.pendingProps.children,s),i.child;case 10:e:{if(a=i.type._context,c=i.pendingProps,d=i.memoizedProps,g=c.value,G(Wg,a._currentValue),a._currentValue=g,d!==null)if(He(d.value,g)){if(d.children===c.children&&!Wf.current){i=Zi(o,i,s);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var _=d.dependencies;if(_!==null){g=d.child;for(var b=_.firstContext;b!==null;){if(b.context===a){if(d.tag===1){b=mh(-1,s&-s),b.tag=2;var j=d.updateQueue;if(j!==null){j=j.shared;var $=j.pending;$===null?b.next=b:(b.next=$.next,$.next=b),j.pending=b}}d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),bh(d.return,s,i),_.lanes|=s;break}b=b.next}}else if(d.tag===10)g=d.type===i.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(p$2(341));g.lanes|=s,_=g.alternate,_!==null&&(_.lanes|=s),bh(g,s,i),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===i){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}Xi(o,i,c.children,s),i=i.child}return i;case 9:return c=i.type,a=i.pendingProps.children,ch(i,s),c=eh(c),a=a(c),i.flags|=1,Xi(o,i,a,s),i.child;case 14:return a=i.type,c=Ci(a,i.pendingProps),c=Ci(a.type,c),$i(o,i,a,c,s);case 15:return bj(o,i,i.type,i.pendingProps,s);case 17:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),ij(o,i),i.tag=1,Zf(a)?(o=!0,cg(i)):o=!1,ch(i,s),Gi(i,a,c),Ii(i,a,c,s),jj(null,i,a,!0,o,s);case 19:return xj(o,i,s);case 22:return dj(o,i,s)}throw Error(p$2(156,i.tag))};function Fk(o,i){return ac(o,i)}function $k(o,i,s,a){this.tag=o,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,i,s,a){return new $k(o,i,s,a)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function Pg(o,i){var s=o.alternate;return s===null?(s=Bg(o.tag,i,o.key,o.mode),s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.alternate=o,o.alternate=s):(s.pendingProps=i,s.type=o.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=o.flags&14680064,s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s}function Rg(o,i,s,a,c,d){var g=2;if(a=o,typeof o=="function")aj(o)&&(g=1);else if(typeof o=="string")g=5;else e:switch(o){case ya:return Tg(s.children,c,d,i);case za:g=8,c|=8;break;case Aa:return o=Bg(12,s,i,c|2),o.elementType=Aa,o.lanes=d,o;case Ea:return o=Bg(13,s,i,c),o.elementType=Ea,o.lanes=d,o;case Fa:return o=Bg(19,s,i,c),o.elementType=Fa,o.lanes=d,o;case Ia:return pj(s,c,d,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:g=10;break e;case Ca:g=9;break e;case Da:g=11;break e;case Ga:g=14;break e;case Ha:g=16,a=null;break e}throw Error(p$2(130,o==null?o:typeof o,""))}return i=Bg(g,s,i,c),i.elementType=o,i.type=a,i.lanes=d,i}function Tg(o,i,s,a){return o=Bg(7,o,a,i),o.lanes=s,o}function pj(o,i,s,a){return o=Bg(22,o,a,i),o.elementType=Ia,o.lanes=s,o.stateNode={isHidden:!1},o}function Qg(o,i,s){return o=Bg(6,o,null,i),o.lanes=s,o}function Sg(o,i,s){return i=Bg(4,o.children!==null?o.children:[],o.key,i),i.lanes=s,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function al(o,i,s,a,c){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(o,i,s,a,c,d,g,_,b){return o=new al(o,i,s,_,b),i===1?(i=1,d===!0&&(i|=8)):i=0,d=Bg(3,null,null,i),o.current=d,d.stateNode=o,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(d),o}function cl(o,i,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:o,containerInfo:i,implementation:s}}function dl(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$2(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$2(171))}if(o.tag===1){var s=o.type;if(Zf(s))return bg(o,s,i)}return i}function el(o,i,s,a,c,d,g,_,b){return o=bl(s,a,!0,o,c,d,g,_,b),o.context=dl(null),s=o.current,a=R(),c=yi(s),d=mh(a,c),d.callback=i??null,nh(s,d,c),o.current.lanes=c,Ac(o,c,a),Dk(o,a),o}function fl(o,i,s,a){var c=i.current,d=R(),g=yi(c);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(d,g),i.payload={element:o},a=a===void 0?null:a,a!==null&&(i.callback=a),o=nh(c,i,g),o!==null&&(gi(o,c,g,d),oh(o,c,g)),g}function gl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var s=o.retryLane;o.retryLane=s!==0&&s<i?s:i}}function il(o,i){hl(o,i),(o=o.alternate)&&hl(o,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll(o){this._internalRoot=o}ml.prototype.render=ll.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(p$2(409));fl(o,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Rk(function(){fl(null,o,null,null)}),i[uf]=null}};function ml(o){this._internalRoot=o}ml.prototype.unstable_scheduleHydration=function(o){if(o){var i=Hc();o={blockedOn:null,target:o,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,o),s===0&&Vc(o)}};function nl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(o,i,s,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var j=gl(g);d.call(j)}}var g=el(i,a,o,0,null,!1,!1,"",pl);return o._reactRootContainer=g,o[uf]=g.current,sf(o.nodeType===8?o.parentNode:o),Rk(),g}for(;c=o.lastChild;)o.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var j=gl(b);_.call(j)}}var b=bl(o,0,!1,null,null,!1,!1,"",pl);return o._reactRootContainer=b,o[uf]=b.current,sf(o.nodeType===8?o.parentNode:o),Rk(function(){fl(i,b,s,a)}),b}function rl(o,i,s,a,c){var d=s._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var _=c;c=function(){var b=gl(g);_.call(b)}}fl(i,g,o,c)}else g=ql(s,i,o,c,a);return gl(g)}Ec=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(o,1);if(a!==null){var c=R();gi(a,o,1,c)}}),il(o,1)}};Fc=function(o){if(o.tag===13){var i=ih(o,134217728);if(i!==null){var s=R();gi(i,o,134217728,s)}il(o,134217728)}};Gc=function(o){if(o.tag===13){var i=yi(o),s=ih(o,i);if(s!==null){var a=R();gi(s,o,i,a)}il(o,i)}};Hc=function(){return C};Ic=function(o,i){var s=C;try{return C=o,i()}finally{C=s}};yb=function(o,i,s){switch(i){case"input":if(bb(o,s),i=s.name,s.type==="radio"&&i!=null){for(s=o;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==o&&a.form===o.form){var c=Db(a);if(!c)throw Error(p$2(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(o,s);break;case"select":i=s.value,i!=null&&fb(o,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(o,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p$2(200));return cl(o,i,null,s)};reactDom_production_min.createRoot=function(o,i){if(!nl(o))throw Error(p$2(299));var s=!1,a="",c=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=bl(o,1,!1,null,null,s,!1,a,c),o[uf]=i.current,sf(o.nodeType===8?o.parentNode:o),new ll(i)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(p$2(188)):(o=Object.keys(o).join(","),Error(p$2(268,o)));return o=Zb(i),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,i,s){if(!ol(i))throw Error(p$2(200));return rl(null,o,i,!0,s)};reactDom_production_min.hydrateRoot=function(o,i,s){if(!nl(o))throw Error(p$2(405));var a=s!=null&&s.hydratedSources||null,c=!1,d="",g=kl;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),i=el(i,null,o,1,s??null,c,!1,d,g),o[uf]=i.current,sf(o),a)for(o=0;o<a.length;o++)s=a[o],c=s._getVersion,c=c(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,c]:i.mutableSourceEagerHydrationData.push(s,c);return new ml(i)};reactDom_production_min.render=function(o,i,s){if(!ol(i))throw Error(p$2(200));return rl(null,o,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol(o))throw Error(p$2(40));return o._reactRootContainer?(Rk(function(){rl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,i,s,a){if(!ol(s))throw Error(p$2(200));if(o==null||o._reactInternals===void 0)throw Error(p$2(38));return rl(o,i,s,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;function cc(o){if(typeof o=="string"||typeof o=="number")return""+o;let i="";if(Array.isArray(o))for(let s=0,a;s<o.length;s++)(a=cc(o[s]))!==""&&(i+=(i&&" ")+a);else for(let s in o)o[s]&&(i+=(i&&" ")+s);return i}var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$1(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n$1=e.useLayoutEffect,p$1=e.useDebugValue;function q$1(o,i){var s=i(),a=l({inst:{value:s,getSnapshot:i}}),c=a[0].inst,d=a[1];return n$1(function(){c.value=s,c.getSnapshot=i,r$1(c)&&d({inst:c})},[o,s,i]),m(function(){return r$1(c)&&d({inst:c}),o(function(){r$1(c)&&d({inst:c})})},[o]),p$1(s),s}function r$1(o){var i=o.getSnapshot;o=o.value;try{var s=i();return!k(o,s)}catch{return!0}}function t$1(o,i){return i()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=reactExports,n=shimExports;function p(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var q=typeof Object.is=="function"?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(o,i,s,a,c){var d=t(null);if(d.current===null){var g={hasValue:!1,value:null};d.current=g}else g=d.current;d=v(function(){function b(rt){if(!j){if(j=!0,$=rt,rt=a(rt),c!==void 0&&g.hasValue){var ot=g.value;if(c(ot,rt))return _e=ot}return _e=rt}if(ot=_e,q($,rt))return ot;var st=a(rt);return c!==void 0&&c(ot,st)?ot:($=rt,_e=st)}var j=!1,$,_e,et=s===void 0?null:s;return[function(){return b(i())},et===null?void 0:function(){return b(et())}]},[i,s,a,c]);var _=r(o,d[0],d[1]);return u(function(){g.hasValue=!0,g.value=_},[_]),w(_),_};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__$1={},createStoreImpl=o=>{let i;const s=new Set,a=($,_e)=>{const et=typeof $=="function"?$(i):$;if(!Object.is(et,i)){const rt=i;i=_e??(typeof et!="object"||et===null)?et:Object.assign({},i,et),s.forEach(ot=>ot(i,rt))}},c=()=>i,b={setState:a,getState:c,getInitialState:()=>j,subscribe:$=>(s.add($),()=>s.delete($)),destroy:()=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},j=i=o(a,c,b);return b},createStore=o=>o?createStoreImpl(o):createStoreImpl,{useDebugValue:useDebugValue$1}=React,{useSyncExternalStoreWithSelector:useSyncExternalStoreWithSelector$1}=useSyncExternalStoreExports,identity$3=o=>o;function useStoreWithEqualityFn(o,i=identity$3,s){const a=useSyncExternalStoreWithSelector$1(o.subscribe,o.getState,o.getServerState||o.getInitialState,i,s);return useDebugValue$1(a),a}const createWithEqualityFnImpl=(o,i)=>{const s=createStore(o),a=(c,d=i)=>useStoreWithEqualityFn(s,c,d);return Object.assign(a,s),a},createWithEqualityFn=(o,i)=>o?createWithEqualityFnImpl(o,i):createWithEqualityFnImpl;function shallow$1(o,i){if(Object.is(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;if(o instanceof Map&&i instanceof Map){if(o.size!==i.size)return!1;for(const[a,c]of o)if(!Object.is(c,i.get(a)))return!1;return!0}if(o instanceof Set&&i instanceof Set){if(o.size!==i.size)return!1;for(const a of o)if(!i.has(a))return!1;return!0}const s=Object.keys(o);if(s.length!==Object.keys(i).length)return!1;for(const a of s)if(!Object.prototype.hasOwnProperty.call(i,a)||!Object.is(o[a],i[a]))return!1;return!0}var noop$2={value:()=>{}};function dispatch(){for(var o=0,i=arguments.length,s={},a;o<i;++o){if(!(a=arguments[o]+"")||a in s||/[\s.]/.test(a))throw new Error("illegal type: "+a);s[a]=[]}return new Dispatch(s)}function Dispatch(o){this._=o}function parseTypenames$1(o,i){return o.trim().split(/^|\s+/).map(function(s){var a="",c=s.indexOf(".");if(c>=0&&(a=s.slice(c+1),s=s.slice(0,c)),s&&!i.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:a}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(o,i){var s=this._,a=parseTypenames$1(o+"",s),c,d=-1,g=a.length;if(arguments.length<2){for(;++d<g;)if((c=(o=a[d]).type)&&(c=get$1(s[c],o.name)))return c;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++d<g;)if(c=(o=a[d]).type)s[c]=set$1(s[c],o.name,i);else if(i==null)for(c in s)s[c]=set$1(s[c],o.name,null);return this},copy:function(){var o={},i=this._;for(var s in i)o[s]=i[s].slice();return new Dispatch(o)},call:function(o,i){if((c=arguments.length-2)>0)for(var s=new Array(c),a=0,c,d;a<c;++a)s[a]=arguments[a+2];if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(d=this._[o],a=0,c=d.length;a<c;++a)d[a].value.apply(i,s)},apply:function(o,i,s){if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(var a=this._[o],c=0,d=a.length;c<d;++c)a[c].value.apply(i,s)}};function get$1(o,i){for(var s=0,a=o.length,c;s<a;++s)if((c=o[s]).name===i)return c.value}function set$1(o,i,s){for(var a=0,c=o.length;a<c;++a)if(o[a].name===i){o[a]=noop$2,o=o.slice(0,a).concat(o.slice(a+1));break}return s!=null&&o.push({name:i,value:s}),o}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(o){var i=o+="",s=i.indexOf(":");return s>=0&&(i=o.slice(0,s))!=="xmlns"&&(o=o.slice(s+1)),namespaces.hasOwnProperty(i)?{space:namespaces[i],local:o}:o}function creatorInherit(o){return function(){var i=this.ownerDocument,s=this.namespaceURI;return s===xhtml&&i.documentElement.namespaceURI===xhtml?i.createElement(o):i.createElementNS(s,o)}}function creatorFixed(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}function creator(o){var i=namespace(o);return(i.local?creatorFixed:creatorInherit)(i)}function none(){}function selector$1(o){return o==null?none:function(){return this.querySelector(o)}}function selection_select(o){typeof o!="function"&&(o=selector$1(o));for(var i=this._groups,s=i.length,a=new Array(s),c=0;c<s;++c)for(var d=i[c],g=d.length,_=a[c]=new Array(g),b,j,$=0;$<g;++$)(b=d[$])&&(j=o.call(b,b.__data__,$,d))&&("__data__"in b&&(j.__data__=b.__data__),_[$]=j);return new Selection$1(a,this._parents)}function array(o){return o==null?[]:Array.isArray(o)?o:Array.from(o)}function empty(){return[]}function selectorAll(o){return o==null?empty:function(){return this.querySelectorAll(o)}}function arrayAll(o){return function(){return array(o.apply(this,arguments))}}function selection_selectAll(o){typeof o=="function"?o=arrayAll(o):o=selectorAll(o);for(var i=this._groups,s=i.length,a=[],c=[],d=0;d<s;++d)for(var g=i[d],_=g.length,b,j=0;j<_;++j)(b=g[j])&&(a.push(o.call(b,b.__data__,j,g)),c.push(b));return new Selection$1(a,c)}function matcher(o){return function(){return this.matches(o)}}function childMatcher(o){return function(i){return i.matches(o)}}var find=Array.prototype.find;function childFind(o){return function(){return find.call(this.children,o)}}function childFirst(){return this.firstElementChild}function selection_selectChild(o){return this.select(o==null?childFirst:childFind(typeof o=="function"?o:childMatcher(o)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(o){return function(){return filter.call(this.children,o)}}function selection_selectChildren(o){return this.selectAll(o==null?children:childrenFilter(typeof o=="function"?o:childMatcher(o)))}function selection_filter(o){typeof o!="function"&&(o=matcher(o));for(var i=this._groups,s=i.length,a=new Array(s),c=0;c<s;++c)for(var d=i[c],g=d.length,_=a[c]=[],b,j=0;j<g;++j)(b=d[j])&&o.call(b,b.__data__,j,d)&&_.push(b);return new Selection$1(a,this._parents)}function sparse(o){return new Array(o.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(o,i){this.ownerDocument=o.ownerDocument,this.namespaceURI=o.namespaceURI,this._next=null,this._parent=o,this.__data__=i}EnterNode.prototype={constructor:EnterNode,appendChild:function(o){return this._parent.insertBefore(o,this._next)},insertBefore:function(o,i){return this._parent.insertBefore(o,i)},querySelector:function(o){return this._parent.querySelector(o)},querySelectorAll:function(o){return this._parent.querySelectorAll(o)}};function constant$3(o){return function(){return o}}function bindIndex(o,i,s,a,c,d){for(var g=0,_,b=i.length,j=d.length;g<j;++g)(_=i[g])?(_.__data__=d[g],a[g]=_):s[g]=new EnterNode(o,d[g]);for(;g<b;++g)(_=i[g])&&(c[g]=_)}function bindKey(o,i,s,a,c,d,g){var _,b,j=new Map,$=i.length,_e=d.length,et=new Array($),rt;for(_=0;_<$;++_)(b=i[_])&&(et[_]=rt=g.call(b,b.__data__,_,i)+"",j.has(rt)?c[_]=b:j.set(rt,b));for(_=0;_<_e;++_)rt=g.call(o,d[_],_,d)+"",(b=j.get(rt))?(a[_]=b,b.__data__=d[_],j.delete(rt)):s[_]=new EnterNode(o,d[_]);for(_=0;_<$;++_)(b=i[_])&&j.get(et[_])===b&&(c[_]=b)}function datum(o){return o.__data__}function selection_data(o,i){if(!arguments.length)return Array.from(this,datum);var s=i?bindKey:bindIndex,a=this._parents,c=this._groups;typeof o!="function"&&(o=constant$3(o));for(var d=c.length,g=new Array(d),_=new Array(d),b=new Array(d),j=0;j<d;++j){var $=a[j],_e=c[j],et=_e.length,rt=arraylike(o.call($,$&&$.__data__,j,a)),ot=rt.length,st=_[j]=new Array(ot),ft=g[j]=new Array(ot),tt=b[j]=new Array(et);s($,_e,st,ft,tt,rt,i);for(var nt=0,it=0,at,pt;nt<ot;++nt)if(at=st[nt]){for(nt>=it&&(it=nt+1);!(pt=ft[it])&&++it<ot;);at._next=pt||null}}return g=new Selection$1(g,a),g._enter=_,g._exit=b,g}function arraylike(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(o,i,s){var a=this.enter(),c=this,d=this.exit();return typeof o=="function"?(a=o(a),a&&(a=a.selection())):a=a.append(o+""),i!=null&&(c=i(c),c&&(c=c.selection())),s==null?d.remove():s(d),a&&c?a.merge(c).order():c}function selection_merge(o){for(var i=o.selection?o.selection():o,s=this._groups,a=i._groups,c=s.length,d=a.length,g=Math.min(c,d),_=new Array(c),b=0;b<g;++b)for(var j=s[b],$=a[b],_e=j.length,et=_[b]=new Array(_e),rt,ot=0;ot<_e;++ot)(rt=j[ot]||$[ot])&&(et[ot]=rt);for(;b<c;++b)_[b]=s[b];return new Selection$1(_,this._parents)}function selection_order(){for(var o=this._groups,i=-1,s=o.length;++i<s;)for(var a=o[i],c=a.length-1,d=a[c],g;--c>=0;)(g=a[c])&&(d&&g.compareDocumentPosition(d)^4&&d.parentNode.insertBefore(g,d),d=g);return this}function selection_sort(o){o||(o=ascending);function i(_e,et){return _e&&et?o(_e.__data__,et.__data__):!_e-!et}for(var s=this._groups,a=s.length,c=new Array(a),d=0;d<a;++d){for(var g=s[d],_=g.length,b=c[d]=new Array(_),j,$=0;$<_;++$)(j=g[$])&&(b[$]=j);b.sort(i)}return new Selection$1(c,this._parents).order()}function ascending(o,i){return o<i?-1:o>i?1:o>=i?0:NaN}function selection_call(){var o=arguments[0];return arguments[0]=this,o.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var o=this._groups,i=0,s=o.length;i<s;++i)for(var a=o[i],c=0,d=a.length;c<d;++c){var g=a[c];if(g)return g}return null}function selection_size(){let o=0;for(const i of this)++o;return o}function selection_empty(){return!this.node()}function selection_each(o){for(var i=this._groups,s=0,a=i.length;s<a;++s)for(var c=i[s],d=0,g=c.length,_;d<g;++d)(_=c[d])&&o.call(_,_.__data__,d,c);return this}function attrRemove$1(o){return function(){this.removeAttribute(o)}}function attrRemoveNS$1(o){return function(){this.removeAttributeNS(o.space,o.local)}}function attrConstant$1(o,i){return function(){this.setAttribute(o,i)}}function attrConstantNS$1(o,i){return function(){this.setAttributeNS(o.space,o.local,i)}}function attrFunction$1(o,i){return function(){var s=i.apply(this,arguments);s==null?this.removeAttribute(o):this.setAttribute(o,s)}}function attrFunctionNS$1(o,i){return function(){var s=i.apply(this,arguments);s==null?this.removeAttributeNS(o.space,o.local):this.setAttributeNS(o.space,o.local,s)}}function selection_attr(o,i){var s=namespace(o);if(arguments.length<2){var a=this.node();return s.local?a.getAttributeNS(s.space,s.local):a.getAttribute(s)}return this.each((i==null?s.local?attrRemoveNS$1:attrRemove$1:typeof i=="function"?s.local?attrFunctionNS$1:attrFunction$1:s.local?attrConstantNS$1:attrConstant$1)(s,i))}function defaultView(o){return o.ownerDocument&&o.ownerDocument.defaultView||o.document&&o||o.defaultView}function styleRemove$1(o){return function(){this.style.removeProperty(o)}}function styleConstant$1(o,i,s){return function(){this.style.setProperty(o,i,s)}}function styleFunction$1(o,i,s){return function(){var a=i.apply(this,arguments);a==null?this.style.removeProperty(o):this.style.setProperty(o,a,s)}}function selection_style(o,i,s){return arguments.length>1?this.each((i==null?styleRemove$1:typeof i=="function"?styleFunction$1:styleConstant$1)(o,i,s??"")):styleValue(this.node(),o)}function styleValue(o,i){return o.style.getPropertyValue(i)||defaultView(o).getComputedStyle(o,null).getPropertyValue(i)}function propertyRemove(o){return function(){delete this[o]}}function propertyConstant(o,i){return function(){this[o]=i}}function propertyFunction(o,i){return function(){var s=i.apply(this,arguments);s==null?delete this[o]:this[o]=s}}function selection_property(o,i){return arguments.length>1?this.each((i==null?propertyRemove:typeof i=="function"?propertyFunction:propertyConstant)(o,i)):this.node()[o]}function classArray(o){return o.trim().split(/^|\s+/)}function classList(o){return o.classList||new ClassList(o)}function ClassList(o){this._node=o,this._names=classArray(o.getAttribute("class")||"")}ClassList.prototype={add:function(o){var i=this._names.indexOf(o);i<0&&(this._names.push(o),this._node.setAttribute("class",this._names.join(" ")))},remove:function(o){var i=this._names.indexOf(o);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(o){return this._names.indexOf(o)>=0}};function classedAdd(o,i){for(var s=classList(o),a=-1,c=i.length;++a<c;)s.add(i[a])}function classedRemove(o,i){for(var s=classList(o),a=-1,c=i.length;++a<c;)s.remove(i[a])}function classedTrue(o){return function(){classedAdd(this,o)}}function classedFalse(o){return function(){classedRemove(this,o)}}function classedFunction(o,i){return function(){(i.apply(this,arguments)?classedAdd:classedRemove)(this,o)}}function selection_classed(o,i){var s=classArray(o+"");if(arguments.length<2){for(var a=classList(this.node()),c=-1,d=s.length;++c<d;)if(!a.contains(s[c]))return!1;return!0}return this.each((typeof i=="function"?classedFunction:i?classedTrue:classedFalse)(s,i))}function textRemove(){this.textContent=""}function textConstant$1(o){return function(){this.textContent=o}}function textFunction$1(o){return function(){var i=o.apply(this,arguments);this.textContent=i??""}}function selection_text(o){return arguments.length?this.each(o==null?textRemove:(typeof o=="function"?textFunction$1:textConstant$1)(o)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(o){return function(){this.innerHTML=o}}function htmlFunction(o){return function(){var i=o.apply(this,arguments);this.innerHTML=i??""}}function selection_html(o){return arguments.length?this.each(o==null?htmlRemove:(typeof o=="function"?htmlFunction:htmlConstant)(o)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(o){var i=typeof o=="function"?o:creator(o);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function constantNull(){return null}function selection_insert(o,i){var s=typeof o=="function"?o:creator(o),a=i==null?constantNull:typeof i=="function"?i:selector$1(i);return this.select(function(){return this.insertBefore(s.apply(this,arguments),a.apply(this,arguments)||null)})}function remove(){var o=this.parentNode;o&&o.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var o=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(o,this.nextSibling):o}function selection_cloneDeep(){var o=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(o,this.nextSibling):o}function selection_clone(o){return this.select(o?selection_cloneDeep:selection_cloneShallow)}function selection_datum(o){return arguments.length?this.property("__data__",o):this.node().__data__}function contextListener(o){return function(i){o.call(this,i,this.__data__)}}function parseTypenames(o){return o.trim().split(/^|\s+/).map(function(i){var s="",a=i.indexOf(".");return a>=0&&(s=i.slice(a+1),i=i.slice(0,a)),{type:i,name:s}})}function onRemove(o){return function(){var i=this.__on;if(i){for(var s=0,a=-1,c=i.length,d;s<c;++s)d=i[s],(!o.type||d.type===o.type)&&d.name===o.name?this.removeEventListener(d.type,d.listener,d.options):i[++a]=d;++a?i.length=a:delete this.__on}}}function onAdd(o,i,s){return function(){var a=this.__on,c,d=contextListener(i);if(a){for(var g=0,_=a.length;g<_;++g)if((c=a[g]).type===o.type&&c.name===o.name){this.removeEventListener(c.type,c.listener,c.options),this.addEventListener(c.type,c.listener=d,c.options=s),c.value=i;return}}this.addEventListener(o.type,d,s),c={type:o.type,name:o.name,value:i,listener:d,options:s},a?a.push(c):this.__on=[c]}}function selection_on(o,i,s){var a=parseTypenames(o+""),c,d=a.length,g;if(arguments.length<2){var _=this.node().__on;if(_){for(var b=0,j=_.length,$;b<j;++b)for(c=0,$=_[b];c<d;++c)if((g=a[c]).type===$.type&&g.name===$.name)return $.value}return}for(_=i?onAdd:onRemove,c=0;c<d;++c)this.each(_(a[c],i,s));return this}function dispatchEvent(o,i,s){var a=defaultView(o),c=a.CustomEvent;typeof c=="function"?c=new c(i,s):(c=a.document.createEvent("Event"),s?(c.initEvent(i,s.bubbles,s.cancelable),c.detail=s.detail):c.initEvent(i,!1,!1)),o.dispatchEvent(c)}function dispatchConstant(o,i){return function(){return dispatchEvent(this,o,i)}}function dispatchFunction(o,i){return function(){return dispatchEvent(this,o,i.apply(this,arguments))}}function selection_dispatch(o,i){return this.each((typeof i=="function"?dispatchFunction:dispatchConstant)(o,i))}function*selection_iterator(){for(var o=this._groups,i=0,s=o.length;i<s;++i)for(var a=o[i],c=0,d=a.length,g;c<d;++c)(g=a[c])&&(yield g)}var root=[null];function Selection$1(o,i){this._groups=o,this._parents=i}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(o){return typeof o=="string"?new Selection$1([[document.querySelector(o)]],[document.documentElement]):new Selection$1([[o]],root)}function sourceEvent(o){let i;for(;i=o.sourceEvent;)o=i;return o}function pointer(o,i){if(o=sourceEvent(o),i===void 0&&(i=o.currentTarget),i){var s=i.ownerSVGElement||i;if(s.createSVGPoint){var a=s.createSVGPoint();return a.x=o.clientX,a.y=o.clientY,a=a.matrixTransform(i.getScreenCTM().inverse()),[a.x,a.y]}if(i.getBoundingClientRect){var c=i.getBoundingClientRect();return[o.clientX-c.left-i.clientLeft,o.clientY-c.top-i.clientTop]}}return[o.pageX,o.pageY]}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$1(o){o.stopImmediatePropagation()}function noevent$1(o){o.preventDefault(),o.stopImmediatePropagation()}function dragDisable(o){var i=o.document.documentElement,s=select(o).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in i?s.on("selectstart.drag",noevent$1,nonpassivecapture):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function yesdrag(o,i){var s=o.document.documentElement,a=select(o).on("dragstart.drag",null);i&&(a.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in s?a.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const constant$2=o=>()=>o;function DragEvent(o,{sourceEvent:i,subject:s,target:a,identifier:c,active:d,x:g,y:_,dx:b,dy:j,dispatch:$}){Object.defineProperties(this,{type:{value:o,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:c,enumerable:!0,configurable:!0},active:{value:d,enumerable:!0,configurable:!0},x:{value:g,enumerable:!0,configurable:!0},y:{value:_,enumerable:!0,configurable:!0},dx:{value:b,enumerable:!0,configurable:!0},dy:{value:j,enumerable:!0,configurable:!0},_:{value:$}})}DragEvent.prototype.on=function(){var o=this._.on.apply(this._,arguments);return o===this._?this:o};function defaultFilter$1(o){return!o.ctrlKey&&!o.button}function defaultContainer(){return this.parentNode}function defaultSubject(o,i){return i??{x:o.x,y:o.y}}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var o=defaultFilter$1,i=defaultContainer,s=defaultSubject,a=defaultTouchable$1,c={},d=dispatch("start","drag","end"),g=0,_,b,j,$,_e=0;function et(at){at.on("mousedown.drag",rt).filter(a).on("touchstart.drag",ft).on("touchmove.drag",tt,nonpassive).on("touchend.drag touchcancel.drag",nt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function rt(at,pt){if(!($||!o.call(this,at,pt))){var yt=it(this,i.call(this,at,pt),at,pt,"mouse");yt&&(select(at.view).on("mousemove.drag",ot,nonpassivecapture).on("mouseup.drag",st,nonpassivecapture),dragDisable(at.view),nopropagation$1(at),j=!1,_=at.clientX,b=at.clientY,yt("start",at))}}function ot(at){if(noevent$1(at),!j){var pt=at.clientX-_,yt=at.clientY-b;j=pt*pt+yt*yt>_e}c.mouse("drag",at)}function st(at){select(at.view).on("mousemove.drag mouseup.drag",null),yesdrag(at.view,j),noevent$1(at),c.mouse("end",at)}function ft(at,pt){if(o.call(this,at,pt)){var yt=at.changedTouches,dt=i.call(this,at,pt),vt=yt.length,wt,St;for(wt=0;wt<vt;++wt)(St=it(this,dt,at,pt,yt[wt].identifier,yt[wt]))&&(nopropagation$1(at),St("start",at,yt[wt]))}}function tt(at){var pt=at.changedTouches,yt=pt.length,dt,vt;for(dt=0;dt<yt;++dt)(vt=c[pt[dt].identifier])&&(noevent$1(at),vt("drag",at,pt[dt]))}function nt(at){var pt=at.changedTouches,yt=pt.length,dt,vt;for($&&clearTimeout($),$=setTimeout(function(){$=null},500),dt=0;dt<yt;++dt)(vt=c[pt[dt].identifier])&&(nopropagation$1(at),vt("end",at,pt[dt]))}function it(at,pt,yt,dt,vt,wt){var St=d.copy(),Tt=pointer(wt||yt,pt),bt,kt,lt;if((lt=s.call(at,new DragEvent("beforestart",{sourceEvent:yt,target:et,identifier:vt,active:g,x:Tt[0],y:Tt[1],dx:0,dy:0,dispatch:St}),dt))!=null)return bt=lt.x-Tt[0]||0,kt=lt.y-Tt[1]||0,function xt(gt,_t,ct){var ut=Tt,mt;switch(gt){case"start":c[vt]=xt,mt=g++;break;case"end":delete c[vt],--g;case"drag":Tt=pointer(ct||_t,pt),mt=g;break}St.call(gt,at,new DragEvent(gt,{sourceEvent:_t,subject:lt,target:et,identifier:vt,active:mt,x:Tt[0]+bt,y:Tt[1]+kt,dx:Tt[0]-ut[0],dy:Tt[1]-ut[1],dispatch:St}),dt)}}return et.filter=function(at){return arguments.length?(o=typeof at=="function"?at:constant$2(!!at),et):o},et.container=function(at){return arguments.length?(i=typeof at=="function"?at:constant$2(at),et):i},et.subject=function(at){return arguments.length?(s=typeof at=="function"?at:constant$2(at),et):s},et.touchable=function(at){return arguments.length?(a=typeof at=="function"?at:constant$2(!!at),et):a},et.on=function(){var at=d.on.apply(d,arguments);return at===d?et:at},et.clickDistance=function(at){return arguments.length?(_e=(at=+at)*at,et):Math.sqrt(_e)},et}function define(o,i,s){o.prototype=i.prototype=s,s.constructor=o}function extend(o,i){var s=Object.create(o.prototype);for(var a in i)s[a]=i[a];return s}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(o){var i,s;return o=(o+"").trim().toLowerCase(),(i=reHex.exec(o))?(s=i[1].length,i=parseInt(i[1],16),s===6?rgbn(i):s===3?new Rgb(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):s===8?rgba(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):s===4?rgba(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=reRgbInteger.exec(o))?new Rgb(i[1],i[2],i[3],1):(i=reRgbPercent.exec(o))?new Rgb(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=reRgbaInteger.exec(o))?rgba(i[1],i[2],i[3],i[4]):(i=reRgbaPercent.exec(o))?rgba(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=reHslPercent.exec(o))?hsla(i[1],i[2]/100,i[3]/100,1):(i=reHslaPercent.exec(o))?hsla(i[1],i[2]/100,i[3]/100,i[4]):named.hasOwnProperty(o)?rgbn(named[o]):o==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(o){return new Rgb(o>>16&255,o>>8&255,o&255,1)}function rgba(o,i,s,a){return a<=0&&(o=i=s=NaN),new Rgb(o,i,s,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function rgb(o,i,s,a){return arguments.length===1?rgbConvert(o):new Rgb(o,i,s,a??1)}function Rgb(o,i,s,a){this.r=+o,this.g=+i,this.b=+s,this.opacity=+a}define(Rgb,rgb,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const o=clampa(this.opacity);return`${o===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${o===1?")":`, ${o})`}`}function clampa(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function clampi(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function hex(o){return o=clampi(o),(o<16?"0":"")+o.toString(16)}function hsla(o,i,s,a){return a<=0?o=i=s=NaN:s<=0||s>=1?o=i=NaN:i<=0&&(o=NaN),new Hsl(o,i,s,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var i=o.r/255,s=o.g/255,a=o.b/255,c=Math.min(i,s,a),d=Math.max(i,s,a),g=NaN,_=d-c,b=(d+c)/2;return _?(i===d?g=(s-a)/_+(s<a)*6:s===d?g=(a-i)/_+2:g=(i-s)/_+4,_/=b<.5?d+c:2-d-c,g*=60):_=b>0&&b<1?0:g,new Hsl(g,_,b,o.opacity)}function hsl(o,i,s,a){return arguments.length===1?hslConvert(o):new Hsl(o,i,s,a??1)}function Hsl(o,i,s,a){this.h=+o,this.s=+i,this.l=+s,this.opacity=+a}define(Hsl,hsl,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,i=isNaN(o)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*i,c=2*s-a;return new Rgb(hsl2rgb(o>=240?o-240:o+120,c,a),hsl2rgb(o,c,a),hsl2rgb(o<120?o+240:o-120,c,a),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=clampa(this.opacity);return`${o===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${o===1?")":`, ${o})`}`}}));function clamph(o){return o=(o||0)%360,o<0?o+360:o}function clampt(o){return Math.max(0,Math.min(1,o||0))}function hsl2rgb(o,i,s){return(o<60?i+(s-i)*o/60:o<180?s:o<240?i+(s-i)*(240-o)/60:i)*255}const constant$1=o=>()=>o;function linear(o,i){return function(s){return o+s*i}}function exponential(o,i,s){return o=Math.pow(o,s),i=Math.pow(i,s)-o,s=1/s,function(a){return Math.pow(o+a*i,s)}}function gamma(o){return(o=+o)==1?nogamma:function(i,s){return s-i?exponential(i,s,o):constant$1(isNaN(i)?s:i)}}function nogamma(o,i){var s=i-o;return s?linear(o,s):constant$1(isNaN(o)?i:o)}const interpolateRgb=function o(i){var s=gamma(i);function a(c,d){var g=s((c=rgb(c)).r,(d=rgb(d)).r),_=s(c.g,d.g),b=s(c.b,d.b),j=nogamma(c.opacity,d.opacity);return function($){return c.r=g($),c.g=_($),c.b=b($),c.opacity=j($),c+""}}return a.gamma=o,a}(1);function interpolateNumber(o,i){return o=+o,i=+i,function(s){return o*(1-s)+i*s}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(o){return function(){return o}}function one(o){return function(i){return o(i)+""}}function interpolateString(o,i){var s=reA.lastIndex=reB.lastIndex=0,a,c,d,g=-1,_=[],b=[];for(o=o+"",i=i+"";(a=reA.exec(o))&&(c=reB.exec(i));)(d=c.index)>s&&(d=i.slice(s,d),_[g]?_[g]+=d:_[++g]=d),(a=a[0])===(c=c[0])?_[g]?_[g]+=c:_[++g]=c:(_[++g]=null,b.push({i:g,x:interpolateNumber(a,c)})),s=reB.lastIndex;return s<i.length&&(d=i.slice(s),_[g]?_[g]+=d:_[++g]=d),_.length<2?b[0]?one(b[0].x):zero(i):(i=b.length,function(j){for(var $=0,_e;$<i;++$)_[(_e=b[$]).i]=_e.x(j);return _.join("")})}var degrees=180/Math.PI,identity$2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(o,i,s,a,c,d){var g,_,b;return(g=Math.sqrt(o*o+i*i))&&(o/=g,i/=g),(b=o*s+i*a)&&(s-=o*b,a-=i*b),(_=Math.sqrt(s*s+a*a))&&(s/=_,a/=_,b/=_),o*a<i*s&&(o=-o,i=-i,b=-b,g=-g),{translateX:c,translateY:d,rotate:Math.atan2(i,o)*degrees,skewX:Math.atan(b)*degrees,scaleX:g,scaleY:_}}var svgNode;function parseCss(o){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(o+"");return i.isIdentity?identity$2:decompose(i.a,i.b,i.c,i.d,i.e,i.f)}function parseSvg(o){return o==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",o),!(o=svgNode.transform.baseVal.consolidate()))?identity$2:(o=o.matrix,decompose(o.a,o.b,o.c,o.d,o.e,o.f))}function interpolateTransform(o,i,s,a){function c(j){return j.length?j.pop()+" ":""}function d(j,$,_e,et,rt,ot){if(j!==_e||$!==et){var st=rt.push("translate(",null,i,null,s);ot.push({i:st-4,x:interpolateNumber(j,_e)},{i:st-2,x:interpolateNumber($,et)})}else(_e||et)&&rt.push("translate("+_e+i+et+s)}function g(j,$,_e,et){j!==$?(j-$>180?$+=360:$-j>180&&(j+=360),et.push({i:_e.push(c(_e)+"rotate(",null,a)-2,x:interpolateNumber(j,$)})):$&&_e.push(c(_e)+"rotate("+$+a)}function _(j,$,_e,et){j!==$?et.push({i:_e.push(c(_e)+"skewX(",null,a)-2,x:interpolateNumber(j,$)}):$&&_e.push(c(_e)+"skewX("+$+a)}function b(j,$,_e,et,rt,ot){if(j!==_e||$!==et){var st=rt.push(c(rt)+"scale(",null,",",null,")");ot.push({i:st-4,x:interpolateNumber(j,_e)},{i:st-2,x:interpolateNumber($,et)})}else(_e!==1||et!==1)&&rt.push(c(rt)+"scale("+_e+","+et+")")}return function(j,$){var _e=[],et=[];return j=o(j),$=o($),d(j.translateX,j.translateY,$.translateX,$.translateY,_e,et),g(j.rotate,$.rotate,_e,et),_(j.skewX,$.skewX,_e,et),b(j.scaleX,j.scaleY,$.scaleX,$.scaleY,_e,et),j=$=null,function(rt){for(var ot=-1,st=et.length,ft;++ot<st;)_e[(ft=et[ot]).i]=ft.x(rt);return _e.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2=1e-12;function cosh(o){return((o=Math.exp(o))+1/o)/2}function sinh(o){return((o=Math.exp(o))-1/o)/2}function tanh(o){return((o=Math.exp(2*o))-1)/(o+1)}const interpolateZoom=function o(i,s,a){function c(d,g){var _=d[0],b=d[1],j=d[2],$=g[0],_e=g[1],et=g[2],rt=$-_,ot=_e-b,st=rt*rt+ot*ot,ft,tt;if(st<epsilon2)tt=Math.log(et/j)/i,ft=function(dt){return[_+dt*rt,b+dt*ot,j*Math.exp(i*dt*tt)]};else{var nt=Math.sqrt(st),it=(et*et-j*j+a*st)/(2*j*s*nt),at=(et*et-j*j-a*st)/(2*et*s*nt),pt=Math.log(Math.sqrt(it*it+1)-it),yt=Math.log(Math.sqrt(at*at+1)-at);tt=(yt-pt)/i,ft=function(dt){var vt=dt*tt,wt=cosh(pt),St=j/(s*nt)*(wt*tanh(i*vt+pt)-sinh(pt));return[_+St*rt,b+St*ot,j*wt/cosh(i*vt+pt)]}}return ft.duration=tt*1e3*i/Math.SQRT2,ft}return c.rho=function(d){var g=Math.max(.001,+d),_=g*g,b=_*_;return o(g,_,b)},c}(Math.SQRT2,2,4);var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(o,i,s){if(typeof o!="function")throw new TypeError("callback is not a function");s=(s==null?now():+s)+(i==null?0:+i),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=o,this._time=s,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(o,i,s){var a=new Timer;return a.restart(o,i,s),a}function timerFlush(){now(),++frame;for(var o=taskHead,i;o;)(i=clockNow-o._time)>=0&&o._call.call(void 0,i),o=o._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var o=clock.now(),i=o-clockLast;i>pokeDelay&&(clockSkew-=i,clockLast=o)}function nap(){for(var o,i=taskHead,s,a=1/0;i;)i._call?(a>i._time&&(a=i._time),o=i,i=i._next):(s=i._next,i._next=null,i=o?o._next=s:taskHead=s);taskTail=o,sleep(a)}function sleep(o){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var i=o-clockNow;i>24?(o<1/0&&(timeout$1=setTimeout(wake,o-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(o,i,s){var a=new Timer;return i=i==null?0:+i,a.restart(c=>{a.stop(),o(c+i)},i,s),a}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(o,i,s,a,c,d){var g=o.__transition;if(!g)o.__transition={};else if(s in g)return;create$3(o,s,{name:i,index:a,group:c,on:emptyOn,tween:emptyTween,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:CREATED})}function init(o,i){var s=get(o,i);if(s.state>CREATED)throw new Error("too late; already scheduled");return s}function set(o,i){var s=get(o,i);if(s.state>STARTED)throw new Error("too late; already running");return s}function get(o,i){var s=o.__transition;if(!s||!(s=s[i]))throw new Error("transition not found");return s}function create$3(o,i,s){var a=o.__transition,c;a[i]=s,s.timer=timer(d,0,s.time);function d(j){s.state=SCHEDULED,s.timer.restart(g,s.delay,s.time),s.delay<=j&&g(j-s.delay)}function g(j){var $,_e,et,rt;if(s.state!==SCHEDULED)return b();for($ in a)if(rt=a[$],rt.name===s.name){if(rt.state===STARTED)return timeout(g);rt.state===RUNNING?(rt.state=ENDED,rt.timer.stop(),rt.on.call("interrupt",o,o.__data__,rt.index,rt.group),delete a[$]):+$<i&&(rt.state=ENDED,rt.timer.stop(),rt.on.call("cancel",o,o.__data__,rt.index,rt.group),delete a[$])}if(timeout(function(){s.state===STARTED&&(s.state=RUNNING,s.timer.restart(_,s.delay,s.time),_(j))}),s.state=STARTING,s.on.call("start",o,o.__data__,s.index,s.group),s.state===STARTING){for(s.state=STARTED,c=new Array(et=s.tween.length),$=0,_e=-1;$<et;++$)(rt=s.tween[$].value.call(o,o.__data__,s.index,s.group))&&(c[++_e]=rt);c.length=_e+1}}function _(j){for(var $=j<s.duration?s.ease.call(null,j/s.duration):(s.timer.restart(b),s.state=ENDING,1),_e=-1,et=c.length;++_e<et;)c[_e].call(o,$);s.state===ENDING&&(s.on.call("end",o,o.__data__,s.index,s.group),b())}function b(){s.state=ENDED,s.timer.stop(),delete a[i];for(var j in a)return;delete o.__transition}}function interrupt(o,i){var s=o.__transition,a,c,d=!0,g;if(s){i=i==null?null:i+"";for(g in s){if((a=s[g]).name!==i){d=!1;continue}c=a.state>STARTING&&a.state<ENDING,a.state=ENDED,a.timer.stop(),a.on.call(c?"interrupt":"cancel",o,o.__data__,a.index,a.group),delete s[g]}d&&delete o.__transition}}function selection_interrupt(o){return this.each(function(){interrupt(this,o)})}function tweenRemove(o,i){var s,a;return function(){var c=set(this,o),d=c.tween;if(d!==s){a=s=d;for(var g=0,_=a.length;g<_;++g)if(a[g].name===i){a=a.slice(),a.splice(g,1);break}}c.tween=a}}function tweenFunction(o,i,s){var a,c;if(typeof s!="function")throw new Error;return function(){var d=set(this,o),g=d.tween;if(g!==a){c=(a=g).slice();for(var _={name:i,value:s},b=0,j=c.length;b<j;++b)if(c[b].name===i){c[b]=_;break}b===j&&c.push(_)}d.tween=c}}function transition_tween(o,i){var s=this._id;if(o+="",arguments.length<2){for(var a=get(this.node(),s).tween,c=0,d=a.length,g;c<d;++c)if((g=a[c]).name===o)return g.value;return null}return this.each((i==null?tweenRemove:tweenFunction)(s,o,i))}function tweenValue(o,i,s){var a=o._id;return o.each(function(){var c=set(this,a);(c.value||(c.value={}))[i]=s.apply(this,arguments)}),function(c){return get(c,a).value[i]}}function interpolate(o,i){var s;return(typeof i=="number"?interpolateNumber:i instanceof color?interpolateRgb:(s=color(i))?(i=s,interpolateRgb):interpolateString)(o,i)}function attrRemove(o){return function(){this.removeAttribute(o)}}function attrRemoveNS(o){return function(){this.removeAttributeNS(o.space,o.local)}}function attrConstant(o,i,s){var a,c=s+"",d;return function(){var g=this.getAttribute(o);return g===c?null:g===a?d:d=i(a=g,s)}}function attrConstantNS(o,i,s){var a,c=s+"",d;return function(){var g=this.getAttributeNS(o.space,o.local);return g===c?null:g===a?d:d=i(a=g,s)}}function attrFunction(o,i,s){var a,c,d;return function(){var g,_=s(this),b;return _==null?void this.removeAttribute(o):(g=this.getAttribute(o),b=_+"",g===b?null:g===a&&b===c?d:(c=b,d=i(a=g,_)))}}function attrFunctionNS(o,i,s){var a,c,d;return function(){var g,_=s(this),b;return _==null?void this.removeAttributeNS(o.space,o.local):(g=this.getAttributeNS(o.space,o.local),b=_+"",g===b?null:g===a&&b===c?d:(c=b,d=i(a=g,_)))}}function transition_attr(o,i){var s=namespace(o),a=s==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(o,typeof i=="function"?(s.local?attrFunctionNS:attrFunction)(s,a,tweenValue(this,"attr."+o,i)):i==null?(s.local?attrRemoveNS:attrRemove)(s):(s.local?attrConstantNS:attrConstant)(s,a,i))}function attrInterpolate(o,i){return function(s){this.setAttribute(o,i.call(this,s))}}function attrInterpolateNS(o,i){return function(s){this.setAttributeNS(o.space,o.local,i.call(this,s))}}function attrTweenNS(o,i){var s,a;function c(){var d=i.apply(this,arguments);return d!==a&&(s=(a=d)&&attrInterpolateNS(o,d)),s}return c._value=i,c}function attrTween(o,i){var s,a;function c(){var d=i.apply(this,arguments);return d!==a&&(s=(a=d)&&attrInterpolate(o,d)),s}return c._value=i,c}function transition_attrTween(o,i){var s="attr."+o;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(i==null)return this.tween(s,null);if(typeof i!="function")throw new Error;var a=namespace(o);return this.tween(s,(a.local?attrTweenNS:attrTween)(a,i))}function delayFunction(o,i){return function(){init(this,o).delay=+i.apply(this,arguments)}}function delayConstant(o,i){return i=+i,function(){init(this,o).delay=i}}function transition_delay(o){var i=this._id;return arguments.length?this.each((typeof o=="function"?delayFunction:delayConstant)(i,o)):get(this.node(),i).delay}function durationFunction(o,i){return function(){set(this,o).duration=+i.apply(this,arguments)}}function durationConstant(o,i){return i=+i,function(){set(this,o).duration=i}}function transition_duration(o){var i=this._id;return arguments.length?this.each((typeof o=="function"?durationFunction:durationConstant)(i,o)):get(this.node(),i).duration}function easeConstant(o,i){if(typeof i!="function")throw new Error;return function(){set(this,o).ease=i}}function transition_ease(o){var i=this._id;return arguments.length?this.each(easeConstant(i,o)):get(this.node(),i).ease}function easeVarying(o,i){return function(){var s=i.apply(this,arguments);if(typeof s!="function")throw new Error;set(this,o).ease=s}}function transition_easeVarying(o){if(typeof o!="function")throw new Error;return this.each(easeVarying(this._id,o))}function transition_filter(o){typeof o!="function"&&(o=matcher(o));for(var i=this._groups,s=i.length,a=new Array(s),c=0;c<s;++c)for(var d=i[c],g=d.length,_=a[c]=[],b,j=0;j<g;++j)(b=d[j])&&o.call(b,b.__data__,j,d)&&_.push(b);return new Transition(a,this._parents,this._name,this._id)}function transition_merge(o){if(o._id!==this._id)throw new Error;for(var i=this._groups,s=o._groups,a=i.length,c=s.length,d=Math.min(a,c),g=new Array(a),_=0;_<d;++_)for(var b=i[_],j=s[_],$=b.length,_e=g[_]=new Array($),et,rt=0;rt<$;++rt)(et=b[rt]||j[rt])&&(_e[rt]=et);for(;_<a;++_)g[_]=i[_];return new Transition(g,this._parents,this._name,this._id)}function start(o){return(o+"").trim().split(/^|\s+/).every(function(i){var s=i.indexOf(".");return s>=0&&(i=i.slice(0,s)),!i||i==="start"})}function onFunction(o,i,s){var a,c,d=start(i)?init:set;return function(){var g=d(this,o),_=g.on;_!==a&&(c=(a=_).copy()).on(i,s),g.on=c}}function transition_on(o,i){var s=this._id;return arguments.length<2?get(this.node(),s).on.on(o):this.each(onFunction(s,o,i))}function removeFunction(o){return function(){var i=this.parentNode;for(var s in this.__transition)if(+s!==o)return;i&&i.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(o){var i=this._name,s=this._id;typeof o!="function"&&(o=selector$1(o));for(var a=this._groups,c=a.length,d=new Array(c),g=0;g<c;++g)for(var _=a[g],b=_.length,j=d[g]=new Array(b),$,_e,et=0;et<b;++et)($=_[et])&&(_e=o.call($,$.__data__,et,_))&&("__data__"in $&&(_e.__data__=$.__data__),j[et]=_e,schedule(j[et],i,s,et,j,get($,s)));return new Transition(d,this._parents,i,s)}function transition_selectAll(o){var i=this._name,s=this._id;typeof o!="function"&&(o=selectorAll(o));for(var a=this._groups,c=a.length,d=[],g=[],_=0;_<c;++_)for(var b=a[_],j=b.length,$,_e=0;_e<j;++_e)if($=b[_e]){for(var et=o.call($,$.__data__,_e,b),rt,ot=get($,s),st=0,ft=et.length;st<ft;++st)(rt=et[st])&&schedule(rt,i,s,st,et,ot);d.push(et),g.push($)}return new Transition(d,g,i,s)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(o,i){var s,a,c;return function(){var d=styleValue(this,o),g=(this.style.removeProperty(o),styleValue(this,o));return d===g?null:d===s&&g===a?c:c=i(s=d,a=g)}}function styleRemove(o){return function(){this.style.removeProperty(o)}}function styleConstant(o,i,s){var a,c=s+"",d;return function(){var g=styleValue(this,o);return g===c?null:g===a?d:d=i(a=g,s)}}function styleFunction(o,i,s){var a,c,d;return function(){var g=styleValue(this,o),_=s(this),b=_+"";return _==null&&(b=_=(this.style.removeProperty(o),styleValue(this,o))),g===b?null:g===a&&b===c?d:(c=b,d=i(a=g,_))}}function styleMaybeRemove(o,i){var s,a,c,d="style."+i,g="end."+d,_;return function(){var b=set(this,o),j=b.on,$=b.value[d]==null?_||(_=styleRemove(i)):void 0;(j!==s||c!==$)&&(a=(s=j).copy()).on(g,c=$),b.on=a}}function transition_style(o,i,s){var a=(o+="")=="transform"?interpolateTransformCss:interpolate;return i==null?this.styleTween(o,styleNull(o,a)).on("end.style."+o,styleRemove(o)):typeof i=="function"?this.styleTween(o,styleFunction(o,a,tweenValue(this,"style."+o,i))).each(styleMaybeRemove(this._id,o)):this.styleTween(o,styleConstant(o,a,i),s).on("end.style."+o,null)}function styleInterpolate(o,i,s){return function(a){this.style.setProperty(o,i.call(this,a),s)}}function styleTween(o,i,s){var a,c;function d(){var g=i.apply(this,arguments);return g!==c&&(a=(c=g)&&styleInterpolate(o,g,s)),a}return d._value=i,d}function transition_styleTween(o,i,s){var a="style."+(o+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(i==null)return this.tween(a,null);if(typeof i!="function")throw new Error;return this.tween(a,styleTween(o,i,s??""))}function textConstant(o){return function(){this.textContent=o}}function textFunction(o){return function(){var i=o(this);this.textContent=i??""}}function transition_text(o){return this.tween("text",typeof o=="function"?textFunction(tweenValue(this,"text",o)):textConstant(o==null?"":o+""))}function textInterpolate(o){return function(i){this.textContent=o.call(this,i)}}function textTween(o){var i,s;function a(){var c=o.apply(this,arguments);return c!==s&&(i=(s=c)&&textInterpolate(c)),i}return a._value=o,a}function transition_textTween(o){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;return this.tween(i,textTween(o))}function transition_transition(){for(var o=this._name,i=this._id,s=newId(),a=this._groups,c=a.length,d=0;d<c;++d)for(var g=a[d],_=g.length,b,j=0;j<_;++j)if(b=g[j]){var $=get(b,i);schedule(b,o,s,j,g,{time:$.time+$.delay+$.duration,delay:0,duration:$.duration,ease:$.ease})}return new Transition(a,this._parents,o,s)}function transition_end(){var o,i,s=this,a=s._id,c=s.size();return new Promise(function(d,g){var _={value:g},b={value:function(){--c===0&&d()}};s.each(function(){var j=set(this,a),$=j.on;$!==o&&(i=(o=$).copy(),i._.cancel.push(_),i._.interrupt.push(_),i._.end.push(b)),j.on=i}),c===0&&d()})}var id=0;function Transition(o,i,s,a){this._groups=o,this._parents=i,this._name=s,this._id=a}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(o,i){for(var s;!(s=o.__transition)||!(s=s[i]);)if(!(o=o.parentNode))throw new Error(`transition ${i} not found`);return s}function selection_transition(o){var i,s;o instanceof Transition?(i=o._id,o=o._name):(i=newId(),(s=defaultTiming).time=now(),o=o==null?null:o+"");for(var a=this._groups,c=a.length,d=0;d<c;++d)for(var g=a[d],_=g.length,b,j=0;j<_;++j)(b=g[j])&&schedule(b,o,i,j,g,s||inherit(b,i));return new Transition(a,this._parents,o,i)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const constant=o=>()=>o;function ZoomEvent(o,{sourceEvent:i,target:s,transform:a,dispatch:c}){Object.defineProperties(this,{type:{value:o,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}function Transform(o,i,s){this.k=o,this.x=i,this.y=s}Transform.prototype={constructor:Transform,scale:function(o){return o===1?this:new Transform(this.k*o,this.x,this.y)},translate:function(o,i){return o===0&i===0?this:new Transform(this.k,this.x+this.k*o,this.y+this.k*i)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$1=new Transform(1,0,0);Transform.prototype;function nopropagation(o){o.stopImmediatePropagation()}function noevent(o){o.preventDefault(),o.stopImmediatePropagation()}function defaultFilter(o){return(!o.ctrlKey||o.type==="wheel")&&!o.button}function defaultExtent(){var o=this;return o instanceof SVGElement?(o=o.ownerSVGElement||o,o.hasAttribute("viewBox")?(o=o.viewBox.baseVal,[[o.x,o.y],[o.x+o.width,o.y+o.height]]):[[0,0],[o.width.baseVal.value,o.height.baseVal.value]]):[[0,0],[o.clientWidth,o.clientHeight]]}function defaultTransform(){return this.__zoom||identity$1}function defaultWheelDelta(o){return-o.deltaY*(o.deltaMode===1?.05:o.deltaMode?1:.002)*(o.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(o,i,s){var a=o.invertX(i[0][0])-s[0][0],c=o.invertX(i[1][0])-s[1][0],d=o.invertY(i[0][1])-s[0][1],g=o.invertY(i[1][1])-s[1][1];return o.translate(c>a?(a+c)/2:Math.min(0,a)||Math.max(0,c),g>d?(d+g)/2:Math.min(0,d)||Math.max(0,g))}function zoom(){var o=defaultFilter,i=defaultExtent,s=defaultConstrain,a=defaultWheelDelta,c=defaultTouchable,d=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],_=250,b=interpolateZoom,j=dispatch("start","zoom","end"),$,_e,et,rt=500,ot=150,st=0,ft=10;function tt(lt){lt.property("__zoom",defaultTransform).on("wheel.zoom",vt,{passive:!1}).on("mousedown.zoom",wt).on("dblclick.zoom",St).filter(c).on("touchstart.zoom",Tt).on("touchmove.zoom",bt).on("touchend.zoom touchcancel.zoom",kt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}tt.transform=function(lt,xt,gt,_t){var ct=lt.selection?lt.selection():lt;ct.property("__zoom",defaultTransform),lt!==ct?pt(lt,xt,gt,_t):ct.interrupt().each(function(){yt(this,arguments).event(_t).start().zoom(null,typeof xt=="function"?xt.apply(this,arguments):xt).end()})},tt.scaleBy=function(lt,xt,gt,_t){tt.scaleTo(lt,function(){var ct=this.__zoom.k,ut=typeof xt=="function"?xt.apply(this,arguments):xt;return ct*ut},gt,_t)},tt.scaleTo=function(lt,xt,gt,_t){tt.transform(lt,function(){var ct=i.apply(this,arguments),ut=this.__zoom,mt=gt==null?at(ct):typeof gt=="function"?gt.apply(this,arguments):gt,Et=ut.invert(mt),ht=typeof xt=="function"?xt.apply(this,arguments):xt;return s(it(nt(ut,ht),mt,Et),ct,g)},gt,_t)},tt.translateBy=function(lt,xt,gt,_t){tt.transform(lt,function(){return s(this.__zoom.translate(typeof xt=="function"?xt.apply(this,arguments):xt,typeof gt=="function"?gt.apply(this,arguments):gt),i.apply(this,arguments),g)},null,_t)},tt.translateTo=function(lt,xt,gt,_t,ct){tt.transform(lt,function(){var ut=i.apply(this,arguments),mt=this.__zoom,Et=_t==null?at(ut):typeof _t=="function"?_t.apply(this,arguments):_t;return s(identity$1.translate(Et[0],Et[1]).scale(mt.k).translate(typeof xt=="function"?-xt.apply(this,arguments):-xt,typeof gt=="function"?-gt.apply(this,arguments):-gt),ut,g)},_t,ct)};function nt(lt,xt){return xt=Math.max(d[0],Math.min(d[1],xt)),xt===lt.k?lt:new Transform(xt,lt.x,lt.y)}function it(lt,xt,gt){var _t=xt[0]-gt[0]*lt.k,ct=xt[1]-gt[1]*lt.k;return _t===lt.x&&ct===lt.y?lt:new Transform(lt.k,_t,ct)}function at(lt){return[(+lt[0][0]+ +lt[1][0])/2,(+lt[0][1]+ +lt[1][1])/2]}function pt(lt,xt,gt,_t){lt.on("start.zoom",function(){yt(this,arguments).event(_t).start()}).on("interrupt.zoom end.zoom",function(){yt(this,arguments).event(_t).end()}).tween("zoom",function(){var ct=this,ut=arguments,mt=yt(ct,ut).event(_t),Et=i.apply(ct,ut),ht=gt==null?at(Et):typeof gt=="function"?gt.apply(ct,ut):gt,It=Math.max(Et[1][0]-Et[0][0],Et[1][1]-Et[0][1]),Rt=ct.__zoom,Mt=typeof xt=="function"?xt.apply(ct,ut):xt,At=b(Rt.invert(ht).concat(It/Rt.k),Mt.invert(ht).concat(It/Mt.k));return function(Lt){if(Lt===1)Lt=Mt;else{var Zt=At(Lt),Wt=It/Zt[2];Lt=new Transform(Wt,ht[0]-Zt[0]*Wt,ht[1]-Zt[1]*Wt)}mt.zoom(null,Lt)}})}function yt(lt,xt,gt){return!gt&&lt.__zooming||new dt(lt,xt)}function dt(lt,xt){this.that=lt,this.args=xt,this.active=0,this.sourceEvent=null,this.extent=i.apply(lt,xt),this.taps=0}dt.prototype={event:function(lt){return lt&&(this.sourceEvent=lt),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(lt,xt){return this.mouse&&lt!=="mouse"&&(this.mouse[1]=xt.invert(this.mouse[0])),this.touch0&&lt!=="touch"&&(this.touch0[1]=xt.invert(this.touch0[0])),this.touch1&&lt!=="touch"&&(this.touch1[1]=xt.invert(this.touch1[0])),this.that.__zoom=xt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(lt){var xt=select(this.that).datum();j.call(lt,this.that,new ZoomEvent(lt,{sourceEvent:this.sourceEvent,target:tt,transform:this.that.__zoom,dispatch:j}),xt)}};function vt(lt,...xt){if(!o.apply(this,arguments))return;var gt=yt(this,xt).event(lt),_t=this.__zoom,ct=Math.max(d[0],Math.min(d[1],_t.k*Math.pow(2,a.apply(this,arguments)))),ut=pointer(lt);if(gt.wheel)(gt.mouse[0][0]!==ut[0]||gt.mouse[0][1]!==ut[1])&&(gt.mouse[1]=_t.invert(gt.mouse[0]=ut)),clearTimeout(gt.wheel);else{if(_t.k===ct)return;gt.mouse=[ut,_t.invert(ut)],interrupt(this),gt.start()}noevent(lt),gt.wheel=setTimeout(mt,ot),gt.zoom("mouse",s(it(nt(_t,ct),gt.mouse[0],gt.mouse[1]),gt.extent,g));function mt(){gt.wheel=null,gt.end()}}function wt(lt,...xt){if(et||!o.apply(this,arguments))return;var gt=lt.currentTarget,_t=yt(this,xt,!0).event(lt),ct=select(lt.view).on("mousemove.zoom",ht,!0).on("mouseup.zoom",It,!0),ut=pointer(lt,gt),mt=lt.clientX,Et=lt.clientY;dragDisable(lt.view),nopropagation(lt),_t.mouse=[ut,this.__zoom.invert(ut)],interrupt(this),_t.start();function ht(Rt){if(noevent(Rt),!_t.moved){var Mt=Rt.clientX-mt,At=Rt.clientY-Et;_t.moved=Mt*Mt+At*At>st}_t.event(Rt).zoom("mouse",s(it(_t.that.__zoom,_t.mouse[0]=pointer(Rt,gt),_t.mouse[1]),_t.extent,g))}function It(Rt){ct.on("mousemove.zoom mouseup.zoom",null),yesdrag(Rt.view,_t.moved),noevent(Rt),_t.event(Rt).end()}}function St(lt,...xt){if(o.apply(this,arguments)){var gt=this.__zoom,_t=pointer(lt.changedTouches?lt.changedTouches[0]:lt,this),ct=gt.invert(_t),ut=gt.k*(lt.shiftKey?.5:2),mt=s(it(nt(gt,ut),_t,ct),i.apply(this,xt),g);noevent(lt),_>0?select(this).transition().duration(_).call(pt,mt,_t,lt):select(this).call(tt.transform,mt,_t,lt)}}function Tt(lt,...xt){if(o.apply(this,arguments)){var gt=lt.touches,_t=gt.length,ct=yt(this,xt,lt.changedTouches.length===_t).event(lt),ut,mt,Et,ht;for(nopropagation(lt),mt=0;mt<_t;++mt)Et=gt[mt],ht=pointer(Et,this),ht=[ht,this.__zoom.invert(ht),Et.identifier],ct.touch0?!ct.touch1&&ct.touch0[2]!==ht[2]&&(ct.touch1=ht,ct.taps=0):(ct.touch0=ht,ut=!0,ct.taps=1+!!$);$&&($=clearTimeout($)),ut&&(ct.taps<2&&(_e=ht[0],$=setTimeout(function(){$=null},rt)),interrupt(this),ct.start())}}function bt(lt,...xt){if(this.__zooming){var gt=yt(this,xt).event(lt),_t=lt.changedTouches,ct=_t.length,ut,mt,Et,ht;for(noevent(lt),ut=0;ut<ct;++ut)mt=_t[ut],Et=pointer(mt,this),gt.touch0&&gt.touch0[2]===mt.identifier?gt.touch0[0]=Et:gt.touch1&&gt.touch1[2]===mt.identifier&&(gt.touch1[0]=Et);if(mt=gt.that.__zoom,gt.touch1){var It=gt.touch0[0],Rt=gt.touch0[1],Mt=gt.touch1[0],At=gt.touch1[1],Lt=(Lt=Mt[0]-It[0])*Lt+(Lt=Mt[1]-It[1])*Lt,Zt=(Zt=At[0]-Rt[0])*Zt+(Zt=At[1]-Rt[1])*Zt;mt=nt(mt,Math.sqrt(Lt/Zt)),Et=[(It[0]+Mt[0])/2,(It[1]+Mt[1])/2],ht=[(Rt[0]+At[0])/2,(Rt[1]+At[1])/2]}else if(gt.touch0)Et=gt.touch0[0],ht=gt.touch0[1];else return;gt.zoom("touch",s(it(mt,Et,ht),gt.extent,g))}}function kt(lt,...xt){if(this.__zooming){var gt=yt(this,xt).event(lt),_t=lt.changedTouches,ct=_t.length,ut,mt;for(nopropagation(lt),et&&clearTimeout(et),et=setTimeout(function(){et=null},rt),ut=0;ut<ct;++ut)mt=_t[ut],gt.touch0&&gt.touch0[2]===mt.identifier?delete gt.touch0:gt.touch1&&gt.touch1[2]===mt.identifier&&delete gt.touch1;if(gt.touch1&&!gt.touch0&&(gt.touch0=gt.touch1,delete gt.touch1),gt.touch0)gt.touch0[1]=this.__zoom.invert(gt.touch0[0]);else if(gt.end(),gt.taps===2&&(mt=pointer(mt,this),Math.hypot(_e[0]-mt[0],_e[1]-mt[1])<ft)){var Et=select(this).on("dblclick.zoom");Et&&Et.apply(this,arguments)}}}return tt.wheelDelta=function(lt){return arguments.length?(a=typeof lt=="function"?lt:constant(+lt),tt):a},tt.filter=function(lt){return arguments.length?(o=typeof lt=="function"?lt:constant(!!lt),tt):o},tt.touchable=function(lt){return arguments.length?(c=typeof lt=="function"?lt:constant(!!lt),tt):c},tt.extent=function(lt){return arguments.length?(i=typeof lt=="function"?lt:constant([[+lt[0][0],+lt[0][1]],[+lt[1][0],+lt[1][1]]]),tt):i},tt.scaleExtent=function(lt){return arguments.length?(d[0]=+lt[0],d[1]=+lt[1],tt):[d[0],d[1]]},tt.translateExtent=function(lt){return arguments.length?(g[0][0]=+lt[0][0],g[1][0]=+lt[1][0],g[0][1]=+lt[0][1],g[1][1]=+lt[1][1],tt):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},tt.constrain=function(lt){return arguments.length?(s=lt,tt):s},tt.duration=function(lt){return arguments.length?(_=+lt,tt):_},tt.interpolate=function(lt){return arguments.length?(b=lt,tt):b},tt.on=function(){var lt=j.on.apply(j,arguments);return lt===j?tt:lt},tt.clickDistance=function(lt){return arguments.length?(st=(lt=+lt)*lt,tt):Math.sqrt(st)},tt.tapDistance=function(lt){return arguments.length?(ft=+lt,tt):ft},tt}const StoreContext=reactExports.createContext(null),Provider$1=StoreContext.Provider,errorMessages={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:o=>`Node type "${o}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:o=>`The old edge with id=${o} does not exist.`,error009:o=>`Marker type "${o}" doesn't exist.`,error008:(o,i)=>`Couldn't create edge for ${o?"target":"source"} handle id: "${o?i.targetHandle:i.sourceHandle}", edge id: ${i.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:o=>`Edge type "${o}" not found. Using fallback type "default".`,error012:o=>`Node with id "${o}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},zustandErrorMessage=errorMessages.error001();function useStore$1(o,i){const s=reactExports.useContext(StoreContext);if(s===null)throw new Error(zustandErrorMessage);return useStoreWithEqualityFn(s,o,i)}const useStoreApi=()=>{const o=reactExports.useContext(StoreContext);if(o===null)throw new Error(zustandErrorMessage);return reactExports.useMemo(()=>({getState:o.getState,setState:o.setState,subscribe:o.subscribe,destroy:o.destroy}),[o])},selector$g=o=>o.userSelectionActive?"none":"all";function Panel({position:o,children:i,className:s,style:a,...c}){const d=useStore$1(selector$g),g=`${o}`.split("-");return React.createElement("div",{className:cc(["react-flow__panel",s,...g]),style:{...a,pointerEvents:d},...c},i)}function Attribution({proOptions:o,position:i="bottom-right"}){return o!=null&&o.hideAttribution?null:React.createElement(Panel,{position:i,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},React.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const EdgeText=({x:o,y:i,label:s,labelStyle:a={},labelShowBg:c=!0,labelBgStyle:d={},labelBgPadding:g=[2,4],labelBgBorderRadius:_=2,children:b,className:j,...$})=>{const _e=reactExports.useRef(null),[et,rt]=reactExports.useState({x:0,y:0,width:0,height:0}),ot=cc(["react-flow__edge-textwrapper",j]);return reactExports.useEffect(()=>{if(_e.current){const st=_e.current.getBBox();rt({x:st.x,y:st.y,width:st.width,height:st.height})}},[s]),typeof s>"u"||!s?null:React.createElement("g",{transform:`translate(${o-et.width/2} ${i-et.height/2})`,className:ot,visibility:et.width?"visible":"hidden",...$},c&&React.createElement("rect",{width:et.width+2*g[0],x:-g[0],y:-g[1],height:et.height+2*g[1],className:"react-flow__edge-textbg",style:d,rx:_,ry:_}),React.createElement("text",{className:"react-flow__edge-text",y:et.height/2,dy:"0.3em",ref:_e,style:a},s),b)};var EdgeText$1=reactExports.memo(EdgeText);const getDimensions=o=>({width:o.offsetWidth,height:o.offsetHeight}),clamp$2=(o,i=0,s=1)=>Math.min(Math.max(o,i),s),clampPosition=(o={x:0,y:0},i)=>({x:clamp$2(o.x,i[0][0],i[1][0]),y:clamp$2(o.y,i[0][1],i[1][1])}),calcAutoPanVelocity=(o,i,s)=>o<i?clamp$2(Math.abs(o-i),1,50)/50:o>s?-clamp$2(Math.abs(o-s),1,50)/50:0,calcAutoPan=(o,i)=>{const s=calcAutoPanVelocity(o.x,35,i.width-35)*20,a=calcAutoPanVelocity(o.y,35,i.height-35)*20;return[s,a]},getHostForElement=o=>{var i;return((i=o.getRootNode)==null?void 0:i.call(o))||(window==null?void 0:window.document)},getBoundsOfBoxes=(o,i)=>({x:Math.min(o.x,i.x),y:Math.min(o.y,i.y),x2:Math.max(o.x2,i.x2),y2:Math.max(o.y2,i.y2)}),rectToBox=({x:o,y:i,width:s,height:a})=>({x:o,y:i,x2:o+s,y2:i+a}),boxToRect=({x:o,y:i,x2:s,y2:a})=>({x:o,y:i,width:s-o,height:a-i}),nodeToRect=o=>({...o.positionAbsolute||{x:0,y:0},width:o.width||0,height:o.height||0}),getOverlappingArea=(o,i)=>{const s=Math.max(0,Math.min(o.x+o.width,i.x+i.width)-Math.max(o.x,i.x)),a=Math.max(0,Math.min(o.y+o.height,i.y+i.height)-Math.max(o.y,i.y));return Math.ceil(s*a)},isRectObject=o=>isNumeric(o.width)&&isNumeric(o.height)&&isNumeric(o.x)&&isNumeric(o.y),isNumeric=o=>!isNaN(o)&&isFinite(o),internalsSymbol=Symbol.for("internals"),elementSelectionKeys=["Enter"," ","Escape"],devWarn=(o,i)=>{},isReactKeyboardEvent=o=>"nativeEvent"in o;function isInputDOMNode(o){var c,d;const i=isReactKeyboardEvent(o)?o.nativeEvent:o,s=((d=(c=i.composedPath)==null?void 0:c.call(i))==null?void 0:d[0])||o.target;return["INPUT","SELECT","TEXTAREA"].includes(s==null?void 0:s.nodeName)||(s==null?void 0:s.hasAttribute("contenteditable"))||!!(s!=null&&s.closest(".nokey"))}const isMouseEvent=o=>"clientX"in o,getEventPosition=(o,i)=>{var d,g;const s=isMouseEvent(o),a=s?o.clientX:(d=o.touches)==null?void 0:d[0].clientX,c=s?o.clientY:(g=o.touches)==null?void 0:g[0].clientY;return{x:a-((i==null?void 0:i.left)??0),y:c-((i==null?void 0:i.top)??0)}},isMacOs=()=>{var o;return typeof navigator<"u"&&((o=navigator==null?void 0:navigator.userAgent)==null?void 0:o.indexOf("Mac"))>=0},BaseEdge=({id:o,path:i,labelX:s,labelY:a,label:c,labelStyle:d,labelShowBg:g,labelBgStyle:_,labelBgPadding:b,labelBgBorderRadius:j,style:$,markerEnd:_e,markerStart:et,interactionWidth:rt=20})=>React.createElement(React.Fragment,null,React.createElement("path",{id:o,style:$,d:i,fill:"none",className:"react-flow__edge-path",markerEnd:_e,markerStart:et}),rt&&React.createElement("path",{d:i,fill:"none",strokeOpacity:0,strokeWidth:rt,className:"react-flow__edge-interaction"}),c&&isNumeric(s)&&isNumeric(a)?React.createElement(EdgeText$1,{x:s,y:a,label:c,labelStyle:d,labelShowBg:g,labelBgStyle:_,labelBgPadding:b,labelBgBorderRadius:j}):null);BaseEdge.displayName="BaseEdge";function getMouseHandler$1(o,i,s){return s===void 0?s:a=>{const c=i().edges.find(d=>d.id===o);c&&s(a,{...c})}}function getEdgeCenter({sourceX:o,sourceY:i,targetX:s,targetY:a}){const c=Math.abs(s-o)/2,d=s<o?s+c:s-c,g=Math.abs(a-i)/2,_=a<i?a+g:a-g;return[d,_,c,g]}function getBezierEdgeCenter({sourceX:o,sourceY:i,targetX:s,targetY:a,sourceControlX:c,sourceControlY:d,targetControlX:g,targetControlY:_}){const b=o*.125+c*.375+g*.375+s*.125,j=i*.125+d*.375+_*.375+a*.125,$=Math.abs(b-o),_e=Math.abs(j-i);return[b,j,$,_e]}var ConnectionMode;(function(o){o.Strict="strict",o.Loose="loose"})(ConnectionMode||(ConnectionMode={}));var PanOnScrollMode;(function(o){o.Free="free",o.Vertical="vertical",o.Horizontal="horizontal"})(PanOnScrollMode||(PanOnScrollMode={}));var SelectionMode;(function(o){o.Partial="partial",o.Full="full"})(SelectionMode||(SelectionMode={}));var ConnectionLineType;(function(o){o.Bezier="default",o.Straight="straight",o.Step="step",o.SmoothStep="smoothstep",o.SimpleBezier="simplebezier"})(ConnectionLineType||(ConnectionLineType={}));var MarkerType;(function(o){o.Arrow="arrow",o.ArrowClosed="arrowclosed"})(MarkerType||(MarkerType={}));var Position;(function(o){o.Left="left",o.Top="top",o.Right="right",o.Bottom="bottom"})(Position||(Position={}));function getControl({pos:o,x1:i,y1:s,x2:a,y2:c}){return o===Position.Left||o===Position.Right?[.5*(i+a),s]:[i,.5*(s+c)]}function getSimpleBezierPath({sourceX:o,sourceY:i,sourcePosition:s=Position.Bottom,targetX:a,targetY:c,targetPosition:d=Position.Top}){const[g,_]=getControl({pos:s,x1:o,y1:i,x2:a,y2:c}),[b,j]=getControl({pos:d,x1:a,y1:c,x2:o,y2:i}),[$,_e,et,rt]=getBezierEdgeCenter({sourceX:o,sourceY:i,targetX:a,targetY:c,sourceControlX:g,sourceControlY:_,targetControlX:b,targetControlY:j});return[`M${o},${i} C${g},${_} ${b},${j} ${a},${c}`,$,_e,et,rt]}const SimpleBezierEdge=reactExports.memo(({sourceX:o,sourceY:i,targetX:s,targetY:a,sourcePosition:c=Position.Bottom,targetPosition:d=Position.Top,label:g,labelStyle:_,labelShowBg:b,labelBgStyle:j,labelBgPadding:$,labelBgBorderRadius:_e,style:et,markerEnd:rt,markerStart:ot,interactionWidth:st})=>{const[ft,tt,nt]=getSimpleBezierPath({sourceX:o,sourceY:i,sourcePosition:c,targetX:s,targetY:a,targetPosition:d});return React.createElement(BaseEdge,{path:ft,labelX:tt,labelY:nt,label:g,labelStyle:_,labelShowBg:b,labelBgStyle:j,labelBgPadding:$,labelBgBorderRadius:_e,style:et,markerEnd:rt,markerStart:ot,interactionWidth:st})});SimpleBezierEdge.displayName="SimpleBezierEdge";const handleDirections={[Position.Left]:{x:-1,y:0},[Position.Right]:{x:1,y:0},[Position.Top]:{x:0,y:-1},[Position.Bottom]:{x:0,y:1}},getDirection=({source:o,sourcePosition:i=Position.Bottom,target:s})=>i===Position.Left||i===Position.Right?o.x<s.x?{x:1,y:0}:{x:-1,y:0}:o.y<s.y?{x:0,y:1}:{x:0,y:-1},distance=(o,i)=>Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2));function getPoints({source:o,sourcePosition:i=Position.Bottom,target:s,targetPosition:a=Position.Top,center:c,offset:d}){const g=handleDirections[i],_=handleDirections[a],b={x:o.x+g.x*d,y:o.y+g.y*d},j={x:s.x+_.x*d,y:s.y+_.y*d},$=getDirection({source:b,sourcePosition:i,target:j}),_e=$.x!==0?"x":"y",et=$[_e];let rt=[],ot,st;const ft={x:0,y:0},tt={x:0,y:0},[nt,it,at,pt]=getEdgeCenter({sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y});if(g[_e]*_[_e]===-1){ot=c.x??nt,st=c.y??it;const dt=[{x:ot,y:b.y},{x:ot,y:j.y}],vt=[{x:b.x,y:st},{x:j.x,y:st}];g[_e]===et?rt=_e==="x"?dt:vt:rt=_e==="x"?vt:dt}else{const dt=[{x:b.x,y:j.y}],vt=[{x:j.x,y:b.y}];if(_e==="x"?rt=g.x===et?vt:dt:rt=g.y===et?dt:vt,i===a){const kt=Math.abs(o[_e]-s[_e]);if(kt<=d){const lt=Math.min(d-1,d-kt);g[_e]===et?ft[_e]=(b[_e]>o[_e]?-1:1)*lt:tt[_e]=(j[_e]>s[_e]?-1:1)*lt}}if(i!==a){const kt=_e==="x"?"y":"x",lt=g[_e]===_[kt],xt=b[kt]>j[kt],gt=b[kt]<j[kt];(g[_e]===1&&(!lt&&xt||lt&&gt)||g[_e]!==1&&(!lt&&gt||lt&&xt))&&(rt=_e==="x"?dt:vt)}const wt={x:b.x+ft.x,y:b.y+ft.y},St={x:j.x+tt.x,y:j.y+tt.y},Tt=Math.max(Math.abs(wt.x-rt[0].x),Math.abs(St.x-rt[0].x)),bt=Math.max(Math.abs(wt.y-rt[0].y),Math.abs(St.y-rt[0].y));Tt>=bt?(ot=(wt.x+St.x)/2,st=rt[0].y):(ot=rt[0].x,st=(wt.y+St.y)/2)}return[[o,{x:b.x+ft.x,y:b.y+ft.y},...rt,{x:j.x+tt.x,y:j.y+tt.y},s],ot,st,at,pt]}function getBend(o,i,s,a){const c=Math.min(distance(o,i)/2,distance(i,s)/2,a),{x:d,y:g}=i;if(o.x===d&&d===s.x||o.y===g&&g===s.y)return`L${d} ${g}`;if(o.y===g){const j=o.x<s.x?-1:1,$=o.y<s.y?1:-1;return`L ${d+c*j},${g}Q ${d},${g} ${d},${g+c*$}`}const _=o.x<s.x?1:-1,b=o.y<s.y?-1:1;return`L ${d},${g+c*b}Q ${d},${g} ${d+c*_},${g}`}function getSmoothStepPath({sourceX:o,sourceY:i,sourcePosition:s=Position.Bottom,targetX:a,targetY:c,targetPosition:d=Position.Top,borderRadius:g=5,centerX:_,centerY:b,offset:j=20}){const[$,_e,et,rt,ot]=getPoints({source:{x:o,y:i},sourcePosition:s,target:{x:a,y:c},targetPosition:d,center:{x:_,y:b},offset:j});return[$.reduce((ft,tt,nt)=>{let it="";return nt>0&&nt<$.length-1?it=getBend($[nt-1],tt,$[nt+1],g):it=`${nt===0?"M":"L"}${tt.x} ${tt.y}`,ft+=it,ft},""),_e,et,rt,ot]}const SmoothStepEdge=reactExports.memo(({sourceX:o,sourceY:i,targetX:s,targetY:a,label:c,labelStyle:d,labelShowBg:g,labelBgStyle:_,labelBgPadding:b,labelBgBorderRadius:j,style:$,sourcePosition:_e=Position.Bottom,targetPosition:et=Position.Top,markerEnd:rt,markerStart:ot,pathOptions:st,interactionWidth:ft})=>{const[tt,nt,it]=getSmoothStepPath({sourceX:o,sourceY:i,sourcePosition:_e,targetX:s,targetY:a,targetPosition:et,borderRadius:st==null?void 0:st.borderRadius,offset:st==null?void 0:st.offset});return React.createElement(BaseEdge,{path:tt,labelX:nt,labelY:it,label:c,labelStyle:d,labelShowBg:g,labelBgStyle:_,labelBgPadding:b,labelBgBorderRadius:j,style:$,markerEnd:rt,markerStart:ot,interactionWidth:ft})});SmoothStepEdge.displayName="SmoothStepEdge";const StepEdge=reactExports.memo(o=>{var i;return React.createElement(SmoothStepEdge,{...o,pathOptions:reactExports.useMemo(()=>{var s;return{borderRadius:0,offset:(s=o.pathOptions)==null?void 0:s.offset}},[(i=o.pathOptions)==null?void 0:i.offset])})});StepEdge.displayName="StepEdge";function getStraightPath({sourceX:o,sourceY:i,targetX:s,targetY:a}){const[c,d,g,_]=getEdgeCenter({sourceX:o,sourceY:i,targetX:s,targetY:a});return[`M ${o},${i}L ${s},${a}`,c,d,g,_]}const StraightEdge=reactExports.memo(({sourceX:o,sourceY:i,targetX:s,targetY:a,label:c,labelStyle:d,labelShowBg:g,labelBgStyle:_,labelBgPadding:b,labelBgBorderRadius:j,style:$,markerEnd:_e,markerStart:et,interactionWidth:rt})=>{const[ot,st,ft]=getStraightPath({sourceX:o,sourceY:i,targetX:s,targetY:a});return React.createElement(BaseEdge,{path:ot,labelX:st,labelY:ft,label:c,labelStyle:d,labelShowBg:g,labelBgStyle:_,labelBgPadding:b,labelBgBorderRadius:j,style:$,markerEnd:_e,markerStart:et,interactionWidth:rt})});StraightEdge.displayName="StraightEdge";function calculateControlOffset(o,i){return o>=0?.5*o:i*25*Math.sqrt(-o)}function getControlWithCurvature({pos:o,x1:i,y1:s,x2:a,y2:c,c:d}){switch(o){case Position.Left:return[i-calculateControlOffset(i-a,d),s];case Position.Right:return[i+calculateControlOffset(a-i,d),s];case Position.Top:return[i,s-calculateControlOffset(s-c,d)];case Position.Bottom:return[i,s+calculateControlOffset(c-s,d)]}}function getBezierPath({sourceX:o,sourceY:i,sourcePosition:s=Position.Bottom,targetX:a,targetY:c,targetPosition:d=Position.Top,curvature:g=.25}){const[_,b]=getControlWithCurvature({pos:s,x1:o,y1:i,x2:a,y2:c,c:g}),[j,$]=getControlWithCurvature({pos:d,x1:a,y1:c,x2:o,y2:i,c:g}),[_e,et,rt,ot]=getBezierEdgeCenter({sourceX:o,sourceY:i,targetX:a,targetY:c,sourceControlX:_,sourceControlY:b,targetControlX:j,targetControlY:$});return[`M${o},${i} C${_},${b} ${j},${$} ${a},${c}`,_e,et,rt,ot]}const BezierEdge=reactExports.memo(({sourceX:o,sourceY:i,targetX:s,targetY:a,sourcePosition:c=Position.Bottom,targetPosition:d=Position.Top,label:g,labelStyle:_,labelShowBg:b,labelBgStyle:j,labelBgPadding:$,labelBgBorderRadius:_e,style:et,markerEnd:rt,markerStart:ot,pathOptions:st,interactionWidth:ft})=>{const[tt,nt,it]=getBezierPath({sourceX:o,sourceY:i,sourcePosition:c,targetX:s,targetY:a,targetPosition:d,curvature:st==null?void 0:st.curvature});return React.createElement(BaseEdge,{path:tt,labelX:nt,labelY:it,label:g,labelStyle:_,labelShowBg:b,labelBgStyle:j,labelBgPadding:$,labelBgBorderRadius:_e,style:et,markerEnd:rt,markerStart:ot,interactionWidth:ft})});BezierEdge.displayName="BezierEdge";const NodeIdContext=reactExports.createContext(null),Provider=NodeIdContext.Provider;NodeIdContext.Consumer;const useNodeId=()=>reactExports.useContext(NodeIdContext),isEdge=o=>"id"in o&&"source"in o&&"target"in o,getEdgeId=({source:o,sourceHandle:i,target:s,targetHandle:a})=>`reactflow__edge-${o}${i||""}-${s}${a||""}`,getMarkerId=(o,i)=>typeof o>"u"?"":typeof o=="string"?o:`${i?`${i}__`:""}${Object.keys(o).sort().map(a=>`${a}=${o[a]}`).join("&")}`,connectionExists=(o,i)=>i.some(s=>s.source===o.source&&s.target===o.target&&(s.sourceHandle===o.sourceHandle||!s.sourceHandle&&!o.sourceHandle)&&(s.targetHandle===o.targetHandle||!s.targetHandle&&!o.targetHandle)),addEdge=(o,i)=>{if(!o.source||!o.target)return i;let s;return isEdge(o)?s={...o}:s={...o,id:getEdgeId(o)},connectionExists(s,i)?i:i.concat(s)},pointToRendererPoint=({x:o,y:i},[s,a,c],d,[g,_])=>{const b={x:(o-s)/c,y:(i-a)/c};return d?{x:g*Math.round(b.x/g),y:_*Math.round(b.y/_)}:b},rendererPointToPoint=({x:o,y:i},[s,a,c])=>({x:o*c+s,y:i*c+a}),getNodePositionWithOrigin=(o,i=[0,0])=>{if(!o)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const s=(o.width??0)*i[0],a=(o.height??0)*i[1],c={x:o.position.x-s,y:o.position.y-a};return{...c,positionAbsolute:o.positionAbsolute?{x:o.positionAbsolute.x-s,y:o.positionAbsolute.y-a}:c}},getNodesBounds=(o,i=[0,0])=>{if(o.length===0)return{x:0,y:0,width:0,height:0};const s=o.reduce((a,c)=>{const{x:d,y:g}=getNodePositionWithOrigin(c,i).positionAbsolute;return getBoundsOfBoxes(a,rectToBox({x:d,y:g,width:c.width||0,height:c.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return boxToRect(s)},getNodesInside=(o,i,[s,a,c]=[0,0,1],d=!1,g=!1,_=[0,0])=>{const b={x:(i.x-s)/c,y:(i.y-a)/c,width:i.width/c,height:i.height/c},j=[];return o.forEach($=>{const{width:_e,height:et,selectable:rt=!0,hidden:ot=!1}=$;if(g&&!rt||ot)return!1;const{positionAbsolute:st}=getNodePositionWithOrigin($,_),ft={x:st.x,y:st.y,width:_e||0,height:et||0},tt=getOverlappingArea(b,ft),nt=typeof _e>"u"||typeof et>"u"||_e===null||et===null,it=d&&tt>0,at=(_e||0)*(et||0);(nt||it||tt>=at||$.dragging)&&j.push($)}),j},getConnectedEdges=(o,i)=>{const s=o.map(a=>a.id);return i.filter(a=>s.includes(a.source)||s.includes(a.target))},getViewportForBounds=(o,i,s,a,c,d=.1)=>{const g=i/(o.width*(1+d)),_=s/(o.height*(1+d)),b=Math.min(g,_),j=clamp$2(b,a,c),$=o.x+o.width/2,_e=o.y+o.height/2,et=i/2-$*j,rt=s/2-_e*j;return{x:et,y:rt,zoom:j}},getD3Transition=(o,i=0)=>o.transition().duration(i);function getHandles(o,i,s,a){return(i[s]||[]).reduce((c,d)=>{var g,_;return`${o.id}-${d.id}-${s}`!==a&&c.push({id:d.id||null,type:s,nodeId:o.id,x:(((g=o.positionAbsolute)==null?void 0:g.x)??0)+d.x+d.width/2,y:(((_=o.positionAbsolute)==null?void 0:_.y)??0)+d.y+d.height/2}),c},[])}function getClosestHandle(o,i,s,a,c,d){const{x:g,y:_}=getEventPosition(o),j=i.elementsFromPoint(g,_).find(ot=>ot.classList.contains("react-flow__handle"));if(j){const ot=j.getAttribute("data-nodeid");if(ot){const st=getHandleType(void 0,j),ft=j.getAttribute("data-handleid"),tt=d({nodeId:ot,id:ft,type:st});if(tt){const nt=c.find(it=>it.nodeId===ot&&it.type===st&&it.id===ft);return{handle:{id:ft,type:st,nodeId:ot,x:(nt==null?void 0:nt.x)||s.x,y:(nt==null?void 0:nt.y)||s.y},validHandleResult:tt}}}}let $=[],_e=1/0;if(c.forEach(ot=>{const st=Math.sqrt((ot.x-s.x)**2+(ot.y-s.y)**2);if(st<=a){const ft=d(ot);st<=_e&&(st<_e?$=[{handle:ot,validHandleResult:ft}]:st===_e&&$.push({handle:ot,validHandleResult:ft}),_e=st)}}),!$.length)return{handle:null,validHandleResult:defaultResult()};if($.length===1)return $[0];const et=$.some(({validHandleResult:ot})=>ot.isValid),rt=$.some(({handle:ot})=>ot.type==="target");return $.find(({handle:ot,validHandleResult:st})=>rt?ot.type==="target":et?st.isValid:!0)||$[0]}const nullConnection={source:null,target:null,sourceHandle:null,targetHandle:null},defaultResult=()=>({handleDomNode:null,isValid:!1,connection:nullConnection,endHandle:null});function isValidHandle(o,i,s,a,c,d,g){const _=c==="target",b=g.querySelector(`.react-flow__handle[data-id="${o==null?void 0:o.nodeId}-${o==null?void 0:o.id}-${o==null?void 0:o.type}"]`),j={...defaultResult(),handleDomNode:b};if(b){const $=getHandleType(void 0,b),_e=b.getAttribute("data-nodeid"),et=b.getAttribute("data-handleid"),rt=b.classList.contains("connectable"),ot=b.classList.contains("connectableend"),st={source:_?_e:s,sourceHandle:_?et:a,target:_?s:_e,targetHandle:_?a:et};j.connection=st,rt&&ot&&(i===ConnectionMode.Strict?_&&$==="source"||!_&&$==="target":_e!==s||et!==a)&&(j.endHandle={nodeId:_e,handleId:et,type:$},j.isValid=d(st))}return j}function getHandleLookup({nodes:o,nodeId:i,handleId:s,handleType:a}){return o.reduce((c,d)=>{if(d[internalsSymbol]){const{handleBounds:g}=d[internalsSymbol];let _=[],b=[];g&&(_=getHandles(d,g,"source",`${i}-${s}-${a}`),b=getHandles(d,g,"target",`${i}-${s}-${a}`)),c.push(..._,...b)}return c},[])}function getHandleType(o,i){return o||(i!=null&&i.classList.contains("target")?"target":i!=null&&i.classList.contains("source")?"source":null)}function resetRecentHandle(o){o==null||o.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function getConnectionStatus(o,i){let s=null;return i?s="valid":o&&!i&&(s="invalid"),s}function handlePointerDown({event:o,handleId:i,nodeId:s,onConnect:a,isTarget:c,getState:d,setState:g,isValidConnection:_,edgeUpdaterType:b,onReconnectEnd:j}){const $=getHostForElement(o.target),{connectionMode:_e,domNode:et,autoPanOnConnect:rt,connectionRadius:ot,onConnectStart:st,panBy:ft,getNodes:tt,cancelConnection:nt}=d();let it=0,at;const{x:pt,y:yt}=getEventPosition(o),dt=$==null?void 0:$.elementFromPoint(pt,yt),vt=getHandleType(b,dt),wt=et==null?void 0:et.getBoundingClientRect();if(!wt||!vt)return;let St,Tt=getEventPosition(o,wt),bt=!1,kt=null,lt=!1,xt=null;const gt=getHandleLookup({nodes:tt(),nodeId:s,handleId:i,handleType:vt}),_t=()=>{if(!rt)return;const[mt,Et]=calcAutoPan(Tt,wt);ft({x:mt,y:Et}),it=requestAnimationFrame(_t)};g({connectionPosition:Tt,connectionStatus:null,connectionNodeId:s,connectionHandleId:i,connectionHandleType:vt,connectionStartHandle:{nodeId:s,handleId:i,type:vt},connectionEndHandle:null}),st==null||st(o,{nodeId:s,handleId:i,handleType:vt});function ct(mt){const{transform:Et}=d();Tt=getEventPosition(mt,wt);const{handle:ht,validHandleResult:It}=getClosestHandle(mt,$,pointToRendererPoint(Tt,Et,!1,[1,1]),ot,gt,Rt=>isValidHandle(Rt,_e,s,i,c?"target":"source",_,$));if(at=ht,bt||(_t(),bt=!0),xt=It.handleDomNode,kt=It.connection,lt=It.isValid,g({connectionPosition:at&&lt?rendererPointToPoint({x:at.x,y:at.y},Et):Tt,connectionStatus:getConnectionStatus(!!at,lt),connectionEndHandle:It.endHandle}),!at&&!lt&&!xt)return resetRecentHandle(St);kt.source!==kt.target&&xt&&(resetRecentHandle(St),St=xt,xt.classList.add("connecting","react-flow__handle-connecting"),xt.classList.toggle("valid",lt),xt.classList.toggle("react-flow__handle-valid",lt))}function ut(mt){var Et,ht;(at||xt)&&kt&&lt&&(a==null||a(kt)),(ht=(Et=d()).onConnectEnd)==null||ht.call(Et,mt),b&&(j==null||j(mt)),resetRecentHandle(St),nt(),cancelAnimationFrame(it),bt=!1,lt=!1,kt=null,xt=null,$.removeEventListener("mousemove",ct),$.removeEventListener("mouseup",ut),$.removeEventListener("touchmove",ct),$.removeEventListener("touchend",ut)}$.addEventListener("mousemove",ct),$.addEventListener("mouseup",ut),$.addEventListener("touchmove",ct),$.addEventListener("touchend",ut)}const alwaysValid=()=>!0,selector$f=o=>({connectionStartHandle:o.connectionStartHandle,connectOnClick:o.connectOnClick,noPanClassName:o.noPanClassName}),connectingSelector=(o,i,s)=>a=>{const{connectionStartHandle:c,connectionEndHandle:d,connectionClickStartHandle:g}=a;return{connecting:(c==null?void 0:c.nodeId)===o&&(c==null?void 0:c.handleId)===i&&(c==null?void 0:c.type)===s||(d==null?void 0:d.nodeId)===o&&(d==null?void 0:d.handleId)===i&&(d==null?void 0:d.type)===s,clickConnecting:(g==null?void 0:g.nodeId)===o&&(g==null?void 0:g.handleId)===i&&(g==null?void 0:g.type)===s}},Handle=reactExports.forwardRef(({type:o="source",position:i=Position.Top,isValidConnection:s,isConnectable:a=!0,isConnectableStart:c=!0,isConnectableEnd:d=!0,id:g,onConnect:_,children:b,className:j,onMouseDown:$,onTouchStart:_e,...et},rt)=>{var wt,St;const ot=g||null,st=o==="target",ft=useStoreApi(),tt=useNodeId(),{connectOnClick:nt,noPanClassName:it}=useStore$1(selector$f,shallow$1),{connecting:at,clickConnecting:pt}=useStore$1(connectingSelector(tt,ot,o),shallow$1);tt||(St=(wt=ft.getState()).onError)==null||St.call(wt,"010",errorMessages.error010());const yt=Tt=>{const{defaultEdgeOptions:bt,onConnect:kt,hasDefaultEdges:lt}=ft.getState(),xt={...bt,...Tt};if(lt){const{edges:gt,setEdges:_t}=ft.getState();_t(addEdge(xt,gt))}kt==null||kt(xt),_==null||_(xt)},dt=Tt=>{if(!tt)return;const bt=isMouseEvent(Tt);c&&(bt&&Tt.button===0||!bt)&&handlePointerDown({event:Tt,handleId:ot,nodeId:tt,onConnect:yt,isTarget:st,getState:ft.getState,setState:ft.setState,isValidConnection:s||ft.getState().isValidConnection||alwaysValid}),bt?$==null||$(Tt):_e==null||_e(Tt)},vt=Tt=>{const{onClickConnectStart:bt,onClickConnectEnd:kt,connectionClickStartHandle:lt,connectionMode:xt,isValidConnection:gt}=ft.getState();if(!tt||!lt&&!c)return;if(!lt){bt==null||bt(Tt,{nodeId:tt,handleId:ot,handleType:o}),ft.setState({connectionClickStartHandle:{nodeId:tt,type:o,handleId:ot}});return}const _t=getHostForElement(Tt.target),ct=s||gt||alwaysValid,{connection:ut,isValid:mt}=isValidHandle({nodeId:tt,id:ot,type:o},xt,lt.nodeId,lt.handleId||null,lt.type,ct,_t);mt&&yt(ut),kt==null||kt(Tt),ft.setState({connectionClickStartHandle:null})};return React.createElement("div",{"data-handleid":ot,"data-nodeid":tt,"data-handlepos":i,"data-id":`${tt}-${ot}-${o}`,className:cc(["react-flow__handle",`react-flow__handle-${i}`,"nodrag",it,j,{source:!st,target:st,connectable:a,connectablestart:c,connectableend:d,connecting:pt,connectionindicator:a&&(c&&!at||d&&at)}]),onMouseDown:dt,onTouchStart:dt,onClick:nt?vt:void 0,ref:rt,...et},b)});Handle.displayName="Handle";var Handle$1=reactExports.memo(Handle);const DefaultNode=({data:o,isConnectable:i,targetPosition:s=Position.Top,sourcePosition:a=Position.Bottom})=>React.createElement(React.Fragment,null,React.createElement(Handle$1,{type:"target",position:s,isConnectable:i}),o==null?void 0:o.label,React.createElement(Handle$1,{type:"source",position:a,isConnectable:i}));DefaultNode.displayName="DefaultNode";var DefaultNode$1=reactExports.memo(DefaultNode);const InputNode=({data:o,isConnectable:i,sourcePosition:s=Position.Bottom})=>React.createElement(React.Fragment,null,o==null?void 0:o.label,React.createElement(Handle$1,{type:"source",position:s,isConnectable:i}));InputNode.displayName="InputNode";var InputNode$1=reactExports.memo(InputNode);const OutputNode=({data:o,isConnectable:i,targetPosition:s=Position.Top})=>React.createElement(React.Fragment,null,React.createElement(Handle$1,{type:"target",position:s,isConnectable:i}),o==null?void 0:o.label);OutputNode.displayName="OutputNode";var OutputNode$1=reactExports.memo(OutputNode);const GroupNode=()=>null;GroupNode.displayName="GroupNode";const selector$e=o=>({selectedNodes:o.getNodes().filter(i=>i.selected),selectedEdges:o.edges.filter(i=>i.selected).map(i=>({...i}))}),selectId=o=>o.id;function areEqual(o,i){return shallow$1(o.selectedNodes.map(selectId),i.selectedNodes.map(selectId))&&shallow$1(o.selectedEdges.map(selectId),i.selectedEdges.map(selectId))}const SelectionListener=reactExports.memo(({onSelectionChange:o})=>{const i=useStoreApi(),{selectedNodes:s,selectedEdges:a}=useStore$1(selector$e,areEqual);return reactExports.useEffect(()=>{const c={nodes:s,edges:a};o==null||o(c),i.getState().onSelectionChange.forEach(d=>d(c))},[s,a,o]),null});SelectionListener.displayName="SelectionListener";const changeSelector=o=>!!o.onSelectionChange;function Wrapper$1({onSelectionChange:o}){const i=useStore$1(changeSelector);return o||i?React.createElement(SelectionListener,{onSelectionChange:o}):null}const selector$d=o=>({setNodes:o.setNodes,setEdges:o.setEdges,setDefaultNodesAndEdges:o.setDefaultNodesAndEdges,setMinZoom:o.setMinZoom,setMaxZoom:o.setMaxZoom,setTranslateExtent:o.setTranslateExtent,setNodeExtent:o.setNodeExtent,reset:o.reset});function useStoreUpdater(o,i){reactExports.useEffect(()=>{typeof o<"u"&&i(o)},[o])}function useDirectStoreUpdater(o,i,s){reactExports.useEffect(()=>{typeof i<"u"&&s({[o]:i})},[i])}const StoreUpdater=({nodes:o,edges:i,defaultNodes:s,defaultEdges:a,onConnect:c,onConnectStart:d,onConnectEnd:g,onClickConnectStart:_,onClickConnectEnd:b,nodesDraggable:j,nodesConnectable:$,nodesFocusable:_e,edgesFocusable:et,edgesUpdatable:rt,elevateNodesOnSelect:ot,minZoom:st,maxZoom:ft,nodeExtent:tt,onNodesChange:nt,onEdgesChange:it,elementsSelectable:at,connectionMode:pt,snapGrid:yt,snapToGrid:dt,translateExtent:vt,connectOnClick:wt,defaultEdgeOptions:St,fitView:Tt,fitViewOptions:bt,onNodesDelete:kt,onEdgesDelete:lt,onNodeDrag:xt,onNodeDragStart:gt,onNodeDragStop:_t,onSelectionDrag:ct,onSelectionDragStart:ut,onSelectionDragStop:mt,noPanClassName:Et,nodeOrigin:ht,rfId:It,autoPanOnConnect:Rt,autoPanOnNodeDrag:Mt,onError:At,connectionRadius:Lt,isValidConnection:Zt,nodeDragThreshold:Wt})=>{const{setNodes:Nt,setEdges:jt,setDefaultNodesAndEdges:Dt,setMinZoom:zt,setMaxZoom:Ft,setTranslateExtent:Bt,setNodeExtent:Ht,reset:Ut}=useStore$1(selector$d,shallow$1),$t=useStoreApi();return reactExports.useEffect(()=>{const qt=a==null?void 0:a.map(on=>({...on,...St}));return Dt(s,qt),()=>{Ut()}},[]),useDirectStoreUpdater("defaultEdgeOptions",St,$t.setState),useDirectStoreUpdater("connectionMode",pt,$t.setState),useDirectStoreUpdater("onConnect",c,$t.setState),useDirectStoreUpdater("onConnectStart",d,$t.setState),useDirectStoreUpdater("onConnectEnd",g,$t.setState),useDirectStoreUpdater("onClickConnectStart",_,$t.setState),useDirectStoreUpdater("onClickConnectEnd",b,$t.setState),useDirectStoreUpdater("nodesDraggable",j,$t.setState),useDirectStoreUpdater("nodesConnectable",$,$t.setState),useDirectStoreUpdater("nodesFocusable",_e,$t.setState),useDirectStoreUpdater("edgesFocusable",et,$t.setState),useDirectStoreUpdater("edgesUpdatable",rt,$t.setState),useDirectStoreUpdater("elementsSelectable",at,$t.setState),useDirectStoreUpdater("elevateNodesOnSelect",ot,$t.setState),useDirectStoreUpdater("snapToGrid",dt,$t.setState),useDirectStoreUpdater("snapGrid",yt,$t.setState),useDirectStoreUpdater("onNodesChange",nt,$t.setState),useDirectStoreUpdater("onEdgesChange",it,$t.setState),useDirectStoreUpdater("connectOnClick",wt,$t.setState),useDirectStoreUpdater("fitViewOnInit",Tt,$t.setState),useDirectStoreUpdater("fitViewOnInitOptions",bt,$t.setState),useDirectStoreUpdater("onNodesDelete",kt,$t.setState),useDirectStoreUpdater("onEdgesDelete",lt,$t.setState),useDirectStoreUpdater("onNodeDrag",xt,$t.setState),useDirectStoreUpdater("onNodeDragStart",gt,$t.setState),useDirectStoreUpdater("onNodeDragStop",_t,$t.setState),useDirectStoreUpdater("onSelectionDrag",ct,$t.setState),useDirectStoreUpdater("onSelectionDragStart",ut,$t.setState),useDirectStoreUpdater("onSelectionDragStop",mt,$t.setState),useDirectStoreUpdater("noPanClassName",Et,$t.setState),useDirectStoreUpdater("nodeOrigin",ht,$t.setState),useDirectStoreUpdater("rfId",It,$t.setState),useDirectStoreUpdater("autoPanOnConnect",Rt,$t.setState),useDirectStoreUpdater("autoPanOnNodeDrag",Mt,$t.setState),useDirectStoreUpdater("onError",At,$t.setState),useDirectStoreUpdater("connectionRadius",Lt,$t.setState),useDirectStoreUpdater("isValidConnection",Zt,$t.setState),useDirectStoreUpdater("nodeDragThreshold",Wt,$t.setState),useStoreUpdater(o,Nt),useStoreUpdater(i,jt),useStoreUpdater(st,zt),useStoreUpdater(ft,Ft),useStoreUpdater(vt,Bt),useStoreUpdater(tt,Ht),null},style={display:"none"},ariaLiveStyle={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ARIA_NODE_DESC_KEY="react-flow__node-desc",ARIA_EDGE_DESC_KEY="react-flow__edge-desc",ARIA_LIVE_MESSAGE="react-flow__aria-live",selector$c=o=>o.ariaLiveMessage;function AriaLiveMessage({rfId:o}){const i=useStore$1(selector$c);return React.createElement("div",{id:`${ARIA_LIVE_MESSAGE}-${o}`,"aria-live":"assertive","aria-atomic":"true",style:ariaLiveStyle},i)}function A11yDescriptions({rfId:o,disableKeyboardA11y:i}){return React.createElement(React.Fragment,null,React.createElement("div",{id:`${ARIA_NODE_DESC_KEY}-${o}`,style},"Press enter or space to select a node.",!i&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),React.createElement("div",{id:`${ARIA_EDGE_DESC_KEY}-${o}`,style},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!i&&React.createElement(AriaLiveMessage,{rfId:o}))}var useKeyPress=(o=null,i={actInsideInputWithModifier:!0})=>{const[s,a]=reactExports.useState(!1),c=reactExports.useRef(!1),d=reactExports.useRef(new Set([])),[g,_]=reactExports.useMemo(()=>{if(o!==null){const j=(Array.isArray(o)?o:[o]).filter(_e=>typeof _e=="string").map(_e=>_e.split("+")),$=j.reduce((_e,et)=>_e.concat(...et),[]);return[j,$]}return[[],[]]},[o]);return reactExports.useEffect(()=>{const b=typeof document<"u"?document:null,j=(i==null?void 0:i.target)||b;if(o!==null){const $=rt=>{if(c.current=rt.ctrlKey||rt.metaKey||rt.shiftKey,(!c.current||c.current&&!i.actInsideInputWithModifier)&&isInputDOMNode(rt))return!1;const st=useKeyOrCode(rt.code,_);d.current.add(rt[st]),isMatchingKey(g,d.current,!1)&&(rt.preventDefault(),a(!0))},_e=rt=>{if((!c.current||c.current&&!i.actInsideInputWithModifier)&&isInputDOMNode(rt))return!1;const st=useKeyOrCode(rt.code,_);isMatchingKey(g,d.current,!0)?(a(!1),d.current.clear()):d.current.delete(rt[st]),rt.key==="Meta"&&d.current.clear(),c.current=!1},et=()=>{d.current.clear(),a(!1)};return j==null||j.addEventListener("keydown",$),j==null||j.addEventListener("keyup",_e),window.addEventListener("blur",et),()=>{j==null||j.removeEventListener("keydown",$),j==null||j.removeEventListener("keyup",_e),window.removeEventListener("blur",et)}}},[o,a]),s};function isMatchingKey(o,i,s){return o.filter(a=>s||a.length===i.size).some(a=>a.every(c=>i.has(c)))}function useKeyOrCode(o,i){return i.includes(o)?"code":"key"}function calculateXYZPosition(o,i,s,a){var _,b;const c=o.parentNode||o.parentId;if(!c)return s;const d=i.get(c),g=getNodePositionWithOrigin(d,a);return calculateXYZPosition(d,i,{x:(s.x??0)+g.x,y:(s.y??0)+g.y,z:(((_=d[internalsSymbol])==null?void 0:_.z)??0)>(s.z??0)?((b=d[internalsSymbol])==null?void 0:b.z)??0:s.z??0},a)}function updateAbsoluteNodePositions(o,i,s){o.forEach(a=>{var d;const c=a.parentNode||a.parentId;if(c&&!o.has(c))throw new Error(`Parent node ${c} not found`);if(c||s!=null&&s[a.id]){const{x:g,y:_,z:b}=calculateXYZPosition(a,o,{...a.position,z:((d=a[internalsSymbol])==null?void 0:d.z)??0},i);a.positionAbsolute={x:g,y:_},a[internalsSymbol].z=b,s!=null&&s[a.id]&&(a[internalsSymbol].isParent=!0)}})}function createNodeInternals(o,i,s,a){const c=new Map,d={},g=a?1e3:0;return o.forEach(_=>{var rt;const b=(isNumeric(_.zIndex)?_.zIndex:0)+(_.selected?g:0),j=i.get(_.id),$={..._,positionAbsolute:{x:_.position.x,y:_.position.y}},_e=_.parentNode||_.parentId;_e&&(d[_e]=!0);const et=(j==null?void 0:j.type)&&(j==null?void 0:j.type)!==_.type;Object.defineProperty($,internalsSymbol,{enumerable:!1,value:{handleBounds:et||(rt=j==null?void 0:j[internalsSymbol])==null?void 0:rt.handleBounds,z:b}}),c.set(_.id,$)}),updateAbsoluteNodePositions(c,s,d),c}function fitView(o,i={}){const{getNodes:s,width:a,height:c,minZoom:d,maxZoom:g,d3Zoom:_,d3Selection:b,fitViewOnInitDone:j,fitViewOnInit:$,nodeOrigin:_e}=o(),et=i.initial&&!j&&$;if(_&&b&&(et||!i.initial)){const ot=s().filter(ft=>{var nt;const tt=i.includeHiddenNodes?ft.width&&ft.height:!ft.hidden;return(nt=i.nodes)!=null&&nt.length?tt&&i.nodes.some(it=>it.id===ft.id):tt}),st=ot.every(ft=>ft.width&&ft.height);if(ot.length>0&&st){const ft=getNodesBounds(ot,_e),{x:tt,y:nt,zoom:it}=getViewportForBounds(ft,a,c,i.minZoom??d,i.maxZoom??g,i.padding??.1),at=identity$1.translate(tt,nt).scale(it);return typeof i.duration=="number"&&i.duration>0?_.transform(getD3Transition(b,i.duration),at):_.transform(b,at),!0}}return!1}function handleControlledNodeSelectionChange(o,i){return o.forEach(s=>{const a=i.get(s.id);a&&i.set(a.id,{...a,[internalsSymbol]:a[internalsSymbol],selected:s.selected})}),new Map(i)}function handleControlledEdgeSelectionChange(o,i){return i.map(s=>{const a=o.find(c=>c.id===s.id);return a&&(s.selected=a.selected),s})}function updateNodesAndEdgesSelections({changedNodes:o,changedEdges:i,get:s,set:a}){const{nodeInternals:c,edges:d,onNodesChange:g,onEdgesChange:_,hasDefaultNodes:b,hasDefaultEdges:j}=s();o!=null&&o.length&&(b&&a({nodeInternals:handleControlledNodeSelectionChange(o,c)}),g==null||g(o)),i!=null&&i.length&&(j&&a({edges:handleControlledEdgeSelectionChange(i,d)}),_==null||_(i))}const noop$1=()=>{},initialViewportHelper={zoomIn:noop$1,zoomOut:noop$1,zoomTo:noop$1,getZoom:()=>1,setViewport:noop$1,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:noop$1,fitBounds:noop$1,project:o=>o,screenToFlowPosition:o=>o,flowToScreenPosition:o=>o,viewportInitialized:!1},selector$b=o=>({d3Zoom:o.d3Zoom,d3Selection:o.d3Selection}),useViewportHelper=()=>{const o=useStoreApi(),{d3Zoom:i,d3Selection:s}=useStore$1(selector$b,shallow$1);return reactExports.useMemo(()=>s&&i?{zoomIn:c=>i.scaleBy(getD3Transition(s,c==null?void 0:c.duration),1.2),zoomOut:c=>i.scaleBy(getD3Transition(s,c==null?void 0:c.duration),1/1.2),zoomTo:(c,d)=>i.scaleTo(getD3Transition(s,d==null?void 0:d.duration),c),getZoom:()=>o.getState().transform[2],setViewport:(c,d)=>{const[g,_,b]=o.getState().transform,j=identity$1.translate(c.x??g,c.y??_).scale(c.zoom??b);i.transform(getD3Transition(s,d==null?void 0:d.duration),j)},getViewport:()=>{const[c,d,g]=o.getState().transform;return{x:c,y:d,zoom:g}},fitView:c=>fitView(o.getState,c),setCenter:(c,d,g)=>{const{width:_,height:b,maxZoom:j}=o.getState(),$=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:j,_e=_/2-c*$,et=b/2-d*$,rt=identity$1.translate(_e,et).scale($);i.transform(getD3Transition(s,g==null?void 0:g.duration),rt)},fitBounds:(c,d)=>{const{width:g,height:_,minZoom:b,maxZoom:j}=o.getState(),{x:$,y:_e,zoom:et}=getViewportForBounds(c,g,_,b,j,(d==null?void 0:d.padding)??.1),rt=identity$1.translate($,_e).scale(et);i.transform(getD3Transition(s,d==null?void 0:d.duration),rt)},project:c=>{const{transform:d,snapToGrid:g,snapGrid:_}=o.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),pointToRendererPoint(c,d,g,_)},screenToFlowPosition:c=>{const{transform:d,snapToGrid:g,snapGrid:_,domNode:b}=o.getState();if(!b)return c;const{x:j,y:$}=b.getBoundingClientRect(),_e={x:c.x-j,y:c.y-$};return pointToRendererPoint(_e,d,g,_)},flowToScreenPosition:c=>{const{transform:d,domNode:g}=o.getState();if(!g)return c;const{x:_,y:b}=g.getBoundingClientRect(),j=rendererPointToPoint(c,d);return{x:j.x+_,y:j.y+b}},viewportInitialized:!0}:initialViewportHelper,[i,s])};function useReactFlow(){const o=useViewportHelper(),i=useStoreApi(),s=reactExports.useCallback(()=>i.getState().getNodes().map(st=>({...st})),[]),a=reactExports.useCallback(st=>i.getState().nodeInternals.get(st),[]),c=reactExports.useCallback(()=>{const{edges:st=[]}=i.getState();return st.map(ft=>({...ft}))},[]),d=reactExports.useCallback(st=>{const{edges:ft=[]}=i.getState();return ft.find(tt=>tt.id===st)},[]),g=reactExports.useCallback(st=>{const{getNodes:ft,setNodes:tt,hasDefaultNodes:nt,onNodesChange:it}=i.getState(),at=ft(),pt=typeof st=="function"?st(at):st;if(nt)tt(pt);else if(it){const yt=pt.length===0?at.map(dt=>({type:"remove",id:dt.id})):pt.map(dt=>({item:dt,type:"reset"}));it(yt)}},[]),_=reactExports.useCallback(st=>{const{edges:ft=[],setEdges:tt,hasDefaultEdges:nt,onEdgesChange:it}=i.getState(),at=typeof st=="function"?st(ft):st;if(nt)tt(at);else if(it){const pt=at.length===0?ft.map(yt=>({type:"remove",id:yt.id})):at.map(yt=>({item:yt,type:"reset"}));it(pt)}},[]),b=reactExports.useCallback(st=>{const ft=Array.isArray(st)?st:[st],{getNodes:tt,setNodes:nt,hasDefaultNodes:it,onNodesChange:at}=i.getState();if(it){const yt=[...tt(),...ft];nt(yt)}else if(at){const pt=ft.map(yt=>({item:yt,type:"add"}));at(pt)}},[]),j=reactExports.useCallback(st=>{const ft=Array.isArray(st)?st:[st],{edges:tt=[],setEdges:nt,hasDefaultEdges:it,onEdgesChange:at}=i.getState();if(it)nt([...tt,...ft]);else if(at){const pt=ft.map(yt=>({item:yt,type:"add"}));at(pt)}},[]),$=reactExports.useCallback(()=>{const{getNodes:st,edges:ft=[],transform:tt}=i.getState(),[nt,it,at]=tt;return{nodes:st().map(pt=>({...pt})),edges:ft.map(pt=>({...pt})),viewport:{x:nt,y:it,zoom:at}}},[]),_e=reactExports.useCallback(({nodes:st,edges:ft})=>{const{nodeInternals:tt,getNodes:nt,edges:it,hasDefaultNodes:at,hasDefaultEdges:pt,onNodesDelete:yt,onEdgesDelete:dt,onNodesChange:vt,onEdgesChange:wt}=i.getState(),St=(st||[]).map(xt=>xt.id),Tt=(ft||[]).map(xt=>xt.id),bt=nt().reduce((xt,gt)=>{const _t=gt.parentNode||gt.parentId,ct=!St.includes(gt.id)&&_t&&xt.find(mt=>mt.id===_t);return(typeof gt.deletable=="boolean"?gt.deletable:!0)&&(St.includes(gt.id)||ct)&&xt.push(gt),xt},[]),kt=it.filter(xt=>typeof xt.deletable=="boolean"?xt.deletable:!0),lt=kt.filter(xt=>Tt.includes(xt.id));if(bt||lt){const xt=getConnectedEdges(bt,kt),gt=[...lt,...xt],_t=gt.reduce((ct,ut)=>(ct.includes(ut.id)||ct.push(ut.id),ct),[]);if((pt||at)&&(pt&&i.setState({edges:it.filter(ct=>!_t.includes(ct.id))}),at&&(bt.forEach(ct=>{tt.delete(ct.id)}),i.setState({nodeInternals:new Map(tt)}))),_t.length>0&&(dt==null||dt(gt),wt&&wt(_t.map(ct=>({id:ct,type:"remove"})))),bt.length>0&&(yt==null||yt(bt),vt)){const ct=bt.map(ut=>({id:ut.id,type:"remove"}));vt(ct)}}},[]),et=reactExports.useCallback(st=>{const ft=isRectObject(st),tt=ft?null:i.getState().nodeInternals.get(st.id);return!ft&&!tt?[null,null,ft]:[ft?st:nodeToRect(tt),tt,ft]},[]),rt=reactExports.useCallback((st,ft=!0,tt)=>{const[nt,it,at]=et(st);return nt?(tt||i.getState().getNodes()).filter(pt=>{if(!at&&(pt.id===it.id||!pt.positionAbsolute))return!1;const yt=nodeToRect(pt),dt=getOverlappingArea(yt,nt);return ft&&dt>0||dt>=nt.width*nt.height}):[]},[]),ot=reactExports.useCallback((st,ft,tt=!0)=>{const[nt]=et(st);if(!nt)return!1;const it=getOverlappingArea(nt,ft);return tt&&it>0||it>=nt.width*nt.height},[]);return reactExports.useMemo(()=>({...o,getNodes:s,getNode:a,getEdges:c,getEdge:d,setNodes:g,setEdges:_,addNodes:b,addEdges:j,toObject:$,deleteElements:_e,getIntersectingNodes:rt,isNodeIntersecting:ot}),[o,s,a,c,d,g,_,b,j,$,_e,rt,ot])}const deleteKeyOptions={actInsideInputWithModifier:!1};var useGlobalKeyHandler=({deleteKeyCode:o,multiSelectionKeyCode:i})=>{const s=useStoreApi(),{deleteElements:a}=useReactFlow(),c=useKeyPress(o,deleteKeyOptions),d=useKeyPress(i);reactExports.useEffect(()=>{if(c){const{edges:g,getNodes:_}=s.getState(),b=_().filter($=>$.selected),j=g.filter($=>$.selected);a({nodes:b,edges:j}),s.setState({nodesSelectionActive:!1})}},[c]),reactExports.useEffect(()=>{s.setState({multiSelectionActive:d})},[d])};function useResizeHandler(o){const i=useStoreApi();reactExports.useEffect(()=>{let s;const a=()=>{var d,g;if(!o.current)return;const c=getDimensions(o.current);(c.height===0||c.width===0)&&((g=(d=i.getState()).onError)==null||g.call(d,"004",errorMessages.error004())),i.setState({width:c.width||500,height:c.height||500})};return a(),window.addEventListener("resize",a),o.current&&(s=new ResizeObserver(()=>a()),s.observe(o.current)),()=>{window.removeEventListener("resize",a),s&&o.current&&s.unobserve(o.current)}},[])}const containerStyle$4={position:"absolute",width:"100%",height:"100%",top:0,left:0},viewChanged=(o,i)=>o.x!==i.x||o.y!==i.y||o.zoom!==i.k,eventToFlowTransform=o=>({x:o.x,y:o.y,zoom:o.k}),isWrappedWithClass=(o,i)=>o.target.closest(`.${i}`),isRightClickPan=(o,i)=>i===2&&Array.isArray(o)&&o.includes(2),wheelDelta=o=>{const i=o.ctrlKey&&isMacOs()?10:1;return-o.deltaY*(o.deltaMode===1?.05:o.deltaMode?1:.002)*i},selector$a=o=>({d3Zoom:o.d3Zoom,d3Selection:o.d3Selection,d3ZoomHandler:o.d3ZoomHandler,userSelectionActive:o.userSelectionActive}),ZoomPane=({onMove:o,onMoveStart:i,onMoveEnd:s,onPaneContextMenu:a,zoomOnScroll:c=!0,zoomOnPinch:d=!0,panOnScroll:g=!1,panOnScrollSpeed:_=.5,panOnScrollMode:b=PanOnScrollMode.Free,zoomOnDoubleClick:j=!0,elementsSelectable:$,panOnDrag:_e=!0,defaultViewport:et,translateExtent:rt,minZoom:ot,maxZoom:st,zoomActivationKeyCode:ft,preventScrolling:tt=!0,children:nt,noWheelClassName:it,noPanClassName:at})=>{const pt=reactExports.useRef(),yt=useStoreApi(),dt=reactExports.useRef(!1),vt=reactExports.useRef(!1),wt=reactExports.useRef(null),St=reactExports.useRef({x:0,y:0,zoom:0}),{d3Zoom:Tt,d3Selection:bt,d3ZoomHandler:kt,userSelectionActive:lt}=useStore$1(selector$a,shallow$1),xt=useKeyPress(ft),gt=reactExports.useRef(0),_t=reactExports.useRef(!1),ct=reactExports.useRef();return useResizeHandler(wt),reactExports.useEffect(()=>{if(wt.current){const ut=wt.current.getBoundingClientRect(),mt=zoom().scaleExtent([ot,st]).translateExtent(rt),Et=select(wt.current).call(mt),ht=identity$1.translate(et.x,et.y).scale(clamp$2(et.zoom,ot,st)),It=[[0,0],[ut.width,ut.height]],Rt=mt.constrain()(ht,It,rt);mt.transform(Et,Rt),mt.wheelDelta(wheelDelta),yt.setState({d3Zoom:mt,d3Selection:Et,d3ZoomHandler:Et.on("wheel.zoom"),transform:[Rt.x,Rt.y,Rt.k],domNode:wt.current.closest(".react-flow")})}},[]),reactExports.useEffect(()=>{bt&&Tt&&(g&&!xt&&!lt?bt.on("wheel.zoom",ut=>{if(isWrappedWithClass(ut,it))return!1;ut.preventDefault(),ut.stopImmediatePropagation();const mt=bt.property("__zoom").k||1;if(ut.ctrlKey&&d){const Zt=pointer(ut),Wt=wheelDelta(ut),Nt=mt*Math.pow(2,Wt);Tt.scaleTo(bt,Nt,Zt,ut);return}const Et=ut.deltaMode===1?20:1;let ht=b===PanOnScrollMode.Vertical?0:ut.deltaX*Et,It=b===PanOnScrollMode.Horizontal?0:ut.deltaY*Et;!isMacOs()&&ut.shiftKey&&b!==PanOnScrollMode.Vertical&&(ht=ut.deltaY*Et,It=0),Tt.translateBy(bt,-(ht/mt)*_,-(It/mt)*_,{internal:!0});const Rt=eventToFlowTransform(bt.property("__zoom")),{onViewportChangeStart:Mt,onViewportChange:At,onViewportChangeEnd:Lt}=yt.getState();clearTimeout(ct.current),_t.current||(_t.current=!0,i==null||i(ut,Rt),Mt==null||Mt(Rt)),_t.current&&(o==null||o(ut,Rt),At==null||At(Rt),ct.current=setTimeout(()=>{s==null||s(ut,Rt),Lt==null||Lt(Rt),_t.current=!1},150))},{passive:!1}):typeof kt<"u"&&bt.on("wheel.zoom",function(ut,mt){if(!tt&&ut.type==="wheel"&&!ut.ctrlKey||isWrappedWithClass(ut,it))return null;ut.preventDefault(),kt.call(this,ut,mt)},{passive:!1}))},[lt,g,b,bt,Tt,kt,xt,d,tt,it,i,o,s]),reactExports.useEffect(()=>{Tt&&Tt.on("start",ut=>{var ht,It;if(!ut.sourceEvent||ut.sourceEvent.internal)return null;gt.current=(ht=ut.sourceEvent)==null?void 0:ht.button;const{onViewportChangeStart:mt}=yt.getState(),Et=eventToFlowTransform(ut.transform);dt.current=!0,St.current=Et,((It=ut.sourceEvent)==null?void 0:It.type)==="mousedown"&&yt.setState({paneDragging:!0}),mt==null||mt(Et),i==null||i(ut.sourceEvent,Et)})},[Tt,i]),reactExports.useEffect(()=>{Tt&&(lt&&!dt.current?Tt.on("zoom",null):lt||Tt.on("zoom",ut=>{var Et;const{onViewportChange:mt}=yt.getState();if(yt.setState({transform:[ut.transform.x,ut.transform.y,ut.transform.k]}),vt.current=!!(a&&isRightClickPan(_e,gt.current??0)),(o||mt)&&!((Et=ut.sourceEvent)!=null&&Et.internal)){const ht=eventToFlowTransform(ut.transform);mt==null||mt(ht),o==null||o(ut.sourceEvent,ht)}}))},[lt,Tt,o,_e,a]),reactExports.useEffect(()=>{Tt&&Tt.on("end",ut=>{if(!ut.sourceEvent||ut.sourceEvent.internal)return null;const{onViewportChangeEnd:mt}=yt.getState();if(dt.current=!1,yt.setState({paneDragging:!1}),a&&isRightClickPan(_e,gt.current??0)&&!vt.current&&a(ut.sourceEvent),vt.current=!1,(s||mt)&&viewChanged(St.current,ut.transform)){const Et=eventToFlowTransform(ut.transform);St.current=Et,clearTimeout(pt.current),pt.current=setTimeout(()=>{mt==null||mt(Et),s==null||s(ut.sourceEvent,Et)},g?150:0)}})},[Tt,g,_e,s,a]),reactExports.useEffect(()=>{Tt&&Tt.filter(ut=>{const mt=xt||c,Et=d&&ut.ctrlKey;if((_e===!0||Array.isArray(_e)&&_e.includes(1))&&ut.button===1&&ut.type==="mousedown"&&(isWrappedWithClass(ut,"react-flow__node")||isWrappedWithClass(ut,"react-flow__edge")))return!0;if(!_e&&!mt&&!g&&!j&&!d||lt||!j&&ut.type==="dblclick"||isWrappedWithClass(ut,it)&&ut.type==="wheel"||isWrappedWithClass(ut,at)&&(ut.type!=="wheel"||g&&ut.type==="wheel"&&!xt)||!d&&ut.ctrlKey&&ut.type==="wheel"||!mt&&!g&&!Et&&ut.type==="wheel"||!_e&&(ut.type==="mousedown"||ut.type==="touchstart")||Array.isArray(_e)&&!_e.includes(ut.button)&&ut.type==="mousedown")return!1;const ht=Array.isArray(_e)&&_e.includes(ut.button)||!ut.button||ut.button<=1;return(!ut.ctrlKey||ut.type==="wheel")&&ht})},[lt,Tt,c,d,g,j,_e,$,xt]),React.createElement("div",{className:"react-flow__renderer",ref:wt,style:containerStyle$4},nt)},selector$9=o=>({userSelectionActive:o.userSelectionActive,userSelectionRect:o.userSelectionRect});function UserSelection(){const{userSelectionActive:o,userSelectionRect:i}=useStore$1(selector$9,shallow$1);return o&&i?React.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:i.width,height:i.height,transform:`translate(${i.x}px, ${i.y}px)`}}):null}function handleParentExpand(o,i){const s=i.parentNode||i.parentId,a=o.find(c=>c.id===s);if(a){const c=i.position.x+i.width-a.width,d=i.position.y+i.height-a.height;if(c>0||d>0||i.position.x<0||i.position.y<0){if(a.style={...a.style},a.style.width=a.style.width??a.width,a.style.height=a.style.height??a.height,c>0&&(a.style.width+=c),d>0&&(a.style.height+=d),i.position.x<0){const g=Math.abs(i.position.x);a.position.x=a.position.x-g,a.style.width+=g,i.position.x=0}if(i.position.y<0){const g=Math.abs(i.position.y);a.position.y=a.position.y-g,a.style.height+=g,i.position.y=0}a.width=a.style.width,a.height=a.style.height}}}function applyChanges(o,i){if(o.some(a=>a.type==="reset"))return o.filter(a=>a.type==="reset").map(a=>a.item);const s=o.filter(a=>a.type==="add").map(a=>a.item);return i.reduce((a,c)=>{const d=o.filter(_=>_.id===c.id);if(d.length===0)return a.push(c),a;const g={...c};for(const _ of d)if(_)switch(_.type){case"select":{g.selected=_.selected;break}case"position":{typeof _.position<"u"&&(g.position=_.position),typeof _.positionAbsolute<"u"&&(g.positionAbsolute=_.positionAbsolute),typeof _.dragging<"u"&&(g.dragging=_.dragging),g.expandParent&&handleParentExpand(a,g);break}case"dimensions":{typeof _.dimensions<"u"&&(g.width=_.dimensions.width,g.height=_.dimensions.height),typeof _.updateStyle<"u"&&(g.style={...g.style||{},..._.dimensions}),typeof _.resizing=="boolean"&&(g.resizing=_.resizing),g.expandParent&&handleParentExpand(a,g);break}case"remove":return a}return a.push(g),a},s)}function applyNodeChanges(o,i){return applyChanges(o,i)}function applyEdgeChanges(o,i){return applyChanges(o,i)}const createSelectionChange=(o,i)=>({id:o,type:"select",selected:i});function getSelectionChanges(o,i){return o.reduce((s,a)=>{const c=i.includes(a.id);return!a.selected&&c?(a.selected=!0,s.push(createSelectionChange(a.id,!0))):a.selected&&!c&&(a.selected=!1,s.push(createSelectionChange(a.id,!1))),s},[])}const wrapHandler=(o,i)=>s=>{s.target===i.current&&(o==null||o(s))},selector$8=o=>({userSelectionActive:o.userSelectionActive,elementsSelectable:o.elementsSelectable,dragging:o.paneDragging}),Pane=reactExports.memo(({isSelecting:o,selectionMode:i=SelectionMode.Full,panOnDrag:s,onSelectionStart:a,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:g,onPaneScroll:_,onPaneMouseEnter:b,onPaneMouseMove:j,onPaneMouseLeave:$,children:_e})=>{const et=reactExports.useRef(null),rt=useStoreApi(),ot=reactExports.useRef(0),st=reactExports.useRef(0),ft=reactExports.useRef(),{userSelectionActive:tt,elementsSelectable:nt,dragging:it}=useStore$1(selector$8,shallow$1),at=()=>{rt.setState({userSelectionActive:!1,userSelectionRect:null}),ot.current=0,st.current=0},pt=kt=>{d==null||d(kt),rt.getState().resetSelectedElements(),rt.setState({nodesSelectionActive:!1})},yt=kt=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){kt.preventDefault();return}g==null||g(kt)},dt=_?kt=>_(kt):void 0,vt=kt=>{const{resetSelectedElements:lt,domNode:xt}=rt.getState();if(ft.current=xt==null?void 0:xt.getBoundingClientRect(),!nt||!o||kt.button!==0||kt.target!==et.current||!ft.current)return;const{x:gt,y:_t}=getEventPosition(kt,ft.current);lt(),rt.setState({userSelectionRect:{width:0,height:0,startX:gt,startY:_t,x:gt,y:_t}}),a==null||a(kt)},wt=kt=>{const{userSelectionRect:lt,nodeInternals:xt,edges:gt,transform:_t,onNodesChange:ct,onEdgesChange:ut,nodeOrigin:mt,getNodes:Et}=rt.getState();if(!o||!ft.current||!lt)return;rt.setState({userSelectionActive:!0,nodesSelectionActive:!1});const ht=getEventPosition(kt,ft.current),It=lt.startX??0,Rt=lt.startY??0,Mt={...lt,x:ht.x<It?ht.x:It,y:ht.y<Rt?ht.y:Rt,width:Math.abs(ht.x-It),height:Math.abs(ht.y-Rt)},At=Et(),Lt=getNodesInside(xt,Mt,_t,i===SelectionMode.Partial,!0,mt),Zt=getConnectedEdges(Lt,gt).map(Nt=>Nt.id),Wt=Lt.map(Nt=>Nt.id);if(ot.current!==Wt.length){ot.current=Wt.length;const Nt=getSelectionChanges(At,Wt);Nt.length&&(ct==null||ct(Nt))}if(st.current!==Zt.length){st.current=Zt.length;const Nt=getSelectionChanges(gt,Zt);Nt.length&&(ut==null||ut(Nt))}rt.setState({userSelectionRect:Mt})},St=kt=>{if(kt.button!==0)return;const{userSelectionRect:lt}=rt.getState();!tt&&lt&&kt.target===et.current&&(pt==null||pt(kt)),rt.setState({nodesSelectionActive:ot.current>0}),at(),c==null||c(kt)},Tt=kt=>{tt&&(rt.setState({nodesSelectionActive:ot.current>0}),c==null||c(kt)),at()},bt=nt&&(o||tt);return React.createElement("div",{className:cc(["react-flow__pane",{dragging:it,selection:o}]),onClick:bt?void 0:wrapHandler(pt,et),onContextMenu:wrapHandler(yt,et),onWheel:wrapHandler(dt,et),onMouseEnter:bt?void 0:b,onMouseDown:bt?vt:void 0,onMouseMove:bt?wt:j,onMouseUp:bt?St:void 0,onMouseLeave:bt?Tt:$,ref:et,style:containerStyle$4},_e,React.createElement(UserSelection,null))});Pane.displayName="Pane";function isParentSelected(o,i){const s=o.parentNode||o.parentId;if(!s)return!1;const a=i.get(s);return a?a.selected?!0:isParentSelected(a,i):!1}function hasSelector(o,i,s){let a=o;do{if(a!=null&&a.matches(i))return!0;if(a===s.current)return!1;a=a.parentElement}while(a);return!1}function getDragItems(o,i,s,a){return Array.from(o.values()).filter(c=>(c.selected||c.id===a)&&(!c.parentNode||c.parentId||!isParentSelected(c,o))&&(c.draggable||i&&typeof c.draggable>"u")).map(c=>{var d,g;return{id:c.id,position:c.position||{x:0,y:0},positionAbsolute:c.positionAbsolute||{x:0,y:0},distance:{x:s.x-(((d=c.positionAbsolute)==null?void 0:d.x)??0),y:s.y-(((g=c.positionAbsolute)==null?void 0:g.y)??0)},delta:{x:0,y:0},extent:c.extent,parentNode:c.parentNode||c.parentId,parentId:c.parentNode||c.parentId,width:c.width,height:c.height,expandParent:c.expandParent}})}function clampNodeExtent(o,i){return!i||i==="parent"?i:[i[0],[i[1][0]-(o.width||0),i[1][1]-(o.height||0)]]}function calcNextPosition(o,i,s,a,c=[0,0],d){const g=clampNodeExtent(o,o.extent||a);let _=g;const b=o.parentNode||o.parentId;if(o.extent==="parent"&&!o.expandParent)if(b&&o.width&&o.height){const _e=s.get(b),{x:et,y:rt}=getNodePositionWithOrigin(_e,c).positionAbsolute;_=_e&&isNumeric(et)&&isNumeric(rt)&&isNumeric(_e.width)&&isNumeric(_e.height)?[[et+o.width*c[0],rt+o.height*c[1]],[et+_e.width-o.width+o.width*c[0],rt+_e.height-o.height+o.height*c[1]]]:_}else d==null||d("005",errorMessages.error005()),_=g;else if(o.extent&&b&&o.extent!=="parent"){const _e=s.get(b),{x:et,y:rt}=getNodePositionWithOrigin(_e,c).positionAbsolute;_=[[o.extent[0][0]+et,o.extent[0][1]+rt],[o.extent[1][0]+et,o.extent[1][1]+rt]]}let j={x:0,y:0};if(b){const _e=s.get(b);j=getNodePositionWithOrigin(_e,c).positionAbsolute}const $=_&&_!=="parent"?clampPosition(i,_):i;return{position:{x:$.x-j.x,y:$.y-j.y},positionAbsolute:$}}function getEventHandlerParams({nodeId:o,dragItems:i,nodeInternals:s}){const a=i.map(c=>({...s.get(c.id),position:c.position,positionAbsolute:c.positionAbsolute}));return[o?a.find(c=>c.id===o):a[0],a]}const getHandleBounds=(o,i,s,a)=>{const c=i.querySelectorAll(o);if(!c||!c.length)return null;const d=Array.from(c),g=i.getBoundingClientRect(),_={x:g.width*a[0],y:g.height*a[1]};return d.map(b=>{const j=b.getBoundingClientRect();return{id:b.getAttribute("data-handleid"),position:b.getAttribute("data-handlepos"),x:(j.left-g.left-_.x)/s,y:(j.top-g.top-_.y)/s,...getDimensions(b)}})};function getMouseHandler(o,i,s){return s===void 0?s:a=>{const c=i().nodeInternals.get(o);c&&s(a,{...c})}}function handleNodeClick({id:o,store:i,unselect:s=!1,nodeRef:a}){const{addSelectedNodes:c,unselectNodesAndEdges:d,multiSelectionActive:g,nodeInternals:_,onError:b}=i.getState(),j=_.get(o);if(!j){b==null||b("012",errorMessages.error012(o));return}i.setState({nodesSelectionActive:!1}),j.selected?(s||j.selected&&g)&&(d({nodes:[j],edges:[]}),requestAnimationFrame(()=>{var $;return($=a==null?void 0:a.current)==null?void 0:$.blur()})):c([o])}function useGetPointerPosition(){const o=useStoreApi();return reactExports.useCallback(({sourceEvent:s})=>{const{transform:a,snapGrid:c,snapToGrid:d}=o.getState(),g=s.touches?s.touches[0].clientX:s.clientX,_=s.touches?s.touches[0].clientY:s.clientY,b={x:(g-a[0])/a[2],y:(_-a[1])/a[2]};return{xSnapped:d?c[0]*Math.round(b.x/c[0]):b.x,ySnapped:d?c[1]*Math.round(b.y/c[1]):b.y,...b}},[])}function wrapSelectionDragFunc(o){return(i,s,a)=>o==null?void 0:o(i,a)}function useDrag({nodeRef:o,disabled:i=!1,noDragClassName:s,handleSelector:a,nodeId:c,isSelectable:d,selectNodesOnDrag:g}){const _=useStoreApi(),[b,j]=reactExports.useState(!1),$=reactExports.useRef([]),_e=reactExports.useRef({x:null,y:null}),et=reactExports.useRef(0),rt=reactExports.useRef(null),ot=reactExports.useRef({x:0,y:0}),st=reactExports.useRef(null),ft=reactExports.useRef(!1),tt=reactExports.useRef(!1),nt=reactExports.useRef(!1),it=useGetPointerPosition();return reactExports.useEffect(()=>{if(o!=null&&o.current){const at=select(o.current),pt=({x:vt,y:wt})=>{const{nodeInternals:St,onNodeDrag:Tt,onSelectionDrag:bt,updateNodePositions:kt,nodeExtent:lt,snapGrid:xt,snapToGrid:gt,nodeOrigin:_t,onError:ct}=_.getState();_e.current={x:vt,y:wt};let ut=!1,mt={x:0,y:0,x2:0,y2:0};if($.current.length>1&&lt){const ht=getNodesBounds($.current,_t);mt=rectToBox(ht)}if($.current=$.current.map(ht=>{const It={x:vt-ht.distance.x,y:wt-ht.distance.y};gt&&(It.x=xt[0]*Math.round(It.x/xt[0]),It.y=xt[1]*Math.round(It.y/xt[1]));const Rt=[[lt[0][0],lt[0][1]],[lt[1][0],lt[1][1]]];$.current.length>1&&lt&&!ht.extent&&(Rt[0][0]=ht.positionAbsolute.x-mt.x+lt[0][0],Rt[1][0]=ht.positionAbsolute.x+(ht.width??0)-mt.x2+lt[1][0],Rt[0][1]=ht.positionAbsolute.y-mt.y+lt[0][1],Rt[1][1]=ht.positionAbsolute.y+(ht.height??0)-mt.y2+lt[1][1]);const Mt=calcNextPosition(ht,It,St,Rt,_t,ct);return ut=ut||ht.position.x!==Mt.position.x||ht.position.y!==Mt.position.y,ht.position=Mt.position,ht.positionAbsolute=Mt.positionAbsolute,ht}),!ut)return;kt($.current,!0,!0),j(!0);const Et=c?Tt:wrapSelectionDragFunc(bt);if(Et&&st.current){const[ht,It]=getEventHandlerParams({nodeId:c,dragItems:$.current,nodeInternals:St});Et(st.current,ht,It)}},yt=()=>{if(!rt.current)return;const[vt,wt]=calcAutoPan(ot.current,rt.current);if(vt!==0||wt!==0){const{transform:St,panBy:Tt}=_.getState();_e.current.x=(_e.current.x??0)-vt/St[2],_e.current.y=(_e.current.y??0)-wt/St[2],Tt({x:vt,y:wt})&&pt(_e.current)}et.current=requestAnimationFrame(yt)},dt=vt=>{var _t;const{nodeInternals:wt,multiSelectionActive:St,nodesDraggable:Tt,unselectNodesAndEdges:bt,onNodeDragStart:kt,onSelectionDragStart:lt}=_.getState();tt.current=!0;const xt=c?kt:wrapSelectionDragFunc(lt);(!g||!d)&&!St&&c&&((_t=wt.get(c))!=null&&_t.selected||bt()),c&&d&&g&&handleNodeClick({id:c,store:_,nodeRef:o});const gt=it(vt);if(_e.current=gt,$.current=getDragItems(wt,Tt,gt,c),xt&&$.current){const[ct,ut]=getEventHandlerParams({nodeId:c,dragItems:$.current,nodeInternals:wt});xt(vt.sourceEvent,ct,ut)}};if(i)at.on(".drag",null);else{const vt=drag().on("start",wt=>{const{domNode:St,nodeDragThreshold:Tt}=_.getState();Tt===0&&dt(wt),nt.current=!1;const bt=it(wt);_e.current=bt,rt.current=(St==null?void 0:St.getBoundingClientRect())||null,ot.current=getEventPosition(wt.sourceEvent,rt.current)}).on("drag",wt=>{var kt,lt;const St=it(wt),{autoPanOnNodeDrag:Tt,nodeDragThreshold:bt}=_.getState();if(wt.sourceEvent.type==="touchmove"&&wt.sourceEvent.touches.length>1&&(nt.current=!0),!nt.current){if(!ft.current&&tt.current&&Tt&&(ft.current=!0,yt()),!tt.current){const xt=St.xSnapped-(((kt=_e==null?void 0:_e.current)==null?void 0:kt.x)??0),gt=St.ySnapped-(((lt=_e==null?void 0:_e.current)==null?void 0:lt.y)??0);Math.sqrt(xt*xt+gt*gt)>bt&&dt(wt)}(_e.current.x!==St.xSnapped||_e.current.y!==St.ySnapped)&&$.current&&tt.current&&(st.current=wt.sourceEvent,ot.current=getEventPosition(wt.sourceEvent,rt.current),pt(St))}}).on("end",wt=>{if(!(!tt.current||nt.current)&&(j(!1),ft.current=!1,tt.current=!1,cancelAnimationFrame(et.current),$.current)){const{updateNodePositions:St,nodeInternals:Tt,onNodeDragStop:bt,onSelectionDragStop:kt}=_.getState(),lt=c?bt:wrapSelectionDragFunc(kt);if(St($.current,!1,!1),lt){const[xt,gt]=getEventHandlerParams({nodeId:c,dragItems:$.current,nodeInternals:Tt});lt(wt.sourceEvent,xt,gt)}}}).filter(wt=>{const St=wt.target;return!wt.button&&(!s||!hasSelector(St,`.${s}`,o))&&(!a||hasSelector(St,a,o))});return at.call(vt),()=>{at.on(".drag",null)}}}},[o,i,s,a,d,_,c,g,it]),b}function useUpdateNodePositions(){const o=useStoreApi();return reactExports.useCallback(s=>{const{nodeInternals:a,nodeExtent:c,updateNodePositions:d,getNodes:g,snapToGrid:_,snapGrid:b,onError:j,nodesDraggable:$}=o.getState(),_e=g().filter(nt=>nt.selected&&(nt.draggable||$&&typeof nt.draggable>"u")),et=_?b[0]:5,rt=_?b[1]:5,ot=s.isShiftPressed?4:1,st=s.x*et*ot,ft=s.y*rt*ot,tt=_e.map(nt=>{if(nt.positionAbsolute){const it={x:nt.positionAbsolute.x+st,y:nt.positionAbsolute.y+ft};_&&(it.x=b[0]*Math.round(it.x/b[0]),it.y=b[1]*Math.round(it.y/b[1]));const{positionAbsolute:at,position:pt}=calcNextPosition(nt,it,a,c,void 0,j);nt.position=pt,nt.positionAbsolute=at}return nt});d(tt,!0,!1)},[])}const arrowKeyDiffs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wrapNode=o=>{const i=({id:s,type:a,data:c,xPos:d,yPos:g,xPosOrigin:_,yPosOrigin:b,selected:j,onClick:$,onMouseEnter:_e,onMouseMove:et,onMouseLeave:rt,onContextMenu:ot,onDoubleClick:st,style:ft,className:tt,isDraggable:nt,isSelectable:it,isConnectable:at,isFocusable:pt,selectNodesOnDrag:yt,sourcePosition:dt,targetPosition:vt,hidden:wt,resizeObserver:St,dragHandle:Tt,zIndex:bt,isParent:kt,noDragClassName:lt,noPanClassName:xt,initialized:gt,disableKeyboardA11y:_t,ariaLabel:ct,rfId:ut,hasHandleBounds:mt})=>{const Et=useStoreApi(),ht=reactExports.useRef(null),It=reactExports.useRef(null),Rt=reactExports.useRef(dt),Mt=reactExports.useRef(vt),At=reactExports.useRef(a),Lt=it||nt||$||_e||et||rt,Zt=useUpdateNodePositions(),Wt=getMouseHandler(s,Et.getState,_e),Nt=getMouseHandler(s,Et.getState,et),jt=getMouseHandler(s,Et.getState,rt),Dt=getMouseHandler(s,Et.getState,ot),zt=getMouseHandler(s,Et.getState,st),Ft=Ut=>{const{nodeDragThreshold:$t}=Et.getState();if(it&&(!yt||!nt||$t>0)&&handleNodeClick({id:s,store:Et,nodeRef:ht}),$){const qt=Et.getState().nodeInternals.get(s);qt&&$(Ut,{...qt})}},Bt=Ut=>{if(!isInputDOMNode(Ut)&&!_t)if(elementSelectionKeys.includes(Ut.key)&&it){const $t=Ut.key==="Escape";handleNodeClick({id:s,store:Et,unselect:$t,nodeRef:ht})}else nt&&j&&Object.prototype.hasOwnProperty.call(arrowKeyDiffs,Ut.key)&&(Et.setState({ariaLiveMessage:`Moved selected node ${Ut.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~d}, y: ${~~g}`}),Zt({x:arrowKeyDiffs[Ut.key].x,y:arrowKeyDiffs[Ut.key].y,isShiftPressed:Ut.shiftKey}))};reactExports.useEffect(()=>()=>{It.current&&(St==null||St.unobserve(It.current),It.current=null)},[]),reactExports.useEffect(()=>{if(ht.current&&!wt){const Ut=ht.current;(!gt||!mt||It.current!==Ut)&&(It.current&&(St==null||St.unobserve(It.current)),St==null||St.observe(Ut),It.current=Ut)}},[wt,gt,mt]),reactExports.useEffect(()=>{const Ut=At.current!==a,$t=Rt.current!==dt,qt=Mt.current!==vt;ht.current&&(Ut||$t||qt)&&(Ut&&(At.current=a),$t&&(Rt.current=dt),qt&&(Mt.current=vt),Et.getState().updateNodeDimensions([{id:s,nodeElement:ht.current,forceUpdate:!0}]))},[s,a,dt,vt]);const Ht=useDrag({nodeRef:ht,disabled:wt||!nt,noDragClassName:lt,handleSelector:Tt,nodeId:s,isSelectable:it,selectNodesOnDrag:yt});return wt?null:React.createElement("div",{className:cc(["react-flow__node",`react-flow__node-${a}`,{[xt]:nt},tt,{selected:j,selectable:it,parent:kt,dragging:Ht}]),ref:ht,style:{zIndex:bt,transform:`translate(${_}px,${b}px)`,pointerEvents:Lt?"all":"none",visibility:gt?"visible":"hidden",...ft},"data-id":s,"data-testid":`rf__node-${s}`,onMouseEnter:Wt,onMouseMove:Nt,onMouseLeave:jt,onContextMenu:Dt,onClick:Ft,onDoubleClick:zt,onKeyDown:pt?Bt:void 0,tabIndex:pt?0:void 0,role:pt?"button":void 0,"aria-describedby":_t?void 0:`${ARIA_NODE_DESC_KEY}-${ut}`,"aria-label":ct},React.createElement(Provider,{value:s},React.createElement(o,{id:s,data:c,type:a,xPos:d,yPos:g,selected:j,isConnectable:at,sourcePosition:dt,targetPosition:vt,dragging:Ht,dragHandle:Tt,zIndex:bt})))};return i.displayName="NodeWrapper",reactExports.memo(i)};const selector$7=o=>{const i=o.getNodes().filter(s=>s.selected);return{...getNodesBounds(i,o.nodeOrigin),transformString:`translate(${o.transform[0]}px,${o.transform[1]}px) scale(${o.transform[2]})`,userSelectionActive:o.userSelectionActive}};function NodesSelection({onSelectionContextMenu:o,noPanClassName:i,disableKeyboardA11y:s}){const a=useStoreApi(),{width:c,height:d,x:g,y:_,transformString:b,userSelectionActive:j}=useStore$1(selector$7,shallow$1),$=useUpdateNodePositions(),_e=reactExports.useRef(null);if(reactExports.useEffect(()=>{var ot;s||(ot=_e.current)==null||ot.focus({preventScroll:!0})},[s]),useDrag({nodeRef:_e}),j||!c||!d)return null;const et=o?ot=>{const st=a.getState().getNodes().filter(ft=>ft.selected);o(ot,st)}:void 0,rt=ot=>{Object.prototype.hasOwnProperty.call(arrowKeyDiffs,ot.key)&&$({x:arrowKeyDiffs[ot.key].x,y:arrowKeyDiffs[ot.key].y,isShiftPressed:ot.shiftKey})};return React.createElement("div",{className:cc(["react-flow__nodesselection","react-flow__container",i]),style:{transform:b}},React.createElement("div",{ref:_e,className:"react-flow__nodesselection-rect",onContextMenu:et,tabIndex:s?void 0:-1,onKeyDown:s?void 0:rt,style:{width:c,height:d,top:_,left:g}}))}var NodesSelection$1=reactExports.memo(NodesSelection);const selector$6=o=>o.nodesSelectionActive,FlowRenderer=({children:o,onPaneClick:i,onPaneMouseEnter:s,onPaneMouseMove:a,onPaneMouseLeave:c,onPaneContextMenu:d,onPaneScroll:g,deleteKeyCode:_,onMove:b,onMoveStart:j,onMoveEnd:$,selectionKeyCode:_e,selectionOnDrag:et,selectionMode:rt,onSelectionStart:ot,onSelectionEnd:st,multiSelectionKeyCode:ft,panActivationKeyCode:tt,zoomActivationKeyCode:nt,elementsSelectable:it,zoomOnScroll:at,zoomOnPinch:pt,panOnScroll:yt,panOnScrollSpeed:dt,panOnScrollMode:vt,zoomOnDoubleClick:wt,panOnDrag:St,defaultViewport:Tt,translateExtent:bt,minZoom:kt,maxZoom:lt,preventScrolling:xt,onSelectionContextMenu:gt,noWheelClassName:_t,noPanClassName:ct,disableKeyboardA11y:ut})=>{const mt=useStore$1(selector$6),Et=useKeyPress(_e),ht=useKeyPress(tt),It=ht||St,Rt=ht||yt,Mt=Et||et&&It!==!0;return useGlobalKeyHandler({deleteKeyCode:_,multiSelectionKeyCode:ft}),React.createElement(ZoomPane,{onMove:b,onMoveStart:j,onMoveEnd:$,onPaneContextMenu:d,elementsSelectable:it,zoomOnScroll:at,zoomOnPinch:pt,panOnScroll:Rt,panOnScrollSpeed:dt,panOnScrollMode:vt,zoomOnDoubleClick:wt,panOnDrag:!Et&&It,defaultViewport:Tt,translateExtent:bt,minZoom:kt,maxZoom:lt,zoomActivationKeyCode:nt,preventScrolling:xt,noWheelClassName:_t,noPanClassName:ct},React.createElement(Pane,{onSelectionStart:ot,onSelectionEnd:st,onPaneClick:i,onPaneMouseEnter:s,onPaneMouseMove:a,onPaneMouseLeave:c,onPaneContextMenu:d,onPaneScroll:g,panOnDrag:It,isSelecting:!!Mt,selectionMode:rt},o,mt&&React.createElement(NodesSelection$1,{onSelectionContextMenu:gt,noPanClassName:ct,disableKeyboardA11y:ut})))};FlowRenderer.displayName="FlowRenderer";var FlowRenderer$1=reactExports.memo(FlowRenderer);function useVisibleNodes(o){return useStore$1(reactExports.useCallback(s=>o?getNodesInside(s.nodeInternals,{x:0,y:0,width:s.width,height:s.height},s.transform,!0):s.getNodes(),[o]))}function createNodeTypes(o){const i={input:wrapNode(o.input||InputNode$1),default:wrapNode(o.default||DefaultNode$1),output:wrapNode(o.output||OutputNode$1),group:wrapNode(o.group||GroupNode)},s={},a=Object.keys(o).filter(c=>!["input","default","output","group"].includes(c)).reduce((c,d)=>(c[d]=wrapNode(o[d]||DefaultNode$1),c),s);return{...i,...a}}const getPositionWithOrigin=({x:o,y:i,width:s,height:a,origin:c})=>!s||!a?{x:o,y:i}:c[0]<0||c[1]<0||c[0]>1||c[1]>1?{x:o,y:i}:{x:o-s*c[0],y:i-a*c[1]},selector$5=o=>({nodesDraggable:o.nodesDraggable,nodesConnectable:o.nodesConnectable,nodesFocusable:o.nodesFocusable,elementsSelectable:o.elementsSelectable,updateNodeDimensions:o.updateNodeDimensions,onError:o.onError}),NodeRenderer=o=>{const{nodesDraggable:i,nodesConnectable:s,nodesFocusable:a,elementsSelectable:c,updateNodeDimensions:d,onError:g}=useStore$1(selector$5,shallow$1),_=useVisibleNodes(o.onlyRenderVisibleElements),b=reactExports.useRef(),j=reactExports.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const $=new ResizeObserver(_e=>{const et=_e.map(rt=>({id:rt.target.getAttribute("data-id"),nodeElement:rt.target,forceUpdate:!0}));d(et)});return b.current=$,$},[]);return reactExports.useEffect(()=>()=>{var $;($=b==null?void 0:b.current)==null||$.disconnect()},[]),React.createElement("div",{className:"react-flow__nodes",style:containerStyle$4},_.map($=>{var pt,yt,dt;let _e=$.type||"default";o.nodeTypes[_e]||(g==null||g("003",errorMessages.error003(_e)),_e="default");const et=o.nodeTypes[_e]||o.nodeTypes.default,rt=!!($.draggable||i&&typeof $.draggable>"u"),ot=!!($.selectable||c&&typeof $.selectable>"u"),st=!!($.connectable||s&&typeof $.connectable>"u"),ft=!!($.focusable||a&&typeof $.focusable>"u"),tt=o.nodeExtent?clampPosition($.positionAbsolute,o.nodeExtent):$.positionAbsolute,nt=(tt==null?void 0:tt.x)??0,it=(tt==null?void 0:tt.y)??0,at=getPositionWithOrigin({x:nt,y:it,width:$.width??0,height:$.height??0,origin:o.nodeOrigin});return React.createElement(et,{key:$.id,id:$.id,className:$.className,style:$.style,type:_e,data:$.data,sourcePosition:$.sourcePosition||Position.Bottom,targetPosition:$.targetPosition||Position.Top,hidden:$.hidden,xPos:nt,yPos:it,xPosOrigin:at.x,yPosOrigin:at.y,selectNodesOnDrag:o.selectNodesOnDrag,onClick:o.onNodeClick,onMouseEnter:o.onNodeMouseEnter,onMouseMove:o.onNodeMouseMove,onMouseLeave:o.onNodeMouseLeave,onContextMenu:o.onNodeContextMenu,onDoubleClick:o.onNodeDoubleClick,selected:!!$.selected,isDraggable:rt,isSelectable:ot,isConnectable:st,isFocusable:ft,resizeObserver:j,dragHandle:$.dragHandle,zIndex:((pt=$[internalsSymbol])==null?void 0:pt.z)??0,isParent:!!((yt=$[internalsSymbol])!=null&&yt.isParent),noDragClassName:o.noDragClassName,noPanClassName:o.noPanClassName,initialized:!!$.width&&!!$.height,rfId:o.rfId,disableKeyboardA11y:o.disableKeyboardA11y,ariaLabel:$.ariaLabel,hasHandleBounds:!!((dt=$[internalsSymbol])!=null&&dt.handleBounds)})}))};NodeRenderer.displayName="NodeRenderer";var NodeRenderer$1=reactExports.memo(NodeRenderer);const shiftX=(o,i,s)=>s===Position.Left?o-i:s===Position.Right?o+i:o,shiftY=(o,i,s)=>s===Position.Top?o-i:s===Position.Bottom?o+i:o,EdgeUpdaterClassName="react-flow__edgeupdater",EdgeAnchor=({position:o,centerX:i,centerY:s,radius:a=10,onMouseDown:c,onMouseEnter:d,onMouseOut:g,type:_})=>React.createElement("circle",{onMouseDown:c,onMouseEnter:d,onMouseOut:g,className:cc([EdgeUpdaterClassName,`${EdgeUpdaterClassName}-${_}`]),cx:shiftX(i,a,o),cy:shiftY(s,a,o),r:a,stroke:"transparent",fill:"transparent"}),alwaysValidConnection=()=>!0;var wrapEdge=o=>{const i=({id:s,className:a,type:c,data:d,onClick:g,onEdgeDoubleClick:_,selected:b,animated:j,label:$,labelStyle:_e,labelShowBg:et,labelBgStyle:rt,labelBgPadding:ot,labelBgBorderRadius:st,style:ft,source:tt,target:nt,sourceX:it,sourceY:at,targetX:pt,targetY:yt,sourcePosition:dt,targetPosition:vt,elementsSelectable:wt,hidden:St,sourceHandleId:Tt,targetHandleId:bt,onContextMenu:kt,onMouseEnter:lt,onMouseMove:xt,onMouseLeave:gt,reconnectRadius:_t,onReconnect:ct,onReconnectStart:ut,onReconnectEnd:mt,markerEnd:Et,markerStart:ht,rfId:It,ariaLabel:Rt,isFocusable:Mt,isReconnectable:At,pathOptions:Lt,interactionWidth:Zt,disableKeyboardA11y:Wt})=>{const Nt=reactExports.useRef(null),[jt,Dt]=reactExports.useState(!1),[zt,Ft]=reactExports.useState(!1),Bt=useStoreApi(),Ht=reactExports.useMemo(()=>`url('#${getMarkerId(ht,It)}')`,[ht,It]),Ut=reactExports.useMemo(()=>`url('#${getMarkerId(Et,It)}')`,[Et,It]);if(St)return null;const $t=Qt=>{var Kt;const{edges:Ct,addSelectedEdges:Pt,unselectNodesAndEdges:Ot,multiSelectionActive:Vt}=Bt.getState(),Gt=Ct.find(Yt=>Yt.id===s);Gt&&(wt&&(Bt.setState({nodesSelectionActive:!1}),Gt.selected&&Vt?(Ot({nodes:[],edges:[Gt]}),(Kt=Nt.current)==null||Kt.blur()):Pt([s])),g&&g(Qt,Gt))},qt=getMouseHandler$1(s,Bt.getState,_),on=getMouseHandler$1(s,Bt.getState,kt),tn=getMouseHandler$1(s,Bt.getState,lt),ln=getMouseHandler$1(s,Bt.getState,xt),Jt=getMouseHandler$1(s,Bt.getState,gt),Xt=(Qt,Ct)=>{if(Qt.button!==0)return;const{edges:Pt,isValidConnection:Ot}=Bt.getState(),Vt=Ct?nt:tt,Gt=(Ct?bt:Tt)||null,Kt=Ct?"target":"source",Yt=Ot||alwaysValidConnection,rn=Ct,sn=Pt.find(an=>an.id===s);Ft(!0),ut==null||ut(Qt,sn,Kt);const un=an=>{Ft(!1),mt==null||mt(an,sn,Kt)};handlePointerDown({event:Qt,handleId:Gt,nodeId:Vt,onConnect:an=>ct==null?void 0:ct(sn,an),isTarget:rn,getState:Bt.getState,setState:Bt.setState,isValidConnection:Yt,edgeUpdaterType:Kt,onReconnectEnd:un})},nn=Qt=>Xt(Qt,!0),en=Qt=>Xt(Qt,!1),fn=()=>Dt(!0),pn=()=>Dt(!1),hn=!wt&&!g,cn=Qt=>{var Ct;if(!Wt&&elementSelectionKeys.includes(Qt.key)&&wt){const{unselectNodesAndEdges:Pt,addSelectedEdges:Ot,edges:Vt}=Bt.getState();Qt.key==="Escape"?((Ct=Nt.current)==null||Ct.blur(),Pt({edges:[Vt.find(Kt=>Kt.id===s)]})):Ot([s])}};return React.createElement("g",{className:cc(["react-flow__edge",`react-flow__edge-${c}`,a,{selected:b,animated:j,inactive:hn,updating:jt}]),onClick:$t,onDoubleClick:qt,onContextMenu:on,onMouseEnter:tn,onMouseMove:ln,onMouseLeave:Jt,onKeyDown:Mt?cn:void 0,tabIndex:Mt?0:void 0,role:Mt?"button":"img","data-testid":`rf__edge-${s}`,"aria-label":Rt===null?void 0:Rt||`Edge from ${tt} to ${nt}`,"aria-describedby":Mt?`${ARIA_EDGE_DESC_KEY}-${It}`:void 0,ref:Nt},!zt&&React.createElement(o,{id:s,source:tt,target:nt,selected:b,animated:j,label:$,labelStyle:_e,labelShowBg:et,labelBgStyle:rt,labelBgPadding:ot,labelBgBorderRadius:st,data:d,style:ft,sourceX:it,sourceY:at,targetX:pt,targetY:yt,sourcePosition:dt,targetPosition:vt,sourceHandleId:Tt,targetHandleId:bt,markerStart:Ht,markerEnd:Ut,pathOptions:Lt,interactionWidth:Zt}),At&&React.createElement(React.Fragment,null,(At==="source"||At===!0)&&React.createElement(EdgeAnchor,{position:dt,centerX:it,centerY:at,radius:_t,onMouseDown:nn,onMouseEnter:fn,onMouseOut:pn,type:"source"}),(At==="target"||At===!0)&&React.createElement(EdgeAnchor,{position:vt,centerX:pt,centerY:yt,radius:_t,onMouseDown:en,onMouseEnter:fn,onMouseOut:pn,type:"target"})))};return i.displayName="EdgeWrapper",reactExports.memo(i)};function createEdgeTypes(o){const i={default:wrapEdge(o.default||BezierEdge),straight:wrapEdge(o.bezier||StraightEdge),step:wrapEdge(o.step||StepEdge),smoothstep:wrapEdge(o.step||SmoothStepEdge),simplebezier:wrapEdge(o.simplebezier||SimpleBezierEdge)},s={},a=Object.keys(o).filter(c=>!["default","bezier"].includes(c)).reduce((c,d)=>(c[d]=wrapEdge(o[d]||BezierEdge),c),s);return{...i,...a}}function getHandlePosition(o,i,s=null){const a=((s==null?void 0:s.x)||0)+i.x,c=((s==null?void 0:s.y)||0)+i.y,d=(s==null?void 0:s.width)||i.width,g=(s==null?void 0:s.height)||i.height;switch(o){case Position.Top:return{x:a+d/2,y:c};case Position.Right:return{x:a+d,y:c+g/2};case Position.Bottom:return{x:a+d/2,y:c+g};case Position.Left:return{x:a,y:c+g/2}}}function getHandle(o,i){return o?o.length===1||!i?o[0]:i&&o.find(s=>s.id===i)||null:null}const getEdgePositions=(o,i,s,a,c,d)=>{const g=getHandlePosition(s,o,i),_=getHandlePosition(d,a,c);return{sourceX:g.x,sourceY:g.y,targetX:_.x,targetY:_.y}};function isEdgeVisible({sourcePos:o,targetPos:i,sourceWidth:s,sourceHeight:a,targetWidth:c,targetHeight:d,width:g,height:_,transform:b}){const j={x:Math.min(o.x,i.x),y:Math.min(o.y,i.y),x2:Math.max(o.x+s,i.x+c),y2:Math.max(o.y+a,i.y+d)};j.x===j.x2&&(j.x2+=1),j.y===j.y2&&(j.y2+=1);const $=rectToBox({x:(0-b[0])/b[2],y:(0-b[1])/b[2],width:g/b[2],height:_/b[2]}),_e=Math.max(0,Math.min($.x2,j.x2)-Math.max($.x,j.x)),et=Math.max(0,Math.min($.y2,j.y2)-Math.max($.y,j.y));return Math.ceil(_e*et)>0}function getNodeData(o){var a,c,d,g,_;const i=((a=o==null?void 0:o[internalsSymbol])==null?void 0:a.handleBounds)||null,s=i&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&typeof((c=o==null?void 0:o.positionAbsolute)==null?void 0:c.x)<"u"&&typeof((d=o==null?void 0:o.positionAbsolute)==null?void 0:d.y)<"u";return[{x:((g=o==null?void 0:o.positionAbsolute)==null?void 0:g.x)||0,y:((_=o==null?void 0:o.positionAbsolute)==null?void 0:_.y)||0,width:(o==null?void 0:o.width)||0,height:(o==null?void 0:o.height)||0},i,!!s]}const defaultEdgeTree=[{level:0,isMaxLevel:!0,edges:[]}];function groupEdgesByZLevel(o,i,s=!1){let a=-1;const c=o.reduce((g,_)=>{var $,_e;const b=isNumeric(_.zIndex);let j=b?_.zIndex:0;if(s){const et=i.get(_.target),rt=i.get(_.source),ot=_.selected||(et==null?void 0:et.selected)||(rt==null?void 0:rt.selected),st=Math.max((($=rt==null?void 0:rt[internalsSymbol])==null?void 0:$.z)||0,((_e=et==null?void 0:et[internalsSymbol])==null?void 0:_e.z)||0,1e3);j=(b?_.zIndex:0)+(ot?st:0)}return g[j]?g[j].push(_):g[j]=[_],a=j>a?j:a,g},{}),d=Object.entries(c).map(([g,_])=>{const b=+g;return{edges:_,level:b,isMaxLevel:b===a}});return d.length===0?defaultEdgeTree:d}function useVisibleEdges(o,i,s){const a=useStore$1(reactExports.useCallback(c=>o?c.edges.filter(d=>{const g=i.get(d.source),_=i.get(d.target);return(g==null?void 0:g.width)&&(g==null?void 0:g.height)&&(_==null?void 0:_.width)&&(_==null?void 0:_.height)&&isEdgeVisible({sourcePos:g.positionAbsolute||{x:0,y:0},targetPos:_.positionAbsolute||{x:0,y:0},sourceWidth:g.width,sourceHeight:g.height,targetWidth:_.width,targetHeight:_.height,width:c.width,height:c.height,transform:c.transform})}):c.edges,[o,i]));return groupEdgesByZLevel(a,i,s)}const ArrowSymbol=({color:o="none",strokeWidth:i=1})=>React.createElement("polyline",{style:{stroke:o,strokeWidth:i},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ArrowClosedSymbol=({color:o="none",strokeWidth:i=1})=>React.createElement("polyline",{style:{stroke:o,fill:o,strokeWidth:i},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),MarkerSymbols={[MarkerType.Arrow]:ArrowSymbol,[MarkerType.ArrowClosed]:ArrowClosedSymbol};function useMarkerSymbol(o){const i=useStoreApi();return reactExports.useMemo(()=>{var c,d;return Object.prototype.hasOwnProperty.call(MarkerSymbols,o)?MarkerSymbols[o]:((d=(c=i.getState()).onError)==null||d.call(c,"009",errorMessages.error009(o)),null)},[o])}const Marker=({id:o,type:i,color:s,width:a=12.5,height:c=12.5,markerUnits:d="strokeWidth",strokeWidth:g,orient:_="auto-start-reverse"})=>{const b=useMarkerSymbol(i);return b?React.createElement("marker",{className:"react-flow__arrowhead",id:o,markerWidth:`${a}`,markerHeight:`${c}`,viewBox:"-10 -10 20 20",markerUnits:d,orient:_,refX:"0",refY:"0"},React.createElement(b,{color:s,strokeWidth:g})):null},markerSelector=({defaultColor:o,rfId:i})=>s=>{const a=[];return s.edges.reduce((c,d)=>([d.markerStart,d.markerEnd].forEach(g=>{if(g&&typeof g=="object"){const _=getMarkerId(g,i);a.includes(_)||(c.push({id:_,color:g.color||o,...g}),a.push(_))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))},MarkerDefinitions=({defaultColor:o,rfId:i})=>{const s=useStore$1(reactExports.useCallback(markerSelector({defaultColor:o,rfId:i}),[o,i]),(a,c)=>!(a.length!==c.length||a.some((d,g)=>d.id!==c[g].id)));return React.createElement("defs",null,s.map(a=>React.createElement(Marker,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})))};MarkerDefinitions.displayName="MarkerDefinitions";var MarkerDefinitions$1=reactExports.memo(MarkerDefinitions);const selector$4=o=>({nodesConnectable:o.nodesConnectable,edgesFocusable:o.edgesFocusable,edgesUpdatable:o.edgesUpdatable,elementsSelectable:o.elementsSelectable,width:o.width,height:o.height,connectionMode:o.connectionMode,nodeInternals:o.nodeInternals,onError:o.onError}),EdgeRenderer=({defaultMarkerColor:o,onlyRenderVisibleElements:i,elevateEdgesOnSelect:s,rfId:a,edgeTypes:c,noPanClassName:d,onEdgeContextMenu:g,onEdgeMouseEnter:_,onEdgeMouseMove:b,onEdgeMouseLeave:j,onEdgeClick:$,onEdgeDoubleClick:_e,onReconnect:et,onReconnectStart:rt,onReconnectEnd:ot,reconnectRadius:st,children:ft,disableKeyboardA11y:tt})=>{const{edgesFocusable:nt,edgesUpdatable:it,elementsSelectable:at,width:pt,height:yt,connectionMode:dt,nodeInternals:vt,onError:wt}=useStore$1(selector$4,shallow$1),St=useVisibleEdges(i,vt,s);return pt?React.createElement(React.Fragment,null,St.map(({level:Tt,edges:bt,isMaxLevel:kt})=>React.createElement("svg",{key:Tt,style:{zIndex:Tt},width:pt,height:yt,className:"react-flow__edges react-flow__container"},kt&&React.createElement(MarkerDefinitions$1,{defaultColor:o,rfId:a}),React.createElement("g",null,bt.map(lt=>{const[xt,gt,_t]=getNodeData(vt.get(lt.source)),[ct,ut,mt]=getNodeData(vt.get(lt.target));if(!_t||!mt)return null;let Et=lt.type||"default";c[Et]||(wt==null||wt("011",errorMessages.error011(Et)),Et="default");const ht=c[Et]||c.default,It=dt===ConnectionMode.Strict?ut.target:(ut.target??[]).concat(ut.source??[]),Rt=getHandle(gt.source,lt.sourceHandle),Mt=getHandle(It,lt.targetHandle),At=(Rt==null?void 0:Rt.position)||Position.Bottom,Lt=(Mt==null?void 0:Mt.position)||Position.Top,Zt=!!(lt.focusable||nt&&typeof lt.focusable>"u"),Wt=lt.reconnectable||lt.updatable,Nt=typeof et<"u"&&(Wt||it&&typeof Wt>"u");if(!Rt||!Mt)return wt==null||wt("008",errorMessages.error008(Rt,lt)),null;const{sourceX:jt,sourceY:Dt,targetX:zt,targetY:Ft}=getEdgePositions(xt,Rt,At,ct,Mt,Lt);return React.createElement(ht,{key:lt.id,id:lt.id,className:cc([lt.className,d]),type:Et,data:lt.data,selected:!!lt.selected,animated:!!lt.animated,hidden:!!lt.hidden,label:lt.label,labelStyle:lt.labelStyle,labelShowBg:lt.labelShowBg,labelBgStyle:lt.labelBgStyle,labelBgPadding:lt.labelBgPadding,labelBgBorderRadius:lt.labelBgBorderRadius,style:lt.style,source:lt.source,target:lt.target,sourceHandleId:lt.sourceHandle,targetHandleId:lt.targetHandle,markerEnd:lt.markerEnd,markerStart:lt.markerStart,sourceX:jt,sourceY:Dt,targetX:zt,targetY:Ft,sourcePosition:At,targetPosition:Lt,elementsSelectable:at,onContextMenu:g,onMouseEnter:_,onMouseMove:b,onMouseLeave:j,onClick:$,onEdgeDoubleClick:_e,onReconnect:et,onReconnectStart:rt,onReconnectEnd:ot,reconnectRadius:st,rfId:a,ariaLabel:lt.ariaLabel,isFocusable:Zt,isReconnectable:Nt,pathOptions:"pathOptions"in lt?lt.pathOptions:void 0,interactionWidth:lt.interactionWidth,disableKeyboardA11y:tt})})))),ft):null};EdgeRenderer.displayName="EdgeRenderer";var EdgeRenderer$1=reactExports.memo(EdgeRenderer);const selector$3=o=>`translate(${o.transform[0]}px,${o.transform[1]}px) scale(${o.transform[2]})`;function Viewport({children:o}){const i=useStore$1(selector$3);return React.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:i}},o)}function useOnInitHandler(o){const i=useReactFlow(),s=reactExports.useRef(!1);reactExports.useEffect(()=>{!s.current&&i.viewportInitialized&&o&&(setTimeout(()=>o(i),1),s.current=!0)},[o,i.viewportInitialized])}const oppositePosition={[Position.Left]:Position.Right,[Position.Right]:Position.Left,[Position.Top]:Position.Bottom,[Position.Bottom]:Position.Top},ConnectionLine=({nodeId:o,handleType:i,style:s,type:a=ConnectionLineType.Bezier,CustomComponent:c,connectionStatus:d})=>{var yt,dt,vt;const{fromNode:g,handleId:_,toX:b,toY:j,connectionMode:$}=useStore$1(reactExports.useCallback(wt=>({fromNode:wt.nodeInternals.get(o),handleId:wt.connectionHandleId,toX:(wt.connectionPosition.x-wt.transform[0])/wt.transform[2],toY:(wt.connectionPosition.y-wt.transform[1])/wt.transform[2],connectionMode:wt.connectionMode}),[o]),shallow$1),_e=(yt=g==null?void 0:g[internalsSymbol])==null?void 0:yt.handleBounds;let et=_e==null?void 0:_e[i];if($===ConnectionMode.Loose&&(et=et||(_e==null?void 0:_e[i==="source"?"target":"source"])),!g||!et)return null;const rt=_?et.find(wt=>wt.id===_):et[0],ot=rt?rt.x+rt.width/2:(g.width??0)/2,st=rt?rt.y+rt.height/2:g.height??0,ft=(((dt=g.positionAbsolute)==null?void 0:dt.x)??0)+ot,tt=(((vt=g.positionAbsolute)==null?void 0:vt.y)??0)+st,nt=rt==null?void 0:rt.position,it=nt?oppositePosition[nt]:null;if(!nt||!it)return null;if(c)return React.createElement(c,{connectionLineType:a,connectionLineStyle:s,fromNode:g,fromHandle:rt,fromX:ft,fromY:tt,toX:b,toY:j,fromPosition:nt,toPosition:it,connectionStatus:d});let at="";const pt={sourceX:ft,sourceY:tt,sourcePosition:nt,targetX:b,targetY:j,targetPosition:it};return a===ConnectionLineType.Bezier?[at]=getBezierPath(pt):a===ConnectionLineType.Step?[at]=getSmoothStepPath({...pt,borderRadius:0}):a===ConnectionLineType.SmoothStep?[at]=getSmoothStepPath(pt):a===ConnectionLineType.SimpleBezier?[at]=getSimpleBezierPath(pt):at=`M${ft},${tt} ${b},${j}`,React.createElement("path",{d:at,fill:"none",className:"react-flow__connection-path",style:s})};ConnectionLine.displayName="ConnectionLine";const selector$2=o=>({nodeId:o.connectionNodeId,handleType:o.connectionHandleType,nodesConnectable:o.nodesConnectable,connectionStatus:o.connectionStatus,width:o.width,height:o.height});function ConnectionLineWrapper({containerStyle:o,style:i,type:s,component:a}){const{nodeId:c,handleType:d,nodesConnectable:g,width:_,height:b,connectionStatus:j}=useStore$1(selector$2,shallow$1);return!(c&&d&&_&&g)?null:React.createElement("svg",{style:o,width:_,height:b,className:"react-flow__edges react-flow__connectionline react-flow__container"},React.createElement("g",{className:cc(["react-flow__connection",j])},React.createElement(ConnectionLine,{nodeId:c,handleType:d,style:i,type:s,CustomComponent:a,connectionStatus:j})))}function useNodeOrEdgeTypes(o,i){return reactExports.useRef(null),useStoreApi(),reactExports.useMemo(()=>i(o),[o])}const GraphView=({nodeTypes:o,edgeTypes:i,onMove:s,onMoveStart:a,onMoveEnd:c,onInit:d,onNodeClick:g,onEdgeClick:_,onNodeDoubleClick:b,onEdgeDoubleClick:j,onNodeMouseEnter:$,onNodeMouseMove:_e,onNodeMouseLeave:et,onNodeContextMenu:rt,onSelectionContextMenu:ot,onSelectionStart:st,onSelectionEnd:ft,connectionLineType:tt,connectionLineStyle:nt,connectionLineComponent:it,connectionLineContainerStyle:at,selectionKeyCode:pt,selectionOnDrag:yt,selectionMode:dt,multiSelectionKeyCode:vt,panActivationKeyCode:wt,zoomActivationKeyCode:St,deleteKeyCode:Tt,onlyRenderVisibleElements:bt,elementsSelectable:kt,selectNodesOnDrag:lt,defaultViewport:xt,translateExtent:gt,minZoom:_t,maxZoom:ct,preventScrolling:ut,defaultMarkerColor:mt,zoomOnScroll:Et,zoomOnPinch:ht,panOnScroll:It,panOnScrollSpeed:Rt,panOnScrollMode:Mt,zoomOnDoubleClick:At,panOnDrag:Lt,onPaneClick:Zt,onPaneMouseEnter:Wt,onPaneMouseMove:Nt,onPaneMouseLeave:jt,onPaneScroll:Dt,onPaneContextMenu:zt,onEdgeContextMenu:Ft,onEdgeMouseEnter:Bt,onEdgeMouseMove:Ht,onEdgeMouseLeave:Ut,onReconnect:$t,onReconnectStart:qt,onReconnectEnd:on,reconnectRadius:tn,noDragClassName:ln,noWheelClassName:Jt,noPanClassName:Xt,elevateEdgesOnSelect:nn,disableKeyboardA11y:en,nodeOrigin:fn,nodeExtent:pn,rfId:hn})=>{const cn=useNodeOrEdgeTypes(o,createNodeTypes),Qt=useNodeOrEdgeTypes(i,createEdgeTypes);return useOnInitHandler(d),React.createElement(FlowRenderer$1,{onPaneClick:Zt,onPaneMouseEnter:Wt,onPaneMouseMove:Nt,onPaneMouseLeave:jt,onPaneContextMenu:zt,onPaneScroll:Dt,deleteKeyCode:Tt,selectionKeyCode:pt,selectionOnDrag:yt,selectionMode:dt,onSelectionStart:st,onSelectionEnd:ft,multiSelectionKeyCode:vt,panActivationKeyCode:wt,zoomActivationKeyCode:St,elementsSelectable:kt,onMove:s,onMoveStart:a,onMoveEnd:c,zoomOnScroll:Et,zoomOnPinch:ht,zoomOnDoubleClick:At,panOnScroll:It,panOnScrollSpeed:Rt,panOnScrollMode:Mt,panOnDrag:Lt,defaultViewport:xt,translateExtent:gt,minZoom:_t,maxZoom:ct,onSelectionContextMenu:ot,preventScrolling:ut,noDragClassName:ln,noWheelClassName:Jt,noPanClassName:Xt,disableKeyboardA11y:en},React.createElement(Viewport,null,React.createElement(EdgeRenderer$1,{edgeTypes:Qt,onEdgeClick:_,onEdgeDoubleClick:j,onlyRenderVisibleElements:bt,onEdgeContextMenu:Ft,onEdgeMouseEnter:Bt,onEdgeMouseMove:Ht,onEdgeMouseLeave:Ut,onReconnect:$t,onReconnectStart:qt,onReconnectEnd:on,reconnectRadius:tn,defaultMarkerColor:mt,noPanClassName:Xt,elevateEdgesOnSelect:!!nn,disableKeyboardA11y:en,rfId:hn},React.createElement(ConnectionLineWrapper,{style:nt,type:tt,component:it,containerStyle:at})),React.createElement("div",{className:"react-flow__edgelabel-renderer"}),React.createElement(NodeRenderer$1,{nodeTypes:cn,onNodeClick:g,onNodeDoubleClick:b,onNodeMouseEnter:$,onNodeMouseMove:_e,onNodeMouseLeave:et,onNodeContextMenu:rt,selectNodesOnDrag:lt,onlyRenderVisibleElements:bt,noPanClassName:Xt,noDragClassName:ln,disableKeyboardA11y:en,nodeOrigin:fn,nodeExtent:pn,rfId:hn})))};GraphView.displayName="GraphView";var GraphView$1=reactExports.memo(GraphView);const infiniteExtent=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],initialState={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:infiniteExtent,nodeExtent:infiniteExtent,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ConnectionMode.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:devWarn,isValidConnection:void 0},createRFStore=()=>createWithEqualityFn((o,i)=>({...initialState,setNodes:s=>{const{nodeInternals:a,nodeOrigin:c,elevateNodesOnSelect:d}=i();o({nodeInternals:createNodeInternals(s,a,c,d)})},getNodes:()=>Array.from(i().nodeInternals.values()),setEdges:s=>{const{defaultEdgeOptions:a={}}=i();o({edges:s.map(c=>({...a,...c}))})},setDefaultNodesAndEdges:(s,a)=>{const c=typeof s<"u",d=typeof a<"u",g=c?createNodeInternals(s,new Map,i().nodeOrigin,i().elevateNodesOnSelect):new Map;o({nodeInternals:g,edges:d?a:[],hasDefaultNodes:c,hasDefaultEdges:d})},updateNodeDimensions:s=>{const{onNodesChange:a,nodeInternals:c,fitViewOnInit:d,fitViewOnInitDone:g,fitViewOnInitOptions:_,domNode:b,nodeOrigin:j}=i(),$=b==null?void 0:b.querySelector(".react-flow__viewport");if(!$)return;const _e=window.getComputedStyle($),{m22:et}=new window.DOMMatrixReadOnly(_e.transform),rt=s.reduce((st,ft)=>{const tt=c.get(ft.id);if(tt!=null&&tt.hidden)c.set(tt.id,{...tt,[internalsSymbol]:{...tt[internalsSymbol],handleBounds:void 0}});else if(tt){const nt=getDimensions(ft.nodeElement);!!(nt.width&&nt.height&&(tt.width!==nt.width||tt.height!==nt.height||ft.forceUpdate))&&(c.set(tt.id,{...tt,[internalsSymbol]:{...tt[internalsSymbol],handleBounds:{source:getHandleBounds(".source",ft.nodeElement,et,j),target:getHandleBounds(".target",ft.nodeElement,et,j)}},...nt}),st.push({id:tt.id,type:"dimensions",dimensions:nt}))}return st},[]);updateAbsoluteNodePositions(c,j);const ot=g||d&&!g&&fitView(i,{initial:!0,..._});o({nodeInternals:new Map(c),fitViewOnInitDone:ot}),(rt==null?void 0:rt.length)>0&&(a==null||a(rt))},updateNodePositions:(s,a=!0,c=!1)=>{const{triggerNodeChanges:d}=i(),g=s.map(_=>{const b={id:_.id,type:"position",dragging:c};return a&&(b.positionAbsolute=_.positionAbsolute,b.position=_.position),b});d(g)},triggerNodeChanges:s=>{const{onNodesChange:a,nodeInternals:c,hasDefaultNodes:d,nodeOrigin:g,getNodes:_,elevateNodesOnSelect:b}=i();if(s!=null&&s.length){if(d){const j=applyNodeChanges(s,_()),$=createNodeInternals(j,c,g,b);o({nodeInternals:$})}a==null||a(s)}},addSelectedNodes:s=>{const{multiSelectionActive:a,edges:c,getNodes:d}=i();let g,_=null;a?g=s.map(b=>createSelectionChange(b,!0)):(g=getSelectionChanges(d(),s),_=getSelectionChanges(c,[])),updateNodesAndEdgesSelections({changedNodes:g,changedEdges:_,get:i,set:o})},addSelectedEdges:s=>{const{multiSelectionActive:a,edges:c,getNodes:d}=i();let g,_=null;a?g=s.map(b=>createSelectionChange(b,!0)):(g=getSelectionChanges(c,s),_=getSelectionChanges(d(),[])),updateNodesAndEdgesSelections({changedNodes:_,changedEdges:g,get:i,set:o})},unselectNodesAndEdges:({nodes:s,edges:a}={})=>{const{edges:c,getNodes:d}=i(),g=s||d(),_=a||c,b=g.map($=>($.selected=!1,createSelectionChange($.id,!1))),j=_.map($=>createSelectionChange($.id,!1));updateNodesAndEdgesSelections({changedNodes:b,changedEdges:j,get:i,set:o})},setMinZoom:s=>{const{d3Zoom:a,maxZoom:c}=i();a==null||a.scaleExtent([s,c]),o({minZoom:s})},setMaxZoom:s=>{const{d3Zoom:a,minZoom:c}=i();a==null||a.scaleExtent([c,s]),o({maxZoom:s})},setTranslateExtent:s=>{var a;(a=i().d3Zoom)==null||a.translateExtent(s),o({translateExtent:s})},resetSelectedElements:()=>{const{edges:s,getNodes:a}=i(),d=a().filter(_=>_.selected).map(_=>createSelectionChange(_.id,!1)),g=s.filter(_=>_.selected).map(_=>createSelectionChange(_.id,!1));updateNodesAndEdgesSelections({changedNodes:d,changedEdges:g,get:i,set:o})},setNodeExtent:s=>{const{nodeInternals:a}=i();a.forEach(c=>{c.positionAbsolute=clampPosition(c.position,s)}),o({nodeExtent:s,nodeInternals:new Map(a)})},panBy:s=>{const{transform:a,width:c,height:d,d3Zoom:g,d3Selection:_,translateExtent:b}=i();if(!g||!_||!s.x&&!s.y)return!1;const j=identity$1.translate(a[0]+s.x,a[1]+s.y).scale(a[2]),$=[[0,0],[c,d]],_e=g==null?void 0:g.constrain()(j,$,b);return g.transform(_,_e),a[0]!==_e.x||a[1]!==_e.y||a[2]!==_e.k},cancelConnection:()=>o({connectionNodeId:initialState.connectionNodeId,connectionHandleId:initialState.connectionHandleId,connectionHandleType:initialState.connectionHandleType,connectionStatus:initialState.connectionStatus,connectionStartHandle:initialState.connectionStartHandle,connectionEndHandle:initialState.connectionEndHandle}),reset:()=>o({...initialState})}),Object.is),ReactFlowProvider=({children:o})=>{const i=reactExports.useRef(null);return i.current||(i.current=createRFStore()),React.createElement(Provider$1,{value:i.current},o)};ReactFlowProvider.displayName="ReactFlowProvider";const Wrapper=({children:o})=>reactExports.useContext(StoreContext)?React.createElement(React.Fragment,null,o):React.createElement(ReactFlowProvider,null,o);Wrapper.displayName="ReactFlowWrapper";const defaultNodeTypes={input:InputNode$1,default:DefaultNode$1,output:OutputNode$1,group:GroupNode},defaultEdgeTypes={default:BezierEdge,straight:StraightEdge,step:StepEdge,smoothstep:SmoothStepEdge,simplebezier:SimpleBezierEdge},initNodeOrigin=[0,0],initSnapGrid=[15,15],initDefaultViewport={x:0,y:0,zoom:1},wrapperStyle={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ReactFlow=reactExports.forwardRef(({nodes:o,edges:i,defaultNodes:s,defaultEdges:a,className:c,nodeTypes:d=defaultNodeTypes,edgeTypes:g=defaultEdgeTypes,onNodeClick:_,onEdgeClick:b,onInit:j,onMove:$,onMoveStart:_e,onMoveEnd:et,onConnect:rt,onConnectStart:ot,onConnectEnd:st,onClickConnectStart:ft,onClickConnectEnd:tt,onNodeMouseEnter:nt,onNodeMouseMove:it,onNodeMouseLeave:at,onNodeContextMenu:pt,onNodeDoubleClick:yt,onNodeDragStart:dt,onNodeDrag:vt,onNodeDragStop:wt,onNodesDelete:St,onEdgesDelete:Tt,onSelectionChange:bt,onSelectionDragStart:kt,onSelectionDrag:lt,onSelectionDragStop:xt,onSelectionContextMenu:gt,onSelectionStart:_t,onSelectionEnd:ct,connectionMode:ut=ConnectionMode.Strict,connectionLineType:mt=ConnectionLineType.Bezier,connectionLineStyle:Et,connectionLineComponent:ht,connectionLineContainerStyle:It,deleteKeyCode:Rt="Backspace",selectionKeyCode:Mt="Shift",selectionOnDrag:At=!1,selectionMode:Lt=SelectionMode.Full,panActivationKeyCode:Zt="Space",multiSelectionKeyCode:Wt=isMacOs()?"Meta":"Control",zoomActivationKeyCode:Nt=isMacOs()?"Meta":"Control",snapToGrid:jt=!1,snapGrid:Dt=initSnapGrid,onlyRenderVisibleElements:zt=!1,selectNodesOnDrag:Ft=!0,nodesDraggable:Bt,nodesConnectable:Ht,nodesFocusable:Ut,nodeOrigin:$t=initNodeOrigin,edgesFocusable:qt,edgesUpdatable:on,elementsSelectable:tn,defaultViewport:ln=initDefaultViewport,minZoom:Jt=.5,maxZoom:Xt=2,translateExtent:nn=infiniteExtent,preventScrolling:en=!0,nodeExtent:fn,defaultMarkerColor:pn="#b1b1b7",zoomOnScroll:hn=!0,zoomOnPinch:cn=!0,panOnScroll:Qt=!1,panOnScrollSpeed:Ct=.5,panOnScrollMode:Pt=PanOnScrollMode.Free,zoomOnDoubleClick:Ot=!0,panOnDrag:Vt=!0,onPaneClick:Gt,onPaneMouseEnter:Kt,onPaneMouseMove:Yt,onPaneMouseLeave:rn,onPaneScroll:sn,onPaneContextMenu:un,children:dn,onEdgeContextMenu:an,onEdgeDoubleClick:mn,onEdgeMouseEnter:vn,onEdgeMouseMove:En,onEdgeMouseLeave:gn,onEdgeUpdate:Rn,onEdgeUpdateStart:Sn,onEdgeUpdateEnd:Tn,onReconnect:bn,onReconnectStart:_n,onReconnectEnd:yn,reconnectRadius:xn=10,edgeUpdaterRadius:wn=10,onNodesChange:kn,onEdgesChange:jn,noDragClassName:Mn="nodrag",noWheelClassName:Dn="nowheel",noPanClassName:Nn="nopan",fitView:$n=!1,fitViewOptions:An,connectOnClick:On=!0,attributionPosition:Ln,proOptions:zn,defaultEdgeOptions:Fn,elevateNodesOnSelect:Bn=!0,elevateEdgesOnSelect:Zn=!1,disableKeyboardA11y:In=!1,autoPanOnConnect:Un=!0,autoPanOnNodeDrag:Wn=!0,connectionRadius:Vn=20,isValidConnection:Hn,onError:Gn,style:qn,id:Pn,nodeDragThreshold:Kn,...Xn},Yn)=>{const Cn=Pn||"1";return React.createElement("div",{...Xn,style:{...qn,...wrapperStyle},ref:Yn,className:cc(["react-flow",c]),"data-testid":"rf__wrapper",id:Pn},React.createElement(Wrapper,null,React.createElement(GraphView$1,{onInit:j,onMove:$,onMoveStart:_e,onMoveEnd:et,onNodeClick:_,onEdgeClick:b,onNodeMouseEnter:nt,onNodeMouseMove:it,onNodeMouseLeave:at,onNodeContextMenu:pt,onNodeDoubleClick:yt,nodeTypes:d,edgeTypes:g,connectionLineType:mt,connectionLineStyle:Et,connectionLineComponent:ht,connectionLineContainerStyle:It,selectionKeyCode:Mt,selectionOnDrag:At,selectionMode:Lt,deleteKeyCode:Rt,multiSelectionKeyCode:Wt,panActivationKeyCode:Zt,zoomActivationKeyCode:Nt,onlyRenderVisibleElements:zt,selectNodesOnDrag:Ft,defaultViewport:ln,translateExtent:nn,minZoom:Jt,maxZoom:Xt,preventScrolling:en,zoomOnScroll:hn,zoomOnPinch:cn,zoomOnDoubleClick:Ot,panOnScroll:Qt,panOnScrollSpeed:Ct,panOnScrollMode:Pt,panOnDrag:Vt,onPaneClick:Gt,onPaneMouseEnter:Kt,onPaneMouseMove:Yt,onPaneMouseLeave:rn,onPaneScroll:sn,onPaneContextMenu:un,onSelectionContextMenu:gt,onSelectionStart:_t,onSelectionEnd:ct,onEdgeContextMenu:an,onEdgeDoubleClick:mn,onEdgeMouseEnter:vn,onEdgeMouseMove:En,onEdgeMouseLeave:gn,onReconnect:bn??Rn,onReconnectStart:_n??Sn,onReconnectEnd:yn??Tn,reconnectRadius:xn??wn,defaultMarkerColor:pn,noDragClassName:Mn,noWheelClassName:Dn,noPanClassName:Nn,elevateEdgesOnSelect:Zn,rfId:Cn,disableKeyboardA11y:In,nodeOrigin:$t,nodeExtent:fn}),React.createElement(StoreUpdater,{nodes:o,edges:i,defaultNodes:s,defaultEdges:a,onConnect:rt,onConnectStart:ot,onConnectEnd:st,onClickConnectStart:ft,onClickConnectEnd:tt,nodesDraggable:Bt,nodesConnectable:Ht,nodesFocusable:Ut,edgesFocusable:qt,edgesUpdatable:on,elementsSelectable:tn,elevateNodesOnSelect:Bn,minZoom:Jt,maxZoom:Xt,nodeExtent:fn,onNodesChange:kn,onEdgesChange:jn,snapToGrid:jt,snapGrid:Dt,connectionMode:ut,translateExtent:nn,connectOnClick:On,defaultEdgeOptions:Fn,fitView:$n,fitViewOptions:An,onNodesDelete:St,onEdgesDelete:Tt,onNodeDragStart:dt,onNodeDrag:vt,onNodeDragStop:wt,onSelectionDrag:lt,onSelectionDragStart:kt,onSelectionDragStop:xt,noPanClassName:Nn,nodeOrigin:$t,rfId:Cn,autoPanOnConnect:Un,autoPanOnNodeDrag:Wn,onError:Gn,connectionRadius:Vn,isValidConnection:Hn,nodeDragThreshold:Kn}),React.createElement(Wrapper$1,{onSelectionChange:bt}),dn,React.createElement(Attribution,{proOptions:zn,position:Ln}),React.createElement(A11yDescriptions,{rfId:Cn,disableKeyboardA11y:In})))});ReactFlow.displayName="ReactFlow";function createUseItemsState(o){return i=>{const[s,a]=reactExports.useState(i),c=reactExports.useCallback(d=>a(g=>o(d,g)),[]);return[s,a,c]}}const useNodesState=createUseItemsState(applyNodeChanges),useEdgesState=createUseItemsState(applyEdgeChanges);var BackgroundVariant;(function(o){o.Lines="lines",o.Dots="dots",o.Cross="cross"})(BackgroundVariant||(BackgroundVariant={}));function LinePattern({color:o,dimensions:i,lineWidth:s}){return React.createElement("path",{stroke:o,strokeWidth:s,d:`M${i[0]/2} 0 V${i[1]} M0 ${i[1]/2} H${i[0]}`})}function DotPattern({color:o,radius:i}){return React.createElement("circle",{cx:i,cy:i,r:i,fill:o})}const defaultColor={[BackgroundVariant.Dots]:"#91919a",[BackgroundVariant.Lines]:"#eee",[BackgroundVariant.Cross]:"#e2e2e2"},defaultSize={[BackgroundVariant.Dots]:1,[BackgroundVariant.Lines]:1,[BackgroundVariant.Cross]:6},selector=o=>({transform:o.transform,patternId:`pattern-${o.rfId}`});function Background({id:o,variant:i=BackgroundVariant.Dots,gap:s=20,size:a,lineWidth:c=1,offset:d=2,color:g,style:_,className:b}){const j=reactExports.useRef(null),{transform:$,patternId:_e}=useStore$1(selector,shallow$1),et=g||defaultColor[i],rt=a||defaultSize[i],ot=i===BackgroundVariant.Dots,st=i===BackgroundVariant.Cross,ft=Array.isArray(s)?s:[s,s],tt=[ft[0]*$[2]||1,ft[1]*$[2]||1],nt=rt*$[2],it=st?[nt,nt]:tt,at=ot?[nt/d,nt/d]:[it[0]/d,it[1]/d];return React.createElement("svg",{className:cc(["react-flow__background",b]),style:{..._,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:j,"data-testid":"rf__background"},React.createElement("pattern",{id:_e+o,x:$[0]%tt[0],y:$[1]%tt[1],width:tt[0],height:tt[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${at[0]},-${at[1]})`},ot?React.createElement(DotPattern,{color:et,radius:nt/d}):React.createElement(LinePattern,{dimensions:it,color:et,lineWidth:c})),React.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_e+o})`}))}Background.displayName="Background";var Background$1=reactExports.memo(Background);const __vite_import_meta_env__={},{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=o=>o;function useStore(o,i=identity,s){(__vite_import_meta_env__?"production":void 0)!=="production"&&s&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const a=useSyncExternalStoreWithSelector(o.subscribe,o.getState,o.getServerState||o.getInitialState,i,s);return useDebugValue(a),a}const createImpl=o=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const i=typeof o=="function"?createStore(o):o,s=(a,c)=>useStore(i,a,c);return Object.assign(s,i),s},create$2=o=>o?createImpl(o):createImpl,DEFAULT_PROMPT_PRESET_ID="analysis",PROMPT_PRESETS=[{id:"analysis",label:"Analysis",description:"Break the request into concrete steps and surface blockers or missing context.",defaultText:"You are a critical analyst. Read the latest context, break the work into actionable steps, call out blockers or missing information, and list follow-up questions before acting."},{id:"brainstorm",label:"Brainstorm",description:"Generate diverse ideas, compare trade-offs, and highlight promising options.",defaultText:"You are a brainstorming partner. Produce several distinct approaches, explore their pros and cons, and point out any creative angles worth exploring further."},{id:"refine",label:"Refine",description:"Polish drafts for clarity, organization, and tone without losing intent.",defaultText:"You are an editor focused on clarity. Restructure and tighten the draft, fix grammar, and keep the author's intent intact while improving readability."},{id:"custom",label:"Custom",description:"Write your own instructions for this node.",defaultText:""}],PROMPT_PRESET_MAP=Object.fromEntries(PROMPT_PRESETS.map(o=>[o.id,o]));function inferPromptPresetFromText(o){const i=o.trim();if(!i)return null;for(const s of PROMPT_PRESETS)if(s.id!=="custom"&&s.defaultText.trim()===i)return s;return null}var indexMinimal={},minimal={},aspromise=asPromise;function asPromise(o,i){for(var s=new Array(arguments.length-1),a=0,c=2,d=!0;c<arguments.length;)s[a++]=arguments[c++];return new Promise(function(_,b){s[a]=function($){if(d)if(d=!1,$)b($);else{for(var _e=new Array(arguments.length-1),et=0;et<_e.length;)_e[et++]=arguments[et];_.apply(null,_e)}};try{o.apply(i||null,s)}catch(j){d&&(d=!1,b(j))}})}var base64$1={};(function(o){var i=o;i.length=function(_){var b=_.length;if(!b)return 0;for(var j=0;--b%4>1&&_.charAt(b)==="=";)++j;return Math.ceil(_.length*3)/4-j};for(var s=new Array(64),a=new Array(123),c=0;c<64;)a[s[c]=c<26?c+65:c<52?c+71:c<62?c-4:c-59|43]=c++;i.encode=function(_,b,j){for(var $=null,_e=[],et=0,rt=0,ot;b<j;){var st=_[b++];switch(rt){case 0:_e[et++]=s[st>>2],ot=(st&3)<<4,rt=1;break;case 1:_e[et++]=s[ot|st>>4],ot=(st&15)<<2,rt=2;break;case 2:_e[et++]=s[ot|st>>6],_e[et++]=s[st&63],rt=0;break}et>8191&&(($||($=[])).push(String.fromCharCode.apply(String,_e)),et=0)}return rt&&(_e[et++]=s[ot],_e[et++]=61,rt===1&&(_e[et++]=61)),$?(et&&$.push(String.fromCharCode.apply(String,_e.slice(0,et))),$.join("")):String.fromCharCode.apply(String,_e.slice(0,et))};var d="invalid encoding";i.decode=function(_,b,j){for(var $=j,_e=0,et,rt=0;rt<_.length;){var ot=_.charCodeAt(rt++);if(ot===61&&_e>1)break;if((ot=a[ot])===void 0)throw Error(d);switch(_e){case 0:et=ot,_e=1;break;case 1:b[j++]=et<<2|(ot&48)>>4,et=ot,_e=2;break;case 2:b[j++]=(et&15)<<4|(ot&60)>>2,et=ot,_e=3;break;case 3:b[j++]=(et&3)<<6|ot,_e=0;break}}if(_e===1)throw Error(d);return j-$},i.test=function(_){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(_)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(i,s,a){return(this._listeners[i]||(this._listeners[i]=[])).push({fn:s,ctx:a||this}),this};EventEmitter.prototype.off=function(i,s){if(i===void 0)this._listeners={};else if(s===void 0)this._listeners[i]=[];else for(var a=this._listeners[i],c=0;c<a.length;)a[c].fn===s?a.splice(c,1):++c;return this};EventEmitter.prototype.emit=function(i){var s=this._listeners[i];if(s){for(var a=[],c=1;c<arguments.length;)a.push(arguments[c++]);for(c=0;c<s.length;)s[c].fn.apply(s[c++].ctx,a)}return this};var float=factory(factory);function factory(o){return typeof Float32Array<"u"?function(){var i=new Float32Array([-0]),s=new Uint8Array(i.buffer),a=s[3]===128;function c(b,j,$){i[0]=b,j[$]=s[0],j[$+1]=s[1],j[$+2]=s[2],j[$+3]=s[3]}function d(b,j,$){i[0]=b,j[$]=s[3],j[$+1]=s[2],j[$+2]=s[1],j[$+3]=s[0]}o.writeFloatLE=a?c:d,o.writeFloatBE=a?d:c;function g(b,j){return s[0]=b[j],s[1]=b[j+1],s[2]=b[j+2],s[3]=b[j+3],i[0]}function _(b,j){return s[3]=b[j],s[2]=b[j+1],s[1]=b[j+2],s[0]=b[j+3],i[0]}o.readFloatLE=a?g:_,o.readFloatBE=a?_:g}():function(){function i(a,c,d,g){var _=c<0?1:0;if(_&&(c=-c),c===0)a(1/c>0?0:2147483648,d,g);else if(isNaN(c))a(2143289344,d,g);else if(c>34028234663852886e22)a((_<<31|2139095040)>>>0,d,g);else if(c<11754943508222875e-54)a((_<<31|Math.round(c/1401298464324817e-60))>>>0,d,g);else{var b=Math.floor(Math.log(c)/Math.LN2),j=Math.round(c*Math.pow(2,-b)*8388608)&8388607;a((_<<31|b+127<<23|j)>>>0,d,g)}}o.writeFloatLE=i.bind(null,writeUintLE),o.writeFloatBE=i.bind(null,writeUintBE);function s(a,c,d){var g=a(c,d),_=(g>>31)*2+1,b=g>>>23&255,j=g&8388607;return b===255?j?NaN:_*(1/0):b===0?_*1401298464324817e-60*j:_*Math.pow(2,b-150)*(j+8388608)}o.readFloatLE=s.bind(null,readUintLE),o.readFloatBE=s.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var i=new Float64Array([-0]),s=new Uint8Array(i.buffer),a=s[7]===128;function c(b,j,$){i[0]=b,j[$]=s[0],j[$+1]=s[1],j[$+2]=s[2],j[$+3]=s[3],j[$+4]=s[4],j[$+5]=s[5],j[$+6]=s[6],j[$+7]=s[7]}function d(b,j,$){i[0]=b,j[$]=s[7],j[$+1]=s[6],j[$+2]=s[5],j[$+3]=s[4],j[$+4]=s[3],j[$+5]=s[2],j[$+6]=s[1],j[$+7]=s[0]}o.writeDoubleLE=a?c:d,o.writeDoubleBE=a?d:c;function g(b,j){return s[0]=b[j],s[1]=b[j+1],s[2]=b[j+2],s[3]=b[j+3],s[4]=b[j+4],s[5]=b[j+5],s[6]=b[j+6],s[7]=b[j+7],i[0]}function _(b,j){return s[7]=b[j],s[6]=b[j+1],s[5]=b[j+2],s[4]=b[j+3],s[3]=b[j+4],s[2]=b[j+5],s[1]=b[j+6],s[0]=b[j+7],i[0]}o.readDoubleLE=a?g:_,o.readDoubleBE=a?_:g}():function(){function i(a,c,d,g,_,b){var j=g<0?1:0;if(j&&(g=-g),g===0)a(0,_,b+c),a(1/g>0?0:2147483648,_,b+d);else if(isNaN(g))a(0,_,b+c),a(2146959360,_,b+d);else if(g>17976931348623157e292)a(0,_,b+c),a((j<<31|2146435072)>>>0,_,b+d);else{var $;if(g<22250738585072014e-324)$=g/5e-324,a($>>>0,_,b+c),a((j<<31|$/4294967296)>>>0,_,b+d);else{var _e=Math.floor(Math.log(g)/Math.LN2);_e===1024&&(_e=1023),$=g*Math.pow(2,-_e),a($*4503599627370496>>>0,_,b+c),a((j<<31|_e+1023<<20|$*1048576&1048575)>>>0,_,b+d)}}}o.writeDoubleLE=i.bind(null,writeUintLE,0,4),o.writeDoubleBE=i.bind(null,writeUintBE,4,0);function s(a,c,d,g,_){var b=a(g,_+c),j=a(g,_+d),$=(j>>31)*2+1,_e=j>>>20&2047,et=4294967296*(j&1048575)+b;return _e===2047?et?NaN:$*(1/0):_e===0?$*5e-324*et:$*Math.pow(2,_e-1075)*(et+4503599627370496)}o.readDoubleLE=s.bind(null,readUintLE,0,4),o.readDoubleBE=s.bind(null,readUintBE,4,0)}(),o}function writeUintLE(o,i,s){i[s]=o&255,i[s+1]=o>>>8&255,i[s+2]=o>>>16&255,i[s+3]=o>>>24}function writeUintBE(o,i,s){i[s]=o>>>24,i[s+1]=o>>>16&255,i[s+2]=o>>>8&255,i[s+3]=o&255}function readUintLE(o,i){return(o[i]|o[i+1]<<8|o[i+2]<<16|o[i+3]<<24)>>>0}function readUintBE(o,i){return(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}var utf8$2={};(function(o){var i=o;i.length=function(a){for(var c=0,d=0,g=0;g<a.length;++g)d=a.charCodeAt(g),d<128?c+=1:d<2048?c+=2:(d&64512)===55296&&(a.charCodeAt(g+1)&64512)===56320?(++g,c+=4):c+=3;return c},i.read=function(a,c,d){var g=d-c;if(g<1)return"";for(var _=null,b=[],j=0,$;c<d;)$=a[c++],$<128?b[j++]=$:$>191&&$<224?b[j++]=($&31)<<6|a[c++]&63:$>239&&$<365?($=(($&7)<<18|(a[c++]&63)<<12|(a[c++]&63)<<6|a[c++]&63)-65536,b[j++]=55296+($>>10),b[j++]=56320+($&1023)):b[j++]=($&15)<<12|(a[c++]&63)<<6|a[c++]&63,j>8191&&((_||(_=[])).push(String.fromCharCode.apply(String,b)),j=0);return _?(j&&_.push(String.fromCharCode.apply(String,b.slice(0,j))),_.join("")):String.fromCharCode.apply(String,b.slice(0,j))},i.write=function(a,c,d){for(var g=d,_,b,j=0;j<a.length;++j)_=a.charCodeAt(j),_<128?c[d++]=_:_<2048?(c[d++]=_>>6|192,c[d++]=_&63|128):(_&64512)===55296&&((b=a.charCodeAt(j+1))&64512)===56320?(_=65536+((_&1023)<<10)+(b&1023),++j,c[d++]=_>>18|240,c[d++]=_>>12&63|128,c[d++]=_>>6&63|128,c[d++]=_&63|128):(c[d++]=_>>12|224,c[d++]=_>>6&63|128,c[d++]=_&63|128);return d-g}})(utf8$2);var pool_1=pool;function pool(o,i,s){var a=s||8192,c=a>>>1,d=null,g=a;return function(b){if(b<1||b>c)return o(b);g+b>a&&(d=o(a),g=0);var j=i.call(d,g,g+=b);return g&7&&(g=(g|7)+1),j}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=i;var o=requireMinimal();function i(d,g){this.lo=d>>>0,this.hi=g>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(g){if(g===0)return s;var _=g<0;_&&(g=-g);var b=g>>>0,j=(g-b)/4294967296>>>0;return _&&(j=~j>>>0,b=~b>>>0,++b>4294967295&&(b=0,++j>4294967295&&(j=0))),new i(b,j)},i.from=function(g){if(typeof g=="number")return i.fromNumber(g);if(o.isString(g))if(o.Long)g=o.Long.fromString(g);else return i.fromNumber(parseInt(g,10));return g.low||g.high?new i(g.low>>>0,g.high>>>0):s},i.prototype.toNumber=function(g){if(!g&&this.hi>>>31){var _=~this.lo+1>>>0,b=~this.hi>>>0;return _||(b=b+1>>>0),-(_+b*4294967296)}return this.lo+this.hi*4294967296},i.prototype.toLong=function(g){return o.Long?new o.Long(this.lo|0,this.hi|0,!!g):{low:this.lo|0,high:this.hi|0,unsigned:!!g}};var c=String.prototype.charCodeAt;return i.fromHash=function(g){return g===a?s:new i((c.call(g,0)|c.call(g,1)<<8|c.call(g,2)<<16|c.call(g,3)<<24)>>>0,(c.call(g,4)|c.call(g,5)<<8|c.call(g,6)<<16|c.call(g,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var g=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g)>>>0,this.lo=(this.lo<<1^g)>>>0,this},i.prototype.zzDecode=function(){var g=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^g)>>>0,this.hi=(this.hi>>>1^g)>>>0,this},i.prototype.length=function(){var g=this.lo,_=(this.lo>>>28|this.hi<<4)>>>0,b=this.hi>>>24;return b===0?_===0?g<16384?g<128?1:2:g<2097152?3:4:_<16384?_<128?5:6:_<2097152?7:8:b<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(o){var i=o;i.asPromise=aspromise,i.base64=base64$1,i.EventEmitter=eventemitter,i.float=float,i.inquire=inquire_1,i.utf8=utf8$2,i.pool=pool_1,i.LongBits=requireLongbits(),i.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),i.global=i.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(d){return typeof d=="number"&&isFinite(d)&&Math.floor(d)===d},i.isString=function(d){return typeof d=="string"||d instanceof String},i.isObject=function(d){return d&&typeof d=="object"},i.isset=i.isSet=function(d,g){var _=d[g];return _!=null&&d.hasOwnProperty(g)?typeof _!="object"||(Array.isArray(_)?_.length:Object.keys(_).length)>0:!1},i.Buffer=function(){try{var c=i.inquire("buffer").Buffer;return c.prototype.utf8Write?c:null}catch{return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(d){return typeof d=="number"?i.Buffer?i._Buffer_allocUnsafe(d):new i.Array(d):i.Buffer?i._Buffer_from(d):typeof Uint8Array>"u"?d:new Uint8Array(d)},i.Array=typeof Uint8Array<"u"?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(d){return d?i.LongBits.from(d).toHash():i.LongBits.zeroHash},i.longFromHash=function(d,g){var _=i.LongBits.fromHash(d);return i.Long?i.Long.fromBits(_.lo,_.hi,g):_.toNumber(!!g)};function s(c,d,g){for(var _=Object.keys(d),b=0;b<_.length;++b)(c[_[b]]===void 0||!g)&&(c[_[b]]=d[_[b]]);return c}i.merge=s,i.lcFirst=function(d){return d.charAt(0).toLowerCase()+d.substring(1)};function a(c){function d(g,_){if(!(this instanceof d))return new d(g,_);Object.defineProperty(this,"message",{get:function(){return g}}),Error.captureStackTrace?Error.captureStackTrace(this,d):Object.defineProperty(this,"stack",{value:new Error().stack||""}),_&&s(this,_)}return d.prototype=Object.create(Error.prototype,{constructor:{value:d,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return c},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),d}i.newError=a,i.ProtocolError=a("ProtocolError"),i.oneOfGetter=function(d){for(var g={},_=0;_<d.length;++_)g[d[_]]=1;return function(){for(var b=Object.keys(this),j=b.length-1;j>-1;--j)if(g[b[j]]===1&&this[b[j]]!==void 0&&this[b[j]]!==null)return b[j]}},i.oneOfSetter=function(d){return function(g){for(var _=0;_<d.length;++_)d[_]!==g&&delete this[d[_]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var c=i.Buffer;if(!c){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=c.from!==Uint8Array.from&&c.from||function(g,_){return new c(g,_)},i._Buffer_allocUnsafe=c.allocUnsafe||function(g){return new c(g)}}}(minimal)),minimal}var writer=Writer$1,util$5=requireMinimal(),BufferWriter$1,LongBits$1=util$5.LongBits,base64=util$5.base64,utf8$1=util$5.utf8;function Op(o,i,s){this.fn=o,this.len=i,this.next=void 0,this.val=s}function noop(){}function State(o){this.head=o.head,this.tail=o.tail,this.len=o.len,this.next=o.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function o(){return util$5.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function o(i){return new util$5.Array(i)};util$5.Array!==Array&&(Writer$1.alloc=util$5.pool(Writer$1.alloc,util$5.Array.prototype.subarray));Writer$1.prototype._push=function o(i,s,a){return this.tail=this.tail.next=new Op(i,s,a),this.len+=s,this};function writeByte(o,i,s){i[s]=o&255}function writeVarint32(o,i,s){for(;o>127;)i[s++]=o&127|128,o>>>=7;i[s]=o}function VarintOp(o,i){this.len=o,this.next=void 0,this.val=i}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function o(i){return this.len+=(this.tail=this.tail.next=new VarintOp((i=i>>>0)<128?1:i<16384?2:i<2097152?3:i<268435456?4:5,i)).len,this};Writer$1.prototype.int32=function o(i){return i<0?this._push(writeVarint64,10,LongBits$1.fromNumber(i)):this.uint32(i)};Writer$1.prototype.sint32=function o(i){return this.uint32((i<<1^i>>31)>>>0)};function writeVarint64(o,i,s){for(;o.hi;)i[s++]=o.lo&127|128,o.lo=(o.lo>>>7|o.hi<<25)>>>0,o.hi>>>=7;for(;o.lo>127;)i[s++]=o.lo&127|128,o.lo=o.lo>>>7;i[s++]=o.lo}Writer$1.prototype.uint64=function o(i){var s=LongBits$1.from(i);return this._push(writeVarint64,s.length(),s)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function o(i){var s=LongBits$1.from(i).zzEncode();return this._push(writeVarint64,s.length(),s)};Writer$1.prototype.bool=function o(i){return this._push(writeByte,1,i?1:0)};function writeFixed32(o,i,s){i[s]=o&255,i[s+1]=o>>>8&255,i[s+2]=o>>>16&255,i[s+3]=o>>>24}Writer$1.prototype.fixed32=function o(i){return this._push(writeFixed32,4,i>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function o(i){var s=LongBits$1.from(i);return this._push(writeFixed32,4,s.lo)._push(writeFixed32,4,s.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function o(i){return this._push(util$5.float.writeFloatLE,4,i)};Writer$1.prototype.double=function o(i){return this._push(util$5.float.writeDoubleLE,8,i)};var writeBytes=util$5.Array.prototype.set?function o(i,s,a){s.set(i,a)}:function o(i,s,a){for(var c=0;c<i.length;++c)s[a+c]=i[c]};Writer$1.prototype.bytes=function o(i){var s=i.length>>>0;if(!s)return this._push(writeByte,1,0);if(util$5.isString(i)){var a=Writer$1.alloc(s=base64.length(i));base64.decode(i,a,0),i=a}return this.uint32(s)._push(writeBytes,s,i)};Writer$1.prototype.string=function o(i){var s=utf8$1.length(i);return s?this.uint32(s)._push(utf8$1.write,s,i):this._push(writeByte,1,0)};Writer$1.prototype.fork=function o(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function o(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function o(){var i=this.head,s=this.tail,a=this.len;return this.reset().uint32(a),a&&(this.tail.next=i.next,this.tail=s,this.len+=a),this};Writer$1.prototype.finish=function o(){for(var i=this.head.next,s=this.constructor.alloc(this.len),a=0;i;)i.fn(i.val,s,a),a+=i.len,i=i.next;return s};Writer$1._configure=function(o){BufferWriter$1=o,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$4=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$4._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$4.Buffer&&util$4.Buffer.prototype instanceof Uint8Array&&util$4.Buffer.prototype.set.name==="set"?function(i,s,a){s.set(i,a)}:function(i,s,a){if(i.copy)i.copy(s,a,0,i.length);else for(var c=0;c<i.length;)s[a++]=i[c++]}};BufferWriter.prototype.bytes=function o(i){util$4.isString(i)&&(i=util$4._Buffer_from(i,"base64"));var s=i.length>>>0;return this.uint32(s),s&&this._push(BufferWriter.writeBytesBuffer,s,i),this};function writeStringBuffer(o,i,s){o.length<40?util$4.utf8.write(o,i,s):i.utf8Write?i.utf8Write(o,s):i.write(o,s)}BufferWriter.prototype.string=function o(i){var s=util$4.Buffer.byteLength(i);return this.uint32(s),s&&this._push(writeStringBuffer,s,i),this};BufferWriter._configure();var reader=Reader$1,util$3=requireMinimal(),BufferReader$1,LongBits=util$3.LongBits,utf8=util$3.utf8;function indexOutOfRange(o,i){return RangeError("index out of range: "+o.pos+" + "+(i||1)+" > "+o.len)}function Reader$1(o){this.buf=o,this.pos=0,this.len=o.length}var create_array=typeof Uint8Array<"u"?function o(i){if(i instanceof Uint8Array||Array.isArray(i))return new Reader$1(i);throw Error("illegal buffer")}:function o(i){if(Array.isArray(i))return new Reader$1(i);throw Error("illegal buffer")},create=function o(){return util$3.Buffer?function(s){return(Reader$1.create=function(c){return util$3.Buffer.isBuffer(c)?new BufferReader$1(c):create_array(c)})(s)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$3.Array.prototype.subarray||util$3.Array.prototype.slice;Reader$1.prototype.uint32=function o(){var i=4294967295;return function(){if(i=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(i=(i|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(i=(i|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(i=(i|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(i=(i|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return i;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return i}}();Reader$1.prototype.int32=function o(){return this.uint32()|0};Reader$1.prototype.sint32=function o(){var i=this.uint32();return i>>>1^-(i&1)|0};function readLongVarint(){var o=new LongBits(0,0),i=0;if(this.len-this.pos>4){for(;i<4;++i)if(o.lo=(o.lo|(this.buf[this.pos]&127)<<i*7)>>>0,this.buf[this.pos++]<128)return o;if(o.lo=(o.lo|(this.buf[this.pos]&127)<<28)>>>0,o.hi=(o.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return o;i=0}else{for(;i<3;++i){if(this.pos>=this.len)throw indexOutOfRange(this);if(o.lo=(o.lo|(this.buf[this.pos]&127)<<i*7)>>>0,this.buf[this.pos++]<128)return o}return o.lo=(o.lo|(this.buf[this.pos++]&127)<<i*7)>>>0,o}if(this.len-this.pos>4){for(;i<5;++i)if(o.hi=(o.hi|(this.buf[this.pos]&127)<<i*7+3)>>>0,this.buf[this.pos++]<128)return o}else for(;i<5;++i){if(this.pos>=this.len)throw indexOutOfRange(this);if(o.hi=(o.hi|(this.buf[this.pos]&127)<<i*7+3)>>>0,this.buf[this.pos++]<128)return o}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function o(){return this.uint32()!==0};function readFixed32_end(o,i){return(o[i-4]|o[i-3]<<8|o[i-2]<<16|o[i-1]<<24)>>>0}Reader$1.prototype.fixed32=function o(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function o(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function o(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var i=util$3.float.readFloatLE(this.buf,this.pos);return this.pos+=4,i};Reader$1.prototype.double=function o(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var i=util$3.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,i};Reader$1.prototype.bytes=function o(){var i=this.uint32(),s=this.pos,a=this.pos+i;if(a>this.len)throw indexOutOfRange(this,i);if(this.pos+=i,Array.isArray(this.buf))return this.buf.slice(s,a);if(s===a){var c=util$3.Buffer;return c?c.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,s,a)};Reader$1.prototype.string=function o(){var i=this.bytes();return utf8.read(i,0,i.length)};Reader$1.prototype.skip=function o(i){if(typeof i=="number"){if(this.pos+i>this.len)throw indexOutOfRange(this,i);this.pos+=i}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(o){switch(o){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(o=this.uint32()&7)!==4;)this.skipType(o);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+o+" at offset "+this.pos)}return this};Reader$1._configure=function(o){BufferReader$1=o,Reader$1.create=create(),BufferReader$1._configure();var i=util$3.Long?"toLong":"toNumber";util$3.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[i](!1)},uint64:function(){return readLongVarint.call(this)[i](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[i](!1)},fixed64:function(){return readFixed64.call(this)[i](!0)},sfixed64:function(){return readFixed64.call(this)[i](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$2=requireMinimal();function BufferReader(o){Reader.call(this,o)}BufferReader._configure=function(){util$2.Buffer&&(BufferReader.prototype._slice=util$2.Buffer.prototype.slice)};BufferReader.prototype.string=function o(){var i=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+i,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+i,this.len))};BufferReader._configure();var rpc={},service=Service,util$1=requireMinimal();(Service.prototype=Object.create(util$1.EventEmitter.prototype)).constructor=Service;function Service(o,i,s){if(typeof o!="function")throw TypeError("rpcImpl must be a function");util$1.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!i,this.responseDelimited=!!s}Service.prototype.rpcCall=function o(i,s,a,c,d){if(!c)throw TypeError("request must be specified");var g=this;if(!d)return util$1.asPromise(o,g,i,s,a,c);if(!g.rpcImpl){setTimeout(function(){d(Error("already ended"))},0);return}try{return g.rpcImpl(i,s[g.requestDelimited?"encodeDelimited":"encode"](c).finish(),function(b,j){if(b)return g.emit("error",b,i),d(b);if(j===null){g.end(!0);return}if(!(j instanceof a))try{j=a[g.responseDelimited?"decodeDelimited":"decode"](j)}catch($){return g.emit("error",$,i),d($)}return g.emit("data",j,i),d(null,j)})}catch(_){g.emit("error",_,i),setTimeout(function(){d(_)},0);return}};Service.prototype.end=function o(i){return this.rpcImpl&&(i||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(o){var i=o;i.Service=service})(rpc);var roots={};(function(o){var i=o;i.build="minimal",i.Writer=writer,i.BufferWriter=writer_buffer,i.Reader=reader,i.BufferReader=reader_buffer,i.util=requireMinimal(),i.rpc=rpc,i.roots=roots,i.configure=s;function s(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}s()})(indexMinimal);const text=["TEXT"],mockLayoutFlow={id:"flow:draft-layout",version:"1.0.0",nodes:[{id:"ui-entry",type:"module",name:"UI",params:{__position:{x:120,y:360},role:"entrypoint",moduleKey:"interface"},in:[{port:"feedback",types:text}],out:[{port:"conversation",types:text}]},{id:"prompt-main",type:"module",name:"Prompt",params:{__position:{x:420,y:360},text:PROMPT_PRESET_MAP[DEFAULT_PROMPT_PRESET_ID].defaultText,preset:"analysis",moduleKey:"prompt"},in:[{port:"context",types:text}],out:[{port:"prompt",types:text}]},{id:"llm-primary",type:"llm",name:"LLAMA3.1 8B",params:{__position:{x:720,y:360},adapter:"llama_cpp",modelId:"model:llama3.1-8b.Q4_K_M",runtime:"CPU",temperature:.2,maxTokens:2048},in:[{port:"prompt",types:text}],out:[{port:"response",types:text}]},{id:"memory-primary",type:"module",name:"Memory",params:{__position:{x:1020,y:360},mode:"append",moduleKey:"memory"},in:[{port:"search",types:text},{port:"write",types:text}],out:[{port:"attach",types:text}]}],edges:[{id:"edge-ui-prompt",from:["ui-entry","conversation"],to:["prompt-main","context"],label:"primary"},{id:"edge-prompt-llm",from:["prompt-main","prompt"],to:["llm-primary","prompt"],label:"draft"},{id:"edge-llm-memory",from:["llm-primary","response"],to:["memory-primary","write"],label:"completion"},{id:"edge-memory-ui",from:["memory-primary","attach"],to:["ui-entry","feedback"],label:"memory"}],prompts:{packs:[]},models:{registryRef:"../models/models.json"},profiles:{default:{concurrency:2}}},createInitialFlow=()=>JSON.parse(JSON.stringify(mockLayoutFlow)),POSITION_KEY$3="__position",DEFAULT_NODE_POSITION={x:360,y:240},uniqueId=o=>`${o}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,uniqueNodeId$1=o=>uniqueId(o||"node"),uniqueEdgeId=o=>uniqueId(`edge-${o.from[0]}-${o.to[0]}-${o.from[1]}-${o.to[1]}`),cloneValue=o=>typeof structuredClone=="function"?structuredClone(o):JSON.parse(JSON.stringify(o)),readNodePosition=o=>{const i=o.params,s=i==null?void 0:i[POSITION_KEY$3];if(s&&typeof s=="object"&&typeof s.x=="number"&&typeof s.y=="number"){const a=s;return{x:a.x,y:a.y}}return{...DEFAULT_NODE_POSITION}},withNodePosition=(o,i)=>{const s={...o.params??{}};return s[POSITION_KEY$3]={x:i.x,y:i.y},s},isNonEmptyString=o=>typeof o=="string"&&o.trim().length>0,pickFirstString=(...o)=>{for(const i of o)if(isNonEmptyString(i))return i.trim();return null},findModelNameInCatalog=(o,i)=>{if(!Array.isArray(o))return null;const s=[...o];for(;s.length>0;){const a=s.pop();if(!a||typeof a!="object")continue;const c=a,d=pickFirstString(c.id,c.modelId,c.model_id);if(d&&d===i){const _=pickFirstString(c.name,c.label,c.title);if(_)return _}const g=[c.models,c.items,c.children];for(const _ of g)Array.isArray(_)&&s.push(..._)}return null},deriveLLMDisplayName=(o,i)=>{const s=pickFirstString(o.modelLabel,o.modelName,o.displayName,o.title,o.label);if(s)return s;const a=o.model;if(a&&typeof a=="object"){const d=a,g=pickFirstString(d.name,d.label,d.title);if(g)return g;const _=pickFirstString(d.id,d.modelId,d.model_id);if(_){const b=_.trim(),j=findModelNameInCatalog(i,b);if(j)return j;const $=b.replace(/^model:/i,"").trim();if($)return $}}const c=pickFirstString(o.modelId,o.model_id);if(c){const d=c.trim(),g=findModelNameInCatalog(i,d);if(g)return g;const _=d.replace(/^model:/i,"").trim();if(_)return _}return null},useFlowStore=create$2((o,i)=>({flow:createInitialFlow(),setFlow:s=>o({flow:s}),addNode:s=>o(a=>({flow:{...a.flow,nodes:[...a.flow.nodes,s]}})),updateNodeParams:(s,a)=>o(c=>({flow:{...c.flow,nodes:c.flow.nodes.map(d=>{if(d.id!==s)return d;const g={...d.params??{}},_=a(g),b=_&&typeof _=="object"?_:g;if((d.type??"module")==="llm"){const j=deriveLLMDisplayName(b,c.catalog);if(j&&j!==d.name)return{...d,name:j,params:b}}return{...d,params:b}})}})),catalog:[],setCatalog:s=>o({catalog:s}),activeTool:"select",setActiveTool:s=>o({activeTool:s}),clipboard:null,setClipboard:s=>o({clipboard:s}),copyNode:s=>{const a=i().flow.nodes.find(g=>g.id===s);if(!a)return;const c=cloneValue(a),d=readNodePosition(a);o({clipboard:{kind:"node",node:c,position:d}})},cutNode:s=>{const{copyNode:a,deleteNode:c}=i();a(s),c(s)},deleteNode:s=>o(a=>{if(!a.flow.nodes.some(g=>g.id===s))return{};const c=a.flow.nodes.filter(g=>g.id!==s),d=a.flow.edges.filter(g=>g.from[0]!==s&&g.to[0]!==s);return{flow:{...a.flow,nodes:c,edges:d}}}),copyEdge:s=>{const a=i().flow.edges.find(c=>c.id===s);a&&o({clipboard:{kind:"edge",edge:cloneValue(a)}})},cutEdge:s=>{const{copyEdge:a,deleteEdge:c}=i();a(s),c(s)},deleteEdge:s=>o(a=>a.flow.edges.some(c=>c.id===s)?{flow:{...a.flow,edges:a.flow.edges.filter(c=>c.id!==s)}}:{}),pasteClipboard:s=>{const a=i().clipboard;if(!a||s&&a.kind!==s)return null;if(a.kind==="node"){const c=a.node,d={x:a.position.x+48,y:a.position.y+48},g=cloneValue(c),_=uniqueNodeId$1(g.type??"node"),b=withNodePosition(g,d),j={...g,id:_,params:b};return o($=>({flow:{...$.flow,nodes:[...$.flow.nodes,j]}})),j}if(a.kind==="edge"){const c=i().flow,{edge:d}=a,g=c.nodes.some(j=>j.id===d.from[0]),_=c.nodes.some(j=>j.id===d.to[0]);if(!g||!_)return null;const b={...cloneValue(d),id:uniqueEdgeId(d)};return o(j=>({flow:{...j.flow,edges:[...j.flow.edges,b]}})),b}return null}})),CanvasBoundaryContext=reactExports.createContext(null),CanvasBoundaryProvider=CanvasBoundaryContext.Provider;function useCanvasBoundary(){const o=reactExports.useContext(CanvasBoundaryContext);if(!o)throw new Error("useCanvasBoundary must be used within a CanvasBoundaryProvider");return o}const CONTEXT_WINDOW_PADDING=16,CONTEXT_WINDOW_MIN_WIDTH=280,CONTEXT_WINDOW_MIN_HEIGHT=220,clampNumber=(o,i,s)=>Math.min(Math.max(o,i),s);function clampSize(o,i,s){return s<i?i:clampNumber(o,i,s)}function clampGeometry(o,i){const s=Math.min(o.size.width,i.width),a=Math.min(o.size.height,i.height),c=Math.max(0,i.width-s),d=Math.max(0,i.height-a),g=clampNumber(o.position.x,0,c),_=clampNumber(o.position.y,0,d);return{position:{x:g,y:_},size:{width:s,height:a}}}function moveGeometry(o,i,s){const a={position:{x:o.position.x+i.dx,y:o.position.y+i.dy},size:{...o.size}};return clampGeometry(a,s)}function constrainRectToBounds(o,i){const s=Math.max(0,i.width-CONTEXT_WINDOW_PADDING*2),a=Math.max(0,i.height-CONTEXT_WINDOW_PADDING*2),c=clampSize(o.width,Math.min(CONTEXT_WINDOW_MIN_WIDTH,s),s),d=clampSize(o.height,Math.min(CONTEXT_WINDOW_MIN_HEIGHT,a),a),g=Math.max(CONTEXT_WINDOW_PADDING,i.width-CONTEXT_WINDOW_PADDING-c),_=Math.max(CONTEXT_WINDOW_PADDING,i.height-CONTEXT_WINDOW_PADDING-d),b=clampNumber(o.left,CONTEXT_WINDOW_PADDING,g),j=clampNumber(o.top,CONTEXT_WINDOW_PADDING,_);return{left:b,top:j,width:c,height:d}}function resizeGeometry(o,i,s,a,c){let{x:d,y:g}=i.position,{width:_,height:b}=i.size;const j=a.width-d,$=a.height-g;if(o.includes("e")&&(_=clampSize(_+s.dx,c.width,j)),o.includes("s")&&(b=clampSize(b+s.dy,c.height,$)),o.includes("w")){let _e=d+s.dx;const et=Math.max(0,d+_-a.width),rt=d+_-c.width;_e=clampNumber(_e,et,rt);const ot=_+(d-_e);d=_e,_=clampSize(ot,c.width,a.width-d)}if(o.includes("n")){let _e=g+s.dy;const et=Math.max(0,g+b-a.height),rt=g+b-c.height;_e=clampNumber(_e,et,rt);const ot=b+(g-_e);g=_e,b=clampSize(ot,c.height,a.height-g)}return clampGeometry({position:{x:d,y:g},size:{width:_,height:b}},a)}const HEADER_HEIGHT=40,TRANSITION_MS=180,handleBaseStyle={position:"absolute",background:"transparent",zIndex:2};function getBoundsFromRef(o){var s;const i=(s=o==null?void 0:o.current)==null?void 0:s.getBoundingClientRect();return i?{width:i.width,height:i.height}:{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER}}function ContextWindow({title:o,open:i,position:s,size:a,minimized:c,minSize:d,onUpdate:g,onRequestClose:_,onToggleMinimize:b,children:j}){const $=useCanvasBoundary(),[_e,et]=reactExports.useState(i),rt=reactExports.useRef(),ot=reactExports.useRef(null);reactExports.useEffect(()=>{if(i){et(!0),rt.current&&(window.clearTimeout(rt.current),rt.current=void 0);return}return rt.current=window.setTimeout(()=>{et(!1),rt.current=void 0},TRANSITION_MS),()=>{rt.current&&(window.clearTimeout(rt.current),rt.current=void 0)}},[i]),reactExports.useEffect(()=>()=>{rt.current&&window.clearTimeout(rt.current)},[]);const st=reactExports.useMemo(()=>d?{width:Math.max(1,Math.round(d.width)),height:Math.max(HEADER_HEIGHT,Math.round(d.height))}:{width:280,height:Math.max(220,HEADER_HEIGHT+40)},[d]),ft=reactExports.useMemo(()=>({position:s,size:a}),[s,a]),tt=reactExports.useCallback(kt=>{kt.preventDefault(),kt.stopPropagation();const lt=kt.clientX,xt=kt.clientY,gt=ft,_t=getBoundsFromRef($),ct=mt=>{const Et={dx:mt.clientX-lt,dy:mt.clientY-xt},ht=moveGeometry(gt,Et,_t);g(ht)},ut=()=>{window.removeEventListener("mousemove",ct),window.removeEventListener("mouseup",ut)};window.addEventListener("mousemove",ct),window.addEventListener("mouseup",ut,{once:!0})},[$,ft,g]),nt=reactExports.useCallback(kt=>lt=>{if(c)return;lt.preventDefault(),lt.stopPropagation();const xt=lt.clientX,gt=lt.clientY,_t=ft,ct=getBoundsFromRef($),ut=Et=>{const ht={dx:Et.clientX-xt,dy:Et.clientY-gt},It=resizeGeometry(kt,_t,ht,ct,st);g(It)},mt=()=>{window.removeEventListener("mousemove",ut),window.removeEventListener("mouseup",mt)};window.addEventListener("mousemove",ut),window.addEventListener("mouseup",mt,{once:!0})},[$,ft,c,g,st]),it=reactExports.useMemo(()=>[{direction:"n",style:{...handleBaseStyle,top:0,left:"50%",transform:"translate(-50%, -50%)",width:"60%",height:10,cursor:"ns-resize"}},{direction:"s",style:{...handleBaseStyle,bottom:0,left:"50%",transform:"translate(-50%, 50%)",width:"60%",height:10,cursor:"ns-resize"}},{direction:"e",style:{...handleBaseStyle,right:0,top:"50%",transform:"translate(50%, -50%)",width:10,height:"60%",cursor:"ew-resize"}},{direction:"w",style:{...handleBaseStyle,left:0,top:"50%",transform:"translate(-50%, -50%)",width:10,height:"60%",cursor:"ew-resize"}},{direction:"ne",style:{...handleBaseStyle,top:0,right:0,width:14,height:14,transform:"translate(50%, -50%)",cursor:"nesw-resize"}},{direction:"nw",style:{...handleBaseStyle,top:0,left:0,width:14,height:14,transform:"translate(-50%, -50%)",cursor:"nwse-resize"}},{direction:"se",style:{...handleBaseStyle,bottom:0,right:0,width:14,height:14,transform:"translate(50%, 50%)",cursor:"nwse-resize"}},{direction:"sw",style:{...handleBaseStyle,bottom:0,left:0,width:14,height:14,transform:"translate(-50%, 50%)",cursor:"nesw-resize"}}],[]),at={position:"absolute",top:ft.position.y,left:ft.position.x,width:ft.size.width,height:c?HEADER_HEIGHT:ft.size.height,minWidth:st.width,minHeight:c?HEADER_HEIGHT:st.height,display:_e?"block":"none",pointerEvents:"auto",zIndex:30,transition:"width 140ms ease, height 140ms ease",overflow:"visible"},pt={width:"100%",height:"100%",background:"#f8fafc",border:"1px solid #cbd5f5",borderRadius:12,boxShadow:"0 18px 32px rgba(15, 23, 42, 0.18)",overflow:"hidden",display:"flex",flexDirection:"column",opacity:i?1:0,transform:i?"scale(1)":"scale(0.98)",transition:`opacity ${TRANSITION_MS}ms ease, transform ${TRANSITION_MS}ms ease`},yt={height:HEADER_HEIGHT,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 12px",background:"linear-gradient(180deg, #1f2937 0%, #0f172a 100%)",color:"#f8fafc",fontWeight:600,letterSpacing:.2,cursor:"grab",userSelect:"none"},dt={border:"none",background:"transparent",color:"inherit",cursor:"pointer",padding:"4px 6px",borderRadius:6,transition:"background 0.2s ease"},vt={display:"flex",gap:4},wt={flex:1,padding:"14px 16px",overflowY:"auto",background:"rgba(248, 250, 252, 0.92)",color:"#0f172a",fontSize:13,display:c?"none":"block"},St=reactExports.useCallback(kt=>{kt.stopPropagation()},[]),Tt=reactExports.useCallback(kt=>{kt.stopPropagation()},[]),bt=reactExports.useCallback(kt=>{kt.stopPropagation()},[]);return _e?jsxRuntimeExports.jsxs("div",{"data-testid":"context-window",ref:ot,style:at,onPointerDownCapture:St,onMouseDownCapture:Tt,onContextMenuCapture:Tt,onWheelCapture:bt,children:[jsxRuntimeExports.jsxs("div",{style:pt,children:[jsxRuntimeExports.jsxs("div",{style:yt,onMouseDown:tt,role:"toolbar","aria-label":`${o} controls`,children:[jsxRuntimeExports.jsx("span",{children:o}),jsxRuntimeExports.jsxs("div",{style:vt,children:[jsxRuntimeExports.jsx("button",{type:"button","aria-label":c?"Restore":"Minimize",style:dt,onMouseDown:kt=>kt.stopPropagation(),onClick:kt=>{kt.stopPropagation(),b()},children:c?"▢":"_"}),jsxRuntimeExports.jsx("button",{type:"button","aria-label":"Close",style:dt,onMouseDown:kt=>kt.stopPropagation(),onClick:kt=>{kt.stopPropagation(),_()},children:"×"})]})]}),jsxRuntimeExports.jsx("div",{style:wt,children:j})]}),c?null:it.map(kt=>jsxRuntimeExports.jsx("div",{style:kt.style,onMouseDown:nt(kt.direction)},kt.direction))]}):null}const MEMORY_SUB_MENUS=[{key:"general",label:"General"},{key:"retrieval",label:"Retrieval Behavior"},{key:"summarization",label:"Summarization & Compression"},{key:"indexing",label:"Indexing & Embeddings"},{key:"access",label:"Access & Context"},{key:"debug",label:"Debugging / Developer Controls"}],containerStyle$3={padding:"12px 16px",display:"flex",flexDirection:"column",gap:14,fontFamily:"Inter, system-ui, sans-serif",fontSize:14,color:"#0f172a"},headingStyle={margin:0,fontSize:16,fontWeight:700},descriptionStyle={margin:0,fontSize:12,color:"#64748b",lineHeight:1.4},fieldStyle={display:"flex",flexDirection:"column",gap:6},labelStyle={fontSize:12,fontWeight:600,letterSpacing:.4,textTransform:"uppercase",color:"#475569"},inputStyle$1={borderRadius:8,border:"1px solid #cbd5f5",background:"#ffffff",padding:"8px 10px",fontSize:13,color:"#111827",lineHeight:1.4},textAreaStyle={...inputStyle$1,minHeight:96,resize:"vertical"},helperStyle={fontSize:12,color:"#94a3b8"},promptPresetListStyle={display:"flex",flexDirection:"column",gap:8,marginTop:6},promptPresetButtonStyle={textAlign:"left",padding:"10px 12px",borderRadius:8,border:"1px solid #e2e8f0",background:"#f8fafc",color:"#0f172a",display:"flex",flexDirection:"column",gap:4,fontSize:12,lineHeight:1.4,cursor:"pointer",transition:"border-color 0.2s ease, background 0.2s ease"},promptPresetButtonActiveStyle={border:"1px solid #2563eb",background:"#eff6ff",boxShadow:"0 0 0 1px rgba(37,99,235,0.12) inset"},promptPresetLabelStyle={fontSize:13,fontWeight:600,color:"#0f172a"},promptPresetDescriptionStyle={fontSize:11,color:"#64748b",lineHeight:1.4},promptRadioGroupStyle={display:"flex",flexDirection:"column",gap:6,marginTop:6},promptRadioLabelStyle={display:"flex",alignItems:"center",gap:10,fontSize:12,color:"#0f172a"},promptRadioInputStyle={accentColor:"#2563eb"},promptTextareaStyle={...textAreaStyle,resize:"none",minHeight:112},paramsPreviewStyle={background:"#f8fafc",borderRadius:8,padding:"10px 12px",fontSize:12,color:"#1f2937",overflowX:"auto"},memoryMenuWrapperStyle={display:"flex",flexDirection:"column",gap:16,flex:1},memoryMenuListStyle={display:"flex",flexDirection:"column",gap:10},memoryMenuItemStyle={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",borderRadius:12,border:"1px solid #e2e8f0",background:"#f8fafc",color:"#0f172a",fontSize:13,fontWeight:600,cursor:"pointer",transition:"border-color 0.2s ease, background 0.2s ease"},memoryMenuItemChevronStyle={fontSize:16,color:"#94a3b8"},clearMemoryButtonStyle={alignSelf:"center",padding:"10px 18px",borderRadius:12,border:"1px solid #fca5a5",background:"#fee2e2",color:"#b91c1c",fontWeight:600,fontSize:13,cursor:"pointer",marginTop:"auto",transition:"background 0.2s ease, border-color 0.2s ease"};function normalizePromptParams(o){var g;const i=typeof(o==null?void 0:o.text)=="string"?o.text:typeof(o==null?void 0:o.template)=="string"?o.template:"";let s=typeof(o==null?void 0:o.preset)=="string"&&o.preset in PROMPT_PRESET_MAP?o.preset:void 0;if(!s){const _=inferPromptPresetFromText(i);s=_==null?void 0:_.id}const a=i.trim();s||(s=a.length===0?DEFAULT_PROMPT_PRESET_ID:"custom");let c=i;if(s!=="custom"){const _=((g=PROMPT_PRESET_MAP[s])==null?void 0:g.defaultText)??"";a.length===0?c=_:a!==_.trim()&&(s="custom")}s==="custom"&&(c=i);const d=(o==null?void 0:o.to)==="system"?"system":"user";return{text:c,preset:s,to:d}}function producePromptParams(o,i){const s=o&&typeof o=="object"?{...o}:{};return delete s.template,delete s.tone,s.text=i.text,s.preset=i.preset,s.to=i.to,s}const moduleHeadings={prompt:{title:"Prompt Settings",description:"Shape the instruction block sent to the connected model."},debate:{title:"Debate Loop",description:"Control how many passes collaborators take before resolving."},log:{title:"Log Capture",description:"Decide what the logger should keep from this stage."},cache:{title:"Cache Policy",description:"Reuse previous outputs or request fresh generations."},divider:{title:"Divider",description:"Label a branch point so canvases stay readable."},interface:{title:"Interface",description:"Configure the chat entry point into the flow."},memory:{title:"Memory",description:"Control how context is stored and recalled across runs."},tool:{title:"Tool Call",description:"Point the node at a callable tool with structured arguments."}};function updateParamValue(o,i,s){o(a=>{const c=a&&typeof a=="object"?{...a}:{};return c[i]=s,c})}function PromptOptions({params:o,onUpdate:i}){const s=React.useMemo(()=>normalizePromptParams(o),[o]),a=React.useRef(null),c=React.useRef(!1),d=React.useRef(null),g=React.useId();React.useLayoutEffect(()=>{if(!a.current)return;const $=a.current;if($.style.height="auto",$.style.height=`${Math.max($.scrollHeight,112)}px`,c.current){document.activeElement!==$&&$.focus({preventScroll:!0});const _e=d.current;if(_e){const et=Number.isFinite(_e.start)?_e.start:$.value.length,rt=Number.isFinite(_e.end)?_e.end:et;try{$.setSelectionRange(et,rt)}catch{}}c.current=!1,d.current=null}},[s.text]),React.useEffect(()=>{!o||!(typeof o.text!="string"||typeof o.preset!="string"||!(o.preset in PROMPT_PRESET_MAP)||o.template!==void 0||o.tone!==void 0)||i(_e=>producePromptParams(_e,s))},[o,s.text,s.preset,s.to,i]);const _=$=>{const _e=$ in PROMPT_PRESET_MAP?$:DEFAULT_PROMPT_PRESET_ID,et=PROMPT_PRESET_MAP[_e],rt=_e==="custom"?s.text:(et==null?void 0:et.defaultText)??s.text;i(ot=>producePromptParams(ot,{text:rt,preset:_e,to:s.to}))},b=$=>{i(_e=>producePromptParams(_e,{text:s.text,preset:s.preset,to:$}))},j=$=>{var tt;const{value:_e,selectionStart:et,selectionEnd:rt}=$.target;if(document.activeElement===$.target){c.current=!0;const nt=typeof et=="number"&&Number.isFinite(et)?et:_e.length,it=typeof rt=="number"&&Number.isFinite(rt)?rt:nt;d.current={start:nt,end:it}}else c.current=!1,d.current=null;let ot=s.preset in PROMPT_PRESET_MAP?s.preset:DEFAULT_PROMPT_PRESET_ID;const st=_e.trim(),ft=ot!=="custom"?((tt=PROMPT_PRESET_MAP[ot])==null?void 0:tt.defaultText.trim())??"":"";if(ot!=="custom"&&st!==ft&&(ot="custom"),ot==="custom"){const nt=inferPromptPresetFromText(_e);nt&&st===nt.defaultText.trim()&&(ot=nt.id)}i(nt=>producePromptParams(nt,{text:_e,preset:ot,to:s.to}))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Prompt Preset"}),jsxRuntimeExports.jsx("div",{style:promptPresetListStyle,children:PROMPT_PRESETS.map($=>{const _e=s.preset===$.id;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>_($.id),"aria-pressed":_e,style:{...promptPresetButtonStyle,..._e?promptPresetButtonActiveStyle:{}},children:[jsxRuntimeExports.jsx("span",{style:promptPresetLabelStyle,children:$.label}),jsxRuntimeExports.jsx("span",{style:promptPresetDescriptionStyle,children:$.description})]},$.id)})})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Placement"}),jsxRuntimeExports.jsxs("div",{style:promptRadioGroupStyle,children:[jsxRuntimeExports.jsxs("label",{style:promptRadioLabelStyle,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:g,value:"user",checked:s.to==="user",onChange:()=>b("user"),style:promptRadioInputStyle}),"Inject as user message"]}),jsxRuntimeExports.jsxs("label",{style:promptRadioLabelStyle,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:g,value:"system",checked:s.to==="system",onChange:()=>b("system"),style:promptRadioInputStyle}),"Inject into system prompt"]})]})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Prompt Text"}),jsxRuntimeExports.jsx("textarea",{ref:a,style:promptTextareaStyle,value:s.text,onChange:j,placeholder:"Describe the instructions to inject before the LLM runs"}),jsxRuntimeExports.jsx("span",{style:helperStyle,children:"The textarea expands automatically as you type."})]})]})}function renderDebateOptions(o,i){const s=typeof(o==null?void 0:o.mode)=="string"?o.mode:"single-pass",a=typeof(o==null?void 0:o.rounds)=="number"&&Number.isFinite(o.rounds)?Math.max(1,Math.floor(o.rounds)):2;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Mode"}),jsxRuntimeExports.jsxs("select",{style:inputStyle$1,value:s,onChange:c=>updateParamValue(i,"mode",c.target.value),children:[jsxRuntimeExports.jsx("option",{value:"single-pass",children:"Single Pass"}),jsxRuntimeExports.jsx("option",{value:"multi-round",children:"Multi-round"}),jsxRuntimeExports.jsx("option",{value:"round-robin",children:"Round Robin"})]})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Rounds"}),jsxRuntimeExports.jsx("input",{style:inputStyle$1,type:"number",min:1,value:a,onChange:c=>{const d=Number.parseInt(c.target.value,10),g=Number.isFinite(d)?Math.max(1,d):1;updateParamValue(i,"rounds",g)}}),jsxRuntimeExports.jsx("span",{style:helperStyle,children:"Higher counts give the loop more chances to refine an answer."})]})]})}function renderCacheOptions(o,i){const s=typeof(o==null?void 0:o.strategy)=="string"?o.strategy:"reuse",a=typeof(o==null?void 0:o.ttl)=="number"&&Number.isFinite(o.ttl)?Math.max(0,Math.floor(o.ttl)):1800;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Strategy"}),jsxRuntimeExports.jsxs("select",{style:inputStyle$1,value:s,onChange:c=>updateParamValue(i,"strategy",c.target.value),children:[jsxRuntimeExports.jsx("option",{value:"reuse",children:"Prefer Cached Value"}),jsxRuntimeExports.jsx("option",{value:"refresh",children:"Always Refresh"}),jsxRuntimeExports.jsx("option",{value:"conditional",children:"Refresh When Stale"})]})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Time To Live (seconds)"}),jsxRuntimeExports.jsx("input",{style:inputStyle$1,type:"number",min:0,value:a,onChange:c=>{const d=Number.parseInt(c.target.value,10),g=Number.isFinite(d)?Math.max(0,d):0;updateParamValue(i,"ttl",g)}})]})]})}function MemoryOptions({params:o,onUpdate:i,onOpenSubMenu:s}){const a=React.useCallback(()=>{i(c=>{const d=c&&typeof c=="object"?{...c}:{},g=typeof d.clearMemoryCounter=="number"&&Number.isFinite(d.clearMemoryCounter)?d.clearMemoryCounter:0;return d.clearMemoryCounter=g+1,d.lastClearedAt=new Date().toISOString(),d})},[i]);return jsxRuntimeExports.jsxs("div",{style:memoryMenuWrapperStyle,children:[jsxRuntimeExports.jsx("div",{style:memoryMenuListStyle,children:MEMORY_SUB_MENUS.map(c=>jsxRuntimeExports.jsxs("button",{type:"button",style:memoryMenuItemStyle,onClick:()=>s==null?void 0:s(c.key),children:[jsxRuntimeExports.jsx("span",{children:c.label}),jsxRuntimeExports.jsx("span",{style:memoryMenuItemChevronStyle,"aria-hidden":"true",children:"›"})]},c.key))}),jsxRuntimeExports.jsx("button",{type:"button",style:clearMemoryButtonStyle,onClick:a,children:"Clear LLM Memory"})]})}function renderDividerOptions(o,i){const s=typeof(o==null?void 0:o.label)=="string"?o.label:"Checkpoint",a=typeof(o==null?void 0:o.defaultPath)=="string"?o.defaultPath:"A";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Label"}),jsxRuntimeExports.jsx("input",{style:inputStyle$1,value:s,onChange:c=>updateParamValue(i,"label",c.target.value)})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Default Path"}),jsxRuntimeExports.jsxs("select",{style:inputStyle$1,value:a,onChange:c=>updateParamValue(i,"defaultPath",c.target.value),children:[jsxRuntimeExports.jsx("option",{value:"A",children:"Path A"}),jsxRuntimeExports.jsx("option",{value:"B",children:"Path B"}),jsxRuntimeExports.jsx("option",{value:"auto",children:"Auto-select"})]})]})]})}function renderToolOptions(o,i){const s=typeof(o==null?void 0:o.toolName)=="string"?o.toolName:"calculator",a=typeof(o==null?void 0:o.arguments)=="string"?o.arguments:"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Tool Identifier"}),jsxRuntimeExports.jsx("input",{style:inputStyle$1,value:s,onChange:c=>updateParamValue(i,"toolName",c.target.value.trim()),placeholder:"calculator"}),jsxRuntimeExports.jsx("span",{style:helperStyle,children:"Must match a tool published in the workspace adapters."})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Arguments (JSON)"}),jsxRuntimeExports.jsx("textarea",{style:textAreaStyle,value:a,onChange:c=>updateParamValue(i,"arguments",c.target.value),placeholder:'{"query":"2+2"}'})]})]})}function renderLogOptions(o,i){const s=typeof(o==null?void 0:o.level)=="string"?o.level:"info",a=typeof(o==null?void 0:o.notes)=="string"?o.notes:"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Level"}),jsxRuntimeExports.jsxs("select",{style:inputStyle$1,value:s,onChange:c=>updateParamValue(i,"level",c.target.value),children:[jsxRuntimeExports.jsx("option",{value:"debug",children:"Debug"}),jsxRuntimeExports.jsx("option",{value:"info",children:"Info"}),jsxRuntimeExports.jsx("option",{value:"warn",children:"Warn"})]})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Notes"}),jsxRuntimeExports.jsx("textarea",{style:textAreaStyle,value:a,onChange:c=>updateParamValue(i,"notes",c.target.value),placeholder:"Describe what should be logged from this node"})]})]})}function renderInterfaceOptions(o,i){const s=typeof(o==null?void 0:o.title)=="string"?o.title:"Chat",a=typeof(o==null?void 0:o.placeholder)=="string"?o.placeholder:"Ask the team anything";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Window Title"}),jsxRuntimeExports.jsx("input",{style:inputStyle$1,value:s,onChange:c=>updateParamValue(i,"title",c.target.value)})]}),jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Input Placeholder"}),jsxRuntimeExports.jsx("input",{style:inputStyle$1,value:a,onChange:c=>updateParamValue(i,"placeholder",c.target.value)})]})]})}function renderModuleOptions(o,i,s,a){switch(o){case"prompt":return jsxRuntimeExports.jsx(PromptOptions,{params:i,onUpdate:s});case"debate":return renderDebateOptions(i,s);case"cache":return renderCacheOptions(i,s);case"memory":return jsxRuntimeExports.jsx(MemoryOptions,{params:i,onUpdate:s,onOpenSubMenu:a==null?void 0:a.onOpenMemorySubMenu});case"divider":return renderDividerOptions(i,s);case"tool":return renderToolOptions(i,s);case"log":return renderLogOptions(i,s);case"interface":return renderInterfaceOptions(i,s);default:return jsxRuntimeExports.jsx("div",{style:helperStyle,children:"No editable settings are available yet."})}}function ModuleOptionsContent({module:o,params:i,onUpdate:s,onOpenMemorySubMenu:a}){const c=moduleHeadings[o],d=o!=="memory";return jsxRuntimeExports.jsxs("div",{style:containerStyle$3,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{style:headingStyle,children:c.title}),jsxRuntimeExports.jsx("p",{style:descriptionStyle,children:c.description})]}),renderModuleOptions(o,i,s,{onOpenMemorySubMenu:a}),d?jsxRuntimeExports.jsxs("div",{style:fieldStyle,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Raw Parameters"}),jsxRuntimeExports.jsx("pre",{style:paramsPreviewStyle,children:JSON.stringify(i??{},null,2)})]}):null]})}const EDIT_MENU_ITEMS=["Cut","Copy","Paste","Reverse Inputs","Delete"],EDIT_MENU_WIDTH=176,EDIT_MENU_HEIGHT=232,EDIT_MENU_DATA_ATTRIBUTE="data-voide-edit-menu",baseStyle={position:"fixed",minWidth:EDIT_MENU_WIDTH,background:"#fff1f2",border:"1px solid rgba(244, 63, 94, 0.38)",borderRadius:12,boxShadow:"0 18px 36px rgba(190, 18, 60, 0.28)",padding:6,display:"flex",flexDirection:"column",gap:2,zIndex:160,pointerEvents:"auto"},itemStyle={padding:"8px 12px",borderRadius:8,border:"none",background:"transparent",color:"#7f1d1d",fontWeight:600,fontSize:13,textAlign:"left",cursor:"pointer"},disabledItemStyle={...itemStyle,color:"rgba(127, 29, 29, 0.4)",cursor:"not-allowed"};function EditMenu({position:o,items:i}){return jsxRuntimeExports.jsx("div",{[EDIT_MENU_DATA_ATTRIBUTE]:"",style:{...baseStyle,left:o.left,top:o.top},children:i.map(s=>jsxRuntimeExports.jsx("button",{type:"button",disabled:s.disabled,style:s.disabled?disabledItemStyle:itemStyle,onMouseDown:a=>a.stopPropagation(),onClick:a=>{a.stopPropagation(),!s.disabled&&s.onSelect()},onMouseEnter:a=>{s.disabled||(a.currentTarget.style.background="rgba(248, 113, 113, 0.18)")},onMouseLeave:a=>{a.currentTarget.style.background="transparent"},children:s.label},s.label))})}const DEFAULT_WINDOW_SIZE={width:420,height:520},DEFAULT_GEOMETRY={position:{x:0,y:0}},FLOW_INACTIVE_NOTICE="Flow is paused. Start the run to accept new input.",pendingResponseTimers=new Map,createId=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`chat-${Date.now().toString(36)}-${Math.random().toString(16).slice(2)}`,cloneGeometry=o=>({position:{x:(o==null?void 0:o.position.x)??DEFAULT_GEOMETRY.position.x,y:(o==null?void 0:o.position.y)??DEFAULT_GEOMETRY.position.y},size:{width:(o==null?void 0:o.size.width)??DEFAULT_WINDOW_SIZE.width,height:(o==null?void 0:o.size.height)??DEFAULT_WINDOW_SIZE.height}}),createAttachmentFromFile=o=>({id:createId(),name:o.name||"attachment",size:o.size,type:o.type||"application/octet-stream",file:o}),toMessageAttachment=o=>({id:o.id,name:o.name,size:o.size,type:o.type,url:o.url??(typeof URL<"u"?URL.createObjectURL(o.file):void 0)}),ensureThreadState=(o,i,s,a)=>{const c=o[i];return c?{...c,nodeLabel:c.nodeLabel||s,geometry:a?cloneGeometry(a):c.geometry}:{nodeId:i,nodeLabel:s,messages:[],draft:"",draftAttachments:[],geometry:cloneGeometry(a),scrollTop:0,stickToBottom:!0,open:!1,streamingMessageId:null,notice:null}},buildAssistantReply=(o,i)=>o.trim().length===0&&i.length>0?"I've received the files you attached. I'll review them and respond soon.":o.trim().length===0?"I'm ready whenever you are. Send a prompt from the canvas Play control.":`I see: "${o.trim().slice(0,280)}${o.trim().length>280?"…":""}"
I'll run that through the flow and let you know what I find.`,useChatStore=create$2((o,i)=>({threads:{},activeNodeId:null,flowAcceptsInput:!0,openChat:({nodeId:s,nodeLabel:a,geometry:c})=>{o(d=>{const g=ensureThreadState(d.threads,s,a,c);return{threads:{...d.threads,[s]:{...g,open:!0}},activeNodeId:s}})},closeChat:s=>{o(a=>{const c=s??a.activeNodeId;if(!c)return a;const d=a.threads[c];if(!d)return a;const g={...d,open:!1};return{threads:{...a.threads,[c]:g},activeNodeId:a.activeNodeId===c?null:a.activeNodeId}})},setDraft:(s,a)=>{o(c=>{const d=c.threads[s];return d?{threads:{...c.threads,[s]:{...d,draft:a}}}:c})},addDraftAttachments:(s,a)=>{!a||a.length===0||o(c=>{const d=c.threads[s];if(!d)return c;const g=a.map(createAttachmentFromFile);return{threads:{...c.threads,[s]:{...d,draftAttachments:[...d.draftAttachments,...g]}}}})},removeDraftAttachment:(s,a)=>{o(c=>{const d=c.threads[s];return d?{threads:{...c.threads,[s]:{...d,draftAttachments:d.draftAttachments.filter(g=>g.id!==a)}}}:c})},clearDraft:s=>{o(a=>{const c=a.threads[s];return c?{threads:{...a.threads,[s]:{...c,draft:"",draftAttachments:[]}}}:a})},setScrollState:(s,a,c)=>{o(d=>{const g=d.threads[s];return!g||g.scrollTop===a&&g.stickToBottom===c?d:{threads:{...d.threads,[s]:{...g,scrollTop:a,stickToBottom:c}}}})},updateGeometry:(s,a)=>{o(c=>{const d=c.threads[s];if(!d)return c;const g=c.threads[s].geometry,_=clampGeometry(a,{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER});return g.position.x===_.position.x&&g.position.y===_.position.y&&g.size.width===_.size.width&&g.size.height===_.size.height?c:{threads:{...c.threads,[s]:{...d,geometry:_}}}})},sendDraft:s=>{const c=i().threads[s];if(!c)return!1;const d=c.draft??"",g=d.trim().length>0,_=c.draftAttachments.length>0;if(!g&&!_)return!1;const b=Date.now(),j=c.draftAttachments.map(toMessageAttachment),$={id:createId(),role:"user",content:d,createdAt:b,attachments:j},_e={id:createId(),role:"assistant",content:"",createdAt:Date.now(),attachments:[],streaming:!0};o({flowAcceptsInput:!1}),o(ot=>{const st=ot.threads[s];if(!st)return ot;const ft={...st,messages:[...st.messages,$,_e],draft:"",draftAttachments:[],stickToBottom:!0,streamingMessageId:_e.id,notice:null};return{threads:{...ot.threads,[s]:ft}}});const et=`${s}:${_e.id}`;if(pendingResponseTimers.has(et)){const ot=pendingResponseTimers.get(et);typeof ot=="number"&&window.clearTimeout(ot)}const rt=window.setTimeout(()=>{const ot=buildAssistantReply(d,j);i().completeStreaming(s,_e.id,ot)},1200);return pendingResponseTimers.set(et,rt),!0},sendActiveDraft:()=>{const s=i();return s.activeNodeId?s.sendDraft(s.activeNodeId):!1},appendAssistantResponse:(s,a,c=[])=>{o(d=>{const g=d.threads[s];if(!g)return d;const _=g.messages.filter(j=>j.id!==g.streamingMessageId),b={id:createId(),role:"assistant",content:a,createdAt:Date.now(),attachments:c};return{threads:{...d.threads,[s]:{...g,messages:[..._,b],streamingMessageId:null}}}}),o({flowAcceptsInput:!0})},completeStreaming:(s,a,c)=>{o(d=>{const g=d.threads[s];if(!g)return d;const _=g.messages.map($=>$.id===a?{...$,content:c,streaming:!1,createdAt:Date.now()}:$),b=`${s}:${a}`,j=pendingResponseTimers.get(b);return typeof j=="number"&&(window.clearTimeout(j),pendingResponseTimers.delete(b)),{threads:{...d.threads,[s]:{...g,messages:_,streamingMessageId:g.streamingMessageId===a?null:g.streamingMessageId}}}}),o({flowAcceptsInput:!0})},getThread:s=>i().threads[s],hasOpenChat:()=>{const s=i();return Object.values(s.threads).some(a=>a.open)},setFlowAcceptsInput:s=>{o(a=>a.flowAcceptsInput===s?a:{flowAcceptsInput:s})}})),DEFAULT_CHAT_WINDOW_SIZE=DEFAULT_WINDOW_SIZE,CHAT_FLOW_INACTIVE_NOTICE=FLOW_INACTIVE_NOTICE,NODE_ORIENTATION_PARAM_KEY="__ioOrientation",readNodeOrientation=o=>!o||typeof o!="object"?"default":o[NODE_ORIENTATION_PARAM_KEY]==="reversed"?"reversed":"default",toggleNodeOrientationParams=o=>{const i=o&&typeof o=="object"?{...o}:{};return readNodeOrientation(i)==="reversed"?(delete i[NODE_ORIENTATION_PARAM_KEY],i):{...i,[NODE_ORIENTATION_PARAM_KEY]:"reversed"}},containerStyle$2={width:156,minHeight:82,padding:"16px 20px",borderRadius:16,border:"2px solid #1f2937",background:"#ffffff",color:"#111827",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",position:"relative",boxShadow:"0 4px 8px rgba(15, 23, 42, 0.08)"},handleStyle$1={width:12,height:12,borderRadius:"50%",background:"#1f2937",border:"2px solid #ffffff"},portLabelBaseStyle={position:"absolute",fontSize:10,fontWeight:600,letterSpacing:.5,color:"#6b7280",pointerEvents:"none",transform:"translateY(-50%)"},computeOffset$1=(o,i)=>`${(o+1)/(i+1)*100}%`,moduleDefaultSizes={prompt:{width:360,height:320},debate:{width:380,height:360},log:{width:380,height:360},cache:{width:320,height:280},divider:{width:320,height:260},interface:{width:340,height:300},memory:{width:340,height:300},tool:{width:320,height:280}},fallbackSize={width:320,height:260},getDefaultSize=o=>(o?moduleDefaultSizes[o]:fallbackSize)??fallbackSize,POSITION_KEY$2="__position",EDIT_MENU_SELECTOR$2=`[${EDIT_MENU_DATA_ATTRIBUTE}]`,clamp$1=(o,i,s)=>Math.min(s,Math.max(i,o)),deriveModuleCategory=o=>{var g;const i=(o.name??"").toLowerCase(),s=(o.id??"").toLowerCase(),c=(typeof((g=o.params)==null?void 0:g.moduleKey)=="string"?o.params.moduleKey:"").toLowerCase(),d=`${i} ${s} ${c}`;return c==="tool"||c==="toolcall"||c==="tool-call"?"tool":d.includes("prompt")?"prompt":d.includes("debate")||d.includes("loop")?"debate":d.includes("log")?"log":d.includes("cache")||d.includes("memo")?"cache":d.includes("memory")||d.includes("recall")||d.includes("attach")?"memory":d.includes("divert")||d.includes("divider")||d.includes("switch")?"divider":d.includes("tool call")||d.includes("tool-call")||d.includes("tool:")||d.includes("toolcall")||d.includes("tool ")||d.endsWith("tool")?"tool":d.includes("ui")||d.includes("interface")?"interface":null},createMemorySubWindowMap=o=>{const i={width:Math.max(1,Math.round(o.width/2)),height:Math.max(1,Math.round(o.height/2))},s={};for(const a of MEMORY_SUB_MENUS)s[a.key]={open:!1,minimized:!1,geometry:{position:{x:0,y:0},size:{...i}}};return s};function BasicNode({data:o}){const i=o.in??[],s=o.out??[],{overlayRef:a}=useCanvasBoundary(),c=reactExports.useMemo(()=>readNodeOrientation(o.params),[o.params]),d=c==="reversed"?Position.Right:Position.Left,g=c==="reversed"?Position.Left:Position.Right,_=reactExports.useMemo(()=>deriveModuleCategory(o),[o]),b=reactExports.useMemo(()=>getDefaultSize(_),[_]),[j,$]=reactExports.useState(()=>({open:!1,minimized:!1,geometry:{position:{x:0,y:0},size:{...b}}})),[_e,et]=reactExports.useState(()=>createMemorySubWindowMap(b)),rt=j.geometry,ot=rt.position,st=rt.size,ft=reactExports.useMemo(()=>({width:Math.max(1,Math.round(st.width/2)),height:Math.max(1,Math.round(st.height/2))}),[st.height,st.width]),[tt,nt]=reactExports.useState(null),it=useChatStore(Nt=>Nt.openChat),at=useChatStore(Nt=>Nt.getThread),{updateNodeParams:pt,copyNode:yt,cutNode:dt,deleteNode:vt,pasteClipboard:wt,clipboard:St}=useFlowStore(Nt=>({updateNodeParams:Nt.updateNodeParams,copyNode:Nt.copyNode,cutNode:Nt.cutNode,deleteNode:Nt.deleteNode,pasteClipboard:Nt.pasteClipboard,clipboard:Nt.clipboard})),Tt=reactExports.useCallback(Nt=>{var Dt;const jt=(Dt=a.current)==null?void 0:Dt.getBoundingClientRect();return jt?clampGeometry(Nt,{width:jt.width,height:jt.height}):Nt},[a]);reactExports.useEffect(()=>{et(createMemorySubWindowMap(b))},[b]),reactExports.useEffect(()=>{_!=="memory"||j.open||et(Nt=>{let jt=!1;const Dt={...Nt};for(const zt of MEMORY_SUB_MENUS){const Ft=Dt[zt.key];Ft&&(Ft.open||Ft.minimized)&&(Dt[zt.key]={...Ft,open:!1,minimized:!1},jt=!0)}return jt?Dt:Nt})},[j.open,_]);const bt=reactExports.useCallback(Nt=>jt=>{et(Dt=>{const zt=Dt[Nt];if(!zt)return Dt;const Ft=Tt(jt),{position:Bt,size:Ht}=zt.geometry;return Bt.x===Ft.position.x&&Bt.y===Ft.position.y&&Ht.width===Ft.size.width&&Ht.height===Ft.size.height?Dt:{...Dt,[Nt]:{...zt,geometry:Ft}}})},[Tt]),kt=reactExports.useCallback(Nt=>()=>{et(jt=>{const Dt=jt[Nt];return!Dt||!Dt.open&&!Dt.minimized?jt:{...jt,[Nt]:{...Dt,open:!1,minimized:!1}}})},[]),lt=reactExports.useCallback(Nt=>()=>{et(jt=>{const Dt=jt[Nt];return Dt?{...jt,[Nt]:{...Dt,minimized:!Dt.minimized}}:jt})},[]),xt=reactExports.useCallback(Nt=>{_==="memory"&&et(jt=>{const Dt={...ft},zt=MEMORY_SUB_MENUS.findIndex(Ut=>Ut.key===Nt),Ft=Tt({position:{x:ot.x+st.width+16,y:ot.y+Math.max(0,zt)*24},size:Dt}),Bt=jt[Nt],Ht=Bt&&Bt.open?Bt.geometry:Ft;return{...jt,[Nt]:{open:!0,minimized:!1,geometry:Ht}}})},[Tt,ft,ot.x,ot.y,st.width,_]),gt=reactExports.useCallback(Nt=>{const{clientX:jt,clientY:Dt,anchorRect:zt}=Nt??{};nt(null),$(Ft=>{var ln;const Bt=(ln=a.current)==null?void 0:ln.getBoundingClientRect();if(!Bt)return{...Ft,open:!0,minimized:!1};const{width:Ht,height:Ut}=Ft.geometry.size;let $t=Ft.geometry.position.x,qt=Ft.geometry.position.y;if(zt){const Jt=zt.left-Bt.left,Xt=zt.top-Bt.top,nn=Jt+zt.width/2,en=Xt+zt.height/2;$t=nn-Ht/2,qt=en-Ut/2}else if(typeof jt=="number"&&typeof Dt=="number"){const Jt=jt-Bt.left,Xt=Dt-Bt.top;$t=Jt-Ht/2,qt=Xt-Ut/2}const on={position:{x:$t,y:qt},size:Ft.geometry.size},tn=clampGeometry(on,{width:Bt.width,height:Bt.height});return{...Ft,open:!0,minimized:!1,geometry:tn}})},[a]),_t=reactExports.useCallback(Nt=>{var on;Nt.preventDefault(),Nt.stopPropagation(),$(tn=>({...tn,open:!1,minimized:!1}));const jt=(on=a.current)==null?void 0:on.getBoundingClientRect();if(!jt){nt({left:Nt.clientX-EDIT_MENU_WIDTH/2,top:Nt.clientY-EDIT_MENU_HEIGHT/2,pointer:null});return}const Dt=Math.max(CONTEXT_WINDOW_PADDING,jt.width-EDIT_MENU_WIDTH-CONTEXT_WINDOW_PADDING),zt=Math.max(CONTEXT_WINDOW_PADDING,jt.height-EDIT_MENU_HEIGHT-CONTEXT_WINDOW_PADDING),Ft=clamp$1(Nt.clientX-jt.left,CONTEXT_WINDOW_PADDING,Dt),Bt=clamp$1(Nt.clientY-jt.top,CONTEXT_WINDOW_PADDING,zt),Ht=Ft-EDIT_MENU_WIDTH/2,Ut=Bt-EDIT_MENU_HEIGHT/2,$t=clamp$1(Ht,CONTEXT_WINDOW_PADDING,Dt),qt=clamp$1(Ut,CONTEXT_WINDOW_PADDING,zt);nt({left:jt.left+$t,top:jt.top+qt,pointer:{x:Ft,y:Bt}})},[a]),ct=reactExports.useCallback(Nt=>{var Dt;if(Nt.button!==0)return;const jt=Nt.target;(Dt=jt==null?void 0:jt.closest)!=null&&Dt.call(jt,".react-flow__handle")||(Nt.stopPropagation(),gt({clientX:Nt.clientX,clientY:Nt.clientY,anchorRect:Nt.currentTarget.getBoundingClientRect()}))},[gt]),ut=reactExports.useCallback(()=>$(Nt=>({...Nt,open:!1})),[]),mt=reactExports.useCallback(()=>$(Nt=>({...Nt,minimized:!Nt.minimized})),[]),Et=reactExports.useCallback(Nt=>{$(jt=>({...jt,geometry:Tt(Nt)}))},[Tt]),ht=reactExports.useCallback(Nt=>{pt(o.id,Nt)},[o.id,pt]),It=(St==null?void 0:St.kind)==="node",Rt=i.length>0||s.length>0,Mt=reactExports.useCallback(Nt=>{const jt=(tt==null?void 0:tt.pointer)??null;switch(nt(null),Nt){case"Copy":yt(o.id);break;case"Cut":dt(o.id);break;case"Delete":vt(o.id);break;case"Paste":{if(!It)break;const Dt=wt("node");Dt&&!("from"in Dt)&&jt&&pt(Dt.id,zt=>({...zt&&typeof zt=="object"?zt:{},[POSITION_KEY$2]:{x:jt.x,y:jt.y}}));break}case"Reverse Inputs":{pt(o.id,Dt=>toggleNodeOrientationParams(Dt));break}}},[It,yt,dt,o.id,vt,tt,wt,pt]),At=reactExports.useMemo(()=>EDIT_MENU_ITEMS.map(Nt=>({label:Nt,disabled:Nt==="Paste"?!It:Nt==="Reverse Inputs"?!Rt:!1,onSelect:()=>Mt(Nt)})),[It,Rt,Mt]);reactExports.useEffect(()=>{if(!tt)return;const Nt=Dt=>{var Ft;const zt=Dt.target;(Ft=zt==null?void 0:zt.closest)!=null&&Ft.call(zt,EDIT_MENU_SELECTOR$2)||nt(null)},jt=Dt=>{Dt.key==="Escape"&&nt(null)};return window.addEventListener("mousedown",Nt),window.addEventListener("contextmenu",Nt),window.addEventListener("keydown",jt),()=>{window.removeEventListener("mousedown",Nt),window.removeEventListener("contextmenu",Nt),window.removeEventListener("keydown",jt)}},[tt]);const Lt=!!_,Zt=_==="interface",Wt=reactExports.useCallback(Nt=>{var jt,Dt;if(Zt){Nt.stopPropagation();const zt=(jt=a.current)==null?void 0:jt.getBoundingClientRect(),Ft=Nt.currentTarget.getBoundingClientRect(),Bt=at(o.id),Ht=((Dt=Bt==null?void 0:Bt.geometry)==null?void 0:Dt.size)??{...DEFAULT_CHAT_WINDOW_SIZE};let Ut=(Bt==null?void 0:Bt.geometry)??{position:{x:0,y:0},size:{...Ht}};if(zt){const $t=Ft.left-zt.left,qt=Ft.right-zt.left,tn=Ft.top-zt.top+Ft.height/2,ln=20,Jt=zt.width,Xt=zt.height;let nn=qt+ln;nn+Ht.width>Jt&&(nn=$t-ln-Ht.width),nn<0&&(nn=Math.max(0,Math.min($t,Jt-Ht.width)));let en=tn-Ht.height/2;en+Ht.height>Xt&&(en=Xt-Ht.height),en<0&&(en=0),Ut=clampGeometry({position:{x:nn,y:en},size:Ht},{width:Jt,height:Xt})}it({nodeId:o.id,nodeLabel:o.name??o.id??"Interface",geometry:Ut});return}ct(Nt)},[o.id,o.name,Zt,at,ct,it,a]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:containerStyle$2,"data-voide-io-orientation":c,onClick:Lt?Wt:void 0,onContextMenu:Lt?_t:void 0,children:[i.map((Nt,jt)=>{const Dt=computeOffset$1(jt,i.length);return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(Handle$1,{type:"target",position:d,id:`${o.id}:${Nt.port}`,style:{...handleStyle$1,top:Dt}}),jsxRuntimeExports.jsx("span",{style:{...portLabelBaseStyle,top:Dt,left:d===Position.Left?20:void 0,right:d===Position.Right?20:void 0},children:"IN"})]},Nt.port)}),jsxRuntimeExports.jsx("span",{children:o.name}),s.map((Nt,jt)=>{const Dt=computeOffset$1(jt,s.length);return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(Handle$1,{type:"source",position:g,id:`${o.id}:${Nt.port}`,style:{...handleStyle$1,top:Dt}}),jsxRuntimeExports.jsx("span",{style:{...portLabelBaseStyle,top:Dt,left:g===Position.Left?20:void 0,right:g===Position.Right?20:void 0},children:"OUT"})]},Nt.port)})]}),Lt?jsxRuntimeExports.jsx(ContextWindow,{title:`${o.name} Options`,open:j.open,position:j.geometry.position,size:j.geometry.size,minimized:j.minimized,onRequestClose:ut,onToggleMinimize:mt,onUpdate:Et,children:jsxRuntimeExports.jsx(ModuleOptionsContent,{module:_,params:o.params,onUpdate:ht,onOpenMemorySubMenu:_==="memory"?xt:void 0})}):null,_==="memory"?MEMORY_SUB_MENUS.map(Nt=>{const jt=_e[Nt.key];return jt?jsxRuntimeExports.jsx(ContextWindow,{title:`${o.name} • ${Nt.label}`,open:jt.open,position:jt.geometry.position,size:jt.geometry.size,minimized:jt.minimized,onRequestClose:kt(Nt.key),onToggleMinimize:lt(Nt.key),onUpdate:bt(Nt.key),minSize:ft,children:jsxRuntimeExports.jsx("div",{})},`${o.id}-${Nt.key}`):null}):null,tt?jsxRuntimeExports.jsx(EditMenu,{position:{left:tt.left,top:tt.top},items:At}):null]})}const models=[{order:"a",md5sum:"a54c08a7b90e4029a8c2ab5b5dc936aa",name:"Reasoner v1",filename:"qwen2.5-coder-7b-instruct-q4_0.gguf",filesize:"4431390720",requires:"3.6.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Based on <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct">Qwen2.5-Coder 7B</a></li><li>Uses built-in javascript code interpreter</li><li>Use for complex reasoning tasks that can be aided by computation analysis</li><li>License: <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct/blob/main/LICENSE">Apache License Version 2.0</a></li><li>#reasoning</li></ul>',url:"https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct-GGUF/resolve/main/qwen2.5-coder-7b-instruct-q4_0.gguf",chatTemplate:`{{- '<|im_start|>system\\n' }}
{% if toolList|length > 0 %}You have access to the following functions:
{% for tool in toolList %}
Use the function '{{tool.function}}' to: '{{tool.description}}'
{% if tool.parameters|length > 0 %}
parameters:
{% for info in tool.parameters %}
  {{info.name}}:
    type: {{info.type}}
    description: {{info.description}}
    required: {{info.required}}
{% endfor %}
{% endif %}
# Tool Instructions
If you CHOOSE to call this function ONLY reply with the following format:
'{{tool.symbolicFormat}}'
Here is an example. If the user says, '{{tool.examplePrompt}}', then you reply
'{{tool.exampleCall}}'
After the result you might reply with, '{{tool.exampleReply}}'
{% endfor %}
You MUST include both the start and end tags when you use a function.

You are a helpful AI assistant who uses the functions to break down, analyze, perform, and verify complex reasoning tasks. You SHOULD try to verify your answers using the functions where possible.
{% endif %}
{{- '<|im_end|>\\n' }}
{% for message in messages %}
{{'<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{% endfor %}
{% if add_generation_prompt %}
{{ '<|im_start|>assistant\\n' }}
{% endif %}
`,systemPrompt:""},{order:"aa",md5sum:"c87ad09e1e4c8f9c35a5fcef52b6f1c9",name:"Llama 3 8B Instruct",filename:"Meta-Llama-3-8B-Instruct.Q4_0.gguf",filesize:"4661724384",requires:"2.7.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in Llama 3 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3/license/">Meta Llama 3 Community License</a></li></ul>',url:"https://gpt4all.io/models/gguf/Meta-Llama-3-8B-Instruct.Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2<|eot_id|>`,systemPrompt:"",chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {{- content }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"aa1",sha256sum:"5cd4ee65211770f1d99b4f6f4951780b9ef40e29314bd6542bb5bd0ad0bc29d1",name:"DeepSeek-R1-Distill-Qwen-7B",filename:"DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",filesize:"4444121056",requires:"3.8.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-7B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-7B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa2",sha256sum:"906b3382f2680f4ce845459b4a122e904002b075238080307586bcffcde49eef",name:"DeepSeek-R1-Distill-Qwen-14B",filename:"DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",filesize:"8544267680",requires:"3.8.0",ramrequired:"16",parameters:"14 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-14B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-14B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa3",sha256sum:"0eb93e436ac8beec18aceb958c120d282cb2cf5451b23185e7be268fe9d375cc",name:"DeepSeek-R1-Distill-Llama-8B",filename:"DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",filesize:"4675894112",requires:"3.8.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Llama-3.1-8B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Llama-8B-GGUF/resolve/main/DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa4",sha256sum:"b3af887d0a015b39fab2395e4faf682c1a81a6a3fd09a43f0d4292f7d94bf4d0",name:"DeepSeek-R1-Distill-Qwen-1.5B",filename:"DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",filesize:"1068807776",requires:"3.8.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-1.5B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-1.5B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"b",md5sum:"27b44e8ae1817525164ddf4f8dae8af4",name:"Llama 3.2 3B Instruct",filename:"Llama-3.2-3B-Instruct-Q4_0.gguf",filesize:"1921909280",requires:"3.4.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"c",md5sum:"48ff0243978606fdba19d899b77802fc",name:"Llama 3.2 1B Instruct",filename:"Llama-3.2-1B-Instruct-Q4_0.gguf",filesize:"773025920",requires:"3.4.0",ramrequired:"2",parameters:"1 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"d",md5sum:"a5f6b4eabd3992da4d7fb7f020f921eb",name:"Nous Hermes 2 Mistral DPO",filename:"Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",filesize:"4108928000",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Good overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in ChatML format</li><li>Trained by Mistral AI<li>Finetuned by Nous Research on the OpenHermes-2.5 dataset<li>Licensed for commercial use</ul>",url:"https://huggingface.co/NousResearch/Nous-Hermes-2-Mistral-7B-DPO-GGUF/resolve/main/Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:"",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"e",md5sum:"97463be739b50525df56d33b26b00852",name:"Mistral Instruct",filename:"mistral-7b-instruct-v0.1.Q4_0.gguf",filesize:"4108916384",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",systemPrompt:"",description:"<strong>Strong overall fast instruction following model</strong><br><ul><li>Fast responses</li><li>Trained by Mistral AI<li>Uncensored</li><li>Licensed for commercial use</li></ul>",url:"https://gpt4all.io/models/gguf/mistral-7b-instruct-v0.1.Q4_0.gguf",promptTemplate:"[INST] %1 [/INST]",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if (message['role'] == 'user') != ((loop.index0 - loop_start) % 2 == 0) %}
            {{- raise_exception('After the optional system message, conversation roles must alternate user/assistant/user/assistant/...') }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {%- if loop.index0 == loop_start and loop_start == 1 %}
                {{- ' [INST] ' + system_message + '\\n\\n' + message['content'] + ' [/INST]' }}
            {%- else %}
                {{- ' [INST] ' + message['content'] + ' [/INST]' }}
            {%- endif %}
        {%- elif message['role'] == 'assistant' %}
            {{- ' ' + message['content'] + eos_token }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}`},{order:"f",md5sum:"8a9c75bcd8a66b7693f158ec96924eeb",name:"Llama 3.1 8B Instruct 128k",filename:"Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",filesize:"4661212096",requires:"3.1.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li><strong>For advanced users only. Not recommended for use on Windows or Linux without selecting CUDA due to speed issues.</strong></li><li>Fast responses</li><li>Chat based model</li><li>Large context size of 128k</li><li>Accepts agentic system prompts in Llama 3.1 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_1/license/">Meta Llama 3.1 Community License</a></li></ul>',url:"https://huggingface.co/GPT4All-Community/Meta-Llama-3.1-8B-Instruct-128k/resolve/main/Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {%- if loop.index0 == 0 %}
        {%- set content = bos_token + content %}
    {%- endif %}
    {{- content }}
{%- endfor %}
{{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}`},{order:"g",md5sum:"f692417a22405d80573ac10cb0cd6c6a",name:"Mistral OpenOrca",filename:"mistral-7b-openorca.gguf2.Q4_0.gguf",filesize:"4108928128",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:'<strong>Strong overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by Mistral AI<li>Finetuned on OpenOrca dataset curated via <a href="https://atlas.nomic.ai/">Nomic Atlas</a><li>Licensed for commercial use</ul>',url:"https://gpt4all.io/models/gguf/mistral-7b-openorca.gguf2.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
You are MistralOrca, a large language model trained by Alignment Lab AI.
<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"h",md5sum:"c4c78adf744d6a20f05c8751e3961b84",name:"GPT4All Falcon",filename:"gpt4all-falcon-newbpe-q4_0.gguf",filesize:"4210994112",requires:"2.6.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Falcon",systemPrompt:"",description:"<strong>Very fast model with good quality</strong><br><ul><li>Fastest responses</li><li>Instruction based</li><li>Trained by TII<li>Finetuned by Nomic AI<li>Licensed for commercial use</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-falcon-newbpe-q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User: ' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Assistant: ' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Assistant:' }}
{%- endif %}`},{order:"i",md5sum:"00c8593ba57f5240f59662367b3ed4a5",name:"Orca 2 (Medium)",filename:"orca-2-7b.Q4_0.gguf",filesize:"3825824192",requires:"2.5.2",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-7b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"j",md5sum:"3c0d63c4689b9af7baa82469a6f51a19",name:"Orca 2 (Full)",filename:"orca-2-13b.Q4_0.gguf",filesize:"7365856064",requires:"2.5.2",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-13b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"k",md5sum:"5aff90007499bce5c64b1c0760c0b186",name:"Wizard v1.2",filename:"wizardlm-13b-v1.2.Q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Strong overall larger model</strong><br><ul><li>Instruction based<li>Gives very long responses<li>Finetuned with only 1k of high-quality data<li>Trained by Microsoft and Peking University<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/wizardlm-13b-v1.2.Q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + ' ' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in loop_messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
        {%- if (loop.index0 - loop_start) % 2 == 0 %}
            {{- ' ' }}
        {%- else %}
            {{- eos_token }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"A chat between a curious user and an artificial intelligence assistant. The assistant gives helpful, detailed, and polite answers to the user's questions."},{order:"l",md5sum:"31b47b4e8c1816b62684ac3ca373f9e1",name:"Ghost 7B v0.9.1",filename:"ghost-7b-v0.9.1-Q4_0.gguf",filesize:"4108916960",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Ghost 7B v0.9.1</strong> fast, powerful and smooth for Vietnamese and English languages.",url:"https://huggingface.co/lamhieu/ghost-7b-v0.9.1-gguf/resolve/main/ghost-7b-v0.9.1-Q4_0.gguf",promptTemplate:`<|user|>
%1</s>
<|assistant|>
%2</s>
`,systemPrompt:`<|system|>
You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior.
</s>`,chatTemplate:`{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<|user|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'system' %}
        {{- '<|system|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'assistant' %}
        {{- '<|assistant|>\\n'  + message['content'] + eos_token }}
    {%- endif %}
    {%- if loop.last and add_generation_prompt %}
        {{- '<|assistant|>' }}
    {%- endif %}
{%- endfor %}`,systemMessage:"You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior."},{order:"m",md5sum:"3d12810391d04d1153b692626c0c6e16",name:"Hermes",filename:"nous-hermes-llama2-13b.Q4_0.gguf",filesize:"7366062080",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Extremely good model</strong><br><ul><li>Instruction based<li>Gives long responses<li>Curated with 300,000 uncensored instructions<li>Trained by Nous Research<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/nous-hermes-llama2-13b.Q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Instruction:\\n' }}
{%- endif %}`},{order:"n",md5sum:"40388eb2f8d16bb5d08c96fdfaac6b2c",name:"Snoozy",filename:"gpt4all-13b-snoozy-q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",description:"<strong>Very good overall model</strong><br><ul><li>Instruction based<li>Based on the same dataset as Groovy<li>Slower than Groovy, with higher quality responses<li>Trained by Nomic AI<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-13b-snoozy-q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`,systemMessage:"Below is an instruction that describes a task. Write a response that appropriately completes the request."},{order:"o",md5sum:"15dcb4d7ea6de322756449c11a0b7545",name:"MPT Chat",filename:"mpt-7b-chat-newbpe-q4_0.gguf",filesize:"3912373472",requires:"2.7.1",removedIn:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat-newbpe-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"p",md5sum:"ab5d8e8a2f79365ea803c1f1d0aa749d",name:"MPT Chat",filename:"mpt-7b-chat.gguf4.Q4_0.gguf",filesize:"3796178112",requires:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat.gguf4.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"q",md5sum:"f8347badde9bfc2efbe89124d78ddaf5",name:"Phi-3 Mini Instruct",filename:"Phi-3-mini-4k-instruct.Q4_0.gguf",filesize:"2176181568",requires:"2.7.1",ramrequired:"4",parameters:"4 billion",quant:"q4_0",type:"Phi-3",description:'<ul><li>Very fast responses</li><li>Chat based model</li><li>Accepts system prompts in Phi-3 format</li><li>Trained by Microsoft</li><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li></ul>',url:"https://gpt4all.io/models/gguf/Phi-3-mini-4k-instruct.Q4_0.gguf",promptTemplate:`<|user|>
%1<|end|>
<|assistant|>
%2<|end|>
`,systemPrompt:"",chatTemplate:`{{- bos_token }}
{%- for message in messages %}
    {{- '<|' + message['role'] + '|>\\n' + message['content'] + '<|end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|assistant|>\\n' }}
{%- else %}
    {{- eos_token }}
{%- endif %}`},{order:"r",md5sum:"0e769317b90ac30d6e09486d61fefa26",name:"Mini Orca (Small)",filename:"orca-mini-3b-gguf2-q4_0.gguf",filesize:"1979946720",requires:"2.5.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"OpenLLaMa",description:"<strong>Small version of new model with novel dataset</strong><br><ul><li>Very fast responses</li><li>Instruction based</li><li>Explain tuned datasets</li><li>Orca Research Paper dataset construction approaches</li><li>Cannot be used commercially</li></ul>",url:"https://gpt4all.io/models/gguf/orca-mini-3b-gguf2-q4_0.gguf",promptTemplate:`### User:
%1

### Response:
`,systemPrompt:`### System:
You are an AI assistant that follows instruction extremely well. Help as much as you can.

`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- '### System:\\n' + messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`},{order:"s",md5sum:"c232f17e09bca4b7ee0b5b1f4107c01e",disableGUI:"true",name:"Replit",filename:"replit-code-v1_5-3b-newbpe-q4_0.gguf",filesize:"1953055104",requires:"2.6.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"Replit",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>Licensed for commercial use<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/replit-code-v1_5-3b-newbpe-q4_0.gguf",chatTemplate:null},{order:"t",md5sum:"70841751ccd95526d3dcfa829e11cd4c",disableGUI:"true",name:"Starcoder",filename:"starcoder-newbpe-q4_0.gguf",filesize:"8987411904",requires:"2.6.0",ramrequired:"4",parameters:"7 billion",quant:"q4_0",type:"Starcoder",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/starcoder-newbpe-q4_0.gguf",chatTemplate:null},{order:"u",md5sum:"e973dd26f0ffa6e46783feaea8f08c83",disableGUI:"true",name:"Rift coder",filename:"rift-coder-v0-7b-q4_0.gguf",filesize:"3825903776",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on collection of Python and TypeScript</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</li>",url:"https://gpt4all.io/models/gguf/rift-coder-v0-7b-q4_0.gguf",chatTemplate:null},{order:"v",md5sum:"e479e6f38b59afc51a470d1953a6bfc7",disableGUI:"true",name:"SBert",filename:"all-MiniLM-L6-v2-f16.gguf",filesize:"45887744",requires:"2.5.0",removedIn:"2.7.4",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2-f16.gguf",chatTemplate:null},{order:"w",md5sum:"dd90e2cb7f8e9316ac3796cece9883b5",name:"SBert",filename:"all-MiniLM-L6-v2.gguf2.f16.gguf",filesize:"45949216",requires:"2.7.4",removedIn:"3.0.0",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2.gguf2.f16.gguf",chatTemplate:null},{order:"x",md5sum:"919de4dd6f25351bcb0223790db1932d",name:"EM German Mistral",filename:"em_german_mistral_v01.Q4_0.gguf",filesize:"4108916352",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Mistral-based model for German-language applications</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by ellamind<li>Finetuned on German instruction and chat data</a><li>Licensed for commercial use</ul>",url:"https://huggingface.co/TheBloke/em_german_mistral_v01-GGUF/resolve/main/em_german_mistral_v01.Q4_0.gguf",promptTemplate:"USER: %1 ASSISTANT: ",systemPrompt:"Du bist ein hilfreicher Assistent. ",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if not loop.first %}
            {{- ' ' }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('After the optional system message, conversation roles must be either user or assistant.') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {%- if messages %}
        {{- ' ' }}
    {%- endif %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"Du bist ein hilfreicher Assistent."},{order:"y",md5sum:"60ea031126f82db8ddbbfecc668315d2",disableGUI:"true",name:"Nomic Embed Text v1",filename:"nomic-embed-text-v1.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.f16.gguf",chatTemplate:null},{order:"z",md5sum:"a5401e7f7e46ed9fcaed5b60a281d547",disableGUI:"true",name:"Nomic Embed Text v1.5",filename:"nomic-embed-text-v1.5.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1.5",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.5.f16.gguf",chatTemplate:null},{order:"zzz",md5sum:"a8c5a783105f87a481543d4ed7d7586d",name:"Qwen2-1.5B-Instruct",filename:"qwen2-1_5b-instruct-q4_0.gguf",filesize:"937532800",requires:"3.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Very fast responses</li><li>Instruction based model</li><li>Usage of LocalDocs (RAG): Highly recommended</li><li>Supports context length of up to 32768</li><li>Trained and finetuned by Qwen (Alibaba Cloud)</li><li>License: <a href="https://www.apache.org/licenses/LICENSE-2.0.html/">Apache 2.0</a></li></ul>',url:"https://huggingface.co/Qwen/Qwen2-1.5B-Instruct-GGUF/resolve/main/qwen2-1_5b-instruct-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>`,systemPrompt:`<|im_start|>system
Below is an instruction that describes a task. Write a response that appropriately completes the request.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {%- if loop.first and messages[0]['role'] != 'system' %}
        {{- '<|im_start|>system\\nYou are a helpful assistant.<|im_end|>\\n' }}
    {%- endif %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`}],containerStyle$1={width:216,height:112,borderRadius:9999,border:"3px solid #dc2626",background:"#fff1f2",color:"#991b1b",fontWeight:700,textTransform:"uppercase",letterSpacing:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 6px 12px rgba(220, 38, 38, 0.18)"},nodeTitleStyle={fontSize:18,fontWeight:700,letterSpacing:1.2,textTransform:"uppercase",textAlign:"center",lineHeight:1.2,padding:"0 20px",pointerEvents:"none"},handleStyle={width:14,height:14,borderRadius:"50%",background:"#dc2626",border:"2px solid #fff1f2"},portLabelContainerStyle={position:"absolute",top:"50%",display:"flex",alignItems:"center",pointerEvents:"none"},portLabelTextStyle={fontSize:12,fontWeight:600,letterSpacing:.5,color:"#be123c",textTransform:"none",padding:"2px 6px",borderRadius:9999,background:"rgba(254, 226, 226, 0.85)"},sectionTitleStyle$1={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#9f1239",marginBottom:8},fieldLabelStyle={fontSize:11,fontWeight:600,color:"#b91c1c",textTransform:"uppercase",letterSpacing:.4},inputStyle={borderRadius:8,border:"1px solid rgba(244, 63, 94, 0.35)",background:"#ffffff",color:"#7f1d1d",fontWeight:500,fontSize:13,padding:"8px 10px",boxShadow:"0 1px 2px rgba(244, 63, 94, 0.12)",outline:"none"},helperTextStyle={fontSize:11,color:"#be123c"},fieldGroupStyle={display:"flex",flexDirection:"column",gap:4},checkboxWrapperStyle={display:"flex",alignItems:"center",gap:8,fontSize:12,fontWeight:500,color:"#7f1d1d",cursor:"pointer"},checkboxInputStyle={width:16,height:16,accentColor:"#dc2626",cursor:"pointer"},gridRowStyle={display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))"},summaryRowStyle={display:"flex",flexDirection:"column",gap:4,padding:"8px 12px",borderRadius:10,background:"rgba(254, 226, 226, 0.6)"},summaryLabelStyle={fontSize:11,fontWeight:600,color:"#991b1b",textTransform:"uppercase",letterSpacing:.5},summaryValueStyle={fontSize:13,fontWeight:500,color:"#7f1d1d"},srOnlyStyle={position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},DEFAULT_WINDOW_WIDTH=360,DEFAULT_WINDOW_HEIGHT=380,APPROX_THRESHOLD=.5,MENU_WIDTH=EDIT_MENU_WIDTH,MENU_HEIGHT=EDIT_MENU_HEIGHT,MIN_INPUT_TOKENS=256,MIN_RESPONSE_TOKENS=16,computeOffset=(o,i)=>`${(o+1)/(i+1)*100}%`,clamp=(o,i,s)=>Math.min(s,Math.max(i,o)),alignOverAnchor=(o,i,s)=>{const a=o+(i-o)/2-s/2,c=Math.min(i-s,o),d=Math.max(i-s,o);return clamp(a,c,d)},EDIT_MENU_SELECTOR$1=`[${EDIT_MENU_DATA_ATTRIBUTE}]`,BACKEND_OPTIONS=["llama.cpp","gpt4all","ollama"],DEFAULT_PROFILE={context:4096,backend:"llama.cpp",temperature:.7,topP:.95,topK:40,minP:.1},MODEL_TYPE_PROFILES={qwen2:{context:32768,backend:"llama.cpp",temperature:.4,topP:.9,topK:40,minP:.05},llama3:{context:8192,backend:"llama.cpp",temperature:.7,topP:.95,topK:45,minP:.1},deepseek:{context:8192,backend:"llama.cpp",temperature:.3,topP:.92,topK:40,minP:.06},mistral:{context:8192,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},falcon:{context:4096,backend:"gpt4all",temperature:.6,topP:.9,topK:40,minP:.08},llama2:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},llama:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},mpt:{context:8192,backend:"gpt4all",temperature:.65,topP:.9,topK:38,minP:.08},"phi-3":{context:8192,backend:"ollama",temperature:.55,topP:.9,topK:32,minP:.06},openllama:{context:4096,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},replit:{context:4096,backend:"gpt4all",temperature:.75,topP:.9,topK:40,minP:.1},starcoder:{context:8192,backend:"ollama",temperature:.4,topP:.95,topK:60,minP:.05},bert:{context:512,backend:"gpt4all",temperature:.5,topP:.9,topK:20,minP:.05}},RAW_MODELS=models,MODEL_OPTIONS=RAW_MODELS.map((o,i)=>{const s=o.filename??o.order??`model-${i}`,a=(s??`model-${i}`).replace(/\s+/g,"-").toLowerCase(),c=a.startsWith("model:")?a:`model:${a}`,d=o.name??s??c,g=(o.type??"").toLowerCase(),b={...MODEL_TYPE_PROFILES[g]??DEFAULT_PROFILE};return{id:c,label:d,model:o,profile:b}}),toCanvasViewport=o=>({top:o.top,left:o.left,width:o.width,height:o.height}),toRelativeAnchor=(o,i)=>({left:o.left-i.left,top:o.top-i.top,right:o.right-i.left,bottom:o.bottom-i.top}),rectsApproximatelyEqual=(o,i)=>!o||!i?!1:Math.abs(o.left-i.left)<APPROX_THRESHOLD&&Math.abs(o.top-i.top)<APPROX_THRESHOLD&&Math.abs(o.width-i.width)<APPROX_THRESHOLD&&Math.abs(o.height-i.height)<APPROX_THRESHOLD,viewportsApproximatelyEqual=(o,i)=>!o||!i?!1:Math.abs(o.left-i.left)<APPROX_THRESHOLD&&Math.abs(o.top-i.top)<APPROX_THRESHOLD&&Math.abs(o.width-i.width)<APPROX_THRESHOLD&&Math.abs(o.height-i.height)<APPROX_THRESHOLD,rectToGeometry=o=>({position:{x:o.left,y:o.top},size:{width:o.width,height:o.height}}),geometryToRect=o=>({left:o.position.x,top:o.position.y,width:o.size.width,height:o.size.height}),geometriesApproximatelyEqual=(o,i)=>rectsApproximatelyEqual(o?geometryToRect(o):null,i?geometryToRect(i):null),computeInitialWindowRect=(o,i)=>{const s=Math.min(DEFAULT_WINDOW_WIDTH,Math.max(i.width-CONTEXT_WINDOW_PADDING*2,CONTEXT_WINDOW_MIN_WIDTH)),a=Math.min(DEFAULT_WINDOW_HEIGHT,Math.max(i.height-CONTEXT_WINDOW_PADDING*2,CONTEXT_WINDOW_MIN_HEIGHT)),c=o.left-i.left,d=o.right-i.left,g=o.top-i.top,_=o.bottom-i.top,b=d+CONTEXT_WINDOW_PADDING+s<=i.width-CONTEXT_WINDOW_PADDING,j=c-CONTEXT_WINDOW_PADDING-s>=CONTEXT_WINDOW_PADDING;let $;b?$=d+CONTEXT_WINDOW_PADDING:j?$=c-s-CONTEXT_WINDOW_PADDING:$=alignOverAnchor(c,d,s);const _e=g+a<=i.height-CONTEXT_WINDOW_PADDING,et=_-a>=CONTEXT_WINDOW_PADDING;let rt;return _e?rt=Math.max(g,CONTEXT_WINDOW_PADDING):et?rt=_-a:rt=alignOverAnchor(g,_,a),constrainRectToBounds({left:$,top:rt,width:s,height:a},i)};function LLMNode({data:o}){const i=o.in??[],s=o.out??[],a=reactExports.useMemo(()=>readNodeOrientation(o.params),[o.params]),c=a==="reversed"?Position.Right:Position.Left,d=a==="reversed"?Position.Left:Position.Right,g=reactExports.useMemo(()=>a==="reversed"?{...portLabelContainerStyle,right:0,transform:"translate(100%, -50%)"}:{...portLabelContainerStyle,left:0,transform:"translate(-100%, -50%)"},[a]),_=reactExports.useMemo(()=>a==="reversed"?{...portLabelContainerStyle,left:0,transform:"translate(-100%, -50%)"}:{...portLabelContainerStyle,right:0,transform:"translate(100%, -50%)"},[a]),b=reactExports.useRef(null),[j,$]=reactExports.useState(null),[_e,et]=reactExports.useState(null),[rt,ot]=reactExports.useState(!1),[st,ft]=reactExports.useState(!1),[tt,nt]=reactExports.useState(null),[it,at]=reactExports.useState(!1),pt=reactExports.useRef(null),{updateNodeParams:yt,copyNode:dt,cutNode:vt,deleteNode:wt,pasteClipboard:St,clipboard:Tt}=useFlowStore(Ct=>({updateNodeParams:Ct.updateNodeParams,copyNode:Ct.copyNode,cutNode:Ct.cutNode,deleteNode:Ct.deleteNode,pasteClipboard:Ct.pasteClipboard,clipboard:Ct.clipboard})),bt=o.params??{},kt=(Tt==null?void 0:Tt.kind)==="node",lt=i.length>0||s.length>0,xt=reactExports.useCallback(Ct=>{yt&&yt(o.id,Pt=>({...Pt??{},...Ct}))},[o.id,yt]),gt=reactExports.useMemo(()=>{const Ct=[typeof bt.modelId=="string"?bt.modelId:"",typeof bt.model_id=="string"?bt.model_id:""];for(const Pt of Ct){const Ot=Pt.trim();if(Ot)return Ot}return""},[bt.modelId,bt.model_id]),_t=reactExports.useMemo(()=>gt?MODEL_OPTIONS.find(Pt=>Pt.id===gt)??null:null,[gt]),ct=gt,ut=(_t==null?void 0:_t.profile.context)??DEFAULT_PROFILE.context,mt=reactExports.useMemo(()=>{const Ct={...bt};gt&&(Ct.modelId=gt,Ct.model_id=gt);const Pt=deriveLLMDisplayName(Ct,MODEL_OPTIONS);if(Pt)return Pt;if(gt){const Ot=gt.replace(/^model:/i,"").trim();if(Ot)return Ot}return"LLM"},[bt,gt]);reactExports.useEffect(()=>{if(typeof bt.modelId=="string"||typeof bt.model_id=="string"||!_t)return;const Ct=_t.profile,Pt=Math.min(Ct.context,1024);xt({modelId:_t.id,model_id:_t.id,adapter:Ct.backend,maxInputTokens:Ct.context,maxResponseTokens:Pt,maxTokens:Pt,temperature:Ct.temperature,topP:Ct.topP,topK:Ct.topK,minP:Ct.minP})},[bt.modelId,bt.model_id,_t,xt]);const Et=typeof bt.adapter=="string"?bt.adapter:(_t==null?void 0:_t.profile.backend)??DEFAULT_PROFILE.backend,ht=typeof bt.includeRawInput=="boolean"?bt.includeRawInput:!1,It=typeof bt.maxInputTokens=="number"?bt.maxInputTokens:ut,Rt=clamp(Math.round(It),MIN_INPUT_TOKENS,Math.max(MIN_INPUT_TOKENS,ut)),Mt=typeof bt.maxResponseTokens=="number"?bt.maxResponseTokens:typeof bt.maxTokens=="number"?bt.maxTokens:Math.min(ut,1024),At=clamp(Math.round(Mt),MIN_RESPONSE_TOKENS,Rt),Lt=typeof bt.temperature=="number"?bt.temperature:(_t==null?void 0:_t.profile.temperature)??DEFAULT_PROFILE.temperature,Zt=typeof bt.topP=="number"?bt.topP:(_t==null?void 0:_t.profile.topP)??DEFAULT_PROFILE.topP,Wt=typeof bt.topK=="number"?bt.topK:(_t==null?void 0:_t.profile.topK)??DEFAULT_PROFILE.topK,Nt=typeof bt.minP=="number"?bt.minP:(_t==null?void 0:_t.profile.minP)??DEFAULT_PROFILE.minP,jt=reactExports.useCallback(Ct=>{$(Pt=>viewportsApproximatelyEqual(Pt,Ct)?Pt:Ct)},[]),Dt=reactExports.useCallback(()=>{const Ct=b.current;if(!Ct)return null;const Pt=Ct.closest(".react-flow");return Pt?{canvasMetrics:toCanvasViewport(Pt.getBoundingClientRect()),anchorBounds:Ct.getBoundingClientRect()}:null},[]),zt=reactExports.useCallback(Ct=>{const Pt=Ct.target.value.trim();if(!Pt){const Gt=Math.min(DEFAULT_PROFILE.context,1024);xt({modelId:"",model_id:"",adapter:DEFAULT_PROFILE.backend,maxInputTokens:DEFAULT_PROFILE.context,maxResponseTokens:Gt,maxTokens:Gt,temperature:DEFAULT_PROFILE.temperature,topP:DEFAULT_PROFILE.topP,topK:DEFAULT_PROFILE.topK,minP:DEFAULT_PROFILE.minP});return}const Ot=MODEL_OPTIONS.find(Gt=>Gt.id===Pt);if(!Ot){xt({modelId:Pt,model_id:Pt});return}const Vt=Math.min(Ot.profile.context,1024);xt({modelId:Ot.id,model_id:Ot.id,adapter:Ot.profile.backend,maxInputTokens:Ot.profile.context,maxResponseTokens:Vt,maxTokens:Vt,temperature:Ot.profile.temperature,topP:Ot.profile.topP,topK:Ot.profile.topK,minP:Ot.profile.minP})},[xt]),Ft=reactExports.useCallback(Ct=>{xt({adapter:Ct.target.value})},[xt]),Bt=reactExports.useCallback(Ct=>{const Pt=clamp(Ct,MIN_INPUT_TOKENS,Math.max(MIN_INPUT_TOKENS,ut)),Ot=Math.min(At,Pt);xt({maxInputTokens:Pt,maxResponseTokens:Ot,maxTokens:Ot})},[ut,At,xt]),Ht=reactExports.useCallback(Ct=>{const Pt=clamp(Ct,MIN_RESPONSE_TOKENS,Rt);xt({maxResponseTokens:Pt,maxTokens:Pt})},[Rt,xt]),Ut=reactExports.useCallback(Ct=>{const Pt=Number(Ct.target.value);Number.isNaN(Pt)||xt({temperature:clamp(Pt,0,2)})},[xt]),$t=reactExports.useCallback(Ct=>{const Pt=Number(Ct.target.value);Number.isNaN(Pt)||xt({topP:clamp(Pt,0,1)})},[xt]),qt=reactExports.useCallback(Ct=>{const Pt=Number(Ct.target.value);Number.isNaN(Pt)||xt({topK:clamp(Math.round(Pt),0,320)})},[xt]),on=reactExports.useCallback(Ct=>{const Pt=Number(Ct.target.value);Number.isNaN(Pt)||xt({minP:clamp(Pt,0,1)})},[xt]),tn=reactExports.useCallback(()=>{const Ct=Dt();if(!Ct)return;const{canvasMetrics:Pt,anchorBounds:Ot}=Ct;jt(Pt),pt.current=toRelativeAnchor(Ot,Pt),et(Vt=>{const Gt=Vt?geometryToRect(Vt):null,Kt=Gt??computeInitialWindowRect(Ot,Pt),Yt=constrainRectToBounds(Kt,Pt);return Gt&&rectsApproximatelyEqual(Gt,Yt)?Vt:rectToGeometry(Yt)}),ot(!0),ft(!1),nt(null),at(!1)},[Dt,jt]),ln=reactExports.useCallback(Ct=>{Ct.preventDefault(),Ct.stopPropagation();const Pt=Dt();if(!Pt)return;const{canvasMetrics:Ot,anchorBounds:Vt}=Pt;jt(Ot),pt.current=toRelativeAnchor(Vt,Ot),et(yn=>{const xn=yn?geometryToRect(yn):null,wn=xn??computeInitialWindowRect(Vt,Ot),kn=constrainRectToBounds(wn,Ot);return xn&&rectsApproximatelyEqual(xn,kn)?yn:rectToGeometry(kn)}),ot(!1),at(!1);const Gt=Math.max(CONTEXT_WINDOW_PADDING,Ot.width-MENU_WIDTH-CONTEXT_WINDOW_PADDING),Kt=Math.max(CONTEXT_WINDOW_PADDING,Ot.height-MENU_HEIGHT-CONTEXT_WINDOW_PADDING);clamp(Ct.clientX-Ot.left,CONTEXT_WINDOW_PADDING,Gt),clamp(Ct.clientY-Ot.top,CONTEXT_WINDOW_PADDING,Kt);const Yt=Vt.left-Ot.left,rn=Yt+Vt.width,sn=Vt.top-Ot.top,un=sn+Vt.height/2,dn=Ot.width-rn-CONTEXT_WINDOW_PADDING,an=Yt-CONTEXT_WINDOW_PADDING,mn=12,vn=dn>=MENU_WIDTH+mn,En=an>=MENU_WIDTH+mn;let gn;if(vn&&(!En||dn>=an))gn=rn+mn;else if(En)gn=Yt-MENU_WIDTH-mn;else{const yn=rn-MENU_WIDTH,xn=Yt,wn=Yt+(Vt.width-MENU_WIDTH)/2;gn=clamp(wn,Math.min(yn,xn),Math.max(yn,xn))}gn=clamp(gn,CONTEXT_WINDOW_PADDING,Gt);const Sn=sn+Vt.height-MENU_HEIGHT,Tn=sn,bn=un-MENU_HEIGHT/2;let _n=clamp(bn,Math.min(Sn,Tn),Math.max(Sn,Tn));_n=clamp(_n,CONTEXT_WINDOW_PADDING,Kt),nt({left:Ot.left+gn,top:Ot.top+_n,nodeId:o.id})},[o.id,Dt,jt]),Jt=reactExports.useCallback(()=>{tn()},[tn]),Xt=reactExports.useCallback(Ct=>{switch(nt(null),Ct){case"Copy":dt(o.id);break;case"Cut":vt(o.id);break;case"Delete":wt(o.id);break;case"Paste":kt&&St("node");break;case"Reverse Inputs":yt==null||yt(o.id,Pt=>toggleNodeOrientationParams(Pt));break}},[kt,dt,vt,o.id,wt,St,yt]),nn=reactExports.useMemo(()=>EDIT_MENU_ITEMS.map(Ct=>({label:Ct,disabled:Ct==="Paste"?!kt:Ct==="Reverse Inputs"?!lt:!1,onSelect:()=>Xt(Ct)})),[kt,lt,Xt]),en=reactExports.useCallback(Ct=>{if(Ct.button!==0)return;const Pt=Ct.target;Pt!=null&&Pt.closest(".react-flow__handle")||(Ct.stopPropagation(),tn())},[tn]),fn=reactExports.useCallback(()=>{ot(!1),ft(!0),at(!1)},[]),pn=reactExports.useCallback(()=>{ot(!0),ft(!1),at(Ct=>!Ct)},[]),hn=reactExports.useCallback(Ct=>{et(Pt=>geometriesApproximatelyEqual(Pt,Ct)?Pt:Ct)},[]);reactExports.useEffect(()=>{if(!(rt||st))return;const Ct=()=>{const Gt=Dt();if(!Gt)return;const{canvasMetrics:Kt,anchorBounds:Yt}=Gt;jt(Kt),pt.current=toRelativeAnchor(Yt,Kt),et(rn=>{if(!rn)return rn;const sn=geometryToRect(rn),un=constrainRectToBounds(sn,Kt);return rectsApproximatelyEqual(sn,un)?rn:rectToGeometry(un)})};Ct(),window.addEventListener("resize",Ct);let Pt=null;const Ot=b.current,Vt=Ot==null?void 0:Ot.closest(".react-flow");return Vt&&typeof ResizeObserver<"u"&&(Pt=new ResizeObserver(Ct),Pt.observe(Vt)),()=>{window.removeEventListener("resize",Ct),Pt==null||Pt.disconnect()}},[Dt,st,rt,jt]),reactExports.useEffect(()=>{if(!rt)return;const Ct=b.current;if(!Ct)return;const Pt=()=>{const Vt=Dt();if(!Vt)return;const{canvasMetrics:Gt,anchorBounds:Kt}=Vt;jt(Gt);const Yt=toRelativeAnchor(Kt,Gt),rn=pt.current;if(pt.current=Yt,!rn)return;const sn=Yt.left-rn.left,un=Yt.top-rn.top;Math.abs(sn)<.2&&Math.abs(un)<.2||et(dn=>{if(!dn)return dn;const an=geometryToRect(dn),mn={...an,left:an.left+sn,top:an.top+un},vn=constrainRectToBounds(mn,Gt);return rectsApproximatelyEqual(an,vn)?dn:rectToGeometry(vn)})},Ot=new MutationObserver(Pt);return Ot.observe(Ct,{attributes:!0,attributeFilter:["style","class"]}),()=>Ot.disconnect()},[Dt,rt,jt]),reactExports.useEffect(()=>{if(!tt)return;const Ct=Ot=>{var Gt;const Vt=Ot.target;(Gt=Vt==null?void 0:Vt.closest)!=null&&Gt.call(Vt,EDIT_MENU_SELECTOR$1)||nt(null)},Pt=Ot=>{Ot.key==="Escape"&&nt(null)};return window.addEventListener("mousedown",Ct),window.addEventListener("contextmenu",Ct),window.addEventListener("keydown",Pt),()=>{window.removeEventListener("mousedown",Ct),window.removeEventListener("contextmenu",Ct),window.removeEventListener("keydown",Pt)}},[tt]);const cn=st&&!!_e,Qt=reactExports.useMemo(()=>({position:"absolute",bottom:6,right:6,width:28,height:28,borderRadius:"50%",border:"2px solid #dc2626",background:"#fee2e2",color:"#b91c1c",fontSize:14,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 14px rgba(220, 38, 38, 0.28)",cursor:"pointer",transition:"opacity 160ms ease, transform 160ms ease",opacity:cn?1:0,transform:cn?"scale(1)":"scale(0.85)",pointerEvents:cn?"auto":"none"}),[cn]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{ref:b,style:containerStyle$1,"data-voide-io-orientation":a,onContextMenu:ln,onClick:en,children:[i.map((Ct,Pt)=>jsxRuntimeExports.jsx(Handle$1,{type:"target",position:c,id:`${o.id}:${Ct.port}`,style:{...handleStyle,top:computeOffset(Pt,i.length)}},Ct.port)),jsxRuntimeExports.jsx("span",{style:nodeTitleStyle,children:mt}),i.length>0?jsxRuntimeExports.jsx("div",{style:g,"aria-hidden":"true",children:jsxRuntimeExports.jsx("span",{style:portLabelTextStyle,children:"In"})}):null,s.map((Ct,Pt)=>jsxRuntimeExports.jsx(Handle$1,{type:"source",position:d,id:`${o.id}:${Ct.port}`,style:{...handleStyle,top:computeOffset(Pt,s.length)}},Ct.port)),s.length>0?jsxRuntimeExports.jsx("div",{style:_,"aria-hidden":"true",children:jsxRuntimeExports.jsx("span",{style:portLabelTextStyle,children:"Out"})}):null,jsxRuntimeExports.jsx("button",{type:"button",onClick:Jt,onContextMenu:Ct=>{Ct.preventDefault(),Ct.stopPropagation(),Jt()},style:Qt,"aria-label":"Open LLM options",children:"⚙"})]}),tt?jsxRuntimeExports.jsx(EditMenu,{position:{left:tt.left,top:tt.top},items:nn}):null,j&&_e&&jsxRuntimeExports.jsx(ContextWindow,{title:`${mt} Options`,open:rt,position:_e.position,size:_e.size,minimized:it,onRequestClose:fn,onToggleMinimize:pn,onUpdate:hn,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[jsxRuntimeExports.jsx("span",{style:srOnlyStyle,children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:sectionTitleStyle$1,children:"Model Selection"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-model`,children:"LLM Model"}),jsxRuntimeExports.jsxs("select",{id:`${o.id}-model`,value:ct,onChange:zt,style:inputStyle,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a model"}),MODEL_OPTIONS.map(Ct=>jsxRuntimeExports.jsx("option",{value:Ct.id,children:Ct.label},Ct.id))]})]}),jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-backend`,children:"Backend"}),jsxRuntimeExports.jsx("select",{id:`${o.id}-backend`,value:Et,onChange:Ft,style:inputStyle,children:BACKEND_OPTIONS.map(Ct=>jsxRuntimeExports.jsx("option",{value:Ct,children:Ct},Ct))}),jsxRuntimeExports.jsxs("label",{style:checkboxWrapperStyle,htmlFor:`${o.id}-include-raw-input`,children:[jsxRuntimeExports.jsx("input",{id:`${o.id}-include-raw-input`,type:"checkbox",checked:ht,onChange:Ct=>xt({includeRawInput:Ct.target.checked}),style:checkboxInputStyle}),"Forward input with response"]}),jsxRuntimeExports.jsx("span",{style:helperTextStyle,children:"Runtime adapter used to communicate with this module."}),jsxRuntimeExports.jsx("span",{style:helperTextStyle,children:"When enabled, downstream nodes receive the full prompt alongside the model output."})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:sectionTitleStyle$1,children:"Token Limits"}),jsxRuntimeExports.jsxs("div",{style:gridRowStyle,children:[jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-input-tokens`,children:"Max Input Tokens"}),jsxRuntimeExports.jsx("input",{id:`${o.id}-input-tokens`,type:"number",min:MIN_INPUT_TOKENS,max:Math.max(MIN_INPUT_TOKENS,ut),step:128,value:Rt,onChange:Ct=>{const Pt=Number(Ct.target.value);Number.isNaN(Pt)||Bt(Pt)},style:inputStyle}),jsxRuntimeExports.jsxs("span",{style:helperTextStyle,children:["Up to ",ut.toLocaleString()," tokens based on the model."]})]}),jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-response-tokens`,children:"Max Response Length"}),jsxRuntimeExports.jsx("input",{id:`${o.id}-response-tokens`,type:"number",min:MIN_RESPONSE_TOKENS,max:Rt,step:32,value:At,onChange:Ct=>{const Pt=Number(Ct.target.value);Number.isNaN(Pt)||Ht(Pt)},style:inputStyle}),jsxRuntimeExports.jsx("span",{style:helperTextStyle,children:"Cannot exceed max input tokens for this module."})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:sectionTitleStyle$1,children:"Sampling Controls"}),jsxRuntimeExports.jsxs("div",{style:gridRowStyle,children:[jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-temperature`,children:"Temperature"}),jsxRuntimeExports.jsx("input",{id:`${o.id}-temperature`,type:"number",min:0,max:2,step:.05,value:Number(Lt.toFixed(2)),onChange:Ut,style:inputStyle})]}),jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-top-p`,children:"Top P"}),jsxRuntimeExports.jsx("input",{id:`${o.id}-top-p`,type:"number",min:0,max:1,step:.01,value:Number(Zt.toFixed(2)),onChange:$t,style:inputStyle})]}),jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-top-k`,children:"Top K"}),jsxRuntimeExports.jsx("input",{id:`${o.id}-top-k`,type:"number",min:0,max:320,step:1,value:Math.round(Wt),onChange:qt,style:inputStyle})]}),jsxRuntimeExports.jsxs("div",{style:fieldGroupStyle,children:[jsxRuntimeExports.jsx("label",{style:fieldLabelStyle,htmlFor:`${o.id}-min-p`,children:"Min P"}),jsxRuntimeExports.jsx("input",{id:`${o.id}-min-p`,type:"number",min:0,max:1,step:.01,value:Number(Nt.toFixed(2)),onChange:on,style:inputStyle})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:sectionTitleStyle$1,children:"Model Summary"}),_t?jsxRuntimeExports.jsxs("div",{style:{display:"grid",gap:10},children:[jsxRuntimeExports.jsxs("div",{style:summaryRowStyle,children:[jsxRuntimeExports.jsx("span",{style:summaryLabelStyle,children:"Model"}),jsxRuntimeExports.jsx("span",{style:summaryValueStyle,children:_t.label})]}),_t.model.parameters?jsxRuntimeExports.jsxs("div",{style:summaryRowStyle,children:[jsxRuntimeExports.jsx("span",{style:summaryLabelStyle,children:"Parameters"}),jsxRuntimeExports.jsx("span",{style:summaryValueStyle,children:_t.model.parameters})]}):null,_t.model.ramrequired?jsxRuntimeExports.jsxs("div",{style:summaryRowStyle,children:[jsxRuntimeExports.jsx("span",{style:summaryLabelStyle,children:"Suggested RAM"}),jsxRuntimeExports.jsxs("span",{style:summaryValueStyle,children:[_t.model.ramrequired," GB"]})]}):null]}):jsxRuntimeExports.jsxs("div",{style:summaryRowStyle,children:[jsxRuntimeExports.jsx("span",{style:summaryLabelStyle,children:"No model selected"}),jsxRuntimeExports.jsx("span",{style:summaryValueStyle,children:"Choose a model to configure backend and sampling parameters."})]})]})]})})]})}const WINDOW_BACKGROUND="rgba(15, 23, 42, 0.96)",MESSAGE_WIDTH=.88,MAX_INPUT_LINES=8,INPUT_LINE_HEIGHT=20,INPUT_VERTICAL_PADDING=24,baseWindowStyle={position:"absolute",display:"flex",flexDirection:"column",background:WINDOW_BACKGROUND,borderRadius:20,border:"1px solid rgba(148, 163, 184, 0.28)",boxShadow:"0 32px 80px rgba(15, 23, 42, 0.6)",overflow:"hidden",color:"#f8fafc",zIndex:40},standaloneContainerStyle={...baseWindowStyle,position:"relative",margin:"0 auto",width:"min(720px, 100%)",height:"100%"},conversationStyle={flex:1,overflowY:"auto",padding:"24px 24px 16px",display:"flex",flexDirection:"column",gap:16,background:"linear-gradient(180deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.92))"},inputSectionStyle={padding:"16px 20px 20px",background:"rgba(15, 23, 42, 0.94)",borderTop:"1px solid rgba(148, 163, 184, 0.18)",display:"flex",flexDirection:"column",gap:12},inputRowStyle={display:"flex",gap:12,alignItems:"flex-end"},attachmentChipStyle={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.75)",color:"#cbd5f5",fontSize:12,cursor:"pointer"},draftAttachmentChipStyle={...attachmentChipStyle,background:"rgba(37, 99, 235, 0.15)",border:"1px solid rgba(96, 165, 250, 0.45)",cursor:"default"},addButtonStyle={width:38,height:38,borderRadius:12,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease"},textareaStyle={flex:1,minHeight:36,maxHeight:MAX_INPUT_LINES*INPUT_LINE_HEIGHT+INPUT_VERTICAL_PADDING,borderRadius:16,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(15, 23, 42, 0.75)",color:"#f8fafc",padding:"12px 16px",fontSize:14,lineHeight:`${INPUT_LINE_HEIGHT}px`,resize:"none",outline:"none",overflow:"hidden",boxShadow:"inset 0 1px 3px rgba(15, 23, 42, 0.4)"},timestampStyle={fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(148, 163, 184, 0.6)",marginBottom:6,fontWeight:500},bubbleBaseStyle={maxWidth:`${MESSAGE_WIDTH*100}%`,borderRadius:20,padding:"14px 18px",boxShadow:"0 18px 48px rgba(15, 23, 42, 0.42)",display:"flex",flexDirection:"column",gap:10,fontSize:14,lineHeight:1.6,whiteSpace:"pre-wrap",wordBreak:"break-word"},userBubbleStyle={...bubbleBaseStyle,alignSelf:"flex-end",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.88), rgba(96, 165, 250, 0.82))",color:"#f8fafc",borderTopRightRadius:8},assistantBubbleStyle={...bubbleBaseStyle,alignSelf:"flex-start",background:"rgba(15, 23, 42, 0.88)",border:"1px solid rgba(148, 163, 184, 0.22)",color:"#e2e8f0",borderTopLeftRadius:8},systemBubbleStyle={...assistantBubbleStyle,background:"rgba(30, 41, 59, 0.85)",borderStyle:"dashed"},closeButtonStyle={position:"absolute",top:12,right:12,width:28,height:28,borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",fontSize:15,lineHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease",zIndex:2},threadBadgeStyle={position:"absolute",top:16,left:20,padding:"6px 10px",borderRadius:999,background:"rgba(37, 99, 235, 0.18)",border:"1px solid rgba(96, 165, 250, 0.35)",color:"#bfdbfe",fontSize:11,letterSpacing:.35,textTransform:"uppercase"},emptyStateStyle={margin:"auto",textAlign:"center",color:"rgba(226, 232, 240, 0.65)",fontSize:13,lineHeight:1.6,padding:"24px 12px"};function formatFileSize(o){if(!Number.isFinite(o)||o<=0)return"0 B";const i=["B","KB","MB","GB","TB"],s=Math.min(Math.floor(Math.log(o)/Math.log(1024)),i.length-1),a=o/1024**s;return`${a>=100?a.toFixed(0):a.toFixed(a>=10?1:2)} ${i[s]}`}function useTimestampFormatter(){return reactExports.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[])}function TypingIndicator(){const[o,i]=reactExports.useState(1);return reactExports.useEffect(()=>{const s=window.setInterval(()=>{i(a=>a%3+1)},360);return()=>window.clearInterval(s)},[]),jsxRuntimeExports.jsxs("span",{style:{display:"inline-flex",gap:4,alignItems:"center",color:"rgba(148, 163, 184, 0.9)"},children:[jsxRuntimeExports.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.9)",opacity:o>=1?1:.3,transition:"opacity 0.2s ease"}}),jsxRuntimeExports.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.75)",opacity:o>=2?1:.3,transition:"opacity 0.2s ease"}}),jsxRuntimeExports.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.6)",opacity:o>=3?1:.3,transition:"opacity 0.2s ease"}})]})}function ChatWindowSurface({thread:o,flowAcceptsInput:i,mode:s,onRequestClose:a,onScrollStateChange:c,onDraftChange:d,onDraftAttachmentsAdd:g,onDraftAttachmentRemove:_}){const b=reactExports.useRef(null),j=reactExports.useRef(null),$=reactExports.useRef(null),[_e,et]=reactExports.useState(!1),rt=useTimestampFormatter(),ot=reactExports.useCallback(()=>{const dt=b.current;if(!dt)return;dt.style.height="auto";const vt=MAX_INPUT_LINES*INPUT_LINE_HEIGHT+INPUT_VERTICAL_PADDING,wt=Math.min(dt.scrollHeight,vt);dt.style.height=`${wt}px`,dt.style.overflowY=dt.scrollHeight>vt?"auto":"hidden"},[]);reactExports.useEffect(()=>{ot()},[o.draft,ot]),reactExports.useEffect(()=>{const dt=$.current;if(!dt)return;const vt=Math.max(0,dt.scrollHeight-dt.clientHeight);if(o.stickToBottom){dt.scrollTop=vt;return}dt.scrollTop=Math.min(o.scrollTop,vt)},[o.nodeId,o.scrollTop,o.stickToBottom,o.messages.length]),reactExports.useEffect(()=>{const dt=$.current;dt&&o.stickToBottom&&(dt.scrollTop=dt.scrollHeight)},[o.messages.length,o.stickToBottom,o.streamingMessageId]);const st=reactExports.useCallback(()=>{const dt=$.current;if(!dt)return;const{scrollTop:vt,scrollHeight:wt,clientHeight:St}=dt,bt=wt-(vt+St)<28;c(vt,bt)},[c]),ft=reactExports.useCallback(()=>{var dt;(dt=j.current)==null||dt.click()},[]),tt=reactExports.useCallback(dt=>{const vt=Array.from(dt.target.files??[]);vt.length>0&&g(vt),dt.target.value=""},[g]),nt=reactExports.useCallback(dt=>{dt.preventDefault(),dt.stopPropagation(),dt.dataTransfer&&(dt.dataTransfer.dropEffect="copy"),et(!0)},[]),it=reactExports.useCallback(()=>{et(!1)},[]),at=reactExports.useCallback(dt=>{var wt;dt.preventDefault(),dt.stopPropagation();const vt=Array.from(((wt=dt.dataTransfer)==null?void 0:wt.files)??[]);vt.length>0&&g(vt),et(!1)},[g]),pt=reactExports.useCallback(dt=>{const vt=rt.format(new Date(dt.createdAt)),wt=dt.role==="user"?userBubbleStyle:dt.role==="assistant"?assistantBubbleStyle:systemBubbleStyle,St=Tt=>{if(!Tt.url&&!Tt.file)return;const bt=Tt.url??URL.createObjectURL(Tt.file);window.open(bt,"_blank","noopener,noreferrer")};return jsxRuntimeExports.jsxs("article",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("span",{style:{...timestampStyle,textAlign:dt.role==="user"?"right":"left",marginLeft:dt.role==="user"?"auto":0,marginRight:dt.role==="user"?0:"auto"},children:vt}),jsxRuntimeExports.jsxs("div",{style:wt,children:[dt.streaming?jsxRuntimeExports.jsx(TypingIndicator,{}):dt.content,dt.attachments.length>0?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:4},children:dt.attachments.map(Tt=>jsxRuntimeExports.jsxs("button",{type:"button",style:{...attachmentChipStyle,alignSelf:dt.role==="user"?"flex-end":"flex-start"},onClick:()=>St(Tt),children:[jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:"📎"}),jsxRuntimeExports.jsx("span",{children:Tt.name}),jsxRuntimeExports.jsx("span",{style:{opacity:.75},children:formatFileSize(Tt.size)})]},Tt.id))}):null]})]},dt.id)},[rt]),yt=_e?{border:"1px solid rgba(96, 165, 250, 0.55)",background:"rgba(30, 64, 175, 0.15)"}:null;return jsxRuntimeExports.jsxs("div",{role:"dialog","aria-label":`${o.nodeLabel} chat`,style:{...s==="floating"?baseWindowStyle:standaloneContainerStyle,width:s==="floating"?o.geometry.size.width:standaloneContainerStyle.width,height:s==="floating"?o.geometry.size.height:standaloneContainerStyle.height,pointerEvents:"auto",...s==="floating"?{left:o.geometry.position.x,top:o.geometry.position.y}:{}},children:[jsxRuntimeExports.jsx("span",{style:threadBadgeStyle,children:o.nodeLabel}),s==="floating"&&a?jsxRuntimeExports.jsx("button",{type:"button","aria-label":"Close chat",style:closeButtonStyle,onClick:a,children:"×"}):null,jsxRuntimeExports.jsx("div",{ref:$,style:conversationStyle,onScroll:st,children:o.messages.length===0?jsxRuntimeExports.jsx("div",{style:emptyStateStyle,children:"Start a conversation from this interface node. Draft your prompt below and press the Play control on the canvas to send it."}):o.messages.map(dt=>pt(dt))}),jsxRuntimeExports.jsxs("div",{style:{...inputSectionStyle,...yt??{}},onDragEnter:nt,onDragOver:nt,onDragLeave:it,onDrop:at,children:[jsxRuntimeExports.jsxs("div",{style:inputRowStyle,children:[jsxRuntimeExports.jsx("button",{type:"button","aria-label":"Attach files",style:addButtonStyle,onClick:ft,children:"+"}),jsxRuntimeExports.jsx("textarea",{ref:b,placeholder:"Type here… press Play on the canvas to send",style:textareaStyle,value:o.draft,onChange:dt=>d(dt.target.value),"aria-multiline":"true"})]}),o.draftAttachments.length>0?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,paddingLeft:50},children:o.draftAttachments.map(dt=>jsxRuntimeExports.jsxs("span",{style:draftAttachmentChipStyle,children:[jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:"📎"}),jsxRuntimeExports.jsx("span",{children:dt.name}),jsxRuntimeExports.jsx("span",{style:{opacity:.75},children:formatFileSize(dt.size)}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_(dt.id),style:{background:"transparent",border:"none",color:"rgba(226, 232, 240, 0.75)",fontSize:14,cursor:"pointer"},"aria-label":`Remove ${dt.name}`,children:"×"})]},dt.id))}):null,i?null:jsxRuntimeExports.jsxs("div",{style:{paddingLeft:50,fontSize:12,color:"rgba(248, 250, 252, 0.7)",display:"flex",gap:8,alignItems:"center"},children:[jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:"⚠️"}),jsxRuntimeExports.jsx("span",{children:CHAT_FLOW_INACTIVE_NOTICE})]}),jsxRuntimeExports.jsx("input",{ref:j,type:"file",multiple:!0,tabIndex:-1,style:{display:"none"},onChange:tt})]})]})}function FloatingChatWindow(){const{overlayRef:o}=useCanvasBoundary(),i=useChatStore($=>$.activeNodeId),s=useChatStore($=>$.flowAcceptsInput),a=useChatStore($=>$.closeChat),c=useChatStore($=>$.setDraft),d=useChatStore($=>$.addDraftAttachments),g=useChatStore($=>$.removeDraftAttachment),_=useChatStore($=>$.setScrollState),b=useChatStore($=>$.getThread),j=reactExports.useMemo(()=>i?b(i)??null:null,[i,b]);return!o.current||!j||!j.open?null:reactDomExports.createPortal(jsxRuntimeExports.jsx(ChatWindowSurface,{thread:j,flowAcceptsInput:s,mode:"floating",onRequestClose:()=>a(j.nodeId),onScrollStateChange:($,_e)=>_(j.nodeId,$,_e),onDraftChange:$=>c(j.nodeId,$),onDraftAttachmentsAdd:$=>d(j.nodeId,$),onDraftAttachmentRemove:$=>g(j.nodeId,$)}),o.current)}function StandaloneChatView({nodeId:o="standalone",label:i="Chat"}){const s=useChatStore(j=>j.flowAcceptsInput),a=useChatStore(j=>j.setDraft),c=useChatStore(j=>j.addDraftAttachments),d=useChatStore(j=>j.removeDraftAttachment),g=useChatStore(j=>j.setScrollState),_=useChatStore(j=>j.openChat);reactExports.useEffect(()=>{_({nodeId:o,nodeLabel:i})},[i,o,_]);const b=useChatStore(j=>j.threads[o]);return b?jsxRuntimeExports.jsx(ChatWindowSurface,{thread:{...b,geometry:b.geometry},flowAcceptsInput:s,mode:"standalone",onScrollStateChange:(j,$)=>g(o,j,$),onDraftChange:j=>a(o,j),onDraftAttachmentsAdd:j=>c(o,j),onDraftAttachmentRemove:j=>d(o,j)}):null}const POSITION_KEY$1="__position",CONTEXT_WINDOW_DEFAULT_SIZE={width:320,height:260},CONTEXT_WINDOW_POINTER_OFFSET=12,EDIT_MENU_SELECTOR=`[${EDIT_MENU_DATA_ATTRIBUTE}]`,getPosition=o=>{const i=o.params,s=i==null?void 0:i[POSITION_KEY$1];return s&&typeof s.x=="number"&&typeof s.y=="number"?{x:s.x,y:s.y}:{x:360,y:240}},toReactFlowNode=o=>({id:o.id,data:o,position:getPosition(o),type:o.type??"module"}),toReactFlowEdge=o=>({id:o.id,source:o.from[0],target:o.to[0],sourceHandle:`${o.from[0]}:${o.from[1]}`,targetHandle:`${o.to[0]}:${o.to[1]}`,label:o.label??""});function GraphCanvas(){const{flow:o,setFlow:i,activeTool:s,copyEdge:a,cutEdge:c,deleteEdge:d,pasteClipboard:g,clipboard:_}=useFlowStore(ht=>({flow:ht.flow,setFlow:ht.setFlow,activeTool:ht.activeTool,copyEdge:ht.copyEdge,cutEdge:ht.cutEdge,deleteEdge:ht.deleteEdge,pasteClipboard:ht.pasteClipboard,clipboard:ht.clipboard})),b=reactExports.useRef(null),j=reactExports.useRef(null),$=reactExports.useRef(null),[_e,et]=reactExports.useState(null),[rt,ot]=reactExports.useState(null),[st,ft]=reactExports.useState(null),tt=reactExports.useCallback(()=>{b.current&&et(b.current.getBoundingClientRect())},[]);reactExports.useLayoutEffect(()=>{const ht=b.current;if(!ht)return;tt();let It=null;typeof ResizeObserver<"u"&&(It=new ResizeObserver(()=>tt()),It.observe(ht));const Rt=()=>tt();return window.addEventListener("resize",Rt),window.addEventListener("scroll",Rt,!0),()=>{It==null||It.disconnect(),window.removeEventListener("resize",Rt),window.removeEventListener("scroll",Rt,!0)}},[tt]);const nt=reactExports.useMemo(()=>({module:BasicNode,llm:LLMNode,default:BasicNode}),[]),[it,at,pt]=useNodesState(o.nodes.map(toReactFlowNode)),[yt,dt,vt]=useEdgesState(o.edges.map(toReactFlowEdge));reactExports.useEffect(()=>{at(o.nodes.map(toReactFlowNode))},[o.nodes,at]),reactExports.useEffect(()=>{dt(o.edges.map(toReactFlowEdge))},[o.edges,dt]);const wt=reactExports.useCallback(ht=>{$.current=ht},[]),St=reactExports.useCallback(ht=>{pt(ht);const It=ht.filter(Mt=>Mt.type==="position"&&!!Mt.position);if(It.length===0)return;const Rt=o.nodes.map(Mt=>{const At=It.find(Zt=>Zt.id===Mt.id);if(!At||!At.position)return Mt;const Lt={...Mt.params??{}};return Lt[POSITION_KEY$1]=At.position,{...Mt,params:Lt}});i({...o,nodes:Rt})},[o,pt,i]),Tt=reactExports.useCallback(ht=>{vt(ht);const It=ht.filter(Rt=>Rt.type==="remove").map(Rt=>Rt.id);It.length!==0&&i({...o,edges:o.edges.filter(Rt=>!It.includes(Rt.id))})},[o,vt,i]),bt=reactExports.useCallback(ht=>{var Zt,Wt;if(!ht.source||!ht.target)return;const It=((Zt=ht.sourceHandle)==null?void 0:Zt.split(":")[1])??"out",Rt=((Wt=ht.targetHandle)==null?void 0:Wt.split(":")[1])??"in",Mt=`e:${ht.source}-${It}:${ht.target}-${Rt}`,At={id:Mt,source:ht.source,target:ht.target,sourceHandle:ht.sourceHandle,targetHandle:ht.targetHandle,label:""};dt(Nt=>addEdge(At,Nt));const Lt={id:Mt,from:[ht.source,It],to:[ht.target,Rt]};i({...o,edges:[...o.edges,Lt]})},[o,dt,i]),kt=reactExports.useCallback((ht,It)=>{ht.preventDefault(),ht.stopPropagation();const Rt=CONTEXT_WINDOW_POINTER_OFFSET,Mt=rt&&rt.node.id===It.data.id?rt.geometry.size:CONTEXT_WINDOW_DEFAULT_SIZE,At=j.current;let Lt,Zt;if(At){const Wt=At.getBoundingClientRect(),Nt=ht.clientX-Wt.left,jt=ht.clientY-Wt.top,Dt=Math.max(Rt,Wt.width-Mt.width-Rt),zt=Math.max(Rt,Wt.height-Mt.height-Rt);Lt=Math.min(Math.max(Nt+Rt,Rt),Dt),Zt=Math.min(Math.max(jt+Rt,Rt),zt)}else{const Wt=window.innerWidth,Nt=window.innerHeight;Lt=Math.min(Math.max(ht.clientX+Rt,Rt),Wt-Mt.width-Rt),Zt=Math.min(Math.max(ht.clientY+Rt,Rt),Nt-Mt.height-Rt)}ft(null),ot({node:It.data,geometry:{position:{x:Lt,y:Zt},size:Mt},open:!0,minimized:!1})},[rt,j]),lt=reactExports.useCallback(()=>{ft(null),ot(ht=>ht?{...ht,open:!1,minimized:!1}:null)},[]),xt=reactExports.useCallback(ht=>{ht.preventDefault(),ft(null),ot(It=>It?{...It,open:!1,minimized:!1}:null)},[]),gt=reactExports.useCallback((ht,It)=>{ht.preventDefault(),ht.stopPropagation();const Rt=window.innerWidth,Mt=window.innerHeight,At=Math.min(Math.max(ht.clientX,CONTEXT_WINDOW_POINTER_OFFSET),Rt-EDIT_MENU_WIDTH-CONTEXT_WINDOW_POINTER_OFFSET),Lt=Math.min(Math.max(ht.clientY,CONTEXT_WINDOW_POINTER_OFFSET),Mt-EDIT_MENU_HEIGHT-CONTEXT_WINDOW_POINTER_OFFSET);ot(null),ft({edgeId:It.id,left:At,top:Lt})},[]),_t=reactExports.useCallback(ht=>{if(!st)return;const It=st.edgeId;switch(ft(null),ht){case"Copy":a(It);break;case"Cut":c(It);break;case"Delete":d(It);break;case"Paste":g("edge");break}},[a,c,d,st,g]);reactExports.useEffect(()=>{if(!st)return;const ht=Rt=>{var At;const Mt=Rt.target;(At=Mt==null?void 0:Mt.closest)!=null&&At.call(Mt,EDIT_MENU_SELECTOR)||ft(null)},It=Rt=>{Rt.key==="Escape"&&ft(null)};return window.addEventListener("mousedown",ht),window.addEventListener("contextmenu",ht),window.addEventListener("keydown",It),()=>{window.removeEventListener("mousedown",ht),window.removeEventListener("contextmenu",ht),window.removeEventListener("keydown",It)}},[st]),reactExports.useEffect(()=>{if(!st)return;o.edges.some(It=>It.id===st.edgeId)||ft(null)},[st,o.edges]);const ct=reactExports.useCallback(ht=>{ot(It=>It&&{...It,geometry:ht})},[]),ut=reactExports.useCallback(()=>{ot(ht=>ht?{...ht,open:!1,minimized:!1}:null)},[]),mt=reactExports.useCallback(()=>{ot(ht=>ht&&{...ht,minimized:!ht.minimized,open:!0})},[]),Et=reactExports.useMemo(()=>({bounds:_e,refreshBounds:tt,overlayRef:j}),[_e,tt]);return jsxRuntimeExports.jsx(CanvasBoundaryProvider,{value:Et,children:jsxRuntimeExports.jsxs("div",{ref:b,"data-testid":"graph-canvas-container",style:{width:"100%",height:"100%",position:"relative"},children:[jsxRuntimeExports.jsx(ReactFlow,{nodes:it,edges:yt,onNodesChange:St,onEdgesChange:Tt,onConnect:bt,nodeTypes:nt,onNodeContextMenu:kt,onEdgeContextMenu:gt,onPaneClick:lt,onPaneContextMenu:xt,onInit:wt,proOptions:{hideAttribution:!0},style:{background:"#ffffff",cursor:s==="wire"?"crosshair":"default"},children:jsxRuntimeExports.jsx(Background$1,{color:"#e2e8f0",gap:32,size:1})}),jsxRuntimeExports.jsx("div",{ref:j,"data-testid":"graph-canvas-overlay",style:{position:"absolute",inset:0,pointerEvents:"none"}}),jsxRuntimeExports.jsx(FloatingChatWindow,{}),st?jsxRuntimeExports.jsx(EditMenu,{position:{left:st.left,top:st.top},items:EDIT_MENU_ITEMS.map(ht=>({label:ht,disabled:ht==="Paste"&&(_==null?void 0:_.kind)!=="edge",onSelect:()=>_t(ht)}))}):null,rt?jsxRuntimeExports.jsx(ContextWindow,{title:`${rt.node.name??rt.node.id??"Node"} Context`,open:rt.open,position:rt.geometry.position,size:rt.geometry.size,minimized:rt.minimized,onUpdate:ct,onRequestClose:ut,onToggleMinimize:mt,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:14,fontWeight:600},children:rt.node.name??rt.node.id??"Node"}),jsxRuntimeExports.jsx("div",{style:{fontSize:12,color:"#475569",lineHeight:1.4},children:"Right-click menus for the graph will appear here. Select a node to inspect its details and shortcuts."}),jsxRuntimeExports.jsxs("div",{style:{fontSize:12},children:[jsxRuntimeExports.jsx("strong",{children:"ID:"})," ",rt.node.id]}),rt.node.type?jsxRuntimeExports.jsxs("div",{style:{fontSize:12},children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",rt.node.type]}):null]})}):null]})})}const textButtonStyle={background:"none",border:"none",color:"inherit",fontWeight:600,fontSize:14,padding:"8px 12px",borderRadius:8,cursor:"pointer"},iconButtonStyle={background:"#1e293b",border:"1px solid #334155",borderRadius:12,width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",color:"#f8fafc",cursor:"pointer",transition:"transform 0.15s ease"},buildButtonStyle={display:"flex",alignItems:"center",gap:8,background:"#f97316",border:"none",color:"#111827",fontWeight:700,fontSize:14,padding:"10px 18px",borderRadius:999,cursor:"pointer",boxShadow:"0 6px 18px rgba(249, 115, 22, 0.35)"},glyphStyle={fontSize:18,lineHeight:"18px"},dropdownStyle={position:"absolute",top:"100%",left:0,marginTop:8,background:"rgba(15, 23, 42, 0.96)",border:"1px solid #1e293b",borderRadius:12,padding:8,minWidth:240,boxShadow:"0 20px 40px rgba(15, 23, 42, 0.45)",backdropFilter:"blur(10px)",zIndex:20},menuItemStyle={width:"100%",background:"transparent",border:"none",color:"#e2e8f0",textAlign:"left",padding:"8px 12px",borderRadius:8,fontSize:14,fontWeight:500,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,cursor:"pointer",transition:"background 0.15s ease, color 0.15s ease"},submenuStyle={position:"absolute",top:0,left:"calc(100% + 8px)",background:"rgba(10, 18, 35, 0.96)",border:"1px solid #1e293b",borderRadius:12,padding:12,minWidth:220,boxShadow:"0 18px 32px rgba(15, 23, 42, 0.35)",display:"flex",flexDirection:"column",gap:12},submenuSectionLabel={fontSize:12,letterSpacing:.6,textTransform:"uppercase",color:"#94a3b8"},submenuOptionStyle={background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,padding:"8px 10px",color:"#e2e8f0",fontSize:13,fontWeight:600,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"border 0.15s ease, background 0.15s ease"},summaryTextStyle={fontSize:12,color:"#cbd5f5"},computeSummaryText={fontSize:12,color:"#38bdf8",fontWeight:500},readFileAsText=o=>new Promise((i,s)=>{const a=new FileReader;a.onerror=()=>{s(a.error??new Error("Failed to read file"))},a.onload=()=>{const c=a.result;if(typeof c=="string"){i(c);return}if(c instanceof ArrayBuffer){i(new TextDecoder().decode(c));return}i(String(c??""))},a.readAsText(o)});function RunControls({onRun:o}){const[i,s]=reactExports.useState(!1),[a,c]=reactExports.useState(null),[d,g]=reactExports.useState(null),[_,b]=reactExports.useState(null),[j,$]=reactExports.useState(null),[_e,et]=reactExports.useState({accelerator:"CPU",cpuCores:4}),rt=reactExports.useRef(null),ot=reactExports.useRef(null),st=reactExports.useRef(null),ft=reactExports.useRef(null),tt=useFlowStore(ct=>ct.flow),nt=useFlowStore(ct=>ct.setFlow),it=reactExports.useMemo(()=>[{key:"llm",label:"LLM Storage Folder"},{key:"workspace",label:"Project Workspace"},{key:"cache",label:"Cache Directory"}],[]),at=reactExports.useMemo(()=>[1,2,4,8,16],[]),pt=reactExports.useCallback(()=>{s(!1),c(null)},[]),yt=reactExports.useCallback(()=>{s(ct=>{const ut=!ct;return ut||c(null),ut})},[]);reactExports.useEffect(()=>{if(!i)return;const ct=mt=>{rt.current&&(rt.current.contains(mt.target)||pt())},ut=mt=>{mt.key==="Escape"&&pt()};return window.addEventListener("mousedown",ct),window.addEventListener("keydown",ut),()=>{window.removeEventListener("mousedown",ct),window.removeEventListener("keydown",ut)}},[pt,i]),reactExports.useEffect(()=>{st.current&&st.current.setAttribute("webkitdirectory","")},[]);const dt=reactExports.useCallback(async ct=>{try{const ut=typeof ct.text=="function"?await ct.text():typeof FileReader=="function"?await readFileAsText(ct):await new Response(ct).text(),mt=JSON.parse(ut);if(!mt||typeof mt!="object"||!Array.isArray(mt.nodes)||!Array.isArray(mt.edges))throw new Error("Invalid VOIDE project file.");nt(mt),console.info(`Opened project "${ct.name}" with ${mt.nodes.length} nodes and ${mt.edges.length} edges.`)}catch(ut){console.error("Failed to open project file:",ut)}finally{pt()}},[pt,nt]),vt=reactExports.useCallback(ct=>{const{files:ut}=ct.target;ut&&ut.length>0&&dt(ut[0]),ct.target.value=""},[dt]),wt=reactExports.useCallback(()=>{var ct;(ct=ot.current)==null||ct.click()},[]),St=reactExports.useCallback(()=>{nt(createInitialFlow()),console.info("Closed project and restored default layout."),pt()},[pt,nt]),Tt=reactExports.useCallback(()=>{try{const ct=JSON.stringify(tt,null,2),ut=new Blob([ct],{type:"application/json"}),mt=URL.createObjectURL(ut),Et=document.createElement("a");Et.href=mt,Et.download=`voide-project-${new Date().toISOString().replace(/[:.]/g,"-")}.json`,document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),URL.revokeObjectURL(mt),console.info("Saved current project to disk.")}catch(ct){console.error("Failed to save project:",ct)}finally{pt()}},[pt,tt]),bt=reactExports.useCallback(()=>{console.info("Export project placeholder triggered."),pt()},[pt]),kt=reactExports.useCallback(()=>{console.info("Project settings placeholder opened."),pt()},[pt]),lt=reactExports.useCallback(ct=>{var ut;ft.current=ct,(ut=st.current)==null||ut.click()},[]),xt=reactExports.useCallback(ct=>{const{files:ut}=ct.target,mt=ft.current;if(mt&&ut&&ut.length>0){const Et=ut[0],ht=Et.webkitRelativePath??Et.name,It=ht.split("/")[0]??ht;console.info(`Selected ${mt}: ${It}`)}else mt&&console.info(`No directory selected for ${mt}.`);ft.current=null,ct.target.value="",pt()},[pt]),gt=reactExports.useCallback(ct=>{et(ut=>ut.accelerator===ct?ut:(console.info(`Compute accelerator set to ${ct}.`),{...ut,accelerator:ct}))},[]),_t=reactExports.useCallback(ct=>{et(ut=>ut.cpuCores===ct?ut:(console.info(`CPU cores set to ${ct}.`),{...ut,cpuCores:ct}))},[]);return jsxRuntimeExports.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 24px",height:64,background:"linear-gradient(90deg, #0f172a, #1f2937)",color:"#e2e8f0",borderBottom:"1px solid #1e293b"},children:[jsxRuntimeExports.jsxs("nav",{ref:rt,style:{display:"flex",gap:8,position:"relative",alignItems:"center"},children:[jsxRuntimeExports.jsx("button",{type:"button",style:{...textButtonStyle,background:i?"rgba(30, 41, 59, 0.75)":"none"},onClick:yt,"aria-expanded":i,"aria-haspopup":"menu",children:"File"}),i?jsxRuntimeExports.jsxs("div",{role:"menu",style:dropdownStyle,"data-testid":"file-menu-panel",children:[jsxRuntimeExports.jsxs("button",{type:"button",role:"menuitem",style:{...menuItemStyle,background:d==="open"?"#1e293b":"transparent"},onMouseEnter:()=>g("open"),onMouseLeave:()=>g(null),onClick:wt,children:[jsxRuntimeExports.jsx("span",{children:"Open"}),jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:"⌘O"})]}),jsxRuntimeExports.jsx("button",{type:"button",role:"menuitem",style:{...menuItemStyle,background:d==="close"?"#1e293b":"transparent"},onMouseEnter:()=>g("close"),onMouseLeave:()=>g(null),onClick:St,children:jsxRuntimeExports.jsx("span",{children:"Close"})}),jsxRuntimeExports.jsxs("button",{type:"button",role:"menuitem",style:{...menuItemStyle,background:d==="save"?"#1e293b":"transparent"},onMouseEnter:()=>g("save"),onMouseLeave:()=>g(null),onClick:Tt,children:[jsxRuntimeExports.jsx("span",{children:"Save"}),jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:"⌘S"})]}),jsxRuntimeExports.jsx("button",{type:"button",role:"menuitem",style:{...menuItemStyle,background:d==="export"?"#1e293b":"transparent"},onMouseEnter:()=>g("export"),onMouseLeave:()=>g(null),onClick:bt,children:jsxRuntimeExports.jsx("span",{children:"Export"})}),jsxRuntimeExports.jsx("button",{type:"button",role:"menuitem",style:{...menuItemStyle,background:d==="project"?"#1e293b":"transparent"},onMouseEnter:()=>g("project"),onMouseLeave:()=>g(null),onClick:kt,children:jsxRuntimeExports.jsx("span",{children:"Project"})}),jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsxs("button",{type:"button",role:"menuitem",style:{...menuItemStyle,background:d==="working-directory"?"#1e293b":"transparent"},onMouseEnter:()=>g("working-directory"),onMouseLeave:()=>g(null),onClick:()=>c(ct=>ct==="working-directory"?null:"working-directory"),"aria-haspopup":"menu","aria-expanded":a==="working-directory",children:[jsxRuntimeExports.jsx("span",{children:"Working Directory"}),jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:a==="working-directory"?"▾":"▸"})]}),a==="working-directory"?jsxRuntimeExports.jsxs("div",{role:"menu",style:submenuStyle,children:[jsxRuntimeExports.jsx("div",{style:summaryTextStyle,children:"Select where VOIDE stores shared resources."}),it.map(ct=>jsxRuntimeExports.jsxs("button",{type:"button",role:"menuitem",style:{...submenuOptionStyle,borderColor:_===ct.key?"#f97316":"#1e293b",backgroundColor:_===ct.key?"#1f2937":"#0f172a"},onMouseEnter:()=>b(ct.key),onMouseLeave:()=>b(null),onClick:()=>lt(ct.label),children:[jsxRuntimeExports.jsx("span",{children:ct.label}),jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:"…"})]},ct.key))]}):null]}),jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsxs("button",{type:"button",role:"menuitem",style:{...menuItemStyle,background:d==="compute"?"#1e293b":"transparent"},onMouseEnter:()=>g("compute"),onMouseLeave:()=>g(null),onClick:()=>c(ct=>ct==="compute"?null:"compute"),"aria-haspopup":"menu","aria-expanded":a==="compute",children:[jsxRuntimeExports.jsx("span",{children:"Compute"}),jsxRuntimeExports.jsxs("span",{"aria-hidden":!0,children:[_e.accelerator," · ",_e.cpuCores," cores"]})]}),a==="compute"?jsxRuntimeExports.jsxs("div",{role:"menu",style:submenuStyle,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:submenuSectionLabel,children:"Accelerator"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:["CPU","GPU"].map(ct=>jsxRuntimeExports.jsx("button",{type:"button",role:"menuitem",style:{...submenuOptionStyle,padding:"8px 14px",background:_e.accelerator===ct?"#1f2937":"#0f172a",borderColor:_e.accelerator===ct?"#f97316":"#1e293b"},"aria-pressed":_e.accelerator===ct,onMouseEnter:()=>$(ct),onMouseLeave:()=>$(null),onClick:()=>gt(ct),children:ct},ct))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:submenuSectionLabel,children:"CPU Cores"}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:8,marginTop:8},children:at.map(ct=>jsxRuntimeExports.jsx("button",{type:"button",role:"menuitem",style:{...submenuOptionStyle,background:_e.cpuCores===ct?"#1f2937":"#0f172a",borderColor:_e.cpuCores===ct||j===`cores-${ct}`?"#f97316":"#1e293b"},"aria-pressed":_e.cpuCores===ct,onMouseEnter:()=>$(`cores-${ct}`),onMouseLeave:()=>$(null),onClick:()=>_t(ct),children:ct},ct))})]}),jsxRuntimeExports.jsxs("div",{style:{...summaryTextStyle,...computeSummaryText},children:["Current: ",_e.accelerator," with ",_e.cpuCores," ","cores"]})]}):null]})]}):null,jsxRuntimeExports.jsx("input",{ref:ot,type:"file",accept:"application/json,.json",style:{display:"none"},onChange:vt,"data-testid":"file-menu-open-input"}),jsxRuntimeExports.jsx("input",{ref:st,type:"file",style:{display:"none"},onChange:xt,"data-testid":"file-menu-directory-input"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[jsxRuntimeExports.jsx("button",{type:"button",style:iconButtonStyle,onClick:o,"aria-label":"Play",children:jsxRuntimeExports.jsx("span",{"aria-hidden":!0,style:glyphStyle,children:"▶"})}),jsxRuntimeExports.jsx("button",{type:"button",style:iconButtonStyle,onClick:()=>console.log("Pause"),"aria-label":"Pause",children:jsxRuntimeExports.jsx("span",{"aria-hidden":!0,style:glyphStyle,children:"⏸"})}),jsxRuntimeExports.jsx("button",{type:"button",style:iconButtonStyle,onClick:()=>console.log("Stop"),"aria-label":"Stop",children:jsxRuntimeExports.jsx("span",{"aria-hidden":!0,style:glyphStyle,children:"■"})})]}),jsxRuntimeExports.jsxs("button",{type:"button",style:buildButtonStyle,onClick:()=>console.log("Build"),"aria-label":"Build project",children:[jsxRuntimeExports.jsx("span",{"aria-hidden":!0,style:{fontSize:18,lineHeight:"18px"},children:"🔨"}),jsxRuntimeExports.jsx("span",{children:"Build"})]})]})}const POSITION_KEY="__position",MODULES=[{key:"interface",label:"UI",nodeType:"module",inputs:[{port:"feedback",types:["TEXT"]}],outputs:[{port:"conversation",types:["TEXT"]}],description:"Chat entry point"},{key:"llm",label:"LLM",nodeType:"llm",inputs:[{port:"prompt",types:["TEXT"]}],outputs:[{port:"response",types:["TEXT"]}],description:"Large language model"},{key:"prompt",label:"Prompt",nodeType:"module",inputs:[],outputs:[{port:"prompt",types:["TEXT"]}],description:"Prepare model prompts"},{key:"debate",label:"Debate/Loop",nodeType:"module",inputs:[{port:"input",types:["TEXT"]}],outputs:[{port:"result",types:["TEXT"]}],description:"Iterative reasoning"},{key:"cache",label:"Cache",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"out",types:["TEXT","JSON"]}],description:"Reuse previous outputs"},{key:"log",label:"Log",nodeType:"module",inputs:[{port:"entry",types:["TEXT","JSON"]}],outputs:[],description:"Record activity"},{key:"memory",label:"Memory",nodeType:"module",inputs:[{port:"search",types:["TEXT","JSON"]},{port:"write",types:["TEXT","JSON"]}],outputs:[{port:"attach",types:["TEXT","JSON"]}],description:"Store and retrieve persistent context"},{key:"divider",label:"Divider",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"pathA",types:["TEXT","JSON"]},{port:"pathB",types:["TEXT","JSON"]}],description:"Route outputs"},{key:"tool",label:"Tool Call",nodeType:"module",inputs:[{port:"input",types:["TEXT","JSON"]}],outputs:[{port:"result",types:["TEXT","JSON"]}],description:"Invoke registered tools"}],TOOLS=[{key:"wire",label:"Wiring Tool",description:"Connect modules together"}],computePosition=o=>{const c=o%3,d=Math.floor(o/3);return{x:220+c*220,y:160+d*140}},uniqueNodeId=o=>`${o}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,7)}`,makeNode=(o,i)=>{const s=computePosition(i);return{id:uniqueNodeId(o.key),type:o.nodeType,name:o.label,params:{[POSITION_KEY]:s,moduleKey:o.key},in:o.inputs,out:o.outputs}},sectionTitleStyle={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#475569",marginBottom:8},moduleButtonStyle={border:"1px solid #d1d5db",borderRadius:12,padding:"12px 10px",background:"#ffffff",color:"#1f2937",fontWeight:600,textAlign:"left",display:"flex",flexDirection:"column",gap:4,cursor:"pointer",transition:"border-color 0.2s ease, box-shadow 0.2s ease"},toolButtonStyle={...moduleButtonStyle,justifyContent:"space-between",flexDirection:"row",alignItems:"center"};function Palette(){const{flow:o,addNode:i,activeTool:s,setActiveTool:a}=useFlowStore(g=>({flow:g.flow,addNode:g.addNode,activeTool:g.activeTool,setActiveTool:g.setActiveTool})),c=g=>{const _=makeNode(g,o.nodes.length);i(_),s!=="select"&&a("select")},d=g=>{a(s===g.key?"select":g.key)};return jsxRuntimeExports.jsxs("aside",{style:{width:192,borderRight:"1px solid #e2e8f0",background:"#f8fafc",padding:"16px 14px",display:"flex",flexDirection:"column",gap:24,overflowY:"auto"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:sectionTitleStyle,children:"Modules"}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gap:12},children:MODULES.map(g=>jsxRuntimeExports.jsxs("button",{style:{...moduleButtonStyle,borderColor:g.key==="llm"?"#fca5a5":moduleButtonStyle.border,boxShadow:"none"},onClick:()=>c(g),children:[jsxRuntimeExports.jsx("span",{children:g.label}),g.description?jsxRuntimeExports.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:g.description}):null]},g.key))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:sectionTitleStyle,children:"Tools"}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gap:12},children:TOOLS.map(g=>jsxRuntimeExports.jsxs("button",{style:{...toolButtonStyle,borderColor:s===g.key?"#94a3b8":toolButtonStyle.border,background:s===g.key?"#e2e8f0":toolButtonStyle.background},onClick:()=>d(g),children:[jsxRuntimeExports.jsx("span",{children:g.label}),g.description?jsxRuntimeExports.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:g.description}):null]},g.key))})]})]})}const shellStyle={height:"100vh",width:"100vw",background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.92))",display:"flex",alignItems:"stretch",justifyContent:"center",padding:"32px 24px"},containerStyle={flex:1,maxWidth:840,minHeight:0};function ChatInterface(){return jsxRuntimeExports.jsx("div",{style:shellStyle,children:jsxRuntimeExports.jsx("div",{style:containerStyle,children:jsxRuntimeExports.jsx(StandaloneChatView,{nodeId:"standalone",label:"Interface"})})})}var util;(function(o){o.assertEqual=c=>{};function i(c){}o.assertIs=i;function s(c){throw new Error}o.assertNever=s,o.arrayToEnum=c=>{const d={};for(const g of c)d[g]=g;return d},o.getValidEnumValues=c=>{const d=o.objectKeys(c).filter(_=>typeof c[c[_]]!="number"),g={};for(const _ of d)g[_]=c[_];return o.objectValues(g)},o.objectValues=c=>o.objectKeys(c).map(function(d){return c[d]}),o.objectKeys=typeof Object.keys=="function"?c=>Object.keys(c):c=>{const d=[];for(const g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.push(g);return d},o.find=(c,d)=>{for(const g of c)if(d(g))return g},o.isInteger=typeof Number.isInteger=="function"?c=>Number.isInteger(c):c=>typeof c=="number"&&Number.isFinite(c)&&Math.floor(c)===c;function a(c,d=" | "){return c.map(g=>typeof g=="string"?`'${g}'`:g).join(d)}o.joinValues=a,o.jsonStringifyReplacer=(c,d)=>typeof d=="bigint"?d.toString():d})(util||(util={}));var objectUtil;(function(o){o.mergeShapes=(i,s)=>({...i,...s})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=o=>{switch(typeof o){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(o)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(o)?ZodParsedType.array:o===null?ZodParsedType.null:o.then&&typeof o.then=="function"&&o.catch&&typeof o.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&o instanceof Map?ZodParsedType.map:typeof Set<"u"&&o instanceof Set?ZodParsedType.set:typeof Date<"u"&&o instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{get errors(){return this.issues}constructor(i){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=i}format(i){const s=i||function(d){return d.message},a={_errors:[]},c=d=>{for(const g of d.issues)if(g.code==="invalid_union")g.unionErrors.map(c);else if(g.code==="invalid_return_type")c(g.returnTypeError);else if(g.code==="invalid_arguments")c(g.argumentsError);else if(g.path.length===0)a._errors.push(s(g));else{let _=a,b=0;for(;b<g.path.length;){const j=g.path[b];b===g.path.length-1?(_[j]=_[j]||{_errors:[]},_[j]._errors.push(s(g))):_[j]=_[j]||{_errors:[]},_=_[j],b++}}};return c(this),a}static assert(i){if(!(i instanceof ZodError))throw new Error(`Not a ZodError: ${i}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(i=s=>s.message){const s={},a=[];for(const c of this.issues)if(c.path.length>0){const d=c.path[0];s[d]=s[d]||[],s[d].push(i(c))}else a.push(i(c));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}ZodError.create=o=>new ZodError(o);const errorMap=(o,i)=>{let s;switch(o.code){case ZodIssueCode.invalid_type:o.received===ZodParsedType.undefined?s="Required":s=`Expected ${o.expected}, received ${o.received}`;break;case ZodIssueCode.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(o.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:s=`Unrecognized key(s) in object: ${util.joinValues(o.keys,", ")}`;break;case ZodIssueCode.invalid_union:s="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${util.joinValues(o.options)}`;break;case ZodIssueCode.invalid_enum_value:s=`Invalid enum value. Expected ${util.joinValues(o.options)}, received '${o.received}'`;break;case ZodIssueCode.invalid_arguments:s="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:s="Invalid function return type";break;case ZodIssueCode.invalid_date:s="Invalid date";break;case ZodIssueCode.invalid_string:typeof o.validation=="object"?"includes"in o.validation?(s=`Invalid input: must include "${o.validation.includes}"`,typeof o.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${o.validation.position}`)):"startsWith"in o.validation?s=`Invalid input: must start with "${o.validation.startsWith}"`:"endsWith"in o.validation?s=`Invalid input: must end with "${o.validation.endsWith}"`:util.assertNever(o.validation):o.validation!=="regex"?s=`Invalid ${o.validation}`:s="Invalid";break;case ZodIssueCode.too_small:o.type==="array"?s=`Array must contain ${o.exact?"exactly":o.inclusive?"at least":"more than"} ${o.minimum} element(s)`:o.type==="string"?s=`String must contain ${o.exact?"exactly":o.inclusive?"at least":"over"} ${o.minimum} character(s)`:o.type==="number"?s=`Number must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${o.minimum}`:o.type==="bigint"?s=`Number must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${o.minimum}`:o.type==="date"?s=`Date must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(o.minimum))}`:s="Invalid input";break;case ZodIssueCode.too_big:o.type==="array"?s=`Array must contain ${o.exact?"exactly":o.inclusive?"at most":"less than"} ${o.maximum} element(s)`:o.type==="string"?s=`String must contain ${o.exact?"exactly":o.inclusive?"at most":"under"} ${o.maximum} character(s)`:o.type==="number"?s=`Number must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="bigint"?s=`BigInt must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="date"?s=`Date must be ${o.exact?"exactly":o.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(o.maximum))}`:s="Invalid input";break;case ZodIssueCode.custom:s="Invalid input";break;case ZodIssueCode.invalid_intersection_types:s="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:s=`Number must be a multiple of ${o.multipleOf}`;break;case ZodIssueCode.not_finite:s="Number must be finite";break;default:s=i.defaultError,util.assertNever(o)}return{message:s}};let overrideErrorMap=errorMap;function getErrorMap(){return overrideErrorMap}const makeIssue=o=>{const{data:i,path:s,errorMaps:a,issueData:c}=o,d=[...s,...c.path||[]],g={...c,path:d};if(c.message!==void 0)return{...c,path:d,message:c.message};let _="";const b=a.filter(j=>!!j).slice().reverse();for(const j of b)_=j(g,{data:i,defaultError:_}).message;return{...c,path:d,message:_}};function addIssueToContext(o,i){const s=getErrorMap(),a=makeIssue({issueData:i,data:o.data,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,s,s===errorMap?void 0:errorMap].filter(c=>!!c)});o.common.issues.push(a)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(i,s){const a=[];for(const c of s){if(c.status==="aborted")return INVALID;c.status==="dirty"&&i.dirty(),a.push(c.value)}return{status:i.value,value:a}}static async mergeObjectAsync(i,s){const a=[];for(const c of s){const d=await c.key,g=await c.value;a.push({key:d,value:g})}return ParseStatus.mergeObjectSync(i,a)}static mergeObjectSync(i,s){const a={};for(const c of s){const{key:d,value:g}=c;if(d.status==="aborted"||g.status==="aborted")return INVALID;d.status==="dirty"&&i.dirty(),g.status==="dirty"&&i.dirty(),d.value!=="__proto__"&&(typeof g.value<"u"||c.alwaysSet)&&(a[d.value]=g.value)}return{status:i.value,value:a}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=o=>({status:"dirty",value:o}),OK=o=>({status:"valid",value:o}),isAborted=o=>o.status==="aborted",isDirty=o=>o.status==="dirty",isValid=o=>o.status==="valid",isAsync=o=>typeof Promise<"u"&&o instanceof Promise;var errorUtil;(function(o){o.errToObj=i=>typeof i=="string"?{message:i}:i||{},o.toString=i=>typeof i=="string"?i:i==null?void 0:i.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(i,s,a,c){this._cachedPath=[],this.parent=i,this.data=s,this._path=a,this._key=c}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(o,i)=>{if(isValid(i))return{success:!0,data:i.value};if(!o.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ZodError(o.common.issues);return this._error=s,this._error}}};function processCreateParams(o){if(!o)return{};const{errorMap:i,invalid_type_error:s,required_error:a,description:c}=o;if(i&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return i?{errorMap:i,description:c}:{errorMap:(g,_)=>{const{message:b}=o;return g.code==="invalid_enum_value"?{message:b??_.defaultError}:typeof _.data>"u"?{message:b??a??_.defaultError}:g.code!=="invalid_type"?{message:_.defaultError}:{message:b??s??_.defaultError}},description:c}}class ZodType{get description(){return this._def.description}_getType(i){return getParsedType(i.data)}_getOrReturnCtx(i,s){return s||{common:i.parent.common,data:i.data,parsedType:getParsedType(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new ParseStatus,ctx:{common:i.parent.common,data:i.data,parsedType:getParsedType(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){const s=this._parse(i);if(isAsync(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(i){const s=this._parse(i);return Promise.resolve(s)}parse(i,s){const a=this.safeParse(i,s);if(a.success)return a.data;throw a.error}safeParse(i,s){const a={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:getParsedType(i)},c=this._parseSync({data:i,path:a.path,parent:a});return handleResult(a,c)}"~validate"(i){var a,c;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:getParsedType(i)};if(!this["~standard"].async)try{const d=this._parseSync({data:i,path:[],parent:s});return isValid(d)?{value:d.value}:{issues:s.common.issues}}catch(d){(c=(a=d==null?void 0:d.message)==null?void 0:a.toLowerCase())!=null&&c.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:i,path:[],parent:s}).then(d=>isValid(d)?{value:d.value}:{issues:s.common.issues})}async parseAsync(i,s){const a=await this.safeParseAsync(i,s);if(a.success)return a.data;throw a.error}async safeParseAsync(i,s){const a={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:getParsedType(i)},c=this._parse({data:i,path:a.path,parent:a}),d=await(isAsync(c)?c:Promise.resolve(c));return handleResult(a,d)}refine(i,s){const a=c=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(c):s;return this._refinement((c,d)=>{const g=i(c),_=()=>d.addIssue({code:ZodIssueCode.custom,...a(c)});return typeof Promise<"u"&&g instanceof Promise?g.then(b=>b?!0:(_(),!1)):g?!0:(_(),!1)})}refinement(i,s){return this._refinement((a,c)=>i(a)?!0:(c.addIssue(typeof s=="function"?s(a,c):s),!1))}_refinement(i){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(i){return ZodUnion.create([this,i],this._def)}and(i){return ZodIntersection.create(this,i,this._def)}transform(i){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:i}})}default(i){const s=typeof i=="function"?i:()=>i;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:s,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(i){const s=typeof i=="function"?i:()=>i;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:s,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(i){const s=this.constructor;return new s({...this._def,description:i})}pipe(i){return ZodPipeline.create(this,i)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(o){let i="[0-5]\\d";o.precision?i=`${i}\\.\\d{${o.precision}}`:o.precision==null&&(i=`${i}(\\.\\d+)?`);const s=o.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${i})${s}`}function timeRegex(o){return new RegExp(`^${timeRegexSource(o)}$`)}function datetimeRegex(o){let i=`${dateRegexSource}T${timeRegexSource(o)}`;const s=[];return s.push(o.local?"Z?":"Z"),o.offset&&s.push("([+-]\\d{2}:?\\d{2})"),i=`${i}(${s.join("|")})`,new RegExp(`^${i}$`)}function isValidIP(o,i){return!!((i==="v4"||!i)&&ipv4Regex.test(o)||(i==="v6"||!i)&&ipv6Regex.test(o))}function isValidJWT(o,i){if(!jwtRegex.test(o))return!1;try{const[s]=o.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),c=JSON.parse(atob(a));return!(typeof c!="object"||c===null||"typ"in c&&(c==null?void 0:c.typ)!=="JWT"||!c.alg||i&&c.alg!==i)}catch{return!1}}function isValidCidr(o,i){return!!((i==="v4"||!i)&&ipv4CidrRegex.test(o)||(i==="v6"||!i)&&ipv6CidrRegex.test(o))}class ZodString extends ZodType{_parse(i){if(this._def.coerce&&(i.data=String(i.data)),this._getType(i)!==ZodParsedType.string){const d=this._getOrReturnCtx(i);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:d.parsedType}),INVALID}const a=new ParseStatus;let c;for(const d of this._def.checks)if(d.kind==="min")i.data.length<d.value&&(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),a.dirty());else if(d.kind==="max")i.data.length>d.value&&(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),a.dirty());else if(d.kind==="length"){const g=i.data.length>d.value,_=i.data.length<d.value;(g||_)&&(c=this._getOrReturnCtx(i,c),g?addIssueToContext(c,{code:ZodIssueCode.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):_&&addIssueToContext(c,{code:ZodIssueCode.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),a.dirty())}else if(d.kind==="email")emailRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"email",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty());else if(d.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"emoji",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty());else if(d.kind==="uuid")uuidRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"uuid",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty());else if(d.kind==="nanoid")nanoidRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty());else if(d.kind==="cuid")cuidRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"cuid",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty());else if(d.kind==="cuid2")cuid2Regex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty());else if(d.kind==="ulid")ulidRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"ulid",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty());else if(d.kind==="url")try{new URL(i.data)}catch{c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"url",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"regex",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty())):d.kind==="trim"?i.data=i.data.trim():d.kind==="includes"?i.data.includes(d.value,d.position)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),a.dirty()):d.kind==="toLowerCase"?i.data=i.data.toLowerCase():d.kind==="toUpperCase"?i.data=i.data.toUpperCase():d.kind==="startsWith"?i.data.startsWith(d.value)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.invalid_string,validation:{startsWith:d.value},message:d.message}),a.dirty()):d.kind==="endsWith"?i.data.endsWith(d.value)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.invalid_string,validation:{endsWith:d.value},message:d.message}),a.dirty()):d.kind==="datetime"?datetimeRegex(d).test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.invalid_string,validation:"datetime",message:d.message}),a.dirty()):d.kind==="date"?dateRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.invalid_string,validation:"date",message:d.message}),a.dirty()):d.kind==="time"?timeRegex(d).test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.invalid_string,validation:"time",message:d.message}),a.dirty()):d.kind==="duration"?durationRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"duration",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty()):d.kind==="ip"?isValidIP(i.data,d.version)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"ip",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty()):d.kind==="jwt"?isValidJWT(i.data,d.alg)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"jwt",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty()):d.kind==="cidr"?isValidCidr(i.data,d.version)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"cidr",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty()):d.kind==="base64"?base64Regex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"base64",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty()):d.kind==="base64url"?base64urlRegex.test(i.data)||(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{validation:"base64url",code:ZodIssueCode.invalid_string,message:d.message}),a.dirty()):util.assertNever(d);return{status:a.value,value:i.data}}_regex(i,s,a){return this.refinement(c=>i.test(c),{validation:s,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(a)})}_addCheck(i){return new ZodString({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...errorUtil.errToObj(i)})}url(i){return this._addCheck({kind:"url",...errorUtil.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...errorUtil.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...errorUtil.errToObj(i)})}nanoid(i){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...errorUtil.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...errorUtil.errToObj(i)})}base64(i){return this._addCheck({kind:"base64",...errorUtil.errToObj(i)})}base64url(i){return this._addCheck({kind:"base64url",...errorUtil.errToObj(i)})}jwt(i){return this._addCheck({kind:"jwt",...errorUtil.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...errorUtil.errToObj(i)})}cidr(i){return this._addCheck({kind:"cidr",...errorUtil.errToObj(i)})}datetime(i){return typeof i=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:i}):this._addCheck({kind:"datetime",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,offset:(i==null?void 0:i.offset)??!1,local:(i==null?void 0:i.local)??!1,...errorUtil.errToObj(i==null?void 0:i.message)})}date(i){return this._addCheck({kind:"date",message:i})}time(i){return typeof i=="string"?this._addCheck({kind:"time",precision:null,message:i}):this._addCheck({kind:"time",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,...errorUtil.errToObj(i==null?void 0:i.message)})}duration(i){return this._addCheck({kind:"duration",...errorUtil.errToObj(i)})}regex(i,s){return this._addCheck({kind:"regex",regex:i,...errorUtil.errToObj(s)})}includes(i,s){return this._addCheck({kind:"includes",value:i,position:s==null?void 0:s.position,...errorUtil.errToObj(s==null?void 0:s.message)})}startsWith(i,s){return this._addCheck({kind:"startsWith",value:i,...errorUtil.errToObj(s)})}endsWith(i,s){return this._addCheck({kind:"endsWith",value:i,...errorUtil.errToObj(s)})}min(i,s){return this._addCheck({kind:"min",value:i,...errorUtil.errToObj(s)})}max(i,s){return this._addCheck({kind:"max",value:i,...errorUtil.errToObj(s)})}length(i,s){return this._addCheck({kind:"length",value:i,...errorUtil.errToObj(s)})}nonempty(i){return this.min(1,errorUtil.errToObj(i))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(i=>i.kind==="datetime")}get isDate(){return!!this._def.checks.find(i=>i.kind==="date")}get isTime(){return!!this._def.checks.find(i=>i.kind==="time")}get isDuration(){return!!this._def.checks.find(i=>i.kind==="duration")}get isEmail(){return!!this._def.checks.find(i=>i.kind==="email")}get isURL(){return!!this._def.checks.find(i=>i.kind==="url")}get isEmoji(){return!!this._def.checks.find(i=>i.kind==="emoji")}get isUUID(){return!!this._def.checks.find(i=>i.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(i=>i.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(i=>i.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(i=>i.kind==="cuid2")}get isULID(){return!!this._def.checks.find(i=>i.kind==="ulid")}get isIP(){return!!this._def.checks.find(i=>i.kind==="ip")}get isCIDR(){return!!this._def.checks.find(i=>i.kind==="cidr")}get isBase64(){return!!this._def.checks.find(i=>i.kind==="base64")}get isBase64url(){return!!this._def.checks.find(i=>i.kind==="base64url")}get minLength(){let i=null;for(const s of this._def.checks)s.kind==="min"&&(i===null||s.value>i)&&(i=s.value);return i}get maxLength(){let i=null;for(const s of this._def.checks)s.kind==="max"&&(i===null||s.value<i)&&(i=s.value);return i}}ZodString.create=o=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(o==null?void 0:o.coerce)??!1,...processCreateParams(o)});function floatSafeRemainder(o,i){const s=(o.toString().split(".")[1]||"").length,a=(i.toString().split(".")[1]||"").length,c=s>a?s:a,d=Number.parseInt(o.toFixed(c).replace(".","")),g=Number.parseInt(i.toFixed(c).replace(".",""));return d%g/10**c}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce&&(i.data=Number(i.data)),this._getType(i)!==ZodParsedType.number){const d=this._getOrReturnCtx(i);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:d.parsedType}),INVALID}let a;const c=new ParseStatus;for(const d of this._def.checks)d.kind==="int"?util.isInteger(i.data)||(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):d.kind==="min"?(d.inclusive?i.data<d.value:i.data<=d.value)&&(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):d.kind==="max"?(d.inclusive?i.data>d.value:i.data>=d.value)&&(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):d.kind==="multipleOf"?floatSafeRemainder(i.data,d.value)!==0&&(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):d.kind==="finite"?Number.isFinite(i.data)||(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.not_finite,message:d.message}),c.dirty()):util.assertNever(d);return{status:c.value,value:i.data}}gte(i,s){return this.setLimit("min",i,!0,errorUtil.toString(s))}gt(i,s){return this.setLimit("min",i,!1,errorUtil.toString(s))}lte(i,s){return this.setLimit("max",i,!0,errorUtil.toString(s))}lt(i,s){return this.setLimit("max",i,!1,errorUtil.toString(s))}setLimit(i,s,a,c){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:i,value:s,inclusive:a,message:errorUtil.toString(c)}]})}_addCheck(i){return new ZodNumber({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:errorUtil.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(i)})}multipleOf(i,s){return this._addCheck({kind:"multipleOf",value:i,message:errorUtil.toString(s)})}finite(i){return this._addCheck({kind:"finite",message:errorUtil.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(i)})}get minValue(){let i=null;for(const s of this._def.checks)s.kind==="min"&&(i===null||s.value>i)&&(i=s.value);return i}get maxValue(){let i=null;for(const s of this._def.checks)s.kind==="max"&&(i===null||s.value<i)&&(i=s.value);return i}get isInt(){return!!this._def.checks.find(i=>i.kind==="int"||i.kind==="multipleOf"&&util.isInteger(i.value))}get isFinite(){let i=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(i===null||a.value<i)&&(i=a.value)}return Number.isFinite(s)&&Number.isFinite(i)}}ZodNumber.create=o=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(o==null?void 0:o.coerce)||!1,...processCreateParams(o)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce)try{i.data=BigInt(i.data)}catch{return this._getInvalidInput(i)}if(this._getType(i)!==ZodParsedType.bigint)return this._getInvalidInput(i);let a;const c=new ParseStatus;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?i.data<d.value:i.data<=d.value)&&(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):d.kind==="max"?(d.inclusive?i.data>d.value:i.data>=d.value)&&(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):d.kind==="multipleOf"?i.data%d.value!==BigInt(0)&&(a=this._getOrReturnCtx(i,a),addIssueToContext(a,{code:ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):util.assertNever(d);return{status:c.value,value:i.data}}_getInvalidInput(i){const s=this._getOrReturnCtx(i);return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:s.parsedType}),INVALID}gte(i,s){return this.setLimit("min",i,!0,errorUtil.toString(s))}gt(i,s){return this.setLimit("min",i,!1,errorUtil.toString(s))}lte(i,s){return this.setLimit("max",i,!0,errorUtil.toString(s))}lt(i,s){return this.setLimit("max",i,!1,errorUtil.toString(s))}setLimit(i,s,a,c){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:i,value:s,inclusive:a,message:errorUtil.toString(c)}]})}_addCheck(i){return new ZodBigInt({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(i)})}multipleOf(i,s){return this._addCheck({kind:"multipleOf",value:i,message:errorUtil.toString(s)})}get minValue(){let i=null;for(const s of this._def.checks)s.kind==="min"&&(i===null||s.value>i)&&(i=s.value);return i}get maxValue(){let i=null;for(const s of this._def.checks)s.kind==="max"&&(i===null||s.value<i)&&(i=s.value);return i}}ZodBigInt.create=o=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(o==null?void 0:o.coerce)??!1,...processCreateParams(o)});class ZodBoolean extends ZodType{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==ZodParsedType.boolean){const a=this._getOrReturnCtx(i);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:a.parsedType}),INVALID}return OK(i.data)}}ZodBoolean.create=o=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(o==null?void 0:o.coerce)||!1,...processCreateParams(o)});class ZodDate extends ZodType{_parse(i){if(this._def.coerce&&(i.data=new Date(i.data)),this._getType(i)!==ZodParsedType.date){const d=this._getOrReturnCtx(i);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:d.parsedType}),INVALID}if(Number.isNaN(i.data.getTime())){const d=this._getOrReturnCtx(i);return addIssueToContext(d,{code:ZodIssueCode.invalid_date}),INVALID}const a=new ParseStatus;let c;for(const d of this._def.checks)d.kind==="min"?i.data.getTime()<d.value&&(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),a.dirty()):d.kind==="max"?i.data.getTime()>d.value&&(c=this._getOrReturnCtx(i,c),addIssueToContext(c,{code:ZodIssueCode.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),a.dirty()):util.assertNever(d);return{status:a.value,value:new Date(i.data.getTime())}}_addCheck(i){return new ZodDate({...this._def,checks:[...this._def.checks,i]})}min(i,s){return this._addCheck({kind:"min",value:i.getTime(),message:errorUtil.toString(s)})}max(i,s){return this._addCheck({kind:"max",value:i.getTime(),message:errorUtil.toString(s)})}get minDate(){let i=null;for(const s of this._def.checks)s.kind==="min"&&(i===null||s.value>i)&&(i=s.value);return i!=null?new Date(i):null}get maxDate(){let i=null;for(const s of this._def.checks)s.kind==="max"&&(i===null||s.value<i)&&(i=s.value);return i!=null?new Date(i):null}}ZodDate.create=o=>new ZodDate({checks:[],coerce:(o==null?void 0:o.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(o)});class ZodSymbol extends ZodType{_parse(i){if(this._getType(i)!==ZodParsedType.symbol){const a=this._getOrReturnCtx(i);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:a.parsedType}),INVALID}return OK(i.data)}}ZodSymbol.create=o=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(o)});class ZodUndefined extends ZodType{_parse(i){if(this._getType(i)!==ZodParsedType.undefined){const a=this._getOrReturnCtx(i);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:a.parsedType}),INVALID}return OK(i.data)}}ZodUndefined.create=o=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(o)});class ZodNull extends ZodType{_parse(i){if(this._getType(i)!==ZodParsedType.null){const a=this._getOrReturnCtx(i);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:a.parsedType}),INVALID}return OK(i.data)}}ZodNull.create=o=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(o)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(i){return OK(i.data)}}ZodAny.create=o=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(o)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(i){return OK(i.data)}}ZodUnknown.create=o=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(o)});class ZodNever extends ZodType{_parse(i){const s=this._getOrReturnCtx(i);return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:s.parsedType}),INVALID}}ZodNever.create=o=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(o)});class ZodVoid extends ZodType{_parse(i){if(this._getType(i)!==ZodParsedType.undefined){const a=this._getOrReturnCtx(i);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:a.parsedType}),INVALID}return OK(i.data)}}ZodVoid.create=o=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(o)});class ZodArray extends ZodType{_parse(i){const{ctx:s,status:a}=this._processInputParams(i),c=this._def;if(s.parsedType!==ZodParsedType.array)return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:s.parsedType}),INVALID;if(c.exactLength!==null){const g=s.data.length>c.exactLength.value,_=s.data.length<c.exactLength.value;(g||_)&&(addIssueToContext(s,{code:g?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:_?c.exactLength.value:void 0,maximum:g?c.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:c.exactLength.message}),a.dirty())}if(c.minLength!==null&&s.data.length<c.minLength.value&&(addIssueToContext(s,{code:ZodIssueCode.too_small,minimum:c.minLength.value,type:"array",inclusive:!0,exact:!1,message:c.minLength.message}),a.dirty()),c.maxLength!==null&&s.data.length>c.maxLength.value&&(addIssueToContext(s,{code:ZodIssueCode.too_big,maximum:c.maxLength.value,type:"array",inclusive:!0,exact:!1,message:c.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((g,_)=>c.type._parseAsync(new ParseInputLazyPath(s,g,s.path,_)))).then(g=>ParseStatus.mergeArray(a,g));const d=[...s.data].map((g,_)=>c.type._parseSync(new ParseInputLazyPath(s,g,s.path,_)));return ParseStatus.mergeArray(a,d)}get element(){return this._def.type}min(i,s){return new ZodArray({...this._def,minLength:{value:i,message:errorUtil.toString(s)}})}max(i,s){return new ZodArray({...this._def,maxLength:{value:i,message:errorUtil.toString(s)}})}length(i,s){return new ZodArray({...this._def,exactLength:{value:i,message:errorUtil.toString(s)}})}nonempty(i){return this.min(1,i)}}ZodArray.create=(o,i)=>new ZodArray({type:o,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(i)});function deepPartialify(o){if(o instanceof ZodObject){const i={};for(const s in o.shape){const a=o.shape[s];i[s]=ZodOptional.create(deepPartialify(a))}return new ZodObject({...o._def,shape:()=>i})}else return o instanceof ZodArray?new ZodArray({...o._def,type:deepPartialify(o.element)}):o instanceof ZodOptional?ZodOptional.create(deepPartialify(o.unwrap())):o instanceof ZodNullable?ZodNullable.create(deepPartialify(o.unwrap())):o instanceof ZodTuple?ZodTuple.create(o.items.map(i=>deepPartialify(i))):o}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const i=this._def.shape(),s=util.objectKeys(i);return this._cached={shape:i,keys:s},this._cached}_parse(i){if(this._getType(i)!==ZodParsedType.object){const j=this._getOrReturnCtx(i);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:j.parsedType}),INVALID}const{status:a,ctx:c}=this._processInputParams(i),{shape:d,keys:g}=this._getCached(),_=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const j in c.data)g.includes(j)||_.push(j);const b=[];for(const j of g){const $=d[j],_e=c.data[j];b.push({key:{status:"valid",value:j},value:$._parse(new ParseInputLazyPath(c,_e,c.path,j)),alwaysSet:j in c.data})}if(this._def.catchall instanceof ZodNever){const j=this._def.unknownKeys;if(j==="passthrough")for(const $ of _)b.push({key:{status:"valid",value:$},value:{status:"valid",value:c.data[$]}});else if(j==="strict")_.length>0&&(addIssueToContext(c,{code:ZodIssueCode.unrecognized_keys,keys:_}),a.dirty());else if(j!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const j=this._def.catchall;for(const $ of _){const _e=c.data[$];b.push({key:{status:"valid",value:$},value:j._parse(new ParseInputLazyPath(c,_e,c.path,$)),alwaysSet:$ in c.data})}}return c.common.async?Promise.resolve().then(async()=>{const j=[];for(const $ of b){const _e=await $.key,et=await $.value;j.push({key:_e,value:et,alwaysSet:$.alwaysSet})}return j}).then(j=>ParseStatus.mergeObjectSync(a,j)):ParseStatus.mergeObjectSync(a,b)}get shape(){return this._def.shape()}strict(i){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...i!==void 0?{errorMap:(s,a)=>{var d,g;const c=((g=(d=this._def).errorMap)==null?void 0:g.call(d,s,a).message)??a.defaultError;return s.code==="unrecognized_keys"?{message:errorUtil.errToObj(i).message??c}:{message:c}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(i){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new ZodObject({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(i,s){return this.augment({[i]:s})}catchall(i){return new ZodObject({...this._def,catchall:i})}pick(i){const s={};for(const a of util.objectKeys(i))i[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new ZodObject({...this._def,shape:()=>s})}omit(i){const s={};for(const a of util.objectKeys(this.shape))i[a]||(s[a]=this.shape[a]);return new ZodObject({...this._def,shape:()=>s})}deepPartial(){return deepPartialify(this)}partial(i){const s={};for(const a of util.objectKeys(this.shape)){const c=this.shape[a];i&&!i[a]?s[a]=c:s[a]=c.optional()}return new ZodObject({...this._def,shape:()=>s})}required(i){const s={};for(const a of util.objectKeys(this.shape))if(i&&!i[a])s[a]=this.shape[a];else{let d=this.shape[a];for(;d instanceof ZodOptional;)d=d._def.innerType;s[a]=d}return new ZodObject({...this._def,shape:()=>s})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(o,i)=>new ZodObject({shape:()=>o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(i)});ZodObject.strictCreate=(o,i)=>new ZodObject({shape:()=>o,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(i)});ZodObject.lazycreate=(o,i)=>new ZodObject({shape:o,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(i)});class ZodUnion extends ZodType{_parse(i){const{ctx:s}=this._processInputParams(i),a=this._def.options;function c(d){for(const _ of d)if(_.result.status==="valid")return _.result;for(const _ of d)if(_.result.status==="dirty")return s.common.issues.push(..._.ctx.common.issues),_.result;const g=d.map(_=>new ZodError(_.ctx.common.issues));return addIssueToContext(s,{code:ZodIssueCode.invalid_union,unionErrors:g}),INVALID}if(s.common.async)return Promise.all(a.map(async d=>{const g={...s,common:{...s.common,issues:[]},parent:null};return{result:await d._parseAsync({data:s.data,path:s.path,parent:g}),ctx:g}})).then(c);{let d;const g=[];for(const b of a){const j={...s,common:{...s.common,issues:[]},parent:null},$=b._parseSync({data:s.data,path:s.path,parent:j});if($.status==="valid")return $;$.status==="dirty"&&!d&&(d={result:$,ctx:j}),j.common.issues.length&&g.push(j.common.issues)}if(d)return s.common.issues.push(...d.ctx.common.issues),d.result;const _=g.map(b=>new ZodError(b));return addIssueToContext(s,{code:ZodIssueCode.invalid_union,unionErrors:_}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(o,i)=>new ZodUnion({options:o,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(i)});function mergeValues(o,i){const s=getParsedType(o),a=getParsedType(i);if(o===i)return{valid:!0,data:o};if(s===ZodParsedType.object&&a===ZodParsedType.object){const c=util.objectKeys(i),d=util.objectKeys(o).filter(_=>c.indexOf(_)!==-1),g={...o,...i};for(const _ of d){const b=mergeValues(o[_],i[_]);if(!b.valid)return{valid:!1};g[_]=b.data}return{valid:!0,data:g}}else if(s===ZodParsedType.array&&a===ZodParsedType.array){if(o.length!==i.length)return{valid:!1};const c=[];for(let d=0;d<o.length;d++){const g=o[d],_=i[d],b=mergeValues(g,_);if(!b.valid)return{valid:!1};c.push(b.data)}return{valid:!0,data:c}}else return s===ZodParsedType.date&&a===ZodParsedType.date&&+o==+i?{valid:!0,data:o}:{valid:!1}}class ZodIntersection extends ZodType{_parse(i){const{status:s,ctx:a}=this._processInputParams(i),c=(d,g)=>{if(isAborted(d)||isAborted(g))return INVALID;const _=mergeValues(d.value,g.value);return _.valid?((isDirty(d)||isDirty(g))&&s.dirty(),{status:s.value,value:_.data}):(addIssueToContext(a,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([d,g])=>c(d,g)):c(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ZodIntersection.create=(o,i,s)=>new ZodIntersection({left:o,right:i,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(s)});class ZodTuple extends ZodType{_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.parsedType!==ZodParsedType.array)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:a.parsedType}),INVALID;if(a.data.length<this._def.items.length)return addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&a.data.length>this._def.items.length&&(addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const d=[...a.data].map((g,_)=>{const b=this._def.items[_]||this._def.rest;return b?b._parse(new ParseInputLazyPath(a,g,a.path,_)):null}).filter(g=>!!g);return a.common.async?Promise.all(d).then(g=>ParseStatus.mergeArray(s,g)):ParseStatus.mergeArray(s,d)}get items(){return this._def.items}rest(i){return new ZodTuple({...this._def,rest:i})}}ZodTuple.create=(o,i)=>{if(!Array.isArray(o))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:o,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(i)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.parsedType!==ZodParsedType.object)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:a.parsedType}),INVALID;const c=[],d=this._def.keyType,g=this._def.valueType;for(const _ in a.data)c.push({key:d._parse(new ParseInputLazyPath(a,_,a.path,_)),value:g._parse(new ParseInputLazyPath(a,a.data[_],a.path,_)),alwaysSet:_ in a.data});return a.common.async?ParseStatus.mergeObjectAsync(s,c):ParseStatus.mergeObjectSync(s,c)}get element(){return this._def.valueType}static create(i,s,a){return s instanceof ZodType?new ZodRecord({keyType:i,valueType:s,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(a)}):new ZodRecord({keyType:ZodString.create(),valueType:i,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(s)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.parsedType!==ZodParsedType.map)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:a.parsedType}),INVALID;const c=this._def.keyType,d=this._def.valueType,g=[...a.data.entries()].map(([_,b],j)=>({key:c._parse(new ParseInputLazyPath(a,_,a.path,[j,"key"])),value:d._parse(new ParseInputLazyPath(a,b,a.path,[j,"value"]))}));if(a.common.async){const _=new Map;return Promise.resolve().then(async()=>{for(const b of g){const j=await b.key,$=await b.value;if(j.status==="aborted"||$.status==="aborted")return INVALID;(j.status==="dirty"||$.status==="dirty")&&s.dirty(),_.set(j.value,$.value)}return{status:s.value,value:_}})}else{const _=new Map;for(const b of g){const j=b.key,$=b.value;if(j.status==="aborted"||$.status==="aborted")return INVALID;(j.status==="dirty"||$.status==="dirty")&&s.dirty(),_.set(j.value,$.value)}return{status:s.value,value:_}}}}ZodMap.create=(o,i,s)=>new ZodMap({valueType:i,keyType:o,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(s)});class ZodSet extends ZodType{_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.parsedType!==ZodParsedType.set)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:a.parsedType}),INVALID;const c=this._def;c.minSize!==null&&a.data.size<c.minSize.value&&(addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:c.minSize.value,type:"set",inclusive:!0,exact:!1,message:c.minSize.message}),s.dirty()),c.maxSize!==null&&a.data.size>c.maxSize.value&&(addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:c.maxSize.value,type:"set",inclusive:!0,exact:!1,message:c.maxSize.message}),s.dirty());const d=this._def.valueType;function g(b){const j=new Set;for(const $ of b){if($.status==="aborted")return INVALID;$.status==="dirty"&&s.dirty(),j.add($.value)}return{status:s.value,value:j}}const _=[...a.data.values()].map((b,j)=>d._parse(new ParseInputLazyPath(a,b,a.path,j)));return a.common.async?Promise.all(_).then(b=>g(b)):g(_)}min(i,s){return new ZodSet({...this._def,minSize:{value:i,message:errorUtil.toString(s)}})}max(i,s){return new ZodSet({...this._def,maxSize:{value:i,message:errorUtil.toString(s)}})}size(i,s){return this.min(i,s).max(i,s)}nonempty(i){return this.min(1,i)}}ZodSet.create=(o,i)=>new ZodSet({valueType:o,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(i)});class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(i){const{ctx:s}=this._processInputParams(i);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}ZodLazy.create=(o,i)=>new ZodLazy({getter:o,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(i)});class ZodLiteral extends ZodType{_parse(i){if(i.data!==this._def.value){const s=this._getOrReturnCtx(i);return addIssueToContext(s,{received:s.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:i.data}}get value(){return this._def.value}}ZodLiteral.create=(o,i)=>new ZodLiteral({value:o,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(i)});function createZodEnum(o,i){return new ZodEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(i)})}class ZodEnum extends ZodType{_parse(i){if(typeof i.data!="string"){const s=this._getOrReturnCtx(i),a=this._def.values;return addIssueToContext(s,{expected:util.joinValues(a),received:s.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(i.data)){const s=this._getOrReturnCtx(i),a=this._def.values;return addIssueToContext(s,{received:s.data,code:ZodIssueCode.invalid_enum_value,options:a}),INVALID}return OK(i.data)}get options(){return this._def.values}get enum(){const i={};for(const s of this._def.values)i[s]=s;return i}get Values(){const i={};for(const s of this._def.values)i[s]=s;return i}get Enum(){const i={};for(const s of this._def.values)i[s]=s;return i}extract(i,s=this._def){return ZodEnum.create(i,{...this._def,...s})}exclude(i,s=this._def){return ZodEnum.create(this.options.filter(a=>!i.includes(a)),{...this._def,...s})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(i){const s=util.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(i);if(a.parsedType!==ZodParsedType.string&&a.parsedType!==ZodParsedType.number){const c=util.objectValues(s);return addIssueToContext(a,{expected:util.joinValues(c),received:a.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util.getValidEnumValues(this._def.values))),!this._cache.has(i.data)){const c=util.objectValues(s);return addIssueToContext(a,{received:a.data,code:ZodIssueCode.invalid_enum_value,options:c}),INVALID}return OK(i.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(o,i)=>new ZodNativeEnum({values:o,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(i)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(i){const{ctx:s}=this._processInputParams(i);if(s.parsedType!==ZodParsedType.promise&&s.common.async===!1)return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:s.parsedType}),INVALID;const a=s.parsedType===ZodParsedType.promise?s.data:Promise.resolve(s.data);return OK(a.then(c=>this._def.type.parseAsync(c,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ZodPromise.create=(o,i)=>new ZodPromise({type:o,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(i)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){const{status:s,ctx:a}=this._processInputParams(i),c=this._def.effect||null,d={addIssue:g=>{addIssueToContext(a,g),g.fatal?s.abort():s.dirty()},get path(){return a.path}};if(d.addIssue=d.addIssue.bind(d),c.type==="preprocess"){const g=c.transform(a.data,d);if(a.common.async)return Promise.resolve(g).then(async _=>{if(s.value==="aborted")return INVALID;const b=await this._def.schema._parseAsync({data:_,path:a.path,parent:a});return b.status==="aborted"?INVALID:b.status==="dirty"||s.value==="dirty"?DIRTY(b.value):b});{if(s.value==="aborted")return INVALID;const _=this._def.schema._parseSync({data:g,path:a.path,parent:a});return _.status==="aborted"?INVALID:_.status==="dirty"||s.value==="dirty"?DIRTY(_.value):_}}if(c.type==="refinement"){const g=_=>{const b=c.refinement(_,d);if(a.common.async)return Promise.resolve(b);if(b instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return _};if(a.common.async===!1){const _=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return _.status==="aborted"?INVALID:(_.status==="dirty"&&s.dirty(),g(_.value),{status:s.value,value:_.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(_=>_.status==="aborted"?INVALID:(_.status==="dirty"&&s.dirty(),g(_.value).then(()=>({status:s.value,value:_.value}))))}if(c.type==="transform")if(a.common.async===!1){const g=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!isValid(g))return INVALID;const _=c.transform(g.value,d);if(_ instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:_}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(g=>isValid(g)?Promise.resolve(c.transform(g.value,d)).then(_=>({status:s.value,value:_})):INVALID);util.assertNever(c)}}ZodEffects.create=(o,i,s)=>new ZodEffects({schema:o,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:i,...processCreateParams(s)});ZodEffects.createWithPreprocess=(o,i,s)=>new ZodEffects({schema:i,effect:{type:"preprocess",transform:o},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(s)});class ZodOptional extends ZodType{_parse(i){return this._getType(i)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}ZodOptional.create=(o,i)=>new ZodOptional({innerType:o,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(i)});class ZodNullable extends ZodType{_parse(i){return this._getType(i)===ZodParsedType.null?OK(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}ZodNullable.create=(o,i)=>new ZodNullable({innerType:o,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(i)});class ZodDefault extends ZodType{_parse(i){const{ctx:s}=this._processInputParams(i);let a=s.data;return s.parsedType===ZodParsedType.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}ZodDefault.create=(o,i)=>new ZodDefault({innerType:o,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof i.default=="function"?i.default:()=>i.default,...processCreateParams(i)});class ZodCatch extends ZodType{_parse(i){const{ctx:s}=this._processInputParams(i),a={...s,common:{...s.common,issues:[]}},c=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return isAsync(c)?c.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new ZodError(a.common.issues)},input:a.data})})):{status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new ZodError(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(o,i)=>new ZodCatch({innerType:o,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof i.catch=="function"?i.catch:()=>i.catch,...processCreateParams(i)});class ZodNaN extends ZodType{_parse(i){if(this._getType(i)!==ZodParsedType.nan){const a=this._getOrReturnCtx(i);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:a.parsedType}),INVALID}return{status:"valid",value:i.data}}}ZodNaN.create=o=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(o)});class ZodBranded extends ZodType{_parse(i){const{ctx:s}=this._processInputParams(i),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.common.async)return(async()=>{const d=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return d.status==="aborted"?INVALID:d.status==="dirty"?(s.dirty(),DIRTY(d.value)):this._def.out._parseAsync({data:d.value,path:a.path,parent:a})})();{const c=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?INVALID:c.status==="dirty"?(s.dirty(),{status:"dirty",value:c.value}):this._def.out._parseSync({data:c.value,path:a.path,parent:a})}}static create(i,s){return new ZodPipeline({in:i,out:s,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(i){const s=this._def.innerType._parse(i),a=c=>(isValid(c)&&(c.value=Object.freeze(c.value)),c);return isAsync(s)?s.then(c=>a(c)):a(s)}unwrap(){return this._def.innerType}}ZodReadonly.create=(o,i)=>new ZodReadonly({innerType:o,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(i)});var ZodFirstPartyTypeKind;(function(o){o.ZodString="ZodString",o.ZodNumber="ZodNumber",o.ZodNaN="ZodNaN",o.ZodBigInt="ZodBigInt",o.ZodBoolean="ZodBoolean",o.ZodDate="ZodDate",o.ZodSymbol="ZodSymbol",o.ZodUndefined="ZodUndefined",o.ZodNull="ZodNull",o.ZodAny="ZodAny",o.ZodUnknown="ZodUnknown",o.ZodNever="ZodNever",o.ZodVoid="ZodVoid",o.ZodArray="ZodArray",o.ZodObject="ZodObject",o.ZodUnion="ZodUnion",o.ZodDiscriminatedUnion="ZodDiscriminatedUnion",o.ZodIntersection="ZodIntersection",o.ZodTuple="ZodTuple",o.ZodRecord="ZodRecord",o.ZodMap="ZodMap",o.ZodSet="ZodSet",o.ZodFunction="ZodFunction",o.ZodLazy="ZodLazy",o.ZodLiteral="ZodLiteral",o.ZodEnum="ZodEnum",o.ZodEffects="ZodEffects",o.ZodNativeEnum="ZodNativeEnum",o.ZodOptional="ZodOptional",o.ZodNullable="ZodNullable",o.ZodDefault="ZodDefault",o.ZodCatch="ZodCatch",o.ZodPromise="ZodPromise",o.ZodBranded="ZodBranded",o.ZodPipeline="ZodPipeline",o.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const stringType=ZodString.create,numberType=ZodNumber.create,booleanType=ZodBoolean.create,undefinedType=ZodUndefined.create,anyType=ZodAny.create;ZodNever.create;const arrayType=ZodArray.create,objectType=ZodObject.create,unionType=ZodUnion.create;ZodIntersection.create;const tupleType=ZodTuple.create,recordType=ZodRecord.create,literalType=ZodLiteral.create,enumType=ZodEnum.create;ZodPromise.create;ZodOptional.create;ZodNullable.create;const Port=objectType({port:stringType(),types:arrayType(stringType()).default([])}).passthrough(),Node=objectType({id:stringType(),type:stringType(),name:stringType().optional(),params:recordType(anyType()).default({}),in:arrayType(Port).default([]),out:arrayType(Port).default([])}).passthrough(),Edge=objectType({id:stringType().optional(),from:tupleType([stringType(),stringType()]),to:tupleType([stringType(),stringType()]),label:stringType().optional()}).passthrough(),Flow=objectType({id:stringType(),version:stringType().default("1.0.0"),nodes:arrayType(Node).default([]),edges:arrayType(Edge).default([])}).passthrough(),flowValidate={request:Flow,response:objectType({ok:booleanType(),errors:arrayType(stringType())})},flowRun={request:Flow,response:objectType({runId:stringType()})},modelEnsure={request:objectType({modelId:stringType()}),response:objectType({ok:booleanType()})},nodeState=objectType({type:literalType("node_state"),runId:stringType(),nodeId:stringType(),state:stringType(),at:numberType()}),edgeTransfer=objectType({type:literalType("edge_transfer"),runId:stringType(),edgeId:stringType(),bytes:numberType(),at:numberType()}),normalize=objectType({type:literalType("normalize"),runId:stringType(),nodeId:stringType(),fromType:stringType(),toType:stringType(),at:numberType()}),error=objectType({type:literalType("error"),runId:stringType(),nodeId:stringType(),code:stringType(),message:stringType(),at:numberType()}),operationProgress=objectType({type:literalType("operation_progress"),runId:stringType(),nodeId:stringType(),tokens:numberType(),latencyMs:numberType(),status:enumType(["ok","error"]),reason:stringType().optional()}),telemetryPayload=unionType([nodeState,edgeTransfer,normalize,error,operationProgress]),telemetryEvent={payload:telemetryPayload},appGetVersion={request:undefinedType(),response:stringType()};undefinedType(),objectType({ok:booleanType()});async function invoke(o,i,s,a){const c=i.safeParse(a);if(!c.success)throw{type:"validation",issues:c.error.issues};const d=await o(c.data);if(d&&typeof d=="object"&&"error"in d)throw{type:"ipc",error:d.error};const g=s.safeParse(d);if(!g.success)throw{type:"validation",issues:g.error.issues};return g.data}const ipcClient={validateFlow:o=>invoke(window.voide.validateFlow,flowValidate.request,flowValidate.response,o),runFlow:o=>invoke(window.voide.runFlow,flowRun.request,flowRun.response,o),ensureModel:o=>invoke(window.voide.ensureModel,modelEnsure.request,modelEnsure.response,{modelId:o}),getVersion:()=>invoke(window.voide.getVersion,appGetVersion.request,appGetVersion.response,void 0),onTelemetry:o=>{window.voide.onTelemetry(i=>{const s=telemetryEvent.payload.safeParse(i);s.success&&o(s.data)})}},appShellStyle={display:"flex",flexDirection:"column",height:"100vh",background:"#e2e8f0"},workspaceRowStyle={display:"flex",flex:1,minHeight:0},canvasContainerStyle={flex:1,minHeight:0,position:"relative",background:"#ffffff"};function getCurrentRoute(){return typeof window>"u"?"":window.location.hash.replace(/^#/,"").replace(/^\//,"")}function MainWorkspace(){const o=useFlowStore(s=>s.flow),i=reactExports.useCallback(async()=>{const{sendActiveDraft:s,hasOpenChat:a}=useChatStore.getState(),c=s();a()&&!c||await ipcClient.runFlow(o)},[o]);return jsxRuntimeExports.jsxs("div",{style:appShellStyle,children:[jsxRuntimeExports.jsx(RunControls,{onRun:i}),jsxRuntimeExports.jsxs("div",{style:workspaceRowStyle,children:[jsxRuntimeExports.jsx(Palette,{}),jsxRuntimeExports.jsx("div",{style:canvasContainerStyle,children:jsxRuntimeExports.jsx(GraphCanvas,{})})]})]})}function App(){const[o,i]=reactExports.useState(()=>getCurrentRoute());return reactExports.useEffect(()=>{if(typeof window>"u")return;const s=()=>i(getCurrentRoute());return window.addEventListener("hashchange",s),()=>window.removeEventListener("hashchange",s)},[]),o==="chat"?jsxRuntimeExports.jsx(ChatInterface,{}):jsxRuntimeExports.jsx(MainWorkspace,{})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));

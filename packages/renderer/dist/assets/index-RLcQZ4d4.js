(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jh={exports:{}},sa={},em={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Iv=Symbol.for("react.portal"),Pv=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),Av=Symbol.for("react.profiler"),zv=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),$v=Symbol.for("react.suspense"),Ov=Symbol.for("react.memo"),jv=Symbol.for("react.lazy"),hf=Symbol.iterator;function Fv(e){return e===null||typeof e!="object"?null:(e=hf&&e[hf]||e["@@iterator"],typeof e=="function"?e:null)}var tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nm=Object.assign,rm={};function Zi(e,t,n){this.props=e,this.context=t,this.refs=rm,this.updater=n||tm}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function im(){}im.prototype=Zi.prototype;function Wc(e,t,n){this.props=e,this.context=t,this.refs=rm,this.updater=n||tm}var qc=Wc.prototype=new im;qc.constructor=Wc;nm(qc,Zi.prototype);qc.isPureReactComponent=!0;var mf=Array.isArray,om=Object.prototype.hasOwnProperty,Yc={current:null},sm={key:!0,ref:!0,__self:!0,__source:!0};function lm(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)om.call(t,r)&&!sm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:os,type:e,key:o,ref:s,props:i,_owner:Yc.current}}function Bv(e,t){return{$$typeof:os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===os}function Hv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gf=/\/+/g;function za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hv(""+e.key):t.toString(36)}function il(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case os:case Iv:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+za(s,0):r,mf(i)?(n="",e!=null&&(n=e.replace(gf,"$&/")+"/"),il(i,t,n,"",function(u){return u})):i!=null&&(Zc(i)&&(i=Bv(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(gf,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",mf(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+za(o,l);s+=il(o,t,n,a,i)}else if(a=Fv(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+za(o,l++),s+=il(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function xs(e,t,n){if(e==null)return e;var r=[],i=0;return il(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Vv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ol={transition:null},Uv={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ol,ReactCurrentOwner:Yc};function am(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:xs,forEach:function(e,t,n){xs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xs(e,function(){t++}),t},toArray:function(e){return xs(e,function(t){return t})||[]},only:function(e){if(!Zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Zi;fe.Fragment=Pv;fe.Profiler=Av;fe.PureComponent=Wc;fe.StrictMode=Rv;fe.Suspense=$v;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uv;fe.act=am;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nm({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Yc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)om.call(t,a)&&!sm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:os,type:e.type,key:i,ref:o,props:r,_owner:s}};fe.createContext=function(e){return e={$$typeof:Lv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zv,_context:e},e.Consumer=e};fe.createElement=lm;fe.createFactory=function(e){var t=lm.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Dv,render:e}};fe.isValidElement=Zc;fe.lazy=function(e){return{$$typeof:jv,_payload:{_status:-1,_result:e},_init:Vv}};fe.memo=function(e,t){return{$$typeof:Ov,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=ol.transition;ol.transition={};try{e()}finally{ol.transition=t}};fe.unstable_act=am;fe.useCallback=function(e,t){return ht.current.useCallback(e,t)};fe.useContext=function(e){return ht.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};fe.useEffect=function(e,t){return ht.current.useEffect(e,t)};fe.useId=function(){return ht.current.useId()};fe.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return ht.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};fe.useRef=function(e){return ht.current.useRef(e)};fe.useState=function(e){return ht.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return ht.current.useTransition()};fe.version="18.3.1";em.exports=fe;var S=em.exports;const U=Kh(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv=S,qv=Symbol.for("react.element"),Yv=Symbol.for("react.fragment"),Zv=Object.prototype.hasOwnProperty,Xv=Wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gv={key:!0,ref:!0,__self:!0,__source:!0};function um(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Zv.call(t,r)&&!Gv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qv,type:e,key:o,ref:s,props:i,_owner:Xv.current}}sa.Fragment=Yv;sa.jsx=um;sa.jsxs=um;Jh.exports=sa;var y=Jh.exports,cm={exports:{}},It={},dm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,C){var b=R.length;R.push(C);e:for(;0<b;){var z=b-1>>>1,k=R[z];if(0<i(k,C))R[z]=C,R[b]=k,b=z;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var C=R[0],b=R.pop();if(b!==C){R[0]=b;e:for(var z=0,k=R.length,O=k>>>1;z<O;){var j=2*(z+1)-1,W=R[j],X=j+1,te=R[X];if(0>i(W,b))X<k&&0>i(te,W)?(R[z]=te,R[X]=b,z=X):(R[z]=W,R[j]=b,z=j);else if(X<k&&0>i(te,b))R[z]=te,R[X]=b,z=X;else break e}}return C}function i(R,C){var b=R.sortIndex-C.sortIndex;return b!==0?b:R.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,x=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=R)r(u),C.sortIndex=C.expirationTime,t(a,C);else break;C=n(u)}}function w(R){if(v=!1,g(R),!x)if(n(a)!==null)x=!0,I(N);else{var C=n(u);C!==null&&L(w,C.startTime-R)}}function N(R,C){x=!1,v&&(v=!1,p(M),M=-1),m=!0;var b=f;try{for(g(C),d=n(a);d!==null&&(!(d.expirationTime>C)||R&&!F());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var k=z(d.expirationTime<=C);C=e.unstable_now(),typeof k=="function"?d.callback=k:d===n(a)&&r(a),g(C)}else r(a);d=n(a)}if(d!==null)var O=!0;else{var j=n(u);j!==null&&L(w,j.startTime-C),O=!1}return O}finally{d=null,f=b,m=!1}}var A=!1,E=null,M=-1,D=5,$=-1;function F(){return!(e.unstable_now()-$<D)}function B(){if(E!==null){var R=e.unstable_now();$=R;var C=!0;try{C=E(!0,R)}finally{C?V():(A=!1,E=null)}}else A=!1}var V;if(typeof h=="function")V=function(){h(B)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,P=_.port2;_.port1.onmessage=B,V=function(){P.postMessage(null)}}else V=function(){T(B,0)};function I(R){E=R,A||(A=!0,V())}function L(R,C){M=T(function(){R(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,I(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var b=f;f=C;try{return R()}finally{f=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,C){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var b=f;f=R;try{return C()}finally{f=b}},e.unstable_scheduleCallback=function(R,C,b){var z=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?z+b:z):b=z,R){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=b+k,R={id:c++,callback:C,priorityLevel:R,startTime:b,expirationTime:k,sortIndex:-1},b>z?(R.sortIndex=b,t(u,R),n(a)===null&&R===n(u)&&(v?(p(M),M=-1):v=!0,L(w,b-z))):(R.sortIndex=k,t(a,R),x||m||(x=!0,I(N))),R},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(R){var C=f;return function(){var b=f;f=C;try{return R.apply(this,arguments)}finally{f=b}}}})(fm);dm.exports=fm;var Qv=dm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=S,Tt=Qv;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pm=new Set,Ao={};function Wr(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(Ao[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,Jv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yf={},vf={};function ex(e){return Eu.call(vf,e)?!0:Eu.call(yf,e)?!1:Jv.test(e)?vf[e]=!0:(yf[e]=!0,!1)}function tx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nx(e,t,n,r){if(t===null||typeof t>"u"||tx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xc=/[\-:]([a-z])/g;function Gc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xc,Gc);Ge[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xc,Gc);Ge[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xc,Gc);Ge[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qc(e,t,n,r){var i=Ge.hasOwnProperty(t)?Ge[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nx(t,n,i,r)&&(n=null),r||i===null?ex(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=Kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),ri=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),Kc=Symbol.for("react.strict_mode"),bu=Symbol.for("react.profiler"),hm=Symbol.for("react.provider"),mm=Symbol.for("react.context"),Jc=Symbol.for("react.forward_ref"),Cu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),ed=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),gm=Symbol.for("react.offscreen"),xf=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=xf&&e[xf]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,La;function ho(e){if(La===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);La=t&&t[1]||""}return`
`+La+e}var Da=!1;function $a(e,t){if(!e||Da)return"";Da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Da=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ho(e):""}function rx(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=$a(e.type,!1),e;case 11:return e=$a(e.type.render,!1),e;case 1:return e=$a(e.type,!0),e;default:return""}}function Nu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ri:return"Portal";case bu:return"Profiler";case Kc:return"StrictMode";case Cu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mm:return(e.displayName||"Context")+".Consumer";case hm:return(e._context.displayName||"Context")+".Provider";case Jc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ed:return t=e.displayName||null,t!==null?t:Nu(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return Nu(e(t))}catch{}}return null}function ix(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nu(t);case 8:return t===Kc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ox(e){var t=ym(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=ox(e))}function vm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ym(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mu(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xm(e,t){t=t.checked,t!=null&&Qc(e,"checked",t,!1)}function Iu(e,t){xm(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pu(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _f(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pu(e,t,n){(t!=="number"||_l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mo=Array.isArray;function xi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(mo(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function wm(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _m(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_m(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ss,Sm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sx=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(e){sx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ko[t]=ko[e]})});function km(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ko.hasOwnProperty(e)&&ko[e]?(""+t).trim():t+"px"}function Em(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=km(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lx=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(e,t){if(t){if(lx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=null;function td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,wi=null,_i=null;function Ef(e){if(e=as(e)){if(typeof $u!="function")throw Error(q(280));var t=e.stateNode;t&&(t=da(t),$u(e.stateNode,e.type,t))}}function bm(e){wi?_i?_i.push(e):_i=[e]:wi=e}function Cm(){if(wi){var e=wi,t=_i;if(_i=wi=null,Ef(e),t)for(e=0;e<t.length;e++)Ef(t[e])}}function Tm(e,t){return e(t)}function Nm(){}var Oa=!1;function Mm(e,t,n){if(Oa)return e(t,n);Oa=!0;try{return Tm(e,t,n)}finally{Oa=!1,(wi!==null||_i!==null)&&(Nm(),Cm())}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var r=da(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Ou=!1;if(Cn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Ou=!1}function ax(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Eo=!1,Sl=null,kl=!1,ju=null,ux={onError:function(e){Eo=!0,Sl=e}};function cx(e,t,n,r,i,o,s,l,a){Eo=!1,Sl=null,ax.apply(ux,arguments)}function dx(e,t,n,r,i,o,s,l,a){if(cx.apply(this,arguments),Eo){if(Eo){var u=Sl;Eo=!1,Sl=null}else throw Error(q(198));kl||(kl=!0,ju=u)}}function qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Im(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bf(e){if(qr(e)!==e)throw Error(q(188))}function fx(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bf(i),e;if(o===r)return bf(i),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Pm(e){return e=fx(e),e!==null?Rm(e):null}function Rm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rm(e);if(t!==null)return t;e=e.sibling}return null}var Am=Tt.unstable_scheduleCallback,Cf=Tt.unstable_cancelCallback,px=Tt.unstable_shouldYield,hx=Tt.unstable_requestPaint,$e=Tt.unstable_now,mx=Tt.unstable_getCurrentPriorityLevel,nd=Tt.unstable_ImmediatePriority,zm=Tt.unstable_UserBlockingPriority,El=Tt.unstable_NormalPriority,gx=Tt.unstable_LowPriority,Lm=Tt.unstable_IdlePriority,la=null,an=null;function yx(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(la,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:wx,vx=Math.log,xx=Math.LN2;function wx(e){return e>>>=0,e===0?32:31-(vx(e)/xx|0)|0}var ks=64,Es=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=go(l):(o&=s,o!==0&&(r=go(o)))}else s=n&~i,s!==0?r=go(s):o!==0&&(r=go(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xt(t),i=1<<n,r|=e[n],t&=~i;return r}function _x(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Xt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=_x(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dm(){var e=ks;return ks<<=1,!(ks&4194240)&&(ks=64),e}function ja(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function kx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Xt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function rd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _e=0;function $m(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Om,id,jm,Fm,Bm,Bu=!1,bs=[],sr=null,lr=null,ar=null,Do=new Map,$o=new Map,er=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tf(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(t.pointerId)}}function to(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=as(t),t!==null&&id(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bx(e,t,n,r,i){switch(t){case"focusin":return sr=to(sr,e,t,n,r,i),!0;case"dragenter":return lr=to(lr,e,t,n,r,i),!0;case"mouseover":return ar=to(ar,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Do.set(o,to(Do.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$o.set(o,to($o.get(o)||null,e,t,n,r,i)),!0}return!1}function Hm(e){var t=Tr(e.target);if(t!==null){var n=qr(t);if(n!==null){if(t=n.tag,t===13){if(t=Im(n),t!==null){e.blockedOn=t,Bm(e.priority,function(){jm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Du=r,n.target.dispatchEvent(r),Du=null}else return t=as(n),t!==null&&id(t),e.blockedOn=n,!1;t.shift()}return!0}function Nf(e,t,n){sl(e)&&n.delete(t)}function Cx(){Bu=!1,sr!==null&&sl(sr)&&(sr=null),lr!==null&&sl(lr)&&(lr=null),ar!==null&&sl(ar)&&(ar=null),Do.forEach(Nf),$o.forEach(Nf)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Cx)))}function Oo(e){function t(i){return no(i,e)}if(0<bs.length){no(bs[0],e);for(var n=1;n<bs.length;n++){var r=bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sr!==null&&no(sr,e),lr!==null&&no(lr,e),ar!==null&&no(ar,e),Do.forEach(t),$o.forEach(t),n=0;n<er.length;n++)r=er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<er.length&&(n=er[0],n.blockedOn===null);)Hm(n),n.blockedOn===null&&er.shift()}var Si=An.ReactCurrentBatchConfig,Cl=!0;function Tx(e,t,n,r){var i=_e,o=Si.transition;Si.transition=null;try{_e=1,od(e,t,n,r)}finally{_e=i,Si.transition=o}}function Nx(e,t,n,r){var i=_e,o=Si.transition;Si.transition=null;try{_e=4,od(e,t,n,r)}finally{_e=i,Si.transition=o}}function od(e,t,n,r){if(Cl){var i=Hu(e,t,n,r);if(i===null)Xa(e,t,r,Tl,n),Tf(e,r);else if(bx(i,e,t,n,r))r.stopPropagation();else if(Tf(e,r),t&4&&-1<Ex.indexOf(e)){for(;i!==null;){var o=as(i);if(o!==null&&Om(o),o=Hu(e,t,n,r),o===null&&Xa(e,t,r,Tl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Xa(e,t,r,null,n)}}var Tl=null;function Hu(e,t,n,r){if(Tl=null,e=td(r),e=Tr(e),e!==null)if(t=qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Im(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function Vm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mx()){case nd:return 1;case zm:return 4;case El:case gx:return 16;case Lm:return 536870912;default:return 16}default:return 16}}var rr=null,sd=null,ll=null;function Um(){if(ll)return ll;var e,t=sd,n=t.length,r,i="value"in rr?rr.value:rr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ll=i.slice(e,1<r?1-r:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Mf(){return!1}function Pt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cs:Mf,this.isPropagationStopped=Mf,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=Pt(Xi),ls=Ie({},Xi,{view:0,detail:0}),Mx=Pt(ls),Fa,Ba,ro,aa=Ie({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ro&&(ro&&e.type==="mousemove"?(Fa=e.screenX-ro.screenX,Ba=e.screenY-ro.screenY):Ba=Fa=0,ro=e),Fa)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),If=Pt(aa),Ix=Ie({},aa,{dataTransfer:0}),Px=Pt(Ix),Rx=Ie({},ls,{relatedTarget:0}),Ha=Pt(Rx),Ax=Ie({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=Pt(Ax),Lx=Ie({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dx=Pt(Lx),$x=Ie({},Xi,{data:0}),Pf=Pt($x),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fx[e])?!!t[e]:!1}function ad(){return Bx}var Hx=Ie({},ls,{key:function(e){if(e.key){var t=Ox[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vx=Pt(Hx),Ux=Ie({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Pt(Ux),Wx=Ie({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),qx=Pt(Wx),Yx=Ie({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zx=Pt(Yx),Xx=Ie({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gx=Pt(Xx),Qx=[9,13,27,32],ud=Cn&&"CompositionEvent"in window,bo=null;Cn&&"documentMode"in document&&(bo=document.documentMode);var Kx=Cn&&"TextEvent"in window&&!bo,Wm=Cn&&(!ud||bo&&8<bo&&11>=bo),Af=" ",zf=!1;function qm(e,t){switch(e){case"keyup":return Qx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function Jx(e,t){switch(e){case"compositionend":return Ym(t);case"keypress":return t.which!==32?null:(zf=!0,Af);case"textInput":return e=t.data,e===Af&&zf?null:e;default:return null}}function e1(e,t){if(oi)return e==="compositionend"||!ud&&qm(e,t)?(e=Um(),ll=sd=rr=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wm&&t.locale!=="ko"?null:t.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t1[e.type]:t==="textarea"}function Zm(e,t,n,r){bm(r),t=Nl(t,"onChange"),0<t.length&&(n=new ld("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Co=null,jo=null;function n1(e){og(e,0)}function ua(e){var t=ai(e);if(vm(t))return e}function r1(e,t){if(e==="change")return t}var Xm=!1;if(Cn){var Va;if(Cn){var Ua="oninput"in document;if(!Ua){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),Ua=typeof Df.oninput=="function"}Va=Ua}else Va=!1;Xm=Va&&(!document.documentMode||9<document.documentMode)}function $f(){Co&&(Co.detachEvent("onpropertychange",Gm),jo=Co=null)}function Gm(e){if(e.propertyName==="value"&&ua(jo)){var t=[];Zm(t,jo,e,td(e)),Mm(n1,t)}}function i1(e,t,n){e==="focusin"?($f(),Co=t,jo=n,Co.attachEvent("onpropertychange",Gm)):e==="focusout"&&$f()}function o1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(jo)}function s1(e,t){if(e==="click")return ua(t)}function l1(e,t){if(e==="input"||e==="change")return ua(t)}function a1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:a1;function Fo(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eu.call(t,i)||!Kt(e[i],t[i]))return!1}return!0}function Of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jf(e,t){var n=Of(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Of(n)}}function Qm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Km(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_l(e.document)}return t}function cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u1(e){var t=Km(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Qm(n.ownerDocument.documentElement,n)){if(r!==null&&cd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=jf(n,o);var s=jf(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c1=Cn&&"documentMode"in document&&11>=document.documentMode,si=null,Vu=null,To=null,Uu=!1;function Ff(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||si==null||si!==_l(r)||(r=si,"selectionStart"in r&&cd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&Fo(To,r)||(To=r,r=Nl(Vu,"onSelect"),0<r.length&&(t=new ld("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=si)))}function Ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var li={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},Wa={},Jm={};Cn&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function ca(e){if(Wa[e])return Wa[e];if(!li[e])return e;var t=li[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jm)return Wa[e]=t[n];return e}var eg=ca("animationend"),tg=ca("animationiteration"),ng=ca("animationstart"),rg=ca("transitionend"),ig=new Map,Bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){ig.set(e,t),Wr(t,[e])}for(var qa=0;qa<Bf.length;qa++){var Ya=Bf[qa],d1=Ya.toLowerCase(),f1=Ya[0].toUpperCase()+Ya.slice(1);_r(d1,"on"+f1)}_r(eg,"onAnimationEnd");_r(tg,"onAnimationIteration");_r(ng,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(rg,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Hf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dx(r,t,void 0,e),e.currentTarget=null}function og(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Hf(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Hf(i,l,u),o=a}}}if(kl)throw e=ju,kl=!1,ju=null,e}function be(e,t){var n=t[Xu];n===void 0&&(n=t[Xu]=new Set);var r=e+"__bubble";n.has(r)||(sg(t,e,2,!1),n.add(r))}function Za(e,t,n){var r=0;t&&(r|=4),sg(n,e,r,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Ns]){e[Ns]=!0,pm.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||Za(n,!1,e),Za(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,Za("selectionchange",!1,t))}}function sg(e,t,n,r){switch(Vm(t)){case 1:var i=Tx;break;case 4:i=Nx;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xa(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Tr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Mm(function(){var u=o,c=td(n),d=[];e:{var f=ig.get(e);if(f!==void 0){var m=ld,x=e;switch(e){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":m=Vx;break;case"focusin":x="focus",m=Ha;break;case"focusout":x="blur",m=Ha;break;case"beforeblur":case"afterblur":m=Ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=If;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qx;break;case eg:case tg:case ng:m=zx;break;case rg:m=Zx;break;case"scroll":m=Mx;break;case"wheel":m=Gx;break;case"copy":case"cut":case"paste":m=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rf}var v=(t&4)!==0,T=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var h=u,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=Lo(h,p),w!=null&&v.push(Ho(h,w,g)))),T)break;h=h.return}0<v.length&&(f=new m(f,x,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Du&&(x=n.relatedTarget||n.fromElement)&&(Tr(x)||x[Tn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?Tr(x):null,x!==null&&(T=qr(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(v=If,w="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=Rf,w="onPointerLeave",p="onPointerEnter",h="pointer"),T=m==null?f:ai(m),g=x==null?f:ai(x),f=new v(w,h+"leave",m,n,c),f.target=T,f.relatedTarget=g,w=null,Tr(c)===u&&(v=new v(p,h+"enter",x,n,c),v.target=g,v.relatedTarget=T,w=v),T=w,m&&x)t:{for(v=m,p=x,h=0,g=v;g;g=Zr(g))h++;for(g=0,w=p;w;w=Zr(w))g++;for(;0<h-g;)v=Zr(v),h--;for(;0<g-h;)p=Zr(p),g--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=Zr(v),p=Zr(p)}v=null}else v=null;m!==null&&Vf(d,f,m,v,!1),x!==null&&T!==null&&Vf(d,T,x,v,!0)}}e:{if(f=u?ai(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=r1;else if(Lf(f))if(Xm)N=l1;else{N=o1;var A=i1}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=s1);if(N&&(N=N(e,u))){Zm(d,N,n,c);break e}A&&A(e,f,u),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Pu(f,"number",f.value)}switch(A=u?ai(u):window,e){case"focusin":(Lf(A)||A.contentEditable==="true")&&(si=A,Vu=u,To=null);break;case"focusout":To=Vu=si=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Ff(d,n,c);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":Ff(d,n,c)}var E;if(ud)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else oi?qm(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Wm&&n.locale!=="ko"&&(oi||M!=="onCompositionStart"?M==="onCompositionEnd"&&oi&&(E=Um()):(rr=c,sd="value"in rr?rr.value:rr.textContent,oi=!0)),A=Nl(u,M),0<A.length&&(M=new Pf(M,e,null,n,c),d.push({event:M,listeners:A}),E?M.data=E:(E=Ym(n),E!==null&&(M.data=E)))),(E=Kx?Jx(e,n):e1(e,n))&&(u=Nl(u,"onBeforeInput"),0<u.length&&(c=new Pf("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}og(d,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Lo(e,n),o!=null&&r.unshift(Ho(e,o,i)),o=Lo(e,t),o!=null&&r.push(Ho(e,o,i))),e=e.return}return r}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vf(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Lo(n,o),a!=null&&s.unshift(Ho(n,a,l))):i||(a=Lo(n,o),a!=null&&s.push(Ho(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var h1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function Uf(e){return(typeof e=="string"?e:""+e).replace(h1,`
`).replace(m1,"")}function Ms(e,t,n){if(t=Uf(t),Uf(e)!==t&&n)throw Error(q(425))}function Ml(){}var Wu=null,qu=null;function Yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(e){return Wf.resolve(null).then(e).catch(v1)}:Zu;function v1(e){setTimeout(function(){throw e})}function Ga(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oo(t)}function ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),ln="__reactFiber$"+Gi,Vo="__reactProps$"+Gi,Tn="__reactContainer$"+Gi,Xu="__reactEvents$"+Gi,x1="__reactListeners$"+Gi,w1="__reactHandles$"+Gi;function Tr(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qf(e);e!==null;){if(n=e[ln])return n;e=qf(e)}return t}e=n,n=e.parentNode}return null}function as(e){return e=e[ln]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function da(e){return e[Vo]||null}var Gu=[],ui=-1;function Sr(e){return{current:e}}function Ce(e){0>ui||(e.current=Gu[ui],Gu[ui]=null,ui--)}function Ee(e,t){ui++,Gu[ui]=e.current,e.current=t}var vr={},it=Sr(vr),wt=Sr(!1),Lr=vr;function Ri(e,t){var n=e.type.contextTypes;if(!n)return vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function Il(){Ce(wt),Ce(it)}function Yf(e,t,n){if(it.current!==vr)throw Error(q(168));Ee(it,t),Ee(wt,n)}function lg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(q(108,ix(e)||"Unknown",i));return Ie({},n,r)}function Pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Lr=it.current,Ee(it,e),Ee(wt,wt.current),!0}function Zf(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=lg(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,Ce(wt),Ce(it),Ee(it,e)):Ce(wt),Ee(wt,n)}var wn=null,fa=!1,Qa=!1;function ag(e){wn===null?wn=[e]:wn.push(e)}function _1(e){fa=!0,ag(e)}function kr(){if(!Qa&&wn!==null){Qa=!0;var e=0,t=_e;try{var n=wn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wn=null,fa=!1}catch(i){throw wn!==null&&(wn=wn.slice(e+1)),Am(nd,kr),i}finally{_e=t,Qa=!1}}return null}var ci=[],di=0,Rl=null,Al=0,zt=[],Lt=0,Dr=null,_n=1,Sn="";function Er(e,t){ci[di++]=Al,ci[di++]=Rl,Rl=e,Al=t}function ug(e,t,n){zt[Lt++]=_n,zt[Lt++]=Sn,zt[Lt++]=Dr,Dr=e;var r=_n;e=Sn;var i=32-Xt(r)-1;r&=~(1<<i),n+=1;var o=32-Xt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_n=1<<32-Xt(t)+i|n<<i|r,Sn=o+e}else _n=1<<o|n<<i|r,Sn=e}function dd(e){e.return!==null&&(Er(e,1),ug(e,1,0))}function fd(e){for(;e===Rl;)Rl=ci[--di],ci[di]=null,Al=ci[--di],ci[di]=null;for(;e===Dr;)Dr=zt[--Lt],zt[Lt]=null,Sn=zt[--Lt],zt[Lt]=null,_n=zt[--Lt],zt[Lt]=null}var Ct=null,bt=null,Te=!1,qt=null;function cg(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,bt=ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dr!==null?{id:_n,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,bt=null,!0):!1;default:return!1}}function Qu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ku(e){if(Te){var t=bt;if(t){var n=t;if(!Xf(e,t)){if(Qu(e))throw Error(q(418));t=ur(n.nextSibling);var r=Ct;t&&Xf(e,t)?cg(r,n):(e.flags=e.flags&-4097|2,Te=!1,Ct=e)}}else{if(Qu(e))throw Error(q(418));e.flags=e.flags&-4097|2,Te=!1,Ct=e}}}function Gf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Is(e){if(e!==Ct)return!1;if(!Te)return Gf(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yu(e.type,e.memoizedProps)),t&&(t=bt)){if(Qu(e))throw dg(),Error(q(418));for(;t;)cg(e,t),t=ur(t.nextSibling)}if(Gf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bt=ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=Ct?ur(e.stateNode.nextSibling):null;return!0}function dg(){for(var e=bt;e;)e=ur(e.nextSibling)}function Ai(){bt=Ct=null,Te=!1}function pd(e){qt===null?qt=[e]:qt.push(e)}var S1=An.ReactCurrentBatchConfig;function io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qf(e){var t=e._init;return t(e._payload)}function fg(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=pr(p,h),p.index=0,p.sibling=null,p}function o(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,g,w){return h===null||h.tag!==6?(h=iu(g,p.mode,w),h.return=p,h):(h=i(h,g),h.return=p,h)}function a(p,h,g,w){var N=g.type;return N===ii?c(p,h,g.props.children,w,g.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Qf(N)===h.type)?(w=i(h,g.props),w.ref=io(p,h,g),w.return=p,w):(w=ml(g.type,g.key,g.props,null,p.mode,w),w.ref=io(p,h,g),w.return=p,w)}function u(p,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=ou(g,p.mode,w),h.return=p,h):(h=i(h,g.children||[]),h.return=p,h)}function c(p,h,g,w,N){return h===null||h.tag!==7?(h=Ar(g,p.mode,w,N),h.return=p,h):(h=i(h,g),h.return=p,h)}function d(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=iu(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ws:return g=ml(h.type,h.key,h.props,null,p.mode,g),g.ref=io(p,null,h),g.return=p,g;case ri:return h=ou(h,p.mode,g),h.return=p,h;case Xn:var w=h._init;return d(p,w(h._payload),g)}if(mo(h)||Ji(h))return h=Ar(h,p.mode,g,null),h.return=p,h;Ps(p,h)}return null}function f(p,h,g,w){var N=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:l(p,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ws:return g.key===N?a(p,h,g,w):null;case ri:return g.key===N?u(p,h,g,w):null;case Xn:return N=g._init,f(p,h,N(g._payload),w)}if(mo(g)||Ji(g))return N!==null?null:c(p,h,g,w,null);Ps(p,g)}return null}function m(p,h,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,l(h,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ws:return p=p.get(w.key===null?g:w.key)||null,a(h,p,w,N);case ri:return p=p.get(w.key===null?g:w.key)||null,u(h,p,w,N);case Xn:var A=w._init;return m(p,h,g,A(w._payload),N)}if(mo(w)||Ji(w))return p=p.get(g)||null,c(h,p,w,N,null);Ps(h,w)}return null}function x(p,h,g,w){for(var N=null,A=null,E=h,M=h=0,D=null;E!==null&&M<g.length;M++){E.index>M?(D=E,E=null):D=E.sibling;var $=f(p,E,g[M],w);if($===null){E===null&&(E=D);break}e&&E&&$.alternate===null&&t(p,E),h=o($,h,M),A===null?N=$:A.sibling=$,A=$,E=D}if(M===g.length)return n(p,E),Te&&Er(p,M),N;if(E===null){for(;M<g.length;M++)E=d(p,g[M],w),E!==null&&(h=o(E,h,M),A===null?N=E:A.sibling=E,A=E);return Te&&Er(p,M),N}for(E=r(p,E);M<g.length;M++)D=m(E,p,M,g[M],w),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?M:D.key),h=o(D,h,M),A===null?N=D:A.sibling=D,A=D);return e&&E.forEach(function(F){return t(p,F)}),Te&&Er(p,M),N}function v(p,h,g,w){var N=Ji(g);if(typeof N!="function")throw Error(q(150));if(g=N.call(g),g==null)throw Error(q(151));for(var A=N=null,E=h,M=h=0,D=null,$=g.next();E!==null&&!$.done;M++,$=g.next()){E.index>M?(D=E,E=null):D=E.sibling;var F=f(p,E,$.value,w);if(F===null){E===null&&(E=D);break}e&&E&&F.alternate===null&&t(p,E),h=o(F,h,M),A===null?N=F:A.sibling=F,A=F,E=D}if($.done)return n(p,E),Te&&Er(p,M),N;if(E===null){for(;!$.done;M++,$=g.next())$=d(p,$.value,w),$!==null&&(h=o($,h,M),A===null?N=$:A.sibling=$,A=$);return Te&&Er(p,M),N}for(E=r(p,E);!$.done;M++,$=g.next())$=m(E,p,M,$.value,w),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?M:$.key),h=o($,h,M),A===null?N=$:A.sibling=$,A=$);return e&&E.forEach(function(B){return t(p,B)}),Te&&Er(p,M),N}function T(p,h,g,w){if(typeof g=="object"&&g!==null&&g.type===ii&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ws:e:{for(var N=g.key,A=h;A!==null;){if(A.key===N){if(N=g.type,N===ii){if(A.tag===7){n(p,A.sibling),h=i(A,g.props.children),h.return=p,p=h;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Qf(N)===A.type){n(p,A.sibling),h=i(A,g.props),h.ref=io(p,A,g),h.return=p,p=h;break e}n(p,A);break}else t(p,A);A=A.sibling}g.type===ii?(h=Ar(g.props.children,p.mode,w,g.key),h.return=p,p=h):(w=ml(g.type,g.key,g.props,null,p.mode,w),w.ref=io(p,h,g),w.return=p,p=w)}return s(p);case ri:e:{for(A=g.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=i(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=ou(g,p.mode,w),h.return=p,p=h}return s(p);case Xn:return A=g._init,T(p,h,A(g._payload),w)}if(mo(g))return x(p,h,g,w);if(Ji(g))return v(p,h,g,w);Ps(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,g),h.return=p,p=h):(n(p,h),h=iu(g,p.mode,w),h.return=p,p=h),s(p)):n(p,h)}return T}var zi=fg(!0),pg=fg(!1),zl=Sr(null),Ll=null,fi=null,hd=null;function md(){hd=fi=Ll=null}function gd(e){var t=zl.current;Ce(zl),e._currentValue=t}function Ju(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t){Ll=e,hd=fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(hd!==e)if(e={context:e,memoizedValue:t,next:null},fi===null){if(Ll===null)throw Error(q(308));fi=e,Ll.dependencies={lanes:0,firstContext:e}}else fi=fi.next=e;return t}var Nr=null;function yd(e){Nr===null?Nr=[e]:Nr.push(e)}function hg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,yd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Nn(e,r)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Nn(e,n)}return i=r.interleaved,i===null?(t.next=t,yd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Nn(e,n)}function ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rd(e,n)}}function Kf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dl(e,t,n,r){var i=e.updateQueue;Gn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(f=t,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(m,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(m,d,f):x,f==null)break e;d=Ie({},d,f);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Or|=s,e.lanes=s,e.memoizedState=d}}function Jf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var us={},un=Sr(us),Uo=Sr(us),Wo=Sr(us);function Mr(e){if(e===us)throw Error(q(174));return e}function xd(e,t){switch(Ee(Wo,t),Ee(Uo,e),Ee(un,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}Ce(un),Ee(un,t)}function Li(){Ce(un),Ce(Uo),Ce(Wo)}function gg(e){Mr(Wo.current);var t=Mr(un.current),n=Au(t,e.type);t!==n&&(Ee(Uo,e),Ee(un,n))}function wd(e){Uo.current===e&&(Ce(un),Ce(Uo))}var Ne=Sr(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ka=[];function _d(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var cl=An.ReactCurrentDispatcher,Ja=An.ReactCurrentBatchConfig,$r=0,Me=null,He=null,We=null,Ol=!1,No=!1,qo=0,k1=0;function tt(){throw Error(q(321))}function Sd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function kd(e,t,n,r,i,o){if($r=o,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cl.current=e===null||e.memoizedState===null?T1:N1,e=n(r,i),No){o=0;do{if(No=!1,qo=0,25<=o)throw Error(q(301));o+=1,We=He=null,t.updateQueue=null,cl.current=M1,e=n(r,i)}while(No)}if(cl.current=jl,t=He!==null&&He.next!==null,$r=0,We=He=Me=null,Ol=!1,t)throw Error(q(300));return e}function Ed(){var e=qo!==0;return qo=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Me.memoizedState=We=e:We=We.next=e,We}function Ft(){if(He===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=We===null?Me.memoizedState:We.next;if(t!==null)We=t,He=e;else{if(e===null)throw Error(q(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},We===null?Me.memoizedState=We=e:We=We.next=e}return We}function Yo(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=Ft(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=He,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if(($r&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,Me.lanes|=c,Or|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Kt(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Me.lanes|=o,Or|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tu(e){var t=Ft(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Kt(o,t.memoizedState)||(vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yg(){}function vg(e,t){var n=Me,r=Ft(),i=t(),o=!Kt(r.memoizedState,i);if(o&&(r.memoizedState=i,vt=!0),r=r.queue,bd(_g.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Zo(9,wg.bind(null,n,r,i,t),void 0,null),Ye===null)throw Error(q(349));$r&30||xg(n,t,i)}return i}function xg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wg(e,t,n,r){t.value=n,t.getSnapshot=r,Sg(t)&&kg(e)}function _g(e,t,n){return n(function(){Sg(t)&&kg(e)})}function Sg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function kg(e){var t=Nn(e,1);t!==null&&Gt(t,e,1,-1)}function ep(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t.queue=e,e=e.dispatch=C1.bind(null,Me,e),[t.memoizedState,e]}function Zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Eg(){return Ft().memoizedState}function dl(e,t,n,r){var i=on();Me.flags|=e,i.memoizedState=Zo(1|t,n,void 0,r===void 0?null:r)}function pa(e,t,n,r){var i=Ft();r=r===void 0?null:r;var o=void 0;if(He!==null){var s=He.memoizedState;if(o=s.destroy,r!==null&&Sd(r,s.deps)){i.memoizedState=Zo(t,n,o,r);return}}Me.flags|=e,i.memoizedState=Zo(1|t,n,o,r)}function tp(e,t){return dl(8390656,8,e,t)}function bd(e,t){return pa(2048,8,e,t)}function bg(e,t){return pa(4,2,e,t)}function Cg(e,t){return pa(4,4,e,t)}function Tg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ng(e,t,n){return n=n!=null?n.concat([e]):null,pa(4,4,Tg.bind(null,t,e),n)}function Cd(){}function Mg(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ig(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pg(e,t,n){return $r&21?(Kt(n,t)||(n=Dm(),Me.lanes|=n,Or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function E1(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=Ja.transition;Ja.transition={};try{e(!1),t()}finally{_e=n,Ja.transition=r}}function Rg(){return Ft().memoizedState}function b1(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ag(e))zg(t,n);else if(n=hg(e,t,n,r),n!==null){var i=dt();Gt(n,e,r,i),Lg(n,t,r)}}function C1(e,t,n){var r=fr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ag(e))zg(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Kt(l,s)){var a=t.interleaved;a===null?(i.next=i,yd(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=hg(e,t,i,r),n!==null&&(i=dt(),Gt(n,e,r,i),Lg(n,t,r))}}function Ag(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function zg(e,t){No=Ol=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rd(e,n)}}var jl={readContext:jt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},T1={readContext:jt,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:tp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dl(4194308,4,Tg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return dl(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=b1.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:ep,useDebugValue:Cd,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=ep(!1),t=e[0];return e=E1.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=on();if(Te){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Ye===null)throw Error(q(349));$r&30||xg(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,tp(_g.bind(null,r,o,e),[e]),r.flags|=2048,Zo(9,wg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=on(),t=Ye.identifierPrefix;if(Te){var n=Sn,r=_n;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=k1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N1={readContext:jt,useCallback:Mg,useContext:jt,useEffect:bd,useImperativeHandle:Ng,useInsertionEffect:bg,useLayoutEffect:Cg,useMemo:Ig,useReducer:eu,useRef:Eg,useState:function(){return eu(Yo)},useDebugValue:Cd,useDeferredValue:function(e){var t=Ft();return Pg(t,He.memoizedState,e)},useTransition:function(){var e=eu(Yo)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:yg,useSyncExternalStore:vg,useId:Rg,unstable_isNewReconciler:!1},M1={readContext:jt,useCallback:Mg,useContext:jt,useEffect:bd,useImperativeHandle:Ng,useInsertionEffect:bg,useLayoutEffect:Cg,useMemo:Ig,useReducer:tu,useRef:Eg,useState:function(){return tu(Yo)},useDebugValue:Cd,useDeferredValue:function(e){var t=Ft();return He===null?t.memoizedState=e:Pg(t,He.memoizedState,e)},useTransition:function(){var e=tu(Yo)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:yg,useSyncExternalStore:vg,useId:Rg,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ec(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),i=fr(e),o=bn(r,i);o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(Gt(t,e,i,r),ul(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),i=fr(e),o=bn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(Gt(t,e,i,r),ul(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=fr(e),i=bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=cr(e,i,r),t!==null&&(Gt(t,e,r,n),ul(t,e,r))}};function np(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Fo(n,r)||!Fo(i,o):!0}function Dg(e,t,n){var r=!1,i=vr,o=t.contextType;return typeof o=="object"&&o!==null?o=jt(o):(i=_t(t)?Lr:it.current,r=t.contextTypes,o=(r=r!=null)?Ri(e,i):vr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function tc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},vd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=jt(o):(o=_t(t)?Lr:it.current,i.context=Ri(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ec(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),Dl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Di(e,t){try{var n="",r=t;do n+=rx(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function nu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var I1=typeof WeakMap=="function"?WeakMap:Map;function $g(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bl||(Bl=!0,fc=r),nc(e,t)},n}function Og(e,t,n){n=bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){nc(e,t),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ip(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new I1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=U1.bind(null,e,t,n),t.then(e,e))}function op(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,cr(n,t,1))),n.lanes|=1),e)}var P1=An.ReactCurrentOwner,vt=!1;function ct(e,t,n,r){t.child=e===null?pg(t,null,n,r):zi(t,e.child,n,r)}function lp(e,t,n,r,i){n=n.render;var o=t.ref;return ki(t,i),r=kd(e,t,n,r,o,i),n=Ed(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mn(e,t,i)):(Te&&n&&dd(t),t.flags|=1,ct(e,t,r,i),t.child)}function ap(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!zd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jg(e,t,o,r,i)):(e=ml(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(s,r)&&e.ref===t.ref)return Mn(e,t,i)}return t.flags|=1,e=pr(o,r),e.ref=t.ref,e.return=t,t.child=e}function jg(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Fo(o,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Mn(e,t,i)}return rc(e,t,n,r,i)}function Fg(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(hi,Et),Et|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(hi,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(hi,Et),Et|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ee(hi,Et),Et|=r;return ct(e,t,i,n),t.child}function Bg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rc(e,t,n,r,i){var o=_t(n)?Lr:it.current;return o=Ri(t,o),ki(t,i),n=kd(e,t,n,r,o,i),r=Ed(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mn(e,t,i)):(Te&&r&&dd(t),t.flags|=1,ct(e,t,n,i),t.child)}function up(e,t,n,r,i){if(_t(n)){var o=!0;Pl(t)}else o=!1;if(ki(t,i),t.stateNode===null)fl(e,t),Dg(t,n,r),tc(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=_t(n)?Lr:it.current,u=Ri(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&rp(t,s,r,u),Gn=!1;var f=t.memoizedState;s.state=f,Dl(t,r,s,i),a=t.memoizedState,l!==r||f!==a||wt.current||Gn?(typeof c=="function"&&(ec(t,n,c,r),a=t.memoizedState),(l=Gn||np(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,mg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ut(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=jt(a):(a=_t(n)?Lr:it.current,a=Ri(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&rp(t,s,r,a),Gn=!1,f=t.memoizedState,s.state=f,Dl(t,r,s,i);var x=t.memoizedState;l!==d||f!==x||wt.current||Gn?(typeof m=="function"&&(ec(t,n,m,r),x=t.memoizedState),(u=Gn||np(t,n,u,r,f,x,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ic(e,t,n,r,o,i)}function ic(e,t,n,r,i,o){Bg(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Zf(t,n,!1),Mn(e,t,o);r=t.stateNode,P1.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=zi(t,e.child,null,o),t.child=zi(t,null,l,o)):ct(e,t,l,o),t.memoizedState=r.state,i&&Zf(t,n,!0),t.child}function Hg(e){var t=e.stateNode;t.pendingContext?Yf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yf(e,t.context,!1),xd(e,t.containerInfo)}function cp(e,t,n,r,i){return Ai(),pd(i),t.flags|=256,ct(e,t,n,r),t.child}var oc={dehydrated:null,treeContext:null,retryLane:0};function sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vg(e,t,n){var r=t.pendingProps,i=Ne.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ee(Ne,i&1),e===null)return Ku(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ya(s,r,0,null),e=Ar(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sc(n),t.memoizedState=oc,e):Td(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return R1(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=pr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=pr(l,o):(o=Ar(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?sc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=oc,r}return o=e.child,e=o.sibling,r=pr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Td(e,t){return t=ya({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rs(e,t,n,r){return r!==null&&pd(r),zi(t,e.child,null,n),e=Td(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R1(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=nu(Error(q(422))),Rs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ya({mode:"visible",children:r.children},i,0,null),o=Ar(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&zi(t,e.child,null,s),t.child.memoizedState=sc(s),t.memoizedState=oc,o);if(!(t.mode&1))return Rs(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(q(419)),r=nu(o,r,void 0),Rs(e,t,s,r)}if(l=(s&e.childLanes)!==0,vt||l){if(r=Ye,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nn(e,i),Gt(r,e,i,-1))}return Ad(),r=nu(Error(q(421))),Rs(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=W1.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,bt=ur(i.nextSibling),Ct=t,Te=!0,qt=null,e!==null&&(zt[Lt++]=_n,zt[Lt++]=Sn,zt[Lt++]=Dr,_n=e.id,Sn=e.overflow,Dr=t),t=Td(t,r.children),t.flags|=4096,t)}function dp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ju(e.return,t,n)}function ru(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ug(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ct(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dp(e,n,t);else if(e.tag===19)dp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$l(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$l(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,o);break;case"together":ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A1(e,t,n){switch(t.tag){case 3:Hg(t),Ai();break;case 5:gg(t);break;case 1:_t(t.type)&&Pl(t);break;case 4:xd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ee(zl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?Vg(e,t,n):(Ee(Ne,Ne.current&1),e=Mn(e,t,n),e!==null?e.sibling:null);Ee(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ug(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Fg(e,t,n)}return Mn(e,t,n)}var Wg,lc,qg,Yg;Wg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lc=function(){};qg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mr(un.current);var o=null;switch(n){case"input":i=Mu(e,i),r=Mu(e,r),o=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),o=[];break;case"textarea":i=Ru(e,i),r=Ru(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ml)}zu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ao.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ao.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&be("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Yg=function(e,t,n,r){n!==r&&(t.flags|=4)};function oo(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function z1(e,t,n){var r=t.pendingProps;switch(fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return _t(t.type)&&Il(),nt(t),null;case 3:return r=t.stateNode,Li(),Ce(wt),Ce(it),_d(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(mc(qt),qt=null))),lc(e,t),nt(t),null;case 5:wd(t);var i=Mr(Wo.current);if(n=t.type,e!==null&&t.stateNode!=null)qg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return nt(t),null}if(e=Mr(un.current),Is(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ln]=t,r[Vo]=o,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<yo.length;i++)be(yo[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":wf(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":Sf(r,o),be("invalid",r)}zu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ms(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ms(r.textContent,l,e),i=["children",""+l]):Ao.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&be("scroll",r)}switch(n){case"input":_s(r),_f(r,o,!0);break;case"textarea":_s(r),kf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ml)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_m(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ln]=t,e[Vo]=r,Wg(e,t,!1,!1),t.stateNode=e;e:{switch(s=Lu(n,r),n){case"dialog":be("cancel",e),be("close",e),i=r;break;case"iframe":case"object":case"embed":be("load",e),i=r;break;case"video":case"audio":for(i=0;i<yo.length;i++)be(yo[i],e);i=r;break;case"source":be("error",e),i=r;break;case"img":case"image":case"link":be("error",e),be("load",e),i=r;break;case"details":be("toggle",e),i=r;break;case"input":wf(e,r),i=Mu(e,r),be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),be("invalid",e);break;case"textarea":Sf(e,r),i=Ru(e,r),be("invalid",e);break;default:i=r}zu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Em(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Sm(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&zo(e,a):typeof a=="number"&&zo(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ao.hasOwnProperty(o)?a!=null&&o==="onScroll"&&be("scroll",e):a!=null&&Qc(e,o,a,s))}switch(n){case"input":_s(e),_f(e,r,!1);break;case"textarea":_s(e),kf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?xi(e,!!r.multiple,o,!1):r.defaultValue!=null&&xi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Yg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Mr(Wo.current),Mr(un.current),Is(t)){if(r=t.stateNode,n=t.memoizedProps,r[ln]=t,(o=r.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:Ms(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=t,t.stateNode=r}return nt(t),null;case 13:if(Ce(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&bt!==null&&t.mode&1&&!(t.flags&128))dg(),Ai(),t.flags|=98560,o=!1;else if(o=Is(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[ln]=t}else Ai(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),o=!1}else qt!==null&&(mc(qt),qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Ve===0&&(Ve=3):Ad())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Li(),lc(e,t),e===null&&Bo(t.stateNode.containerInfo),nt(t),null;case 10:return gd(t.type._context),nt(t),null;case 17:return _t(t.type)&&Il(),nt(t),null;case 19:if(Ce(Ne),o=t.memoizedState,o===null)return nt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)oo(o,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$l(e),s!==null){for(t.flags|=128,oo(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Ne,Ne.current&1|2),t.child}e=e.sibling}o.tail!==null&&$e()>$i&&(t.flags|=128,r=!0,oo(o,!1),t.lanes=4194304)}else{if(!r)if(e=$l(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Te)return nt(t),null}else 2*$e()-o.renderingStartTime>$i&&n!==1073741824&&(t.flags|=128,r=!0,oo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Ne.current,Ee(Ne,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return Rd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function L1(e,t){switch(fd(t),t.tag){case 1:return _t(t.type)&&Il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Li(),Ce(wt),Ce(it),_d(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wd(t),null;case 13:if(Ce(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ne),null;case 4:return Li(),null;case 10:return gd(t.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var As=!1,rt=!1,D1=typeof WeakSet=="function"?WeakSet:Set,Q=null;function pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function ac(e,t,n){try{n()}catch(r){Re(e,t,r)}}var fp=!1;function $1(e,t){if(Wu=Cl,e=Km(),cd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(qu={focusedElem:e,selectionRange:n},Cl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,T=x.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ut(t.type,v),T);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(w){Re(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return x=fp,fp=!1,x}function Mo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ac(t,n,o)}i=i.next}while(i!==r)}}function ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zg(e){var t=e.alternate;t!==null&&(e.alternate=null,Zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[Vo],delete t[Xu],delete t[x1],delete t[w1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xg(e){return e.tag===5||e.tag===3||e.tag===4}function pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ml));else if(r!==4&&(e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function dc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dc(e,t,n),e=e.sibling;e!==null;)dc(e,t,n),e=e.sibling}var Ze=null,Wt=!1;function Hn(e,t,n){for(n=n.child;n!==null;)Gg(e,t,n),n=n.sibling}function Gg(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(la,n)}catch{}switch(n.tag){case 5:rt||pi(n,t);case 6:var r=Ze,i=Wt;Ze=null,Hn(e,t,n),Ze=r,Wt=i,Ze!==null&&(Wt?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Wt?(e=Ze,n=n.stateNode,e.nodeType===8?Ga(e.parentNode,n):e.nodeType===1&&Ga(e,n),Oo(e)):Ga(Ze,n.stateNode));break;case 4:r=Ze,i=Wt,Ze=n.stateNode.containerInfo,Wt=!0,Hn(e,t,n),Ze=r,Wt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ac(n,t,s),i=i.next}while(i!==r)}Hn(e,t,n);break;case 1:if(!rt&&(pi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,t,l)}Hn(e,t,n);break;case 21:Hn(e,t,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Hn(e,t,n),rt=r):Hn(e,t,n);break;default:Hn(e,t,n)}}function hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new D1),t.forEach(function(r){var i=q1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,Wt=!1;break e;case 3:Ze=l.stateNode.containerInfo,Wt=!0;break e;case 4:Ze=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(Ze===null)throw Error(q(160));Gg(o,s,i),Ze=null,Wt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Re(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qg(t,e),t=t.sibling}function Qg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),rn(e),r&4){try{Mo(3,e,e.return),ma(3,e)}catch(v){Re(e,e.return,v)}try{Mo(5,e,e.return)}catch(v){Re(e,e.return,v)}}break;case 1:Vt(t,e),rn(e),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Vt(t,e),rn(e),r&512&&n!==null&&pi(n,n.return),e.flags&32){var i=e.stateNode;try{zo(i,"")}catch(v){Re(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&xm(i,o),Lu(l,s);var u=Lu(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?Em(i,d):c==="dangerouslySetInnerHTML"?Sm(i,d):c==="children"?zo(i,d):Qc(i,c,d,u)}switch(l){case"input":Iu(i,o);break;case"textarea":wm(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?xi(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?xi(i,!!o.multiple,o.defaultValue,!0):xi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vo]=o}catch(v){Re(e,e.return,v)}}break;case 6:if(Vt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Re(e,e.return,v)}}break;case 3:if(Vt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(v){Re(e,e.return,v)}break;case 4:Vt(t,e),rn(e);break;case 13:Vt(t,e),rn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Id=$e())),r&4&&hp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(u=rt)||c,Vt(t,e),rt=u):Vt(t,e),rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Q=e,c=e.child;c!==null;){for(d=Q=c;Q!==null;){switch(f=Q,m=f.child,f.tag){case 0:case 11:case 14:case 15:Mo(4,f,f.return);break;case 1:pi(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Re(r,n,v)}}break;case 5:pi(f,f.return);break;case 22:if(f.memoizedState!==null){gp(d);continue}}m!==null?(m.return=f,Q=m):gp(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=km("display",s))}catch(v){Re(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Re(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vt(t,e),rn(e),r&4&&hp(e);break;case 21:break;default:Vt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xg(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zo(i,""),r.flags&=-33);var o=pp(e);dc(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=pp(e);cc(e,l,s);break;default:throw Error(q(161))}}catch(a){Re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O1(e,t,n){Q=e,Kg(e)}function Kg(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||As;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||rt;l=As;var u=rt;if(As=s,(rt=a)&&!u)for(Q=i;Q!==null;)s=Q,a=s.child,s.tag===22&&s.memoizedState!==null?yp(i):a!==null?(a.return=s,Q=a):yp(i);for(;o!==null;)Q=o,Kg(o),o=o.sibling;Q=i,As=l,rt=u}mp(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):mp(e)}}function mp(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||ma(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jf(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Oo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}rt||t.flags&512&&uc(t)}catch(f){Re(t,t.return,f)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function gp(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function yp(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ma(4,t)}catch(a){Re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Re(t,i,a)}}var o=t.return;try{uc(t)}catch(a){Re(t,o,a)}break;case 5:var s=t.return;try{uc(t)}catch(a){Re(t,s,a)}}}catch(a){Re(t,t.return,a)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var j1=Math.ceil,Fl=An.ReactCurrentDispatcher,Nd=An.ReactCurrentOwner,Ot=An.ReactCurrentBatchConfig,ge=0,Ye=null,Be=null,Xe=0,Et=0,hi=Sr(0),Ve=0,Xo=null,Or=0,ga=0,Md=0,Io=null,yt=null,Id=0,$i=1/0,xn=null,Bl=!1,fc=null,dr=null,zs=!1,ir=null,Hl=0,Po=0,pc=null,pl=-1,hl=0;function dt(){return ge&6?$e():pl!==-1?pl:pl=$e()}function fr(e){return e.mode&1?ge&2&&Xe!==0?Xe&-Xe:S1.transition!==null?(hl===0&&(hl=Dm()),hl):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Vm(e.type)),e):1}function Gt(e,t,n,r){if(50<Po)throw Po=0,pc=null,Error(q(185));ss(e,n,r),(!(ge&2)||e!==Ye)&&(e===Ye&&(!(ge&2)&&(ga|=n),Ve===4&&tr(e,Xe)),St(e,r),n===1&&ge===0&&!(t.mode&1)&&($i=$e()+500,fa&&kr()))}function St(e,t){var n=e.callbackNode;Sx(e,t);var r=bl(e,e===Ye?Xe:0);if(r===0)n!==null&&Cf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cf(n),t===1)e.tag===0?_1(vp.bind(null,e)):ag(vp.bind(null,e)),y1(function(){!(ge&6)&&kr()}),n=null;else{switch($m(r)){case 1:n=nd;break;case 4:n=zm;break;case 16:n=El;break;case 536870912:n=Lm;break;default:n=El}n=sy(n,Jg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jg(e,t){if(pl=-1,hl=0,ge&6)throw Error(q(327));var n=e.callbackNode;if(Ei()&&e.callbackNode!==n)return null;var r=bl(e,e===Ye?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vl(e,r);else{t=r;var i=ge;ge|=2;var o=ty();(Ye!==e||Xe!==t)&&(xn=null,$i=$e()+500,Rr(e,t));do try{H1();break}catch(l){ey(e,l)}while(!0);md(),Fl.current=o,ge=i,Be!==null?t=0:(Ye=null,Xe=0,t=Ve)}if(t!==0){if(t===2&&(i=Fu(e),i!==0&&(r=i,t=hc(e,i))),t===1)throw n=Xo,Rr(e,0),tr(e,r),St(e,$e()),n;if(t===6)tr(e,r);else{if(i=e.current.alternate,!(r&30)&&!F1(i)&&(t=Vl(e,r),t===2&&(o=Fu(e),o!==0&&(r=o,t=hc(e,o))),t===1))throw n=Xo,Rr(e,0),tr(e,r),St(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:br(e,yt,xn);break;case 3:if(tr(e,r),(r&130023424)===r&&(t=Id+500-$e(),10<t)){if(bl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zu(br.bind(null,e,yt,xn),t);break}br(e,yt,xn);break;case 4:if(tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Xt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j1(r/1960))-r,10<r){e.timeoutHandle=Zu(br.bind(null,e,yt,xn),r);break}br(e,yt,xn);break;case 5:br(e,yt,xn);break;default:throw Error(q(329))}}}return St(e,$e()),e.callbackNode===n?Jg.bind(null,e):null}function hc(e,t){var n=Io;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=Vl(e,t),e!==2&&(t=yt,yt=n,t!==null&&mc(t)),e}function mc(e){yt===null?yt=e:yt.push.apply(yt,e)}function F1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t){for(t&=~Md,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),r=1<<n;e[n]=-1,t&=~r}}function vp(e){if(ge&6)throw Error(q(327));Ei();var t=bl(e,0);if(!(t&1))return St(e,$e()),null;var n=Vl(e,t);if(e.tag!==0&&n===2){var r=Fu(e);r!==0&&(t=r,n=hc(e,r))}if(n===1)throw n=Xo,Rr(e,0),tr(e,t),St(e,$e()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,yt,xn),St(e,$e()),null}function Pd(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&($i=$e()+500,fa&&kr())}}function jr(e){ir!==null&&ir.tag===0&&!(ge&6)&&Ei();var t=ge;ge|=1;var n=Ot.transition,r=_e;try{if(Ot.transition=null,_e=1,e)return e()}finally{_e=r,Ot.transition=n,ge=t,!(ge&6)&&kr()}}function Rd(){Et=hi.current,Ce(hi)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,g1(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(fd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Il();break;case 3:Li(),Ce(wt),Ce(it),_d();break;case 5:wd(r);break;case 4:Li();break;case 13:Ce(Ne);break;case 19:Ce(Ne);break;case 10:gd(r.type._context);break;case 22:case 23:Rd()}n=n.return}if(Ye=e,Be=e=pr(e.current,null),Xe=Et=t,Ve=0,Xo=null,Md=ga=Or=0,yt=Io=null,Nr!==null){for(t=0;t<Nr.length;t++)if(n=Nr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Nr=null}return e}function ey(e,t){do{var n=Be;try{if(md(),cl.current=jl,Ol){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ol=!1}if($r=0,We=He=Me=null,No=!1,qo=0,Nd.current=null,n===null||n.return===null){Ve=1,Xo=t,Be=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Xe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=op(s);if(m!==null){m.flags&=-257,sp(m,s,l,o,t),m.mode&1&&ip(o,u,t),t=m,a=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(a),t.updateQueue=v}else x.add(a);break e}else{if(!(t&1)){ip(o,u,t),Ad();break e}a=Error(q(426))}}else if(Te&&l.mode&1){var T=op(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),sp(T,s,l,o,t),pd(Di(a,l));break e}}o=a=Di(a,l),Ve!==4&&(Ve=2),Io===null?Io=[o]:Io.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=$g(o,a,t);Kf(o,p);break e;case 1:l=a;var h=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Og(o,l,t);Kf(o,w);break e}}o=o.return}while(o!==null)}ry(n)}catch(N){t=N,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function ty(){var e=Fl.current;return Fl.current=jl,e===null?jl:e}function Ad(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ye===null||!(Or&268435455)&&!(ga&268435455)||tr(Ye,Xe)}function Vl(e,t){var n=ge;ge|=2;var r=ty();(Ye!==e||Xe!==t)&&(xn=null,Rr(e,t));do try{B1();break}catch(i){ey(e,i)}while(!0);if(md(),ge=n,Fl.current=r,Be!==null)throw Error(q(261));return Ye=null,Xe=0,Ve}function B1(){for(;Be!==null;)ny(Be)}function H1(){for(;Be!==null&&!px();)ny(Be)}function ny(e){var t=oy(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?ry(e):Be=t,Nd.current=null}function ry(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=L1(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Be=null;return}}else if(n=z1(n,t,Et),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ve===0&&(Ve=5)}function br(e,t,n){var r=_e,i=Ot.transition;try{Ot.transition=null,_e=1,V1(e,t,n,r)}finally{Ot.transition=i,_e=r}return null}function V1(e,t,n,r){do Ei();while(ir!==null);if(ge&6)throw Error(q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(kx(e,o),e===Ye&&(Be=Ye=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zs||(zs=!0,sy(El,function(){return Ei(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ot.transition,Ot.transition=null;var s=_e;_e=1;var l=ge;ge|=4,Nd.current=null,$1(e,n),Qg(n,e),u1(qu),Cl=!!Wu,qu=Wu=null,e.current=n,O1(n),hx(),ge=l,_e=s,Ot.transition=o}else e.current=n;if(zs&&(zs=!1,ir=e,Hl=i),o=e.pendingLanes,o===0&&(dr=null),yx(n.stateNode),St(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bl)throw Bl=!1,e=fc,fc=null,e;return Hl&1&&e.tag!==0&&Ei(),o=e.pendingLanes,o&1?e===pc?Po++:(Po=0,pc=e):Po=0,kr(),null}function Ei(){if(ir!==null){var e=$m(Hl),t=Ot.transition,n=_e;try{if(Ot.transition=null,_e=16>e?16:e,ir===null)var r=!1;else{if(e=ir,ir=null,Hl=0,ge&6)throw Error(q(331));var i=ge;for(ge|=4,Q=e.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:Mo(8,c,o)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var f=c.sibling,m=c.return;if(Zg(c),c===u){Q=null;break}if(f!==null){f.return=m,Q=f;break}Q=m}}}var x=o.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Mo(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Q=p;break e}Q=o.return}}var h=e.current;for(Q=h;Q!==null;){s=Q;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,Q=g;else e:for(s=h;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ma(9,l)}}catch(N){Re(l,l.return,N)}if(l===s){Q=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Q=w;break e}Q=l.return}}if(ge=i,kr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(la,e)}catch{}r=!0}return r}finally{_e=n,Ot.transition=t}}return!1}function xp(e,t,n){t=Di(n,t),t=$g(e,t,1),e=cr(e,t,1),t=dt(),e!==null&&(ss(e,1,t),St(e,t))}function Re(e,t,n){if(e.tag===3)xp(e,e,n);else for(;t!==null;){if(t.tag===3){xp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){e=Di(n,e),e=Og(t,e,1),t=cr(t,e,1),e=dt(),t!==null&&(ss(t,1,e),St(t,e));break}}t=t.return}}function U1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Xe&n)===n&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>$e()-Id?Rr(e,0):Md|=n),St(e,t)}function iy(e,t){t===0&&(e.mode&1?(t=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):t=1);var n=dt();e=Nn(e,t),e!==null&&(ss(e,t,n),St(e,n))}function W1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),iy(e,n)}function q1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),iy(e,n)}var oy;oy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,A1(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Te&&t.flags&1048576&&ug(t,Al,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fl(e,t),e=t.pendingProps;var i=Ri(t,it.current);ki(t,n),i=kd(null,t,r,e,i,n);var o=Ed();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(o=!0,Pl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vd(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,tc(t,r,e,n),t=ic(null,t,r,!0,o,n)):(t.tag=0,Te&&o&&dd(t),ct(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Z1(r),e=Ut(r,e),i){case 0:t=rc(null,t,r,e,n);break e;case 1:t=up(null,t,r,e,n);break e;case 11:t=lp(null,t,r,e,n);break e;case 14:t=ap(null,t,r,Ut(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),rc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),up(e,t,r,i,n);case 3:e:{if(Hg(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,i=o.element,mg(e,t),Dl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Di(Error(q(423)),t),t=cp(e,t,r,n,i);break e}else if(r!==i){i=Di(Error(q(424)),t),t=cp(e,t,r,n,i);break e}else for(bt=ur(t.stateNode.containerInfo.firstChild),Ct=t,Te=!0,qt=null,n=pg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===i){t=Mn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return gg(t),e===null&&Ku(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Yu(r,i)?s=null:o!==null&&Yu(r,o)&&(t.flags|=32),Bg(e,t),ct(e,t,s,n),t.child;case 6:return e===null&&Ku(t),null;case 13:return Vg(e,t,n);case 4:return xd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zi(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),lp(e,t,r,i,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ee(zl,r._currentValue),r._currentValue=s,o!==null)if(Kt(o.value,s)){if(o.children===i.children&&!wt.current){t=Mn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=bn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ju(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(q(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ju(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ct(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ki(t,n),i=jt(i),r=r(i),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,i=Ut(r,t.pendingProps),i=Ut(r.type,i),ap(e,t,r,i,n);case 15:return jg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ut(r,i),fl(e,t),t.tag=1,_t(r)?(e=!0,Pl(t)):e=!1,ki(t,n),Dg(t,r,i),tc(t,r,i,n),ic(null,t,r,!0,e,n);case 19:return Ug(e,t,n);case 22:return Fg(e,t,n)}throw Error(q(156,t.tag))};function sy(e,t){return Am(e,t)}function Y1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new Y1(e,t,n,r)}function zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z1(e){if(typeof e=="function")return zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jc)return 11;if(e===ed)return 14}return 2}function pr(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ml(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")zd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ii:return Ar(n.children,i,o,t);case Kc:s=8,i|=8;break;case bu:return e=Dt(12,n,t,i|2),e.elementType=bu,e.lanes=o,e;case Cu:return e=Dt(13,n,t,i),e.elementType=Cu,e.lanes=o,e;case Tu:return e=Dt(19,n,t,i),e.elementType=Tu,e.lanes=o,e;case gm:return ya(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hm:s=10;break e;case mm:s=9;break e;case Jc:s=11;break e;case ed:s=14;break e;case Xn:s=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Dt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ar(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function ya(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=gm,e.lanes=n,e.stateNode={isHidden:!1},e}function iu(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function ou(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ld(e,t,n,r,i,o,s,l,a){return e=new X1(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vd(o),e}function G1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ly(e){if(!e)return vr;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(_t(n))return lg(e,n,t)}return t}function ay(e,t,n,r,i,o,s,l,a){return e=Ld(n,r,!0,e,i,o,s,l,a),e.context=ly(null),n=e.current,r=dt(),i=fr(n),o=bn(r,i),o.callback=t??null,cr(n,o,i),e.current.lanes=i,ss(e,i,r),St(e,r),e}function va(e,t,n,r){var i=t.current,o=dt(),s=fr(i);return n=ly(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cr(i,t,s),e!==null&&(Gt(e,i,s,o),ul(e,i,s)),s}function Ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dd(e,t){wp(e,t),(e=e.alternate)&&wp(e,t)}function Q1(){return null}var uy=typeof reportError=="function"?reportError:function(e){console.error(e)};function $d(e){this._internalRoot=e}xa.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));va(e,t,null,null)};xa.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){va(null,e,null,null)}),t[Tn]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<er.length&&t!==0&&t<er[n].priority;n++);er.splice(n,0,e),n===0&&Hm(e)}};function Od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _p(){}function K1(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ul(s);o.call(u)}}var s=ay(t,r,e,0,null,!1,!1,"",_p);return e._reactRootContainer=s,e[Tn]=s.current,Bo(e.nodeType===8?e.parentNode:e),jr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ul(a);l.call(u)}}var a=Ld(e,0,!1,null,null,!1,!1,"",_p);return e._reactRootContainer=a,e[Tn]=a.current,Bo(e.nodeType===8?e.parentNode:e),jr(function(){va(t,a,n,r)}),a}function _a(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Ul(s);l.call(a)}}va(t,s,e,i)}else s=K1(n,t,e,i,r);return Ul(s)}Om=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=go(t.pendingLanes);n!==0&&(rd(t,n|1),St(t,$e()),!(ge&6)&&($i=$e()+500,kr()))}break;case 13:jr(function(){var r=Nn(e,1);if(r!==null){var i=dt();Gt(r,e,1,i)}}),Dd(e,1)}};id=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=dt();Gt(t,e,134217728,n)}Dd(e,134217728)}};jm=function(e){if(e.tag===13){var t=fr(e),n=Nn(e,t);if(n!==null){var r=dt();Gt(n,e,t,r)}Dd(e,t)}};Fm=function(){return _e};Bm=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};$u=function(e,t,n){switch(t){case"input":if(Iu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=da(r);if(!i)throw Error(q(90));vm(r),Iu(r,i)}}}break;case"textarea":wm(e,n);break;case"select":t=n.value,t!=null&&xi(e,!!n.multiple,t,!1)}};Tm=Pd;Nm=jr;var J1={usingClientEntryPoint:!1,Events:[as,ai,da,bm,Cm,Pd]},so={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ew={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pm(e),e===null?null:e.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||Q1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{la=Ls.inject(ew),an=Ls}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J1;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(t))throw Error(q(200));return G1(e,t,null,n)};It.createRoot=function(e,t){if(!Od(e))throw Error(q(299));var n=!1,r="",i=uy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ld(e,1,!1,null,null,n,!1,r,i),e[Tn]=t.current,Bo(e.nodeType===8?e.parentNode:e),new $d(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Pm(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return jr(e)};It.hydrate=function(e,t,n){if(!wa(t))throw Error(q(200));return _a(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!Od(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=uy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ay(t,null,e,1,n??null,i,!1,o,s),e[Tn]=t.current,Bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xa(t)};It.render=function(e,t,n){if(!wa(t))throw Error(q(200));return _a(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!wa(e))throw Error(q(40));return e._reactRootContainer?(jr(function(){_a(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};It.unstable_batchedUpdates=Pd;It.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wa(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return _a(e,t,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function cy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cy)}catch(e){console.error(e)}}cy(),cm.exports=It;var dy=cm.exports,fy,Sp=dy;fy=Sp.createRoot,Sp.hydrateRoot;function Rt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Rt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var py={exports:{}},hy={},my={exports:{}},gy={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=S;function tw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nw=typeof Object.is=="function"?Object.is:tw,rw=Oi.useState,iw=Oi.useEffect,ow=Oi.useLayoutEffect,sw=Oi.useDebugValue;function lw(e,t){var n=t(),r=rw({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return ow(function(){i.value=n,i.getSnapshot=t,su(i)&&o({inst:i})},[e,n,t]),iw(function(){return su(i)&&o({inst:i}),e(function(){su(i)&&o({inst:i})})},[e]),sw(n),n}function su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nw(e,n)}catch{return!0}}function aw(e,t){return t()}var uw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aw:lw;gy.useSyncExternalStore=Oi.useSyncExternalStore!==void 0?Oi.useSyncExternalStore:uw;my.exports=gy;var cw=my.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=S,dw=cw;function fw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pw=typeof Object.is=="function"?Object.is:fw,hw=dw.useSyncExternalStore,mw=Sa.useRef,gw=Sa.useEffect,yw=Sa.useMemo,vw=Sa.useDebugValue;hy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=mw(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=yw(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var x=s.value;if(i(x,m))return d=x}return d=m}if(x=d,pw(c,m))return x;var v=r(m);return i!==void 0&&i(x,v)?x:(c=m,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,i]);var l=hw(e,o[0],o[1]);return gw(function(){s.hasValue=!0,s.value=l},[l]),vw(l),l};py.exports=hy;var xw=py.exports;const yy=Kh(xw),ww={},kp=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const m=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,m))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(ww?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},vy=e=>e?kp(e):kp,{useDebugValue:_w}=U,{useSyncExternalStoreWithSelector:Sw}=yy,kw=e=>e;function xy(e,t=kw,n){const r=Sw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return _w(r),r}const Ep=(e,t)=>{const n=vy(e),r=(i,o=t)=>xy(n,i,o);return Object.assign(r,n),r},Ew=(e,t)=>e?Ep(e,t):Ep;function ft(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var bw={value:()=>{}};function ka(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gl(n)}function gl(e){this._=e}function Cw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gl.prototype=ka.prototype={constructor:gl,on:function(e,t){var n=this._,r=Cw(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Tw(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=bp(n[i],e.name,t);else if(t==null)for(i in n)n[i]=bp(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new gl(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Tw(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function bp(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=bw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var gc="http://www.w3.org/1999/xhtml";const Cp={svg:"http://www.w3.org/2000/svg",xhtml:gc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ea(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cp.hasOwnProperty(t)?{space:Cp[t],local:e}:e}function Nw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===gc&&t.documentElement.namespaceURI===gc?t.createElement(e):t.createElementNS(n,e)}}function Mw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wy(e){var t=Ea(e);return(t.local?Mw:Nw)(t)}function Iw(){}function jd(e){return e==null?Iw:function(){return this.querySelector(e)}}function Pw(e){typeof e!="function"&&(e=jd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=e.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new Nt(r,this._parents)}function Rw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Aw(){return[]}function _y(e){return e==null?Aw:function(){return this.querySelectorAll(e)}}function zw(e){return function(){return Rw(e.apply(this,arguments))}}function Lw(e){typeof e=="function"?e=zw(e):e=_y(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new Nt(r,i)}function Sy(e){return function(){return this.matches(e)}}function ky(e){return function(t){return t.matches(e)}}var Dw=Array.prototype.find;function $w(e){return function(){return Dw.call(this.children,e)}}function Ow(){return this.firstElementChild}function jw(e){return this.select(e==null?Ow:$w(typeof e=="function"?e:ky(e)))}var Fw=Array.prototype.filter;function Bw(){return Array.from(this.children)}function Hw(e){return function(){return Fw.call(this.children,e)}}function Vw(e){return this.selectAll(e==null?Bw:Hw(typeof e=="function"?e:ky(e)))}function Uw(e){typeof e!="function"&&(e=Sy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Nt(r,this._parents)}function Ey(e){return new Array(e.length)}function Ww(){return new Nt(this._enter||this._groups.map(Ey),this._parents)}function Wl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wl.prototype={constructor:Wl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qw(e){return function(){return e}}function Yw(e,t,n,r,i,o){for(var s=0,l,a=t.length,u=o.length;s<u;++s)(l=t[s])?(l.__data__=o[s],r[s]=l):n[s]=new Wl(e,o[s]);for(;s<a;++s)(l=t[s])&&(i[s]=l)}function Zw(e,t,n,r,i,o,s){var l,a,u=new Map,c=t.length,d=o.length,f=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(f[l]=m=s.call(a,a.__data__,l,t)+"",u.has(m)?i[l]=a:u.set(m,a));for(l=0;l<d;++l)m=s.call(e,o[l],l,o)+"",(a=u.get(m))?(r[l]=a,a.__data__=o[l],u.delete(m)):n[l]=new Wl(e,o[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(i[l]=a)}function Xw(e){return e.__data__}function Gw(e,t){if(!arguments.length)return Array.from(this,Xw);var n=t?Zw:Yw,r=this._parents,i=this._groups;typeof e!="function"&&(e=qw(e));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,m=Qw(e.call(c,c&&c.__data__,u,r)),x=m.length,v=l[u]=new Array(x),T=s[u]=new Array(x),p=a[u]=new Array(f);n(c,d,v,T,p,m,t);for(var h=0,g=0,w,N;h<x;++h)if(w=v[h]){for(h>=g&&(g=h+1);!(N=T[g])&&++g<x;);w._next=N||null}}return s=new Nt(s,r),s._enter=l,s._exit=a,s}function Qw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kw(){return new Nt(this._exit||this._groups.map(Ey),this._parents)}function Jw(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function e_(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),m,x=0;x<d;++x)(m=u[x]||c[x])&&(f[x]=m);for(;a<i;++a)l[a]=n[a];return new Nt(l,this._parents)}function t_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function n_(e){e||(e=r_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new Nt(i,this._parents).order()}function r_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function i_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function o_(){return Array.from(this)}function s_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function l_(){let e=0;for(const t of this)++e;return e}function a_(){return!this.node()}function u_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function c_(e){return function(){this.removeAttribute(e)}}function d_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f_(e,t){return function(){this.setAttribute(e,t)}}function p_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function h_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function m_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function g_(e,t){var n=Ea(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?d_:c_:typeof t=="function"?n.local?m_:h_:n.local?p_:f_)(n,t))}function by(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function y_(e){return function(){this.style.removeProperty(e)}}function v_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function x_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function w_(e,t,n){return arguments.length>1?this.each((t==null?y_:typeof t=="function"?x_:v_)(e,t,n??"")):ji(this.node(),e)}function ji(e,t){return e.style.getPropertyValue(t)||by(e).getComputedStyle(e,null).getPropertyValue(t)}function __(e){return function(){delete this[e]}}function S_(e,t){return function(){this[e]=t}}function k_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function E_(e,t){return arguments.length>1?this.each((t==null?__:typeof t=="function"?k_:S_)(e,t)):this.node()[e]}function Cy(e){return e.trim().split(/^|\s+/)}function Fd(e){return e.classList||new Ty(e)}function Ty(e){this._node=e,this._names=Cy(e.getAttribute("class")||"")}Ty.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ny(e,t){for(var n=Fd(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function My(e,t){for(var n=Fd(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function b_(e){return function(){Ny(this,e)}}function C_(e){return function(){My(this,e)}}function T_(e,t){return function(){(t.apply(this,arguments)?Ny:My)(this,e)}}function N_(e,t){var n=Cy(e+"");if(arguments.length<2){for(var r=Fd(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?T_:t?b_:C_)(n,t))}function M_(){this.textContent=""}function I_(e){return function(){this.textContent=e}}function P_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function R_(e){return arguments.length?this.each(e==null?M_:(typeof e=="function"?P_:I_)(e)):this.node().textContent}function A_(){this.innerHTML=""}function z_(e){return function(){this.innerHTML=e}}function L_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function D_(e){return arguments.length?this.each(e==null?A_:(typeof e=="function"?L_:z_)(e)):this.node().innerHTML}function $_(){this.nextSibling&&this.parentNode.appendChild(this)}function O_(){return this.each($_)}function j_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function F_(){return this.each(j_)}function B_(e){var t=typeof e=="function"?e:wy(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function H_(){return null}function V_(e,t){var n=typeof e=="function"?e:wy(e),r=t==null?H_:typeof t=="function"?t:jd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function U_(){var e=this.parentNode;e&&e.removeChild(this)}function W_(){return this.each(U_)}function q_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Y_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Z_(e){return this.select(e?Y_:q_)}function X_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function G_(e){return function(t){e.call(this,t,this.__data__)}}function Q_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function K_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function J_(e,t,n){return function(){var r=this.__on,i,o=G_(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function eS(e,t,n){var r=Q_(e+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?J_:K_,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function Iy(e,t,n){var r=by(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tS(e,t){return function(){return Iy(this,e,t)}}function nS(e,t){return function(){return Iy(this,e,t.apply(this,arguments))}}function rS(e,t){return this.each((typeof t=="function"?nS:tS)(e,t))}function*iS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Py=[null];function Nt(e,t){this._groups=e,this._parents=t}function cs(){return new Nt([[document.documentElement]],Py)}function oS(){return this}Nt.prototype=cs.prototype={constructor:Nt,select:Pw,selectAll:Lw,selectChild:jw,selectChildren:Vw,filter:Uw,data:Gw,enter:Ww,exit:Kw,join:Jw,merge:e_,selection:oS,order:t_,sort:n_,call:i_,nodes:o_,node:s_,size:l_,empty:a_,each:u_,attr:g_,style:w_,property:E_,classed:N_,text:R_,html:D_,raise:O_,lower:F_,append:B_,insert:V_,remove:W_,clone:Z_,datum:X_,on:eS,dispatch:rS,[Symbol.iterator]:iS};function Yt(e){return typeof e=="string"?new Nt([[document.querySelector(e)]],[document.documentElement]):new Nt([[e]],Py)}function sS(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sn(e,t){if(e=sS(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const lS={passive:!1},Go={capture:!0,passive:!1};function lu(e){e.stopImmediatePropagation()}function bi(e){e.preventDefault(),e.stopImmediatePropagation()}function Ry(e){var t=e.document.documentElement,n=Yt(e).on("dragstart.drag",bi,Go);"onselectstart"in t?n.on("selectstart.drag",bi,Go):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ay(e,t){var n=e.document.documentElement,r=Yt(e).on("dragstart.drag",null);t&&(r.on("click.drag",bi,Go),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ds=e=>()=>e;function yc(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}yc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function aS(e){return!e.ctrlKey&&!e.button}function uS(){return this.parentNode}function cS(e,t){return t??{x:e.x,y:e.y}}function dS(){return navigator.maxTouchPoints||"ontouchstart"in this}function fS(){var e=aS,t=uS,n=cS,r=dS,i={},o=ka("start","drag","end"),s=0,l,a,u,c,d=0;function f(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",T).on("touchmove.drag",p,lS).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,N){if(!(c||!e.call(this,w,N))){var A=g(this,t.call(this,w,N),w,N,"mouse");A&&(Yt(w.view).on("mousemove.drag",x,Go).on("mouseup.drag",v,Go),Ry(w.view),lu(w),u=!1,l=w.clientX,a=w.clientY,A("start",w))}}function x(w){if(bi(w),!u){var N=w.clientX-l,A=w.clientY-a;u=N*N+A*A>d}i.mouse("drag",w)}function v(w){Yt(w.view).on("mousemove.drag mouseup.drag",null),Ay(w.view,u),bi(w),i.mouse("end",w)}function T(w,N){if(e.call(this,w,N)){var A=w.changedTouches,E=t.call(this,w,N),M=A.length,D,$;for(D=0;D<M;++D)($=g(this,E,w,N,A[D].identifier,A[D]))&&(lu(w),$("start",w,A[D]))}}function p(w){var N=w.changedTouches,A=N.length,E,M;for(E=0;E<A;++E)(M=i[N[E].identifier])&&(bi(w),M("drag",w,N[E]))}function h(w){var N=w.changedTouches,A=N.length,E,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<A;++E)(M=i[N[E].identifier])&&(lu(w),M("end",w,N[E]))}function g(w,N,A,E,M,D){var $=o.copy(),F=sn(D||A,N),B,V,_;if((_=n.call(w,new yc("beforestart",{sourceEvent:A,target:f,identifier:M,active:s,x:F[0],y:F[1],dx:0,dy:0,dispatch:$}),E))!=null)return B=_.x-F[0]||0,V=_.y-F[1]||0,function P(I,L,R){var C=F,b;switch(I){case"start":i[M]=P,b=s++;break;case"end":delete i[M],--s;case"drag":F=sn(R||L,N),b=s;break}$.call(I,w,new yc(I,{sourceEvent:L,subject:_,target:f,identifier:M,active:b,x:F[0]+B,y:F[1]+V,dx:F[0]-C[0],dy:F[1]-C[1],dispatch:$}),E)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Ds(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:Ds(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Ds(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Ds(!!w),f):r},f.on=function(){var w=o.on.apply(o,arguments);return w===o?f:w},f.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,f):Math.sqrt(d)},f}function Bd(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ds(){}var Qo=.7,ql=1/Qo,Ci="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pS=/^#([0-9a-f]{3,8})$/,hS=new RegExp(`^rgb\\(${Ci},${Ci},${Ci}\\)$`),mS=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),gS=new RegExp(`^rgba\\(${Ci},${Ci},${Ci},${Ko}\\)$`),yS=new RegExp(`^rgba\\(${cn},${cn},${cn},${Ko}\\)$`),vS=new RegExp(`^hsl\\(${Ko},${cn},${cn}\\)$`),xS=new RegExp(`^hsla\\(${Ko},${cn},${cn},${Ko}\\)$`),Tp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bd(ds,Jo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Np,formatHex:Np,formatHex8:wS,formatHsl:_S,formatRgb:Mp,toString:Mp});function Np(){return this.rgb().formatHex()}function wS(){return this.rgb().formatHex8()}function _S(){return Ly(this).formatHsl()}function Mp(){return this.rgb().formatRgb()}function Jo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=pS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ip(t):n===3?new xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$s(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$s(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hS.exec(e))?new xt(t[1],t[2],t[3],1):(t=mS.exec(e))?new xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gS.exec(e))?$s(t[1],t[2],t[3],t[4]):(t=yS.exec(e))?$s(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vS.exec(e))?Ap(t[1],t[2]/100,t[3]/100,1):(t=xS.exec(e))?Ap(t[1],t[2]/100,t[3]/100,t[4]):Tp.hasOwnProperty(e)?Ip(Tp[e]):e==="transparent"?new xt(NaN,NaN,NaN,0):null}function Ip(e){return new xt(e>>16&255,e>>8&255,e&255,1)}function $s(e,t,n,r){return r<=0&&(e=t=n=NaN),new xt(e,t,n,r)}function SS(e){return e instanceof ds||(e=Jo(e)),e?(e=e.rgb(),new xt(e.r,e.g,e.b,e.opacity)):new xt}function vc(e,t,n,r){return arguments.length===1?SS(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bd(xt,vc,zy(ds,{brighter(e){return e=e==null?ql:Math.pow(ql,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xt(zr(this.r),zr(this.g),zr(this.b),Yl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pp,formatHex:Pp,formatHex8:kS,formatRgb:Rp,toString:Rp}));function Pp(){return`#${Ir(this.r)}${Ir(this.g)}${Ir(this.b)}`}function kS(){return`#${Ir(this.r)}${Ir(this.g)}${Ir(this.b)}${Ir((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rp(){const e=Yl(this.opacity);return`${e===1?"rgb(":"rgba("}${zr(this.r)}, ${zr(this.g)}, ${zr(this.b)}${e===1?")":`, ${e})`}`}function Yl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ir(e){return e=zr(e),(e<16?"0":"")+e.toString(16)}function Ap(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zt(e,t,n,r)}function Ly(e){if(e instanceof Zt)return new Zt(e.h,e.s,e.l,e.opacity);if(e instanceof ds||(e=Jo(e)),!e)return new Zt;if(e instanceof Zt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new Zt(s,l,a,e.opacity)}function ES(e,t,n,r){return arguments.length===1?Ly(e):new Zt(e,t,n,r??1)}function Zt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bd(Zt,ES,zy(ds,{brighter(e){return e=e==null?ql:Math.pow(ql,e),new Zt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Zt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xt(au(e>=240?e-240:e+120,i,r),au(e,i,r),au(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zt(zp(this.h),Os(this.s),Os(this.l),Yl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yl(this.opacity);return`${e===1?"hsl(":"hsla("}${zp(this.h)}, ${Os(this.s)*100}%, ${Os(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zp(e){return e=(e||0)%360,e<0?e+360:e}function Os(e){return Math.max(0,Math.min(1,e||0))}function au(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dy=e=>()=>e;function bS(e,t){return function(n){return e+n*t}}function CS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function TS(e){return(e=+e)==1?$y:function(t,n){return n-t?CS(t,n,e):Dy(isNaN(t)?n:t)}}function $y(e,t){var n=t-e;return n?bS(e,n):Dy(isNaN(e)?t:e)}const Lp=function e(t){var n=TS(t);function r(i,o){var s=n((i=vc(i)).r,(o=vc(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=$y(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var xc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uu=new RegExp(xc.source,"g");function NS(e){return function(){return e}}function MS(e){return function(t){return e(t)+""}}function IS(e,t){var n=xc.lastIndex=uu.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=xc.exec(e))&&(i=uu.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:Qn(r,i)})),n=uu.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?MS(a[0].x):NS(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var Dp=180/Math.PI,wc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Oy(e,t,n,r,i,o){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Dp,skewX:Math.atan(a)*Dp,scaleX:s,scaleY:l}}var js;function PS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wc:Oy(t.a,t.b,t.c,t.d,t.e,t.f)}function RS(e){return e==null||(js||(js=document.createElementNS("http://www.w3.org/2000/svg","g")),js.setAttribute("transform",e),!(e=js.transform.baseVal.consolidate()))?wc:(e=e.matrix,Oy(e.a,e.b,e.c,e.d,e.e,e.f))}function jy(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,m,x){if(u!==d||c!==f){var v=m.push("translate(",null,t,null,n);x.push({i:v-4,x:Qn(u,d)},{i:v-2,x:Qn(c,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Qn(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Qn(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function a(u,c,d,f,m,x){if(u!==d||c!==f){var v=m.push(i(m)+"scale(",null,",",null,")");x.push({i:v-4,x:Qn(u,d)},{i:v-2,x:Qn(c,f)})}else(d!==1||f!==1)&&m.push(i(m)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(m){for(var x=-1,v=f.length,T;++x<v;)d[(T=f[x]).i]=T.x(m);return d.join("")}}}var AS=jy(PS,"px, ","px)","deg)"),zS=jy(RS,", ",")",")"),LS=1e-12;function $p(e){return((e=Math.exp(e))+1/e)/2}function DS(e){return((e=Math.exp(e))-1/e)/2}function $S(e){return((e=Math.exp(2*e))-1)/(e+1)}const OS=function e(t,n,r){function i(o,s){var l=o[0],a=o[1],u=o[2],c=s[0],d=s[1],f=s[2],m=c-l,x=d-a,v=m*m+x*x,T,p;if(v<LS)p=Math.log(f/u)/t,T=function(E){return[l+E*m,a+E*x,u*Math.exp(t*E*p)]};else{var h=Math.sqrt(v),g=(f*f-u*u+r*v)/(2*u*n*h),w=(f*f-u*u-r*v)/(2*f*n*h),N=Math.log(Math.sqrt(g*g+1)-g),A=Math.log(Math.sqrt(w*w+1)-w);p=(A-N)/t,T=function(E){var M=E*p,D=$p(N),$=u/(n*h)*(D*$S(t*M+N)-DS(N));return[l+$*m,a+$*x,u*D/$p(t*M+N)]}}return T.duration=p*1e3*t/Math.SQRT2,T}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,a=l*l;return e(s,l,a)},i}(Math.SQRT2,2,4);var Fi=0,vo=0,lo=0,Fy=1e3,Zl,xo,Xl=0,Fr=0,ba=0,es=typeof performance=="object"&&performance.now?performance:Date,By=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hd(){return Fr||(By(jS),Fr=es.now()+ba)}function jS(){Fr=0}function Gl(){this._call=this._time=this._next=null}Gl.prototype=Hy.prototype={constructor:Gl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Hd():+n)+(t==null?0:+t),!this._next&&xo!==this&&(xo?xo._next=this:Zl=this,xo=this),this._call=e,this._time=n,_c()},stop:function(){this._call&&(this._call=null,this._time=1/0,_c())}};function Hy(e,t,n){var r=new Gl;return r.restart(e,t,n),r}function FS(){Hd(),++Fi;for(var e=Zl,t;e;)(t=Fr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fi}function Op(){Fr=(Xl=es.now())+ba,Fi=vo=0;try{FS()}finally{Fi=0,HS(),Fr=0}}function BS(){var e=es.now(),t=e-Xl;t>Fy&&(ba-=t,Xl=e)}function HS(){for(var e,t=Zl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Zl=n);xo=e,_c(r)}function _c(e){if(!Fi){vo&&(vo=clearTimeout(vo));var t=e-Fr;t>24?(e<1/0&&(vo=setTimeout(Op,e-es.now()-ba)),lo&&(lo=clearInterval(lo))):(lo||(Xl=es.now(),lo=setInterval(BS,Fy)),Fi=1,By(Op))}}function jp(e,t,n){var r=new Gl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var VS=ka("start","end","cancel","interrupt"),US=[],Vy=0,Fp=1,Sc=2,yl=3,Bp=4,kc=5,vl=6;function Ca(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;WS(e,n,{name:t,index:r,group:i,on:VS,tween:US,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Vy})}function Vd(e,t){var n=Jt(e,t);if(n.state>Vy)throw new Error("too late; already scheduled");return n}function pn(e,t){var n=Jt(e,t);if(n.state>yl)throw new Error("too late; already running");return n}function Jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function WS(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Hy(o,0,n.time);function o(u){n.state=Fp,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,m;if(n.state!==Fp)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===yl)return jp(s);m.state===Bp?(m.state=vl,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=vl,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(jp(function(){n.state===yl&&(n.state=Bp,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Sc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Sc){for(n.state=yl,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=kc,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===kc&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=vl,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function xl(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Sc&&r.state<kc,r.state=vl,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function qS(e){return this.each(function(){xl(this,e)})}function YS(e,t){var n,r;return function(){var i=pn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ZS(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=pn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function XS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Jt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?YS:ZS)(n,e,t))}function Ud(e,t,n){var r=e._id;return e.each(function(){var i=pn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Jt(i,r).value[t]}}function Uy(e,t){var n;return(typeof t=="number"?Qn:t instanceof Jo?Lp:(n=Jo(t))?(t=n,Lp):IS)(e,t)}function GS(e){return function(){this.removeAttribute(e)}}function QS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function JS(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function ek(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function tk(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function nk(e,t){var n=Ea(e),r=n==="transform"?zS:Uy;return this.attrTween(e,typeof t=="function"?(n.local?tk:ek)(n,r,Ud(this,"attr."+e,t)):t==null?(n.local?QS:GS)(n):(n.local?JS:KS)(n,r,t))}function rk(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ik(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ok(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ik(e,o)),n}return i._value=t,i}function sk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&rk(e,o)),n}return i._value=t,i}function lk(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ea(e);return this.tween(n,(r.local?ok:sk)(r,t))}function ak(e,t){return function(){Vd(this,e).delay=+t.apply(this,arguments)}}function uk(e,t){return t=+t,function(){Vd(this,e).delay=t}}function ck(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ak:uk)(t,e)):Jt(this.node(),t).delay}function dk(e,t){return function(){pn(this,e).duration=+t.apply(this,arguments)}}function fk(e,t){return t=+t,function(){pn(this,e).duration=t}}function pk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dk:fk)(t,e)):Jt(this.node(),t).duration}function hk(e,t){if(typeof t!="function")throw new Error;return function(){pn(this,e).ease=t}}function mk(e){var t=this._id;return arguments.length?this.each(hk(t,e)):Jt(this.node(),t).ease}function gk(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pn(this,e).ease=n}}function yk(e){if(typeof e!="function")throw new Error;return this.each(gk(this._id,e))}function vk(e){typeof e!="function"&&(e=Sy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new In(r,this._parents,this._name,this._id)}function xk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=t[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,m=0;m<c;++m)(f=a[m]||u[m])&&(d[m]=f);for(;l<r;++l)s[l]=t[l];return new In(s,this._parents,this._name,this._id)}function wk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function _k(e,t,n){var r,i,o=wk(t)?Vd:pn;return function(){var s=o(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function Sk(e,t){var n=this._id;return arguments.length<2?Jt(this.node(),n).on.on(e):this.each(_k(n,e,t))}function kk(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ek(){return this.on("end.remove",kk(this._id))}function bk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jd(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,Ca(u[f],t,n,f,u,Jt(c,n)));return new In(o,this._parents,t,n)}function Ck(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_y(e));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),m,x=Jt(c,n),v=0,T=f.length;v<T;++v)(m=f[v])&&Ca(m,t,n,v,f,x);o.push(f),s.push(c)}return new In(o,s,t,n)}var Tk=cs.prototype.constructor;function Nk(){return new Tk(this._groups,this._parents)}function Mk(e,t){var n,r,i;return function(){var o=ji(this,e),s=(this.style.removeProperty(e),ji(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Wy(e){return function(){this.style.removeProperty(e)}}function Ik(e,t,n){var r,i=n+"",o;return function(){var s=ji(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Pk(e,t,n){var r,i,o;return function(){var s=ji(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),ji(this,e))),s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l))}}function Rk(e,t){var n,r,i,o="style."+t,s="end."+o,l;return function(){var a=pn(this,e),u=a.on,c=a.value[o]==null?l||(l=Wy(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function Ak(e,t,n){var r=(e+="")=="transform"?AS:Uy;return t==null?this.styleTween(e,Mk(e,r)).on("end.style."+e,Wy(e)):typeof t=="function"?this.styleTween(e,Pk(e,r,Ud(this,"style."+e,t))).each(Rk(this._id,e)):this.styleTween(e,Ik(e,r,t),n).on("end.style."+e,null)}function zk(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Lk(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&zk(e,s,n)),r}return o._value=t,o}function Dk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Lk(e,t,n??""))}function $k(e){return function(){this.textContent=e}}function Ok(e){return function(){var t=e(this);this.textContent=t??""}}function jk(e){return this.tween("text",typeof e=="function"?Ok(Ud(this,"text",e)):$k(e==null?"":e+""))}function Fk(e){return function(t){this.textContent=e.call(this,t)}}function Bk(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Fk(i)),t}return r._value=e,r}function Hk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Bk(e))}function Vk(){for(var e=this._name,t=this._id,n=qy(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=Jt(a,t);Ca(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new In(r,this._parents,e,n)}function Uk(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=pn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),i===0&&o()})}var Wk=0;function In(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function qy(){return++Wk}var vn=cs.prototype;In.prototype={constructor:In,select:bk,selectAll:Ck,selectChild:vn.selectChild,selectChildren:vn.selectChildren,filter:vk,merge:xk,selection:Nk,transition:Vk,call:vn.call,nodes:vn.nodes,node:vn.node,size:vn.size,empty:vn.empty,each:vn.each,on:Sk,attr:nk,attrTween:lk,style:Ak,styleTween:Dk,text:jk,textTween:Hk,remove:Ek,tween:XS,delay:ck,duration:pk,ease:mk,easeVarying:yk,end:Uk,[Symbol.iterator]:vn[Symbol.iterator]};function qk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Yk={time:null,delay:0,duration:250,ease:qk};function Zk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Xk(e){var t,n;e instanceof In?(t=e._id,e=e._name):(t=qy(),(n=Yk).time=Hd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Ca(a,e,t,u,s,n||Zk(a,t));return new In(r,this._parents,e,t)}cs.prototype.interrupt=qS;cs.prototype.transition=Xk;const Fs=e=>()=>e;function Gk(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function kn(e,t,n){this.k=e,this.x=t,this.y=n}kn.prototype={constructor:kn,scale:function(e){return e===1?this:new kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hr=new kn(1,0,0);kn.prototype;function cu(e){e.stopImmediatePropagation()}function ao(e){e.preventDefault(),e.stopImmediatePropagation()}function Qk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Kk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hp(){return this.__zoom||hr}function Jk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function e2(){return navigator.maxTouchPoints||"ontouchstart"in this}function t2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function n2(){var e=Qk,t=Kk,n=t2,r=Jk,i=e2,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=OS,u=ka("start","zoom","end"),c,d,f,m=500,x=150,v=0,T=10;function p(_){_.property("__zoom",Hp).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",$).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(_,P,I,L){var R=_.selection?_.selection():_;R.property("__zoom",Hp),_!==R?N(_,P,I,L):R.interrupt().each(function(){A(this,arguments).event(L).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},p.scaleBy=function(_,P,I,L){p.scaleTo(_,function(){var R=this.__zoom.k,C=typeof P=="function"?P.apply(this,arguments):P;return R*C},I,L)},p.scaleTo=function(_,P,I,L){p.transform(_,function(){var R=t.apply(this,arguments),C=this.__zoom,b=I==null?w(R):typeof I=="function"?I.apply(this,arguments):I,z=C.invert(b),k=typeof P=="function"?P.apply(this,arguments):P;return n(g(h(C,k),b,z),R,s)},I,L)},p.translateBy=function(_,P,I,L){p.transform(_,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,L)},p.translateTo=function(_,P,I,L,R){p.transform(_,function(){var C=t.apply(this,arguments),b=this.__zoom,z=L==null?w(C):typeof L=="function"?L.apply(this,arguments):L;return n(hr.translate(z[0],z[1]).scale(b.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof I=="function"?-I.apply(this,arguments):-I),C,s)},L,R)};function h(_,P){return P=Math.max(o[0],Math.min(o[1],P)),P===_.k?_:new kn(P,_.x,_.y)}function g(_,P,I){var L=P[0]-I[0]*_.k,R=P[1]-I[1]*_.k;return L===_.x&&R===_.y?_:new kn(_.k,L,R)}function w(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function N(_,P,I,L){_.on("start.zoom",function(){A(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(L).end()}).tween("zoom",function(){var R=this,C=arguments,b=A(R,C).event(L),z=t.apply(R,C),k=I==null?w(z):typeof I=="function"?I.apply(R,C):I,O=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),j=R.__zoom,W=typeof P=="function"?P.apply(R,C):P,X=a(j.invert(k).concat(O/j.k),W.invert(k).concat(O/W.k));return function(te){if(te===1)te=W;else{var ie=X(te),ae=O/ie[2];te=new kn(ae,k[0]-ie[0]*ae,k[1]-ie[1]*ae)}b.zoom(null,te)}})}function A(_,P,I){return!I&&_.__zooming||new E(_,P)}function E(_,P){this.that=_,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,P),this.taps=0}E.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,P){return this.mouse&&_!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var P=Yt(this.that).datum();u.call(_,this.that,new Gk(_,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),P)}};function M(_,...P){if(!e.apply(this,arguments))return;var I=A(this,P).event(_),L=this.__zoom,R=Math.max(o[0],Math.min(o[1],L.k*Math.pow(2,r.apply(this,arguments)))),C=sn(_);if(I.wheel)(I.mouse[0][0]!==C[0]||I.mouse[0][1]!==C[1])&&(I.mouse[1]=L.invert(I.mouse[0]=C)),clearTimeout(I.wheel);else{if(L.k===R)return;I.mouse=[C,L.invert(C)],xl(this),I.start()}ao(_),I.wheel=setTimeout(b,x),I.zoom("mouse",n(g(h(L,R),I.mouse[0],I.mouse[1]),I.extent,s));function b(){I.wheel=null,I.end()}}function D(_,...P){if(f||!e.apply(this,arguments))return;var I=_.currentTarget,L=A(this,P,!0).event(_),R=Yt(_.view).on("mousemove.zoom",k,!0).on("mouseup.zoom",O,!0),C=sn(_,I),b=_.clientX,z=_.clientY;Ry(_.view),cu(_),L.mouse=[C,this.__zoom.invert(C)],xl(this),L.start();function k(j){if(ao(j),!L.moved){var W=j.clientX-b,X=j.clientY-z;L.moved=W*W+X*X>v}L.event(j).zoom("mouse",n(g(L.that.__zoom,L.mouse[0]=sn(j,I),L.mouse[1]),L.extent,s))}function O(j){R.on("mousemove.zoom mouseup.zoom",null),Ay(j.view,L.moved),ao(j),L.event(j).end()}}function $(_,...P){if(e.apply(this,arguments)){var I=this.__zoom,L=sn(_.changedTouches?_.changedTouches[0]:_,this),R=I.invert(L),C=I.k*(_.shiftKey?.5:2),b=n(g(h(I,C),L,R),t.apply(this,P),s);ao(_),l>0?Yt(this).transition().duration(l).call(N,b,L,_):Yt(this).call(p.transform,b,L,_)}}function F(_,...P){if(e.apply(this,arguments)){var I=_.touches,L=I.length,R=A(this,P,_.changedTouches.length===L).event(_),C,b,z,k;for(cu(_),b=0;b<L;++b)z=I[b],k=sn(z,this),k=[k,this.__zoom.invert(k),z.identifier],R.touch0?!R.touch1&&R.touch0[2]!==k[2]&&(R.touch1=k,R.taps=0):(R.touch0=k,C=!0,R.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(R.taps<2&&(d=k[0],c=setTimeout(function(){c=null},m)),xl(this),R.start())}}function B(_,...P){if(this.__zooming){var I=A(this,P).event(_),L=_.changedTouches,R=L.length,C,b,z,k;for(ao(_),C=0;C<R;++C)b=L[C],z=sn(b,this),I.touch0&&I.touch0[2]===b.identifier?I.touch0[0]=z:I.touch1&&I.touch1[2]===b.identifier&&(I.touch1[0]=z);if(b=I.that.__zoom,I.touch1){var O=I.touch0[0],j=I.touch0[1],W=I.touch1[0],X=I.touch1[1],te=(te=W[0]-O[0])*te+(te=W[1]-O[1])*te,ie=(ie=X[0]-j[0])*ie+(ie=X[1]-j[1])*ie;b=h(b,Math.sqrt(te/ie)),z=[(O[0]+W[0])/2,(O[1]+W[1])/2],k=[(j[0]+X[0])/2,(j[1]+X[1])/2]}else if(I.touch0)z=I.touch0[0],k=I.touch0[1];else return;I.zoom("touch",n(g(b,z,k),I.extent,s))}}function V(_,...P){if(this.__zooming){var I=A(this,P).event(_),L=_.changedTouches,R=L.length,C,b;for(cu(_),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),C=0;C<R;++C)b=L[C],I.touch0&&I.touch0[2]===b.identifier?delete I.touch0:I.touch1&&I.touch1[2]===b.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(b=sn(b,this),Math.hypot(d[0]-b[0],d[1]-b[1])<T)){var z=Yt(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return p.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:Fs(+_),p):r},p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Fs(!!_),p):e},p.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:Fs(!!_),p):i},p.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Fs([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),p):t},p.scaleExtent=function(_){return arguments.length?(o[0]=+_[0],o[1]=+_[1],p):[o[0],o[1]]},p.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(_){return arguments.length?(n=_,p):n},p.duration=function(_){return arguments.length?(l=+_,p):l},p.interpolate=function(_){return arguments.length?(a=_,p):a},p.on=function(){var _=u.on.apply(u,arguments);return _===u?p:_},p.clickDistance=function(_){return arguments.length?(v=(_=+_)*_,p):Math.sqrt(v)},p.tapDistance=function(_){return arguments.length?(T=+_,p):T},p}const Ta=S.createContext(null),r2=Ta.Provider,Pn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Yy=Pn.error001();function ze(e,t){const n=S.useContext(Ta);if(n===null)throw new Error(Yy);return xy(n,e,t)}const Je=()=>{const e=S.useContext(Ta);if(e===null)throw new Error(Yy);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},i2=e=>e.userSelectionActive?"none":"all";function o2({position:e,children:t,className:n,style:r,...i}){const o=ze(i2),s=`${e}`.split("-");return U.createElement("div",{className:Rt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function s2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:U.createElement(o2,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},U.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const l2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=S.useRef(null),[f,m]=S.useState({x:0,y:0,width:0,height:0}),x=Rt(["react-flow__edge-textwrapper",u]);return S.useEffect(()=>{if(d.current){const v=d.current.getBBox();m({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:U.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:x,visibility:f.width?"visible":"hidden",...c},i&&U.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),U.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var a2=S.memo(l2);const Wd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Bi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),qd=(e={x:0,y:0},t)=>({x:Bi(e.x,t[0][0],t[1][0]),y:Bi(e.y,t[0][1],t[1][1])}),Vp=(e,t,n)=>e<t?Bi(Math.abs(e-t),1,50)/50:e>n?-Bi(Math.abs(e-n),1,50)/50:0,Zy=(e,t)=>{const n=Vp(e.x,35,t.width-35)*20,r=Vp(e.y,35,t.height-35)*20;return[n,r]},Xy=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},u2=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Yd=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),c2=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Up=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Ec=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},d2=e=>$t(e.width)&&$t(e.height)&&$t(e.x)&&$t(e.y),$t=e=>!isNaN(e)&&isFinite(e),Ae=Symbol.for("internals"),Gy=["Enter"," ","Escape"],f2=(e,t)=>{},p2=e=>"nativeEvent"in e;function bc(e){var i,o;const t=p2(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Qy=e=>"clientX"in e,mr=(e,t)=>{var o,s;const n=Qy(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Ql=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},fs=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m=20})=>U.createElement(U.Fragment,null,U.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),m&&U.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&$t(n)&&$t(r)?U.createElement(a2,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);fs.displayName="BaseEdge";function uo(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function Ky({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[o,l,i,s]}function Jy({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:l}){const a=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var Br;(function(e){e.Strict="strict",e.Loose="loose"})(Br||(Br={}));var Pr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Pr||(Pr={}));var ts;(function(e){e.Partial="partial",e.Full="full"})(ts||(ts={}));var nr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(nr||(nr={}));var Kl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Kl||(Kl={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));function Wp({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function e0({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top}){const[s,l]=Wp({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,u]=Wp({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,d,f,m]=Jy({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${i}`,c,d,f,m]}const Zd=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=K.Bottom,targetPosition:o=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:x,interactionWidth:v})=>{const[T,p,h]=e0({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return U.createElement(fs,{path:T,labelX:p,labelY:h,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:x,interactionWidth:v})});Zd.displayName="SimpleBezierEdge";const qp={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},h2=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Yp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function m2({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:i,offset:o}){const s=qp[t],l=qp[r],a={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+l.x*o,y:n.y+l.y*o},c=h2({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let m=[],x,v;const T={x:0,y:0},p={x:0,y:0},[h,g,w,N]=Ky({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){x=i.x??h,v=i.y??g;const E=[{x,y:a.y},{x,y:u.y}],M=[{x:a.x,y:v},{x:u.x,y:v}];s[d]===f?m=d==="x"?E:M:m=d==="x"?M:E}else{const E=[{x:a.x,y:u.y}],M=[{x:u.x,y:a.y}];if(d==="x"?m=s.x===f?M:E:m=s.y===f?E:M,t===r){const V=Math.abs(e[d]-n[d]);if(V<=o){const _=Math.min(o-1,o-V);s[d]===f?T[d]=(a[d]>e[d]?-1:1)*_:p[d]=(u[d]>n[d]?-1:1)*_}}if(t!==r){const V=d==="x"?"y":"x",_=s[d]===l[V],P=a[V]>u[V],I=a[V]<u[V];(s[d]===1&&(!_&&P||_&&I)||s[d]!==1&&(!_&&I||_&&P))&&(m=d==="x"?E:M)}const D={x:a.x+T.x,y:a.y+T.y},$={x:u.x+p.x,y:u.y+p.y},F=Math.max(Math.abs(D.x-m[0].x),Math.abs($.x-m[0].x)),B=Math.max(Math.abs(D.y-m[0].y),Math.abs($.y-m[0].y));F>=B?(x=(D.x+$.x)/2,v=m[0].y):(x=m[0].x,v=(D.y+$.y)/2)}return[[e,{x:a.x+T.x,y:a.y+T.y},...m,{x:u.x+p.x,y:u.y+p.y},n],x,v,w,N]}function g2(e,t,n,r){const i=Math.min(Yp(e,t)/2,Yp(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${o},${s+i*a}Q ${o},${s} ${o+i*l},${s}`}function Cc({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,m,x]=m2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:l,y:a},offset:u});return[c.reduce((T,p,h)=>{let g="";return h>0&&h<c.length-1?g=g2(c[h-1],p,c[h+1],s):g=`${h===0?"M":"L"}${p.x} ${p.y}`,T+=g,T},""),d,f,m,x]}const Na=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=K.Bottom,targetPosition:f=K.Top,markerEnd:m,markerStart:x,pathOptions:v,interactionWidth:T})=>{const[p,h,g]=Cc({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return U.createElement(fs,{path:p,labelX:h,labelY:g,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:x,interactionWidth:T})});Na.displayName="SmoothStepEdge";const Xd=S.memo(e=>{var t;return U.createElement(Na,{...e,pathOptions:S.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Xd.displayName="StepEdge";function y2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,l]=Ky({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,l]}const Gd=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})=>{const[x,v,T]=y2({sourceX:e,sourceY:t,targetX:n,targetY:r});return U.createElement(fs,{path:x,labelX:v,labelY:T,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:m})});Gd.displayName="StraightEdge";function Bs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Zp({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case K.Left:return[t-Bs(t-r,o),n];case K.Right:return[t+Bs(r-t,o),n];case K.Top:return[t,n-Bs(n-i,o)];case K.Bottom:return[t,n+Bs(i-n,o)]}}function t0({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,curvature:s=.25}){const[l,a]=Zp({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=Zp({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,f,m,x]=Jy({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${i}`,d,f,m,x]}const Jl=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=K.Bottom,targetPosition:o=K.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:x,pathOptions:v,interactionWidth:T})=>{const[p,h,g]=t0({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return U.createElement(fs,{path:p,labelX:h,labelY:g,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:m,markerStart:x,interactionWidth:T})});Jl.displayName="BezierEdge";const Qd=S.createContext(null),v2=Qd.Provider;Qd.Consumer;const x2=()=>S.useContext(Qd),w2=e=>"id"in e&&"source"in e&&"target"in e,_2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Tc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,S2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),n0=(e,t)=>{if(!e.source||!e.target)return t;let n;return w2(e)?n={...e}:n={...e,id:_2(e)},S2(n,t)?t:t.concat(n)},Nc=({x:e,y:t},[n,r,i],o,[s,l])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},r0=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Ti=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Kd=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Ti(i,t).positionAbsolute;return u2(r,Yd({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return c2(n)},i0=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:m=!0,hidden:x=!1}=c;if(s&&!m||x)return!1;const{positionAbsolute:v}=Ti(c,l),T={x:v.x,y:v.y,width:d||0,height:f||0},p=Ec(a,T),h=typeof d>"u"||typeof f>"u"||d===null||f===null,g=o&&p>0,w=(d||0)*(f||0);(h||g||p>=w||c.dragging)&&u.push(c)}),u},o0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},s0=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),l=n/(e.height*(1+o)),a=Math.min(s,l),u=Bi(a,r,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,m=n/2-d*u;return{x:f,y:m,zoom:u}},Cr=(e,t=0)=>e.transition().duration(t);function Xp(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,l;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+o.y+o.height/2}),i},[])}function k2(e,t,n,r,i,o){const{x:s,y:l}=mr(e),u=t.elementsFromPoint(s,l).find(x=>x.classList.contains("react-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const v=Jd(void 0,u),T=u.getAttribute("data-handleid"),p=o({nodeId:x,id:T,type:v});if(p){const h=i.find(g=>g.nodeId===x&&g.type===v&&g.id===T);return{handle:{id:T,type:v,nodeId:x,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:p}}}}let c=[],d=1/0;if(i.forEach(x=>{const v=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(v<=r){const T=o(x);v<=d&&(v<d?c=[{handle:x,validHandleResult:T}]:v===d&&c.push({handle:x,validHandleResult:T}),d=v)}}),!c.length)return{handle:null,validHandleResult:l0()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:x})=>x.isValid),m=c.some(({handle:x})=>x.type==="target");return c.find(({handle:x,validHandleResult:v})=>m?x.type==="target":f?v.isValid:!0)||c[0]}const E2={source:null,target:null,sourceHandle:null,targetHandle:null},l0=()=>({handleDomNode:null,isValid:!1,connection:E2,endHandle:null});function a0(e,t,n,r,i,o,s){const l=i==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...l0(),handleDomNode:a};if(a){const c=Jd(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),x=a.classList.contains("connectableend"),v={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=v,m&&x&&(t===Br.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=o(v))}return u}function b2({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Ae]){const{handleBounds:s}=o[Ae];let l=[],a=[];s&&(l=Xp(o,s,"source",`${t}-${n}-${r}`),a=Xp(o,s,"target",`${t}-${n}-${r}`)),i.push(...l,...a)}return i},[])}function Jd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function du(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function C2(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function u0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=Xy(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:m,connectionRadius:x,onConnectStart:v,panBy:T,getNodes:p,cancelConnection:h}=o();let g=0,w;const{x:N,y:A}=mr(e),E=c==null?void 0:c.elementFromPoint(N,A),M=Jd(a,E),D=f==null?void 0:f.getBoundingClientRect();if(!D||!M)return;let $,F=mr(e,D),B=!1,V=null,_=!1,P=null;const I=b2({nodes:p(),nodeId:n,handleId:t,handleType:M}),L=()=>{if(!m)return;const[b,z]=Zy(F,D);T({x:b,y:z}),g=requestAnimationFrame(L)};s({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:M,connectionStartHandle:{nodeId:n,handleId:t,type:M},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:M});function R(b){const{transform:z}=o();F=mr(b,D);const{handle:k,validHandleResult:O}=k2(b,c,Nc(F,z,!1,[1,1]),x,I,j=>a0(j,d,n,t,i?"target":"source",l,c));if(w=k,B||(L(),B=!0),P=O.handleDomNode,V=O.connection,_=O.isValid,s({connectionPosition:w&&_?r0({x:w.x,y:w.y},z):F,connectionStatus:C2(!!w,_),connectionEndHandle:O.endHandle}),!w&&!_&&!P)return du($);V.source!==V.target&&P&&(du($),$=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",_),P.classList.toggle("react-flow__handle-valid",_))}function C(b){var z,k;(w||P)&&V&&_&&(r==null||r(V)),(k=(z=o()).onConnectEnd)==null||k.call(z,b),a&&(u==null||u(b)),du($),h(),cancelAnimationFrame(g),B=!1,_=!1,V=null,P=null,c.removeEventListener("mousemove",R),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",R),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",R),c.addEventListener("mouseup",C),c.addEventListener("touchmove",R),c.addEventListener("touchend",C)}const Gp=()=>!0,T2=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),N2=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},c0=S.forwardRef(({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},m)=>{var D,$;const x=s||null,v=e==="target",T=Je(),p=x2(),{connectOnClick:h,noPanClassName:g}=ze(T2,ft),{connecting:w,clickConnecting:N}=ze(N2(p,x,e),ft);p||($=(D=T.getState()).onError)==null||$.call(D,"010",Pn.error010());const A=F=>{const{defaultEdgeOptions:B,onConnect:V,hasDefaultEdges:_}=T.getState(),P={...B,...F};if(_){const{edges:I,setEdges:L}=T.getState();L(n0(P,I))}V==null||V(P),l==null||l(P)},E=F=>{if(!p)return;const B=Qy(F);i&&(B&&F.button===0||!B)&&u0({event:F,handleId:x,nodeId:p,onConnect:A,isTarget:v,getState:T.getState,setState:T.setState,isValidConnection:n||T.getState().isValidConnection||Gp}),B?c==null||c(F):d==null||d(F)},M=F=>{const{onClickConnectStart:B,onClickConnectEnd:V,connectionClickStartHandle:_,connectionMode:P,isValidConnection:I}=T.getState();if(!p||!_&&!i)return;if(!_){B==null||B(F,{nodeId:p,handleId:x,handleType:e}),T.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:x}});return}const L=Xy(F.target),R=n||I||Gp,{connection:C,isValid:b}=a0({nodeId:p,id:x,type:e},P,_.nodeId,_.handleId||null,_.type,R,L);b&&A(C),V==null||V(F),T.setState({connectionClickStartHandle:null})};return U.createElement("div",{"data-handleid":x,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${x}-${e}`,className:Rt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,connecting:N,connectionindicator:r&&(i&&!w||o&&w)}]),onMouseDown:E,onTouchStart:E,onClick:h?M:void 0,ref:m,...f},a)});c0.displayName="Handle";var xr=S.memo(c0);const d0=({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom})=>U.createElement(U.Fragment,null,U.createElement(xr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,U.createElement(xr,{type:"source",position:r,isConnectable:t}));d0.displayName="DefaultNode";var Mc=S.memo(d0);const f0=({data:e,isConnectable:t,sourcePosition:n=K.Bottom})=>U.createElement(U.Fragment,null,e==null?void 0:e.label,U.createElement(xr,{type:"source",position:n,isConnectable:t}));f0.displayName="InputNode";var p0=S.memo(f0);const h0=({data:e,isConnectable:t,targetPosition:n=K.Top})=>U.createElement(U.Fragment,null,U.createElement(xr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);h0.displayName="OutputNode";var m0=S.memo(h0);const ef=()=>null;ef.displayName="GroupNode";const M2=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Hs=e=>e.id;function I2(e,t){return ft(e.selectedNodes.map(Hs),t.selectedNodes.map(Hs))&&ft(e.selectedEdges.map(Hs),t.selectedEdges.map(Hs))}const g0=S.memo(({onSelectionChange:e})=>{const t=Je(),{selectedNodes:n,selectedEdges:r}=ze(M2,I2);return S.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});g0.displayName="SelectionListener";const P2=e=>!!e.onSelectionChange;function R2({onSelectionChange:e}){const t=ze(P2);return e||t?U.createElement(g0,{onSelectionChange:e}):null}const A2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Xr(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ue(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const z2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:x,minZoom:v,maxZoom:T,nodeExtent:p,onNodesChange:h,onEdgesChange:g,elementsSelectable:w,connectionMode:N,snapGrid:A,snapToGrid:E,translateExtent:M,connectOnClick:D,defaultEdgeOptions:$,fitView:F,fitViewOptions:B,onNodesDelete:V,onEdgesDelete:_,onNodeDrag:P,onNodeDragStart:I,onNodeDragStop:L,onSelectionDrag:R,onSelectionDragStart:C,onSelectionDragStop:b,noPanClassName:z,nodeOrigin:k,rfId:O,autoPanOnConnect:j,autoPanOnNodeDrag:W,onError:X,connectionRadius:te,isValidConnection:ie,nodeDragThreshold:ae})=>{const{setNodes:ce,setEdges:Se,setDefaultNodesAndEdges:xe,setMinZoom:Le,setMaxZoom:Pe,setTranslateExtent:we,setNodeExtent:Oe,reset:ke}=ze(A2,ft),re=Je();return S.useEffect(()=>{const st=r==null?void 0:r.map(hn=>({...hn,...$}));return xe(n,st),()=>{ke()}},[]),ue("defaultEdgeOptions",$,re.setState),ue("connectionMode",N,re.setState),ue("onConnect",i,re.setState),ue("onConnectStart",o,re.setState),ue("onConnectEnd",s,re.setState),ue("onClickConnectStart",l,re.setState),ue("onClickConnectEnd",a,re.setState),ue("nodesDraggable",u,re.setState),ue("nodesConnectable",c,re.setState),ue("nodesFocusable",d,re.setState),ue("edgesFocusable",f,re.setState),ue("edgesUpdatable",m,re.setState),ue("elementsSelectable",w,re.setState),ue("elevateNodesOnSelect",x,re.setState),ue("snapToGrid",E,re.setState),ue("snapGrid",A,re.setState),ue("onNodesChange",h,re.setState),ue("onEdgesChange",g,re.setState),ue("connectOnClick",D,re.setState),ue("fitViewOnInit",F,re.setState),ue("fitViewOnInitOptions",B,re.setState),ue("onNodesDelete",V,re.setState),ue("onEdgesDelete",_,re.setState),ue("onNodeDrag",P,re.setState),ue("onNodeDragStart",I,re.setState),ue("onNodeDragStop",L,re.setState),ue("onSelectionDrag",R,re.setState),ue("onSelectionDragStart",C,re.setState),ue("onSelectionDragStop",b,re.setState),ue("noPanClassName",z,re.setState),ue("nodeOrigin",k,re.setState),ue("rfId",O,re.setState),ue("autoPanOnConnect",j,re.setState),ue("autoPanOnNodeDrag",W,re.setState),ue("onError",X,re.setState),ue("connectionRadius",te,re.setState),ue("isValidConnection",ie,re.setState),ue("nodeDragThreshold",ae,re.setState),Xr(e,ce),Xr(t,Se),Xr(v,Le),Xr(T,Pe),Xr(M,we),Xr(p,Oe),null},Qp={display:"none"},L2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},y0="react-flow__node-desc",v0="react-flow__edge-desc",D2="react-flow__aria-live",$2=e=>e.ariaLiveMessage;function O2({rfId:e}){const t=ze($2);return U.createElement("div",{id:`${D2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:L2},t)}function j2({rfId:e,disableKeyboardA11y:t}){return U.createElement(U.Fragment,null,U.createElement("div",{id:`${y0}-${e}`,style:Qp},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),U.createElement("div",{id:`${v0}-${e}`,style:Qp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&U.createElement(O2,{rfId:e}))}var ns=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=S.useState(!1),i=S.useRef(!1),o=S.useRef(new Set([])),[s,l]=S.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return S.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(i.current=m.ctrlKey||m.metaKey||m.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&bc(m))return!1;const v=Jp(m.code,l);o.current.add(m[v]),Kp(s,o.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&bc(m))return!1;const v=Jp(m.code,l);Kp(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[v]),m.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function Kp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Jp(e,t){return t.includes(e)?"code":"key"}function x0(e,t,n,r){var l,a;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Ti(o,r);return x0(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=o[Ae])==null?void 0:l.z)??0)>(n.z??0)?((a=o[Ae])==null?void 0:a.z)??0:n.z??0},r)}function w0(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:l,z:a}=x0(r,e,{...r.position,z:((o=r[Ae])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:l},r[Ae].z=a,n!=null&&n[r.id]&&(r[Ae].isParent=!0)}})}function fu(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(l=>{var m;const a=($t(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(o[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,Ae,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[Ae])==null?void 0:m.handleBounds,z:a}}),i.set(l.id,c)}),w0(i,n,o),i}function _0(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const x=n().filter(T=>{var h;const p=t.includeHiddenNodes?T.width&&T.height:!T.hidden;return(h=t.nodes)!=null&&h.length?p&&t.nodes.some(g=>g.id===T.id):p}),v=x.every(T=>T.width&&T.height);if(x.length>0&&v){const T=Kd(x,d),{x:p,y:h,zoom:g}=s0(T,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),w=hr.translate(p,h).scale(g);return typeof t.duration=="number"&&t.duration>0?l.transform(Cr(a,t.duration),w):l.transform(a,w),!0}}return!1}function F2(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ae]:r[Ae],selected:n.selected})}),new Map(t)}function B2(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Vs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:F2(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:B2(t,o)}),l==null||l(t))}const Gr=()=>{},H2={zoomIn:Gr,zoomOut:Gr,zoomTo:Gr,getZoom:()=>1,setViewport:Gr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Gr,fitBounds:Gr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},V2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),U2=()=>{const e=Je(),{d3Zoom:t,d3Selection:n}=ze(V2,ft);return S.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Cr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Cr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(Cr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,l,a]=e.getState().transform,u=hr.translate(i.x??s,i.y??l).scale(i.zoom??a);t.transform(Cr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>_0(e.getState,i),setCenter:(i,o,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=l/2-i*c,f=a/2-o*c,m=hr.translate(d,f).scale(c);t.transform(Cr(n,s==null?void 0:s.duration),m)},fitBounds:(i,o)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=s0(i,s,l,a,u,(o==null?void 0:o.padding)??.1),m=hr.translate(c,d).scale(f);t.transform(Cr(n,o==null?void 0:o.duration),m)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Nc(i,o,s,l)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return i;const{x:u,y:c}=a.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return Nc(d,o,s,l)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:l,y:a}=s.getBoundingClientRect(),u=r0(i,o);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:H2,[t,n])};function S0(){const e=U2(),t=Je(),n=S.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=S.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=S.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(T=>({...T}))},[]),o=S.useCallback(v=>{const{edges:T=[]}=t.getState();return T.find(p=>p.id===v)},[]),s=S.useCallback(v=>{const{getNodes:T,setNodes:p,hasDefaultNodes:h,onNodesChange:g}=t.getState(),w=T(),N=typeof v=="function"?v(w):v;if(h)p(N);else if(g){const A=N.length===0?w.map(E=>({type:"remove",id:E.id})):N.map(E=>({item:E,type:"reset"}));g(A)}},[]),l=S.useCallback(v=>{const{edges:T=[],setEdges:p,hasDefaultEdges:h,onEdgesChange:g}=t.getState(),w=typeof v=="function"?v(T):v;if(h)p(w);else if(g){const N=w.length===0?T.map(A=>({type:"remove",id:A.id})):w.map(A=>({item:A,type:"reset"}));g(N)}},[]),a=S.useCallback(v=>{const T=Array.isArray(v)?v:[v],{getNodes:p,setNodes:h,hasDefaultNodes:g,onNodesChange:w}=t.getState();if(g){const A=[...p(),...T];h(A)}else if(w){const N=T.map(A=>({item:A,type:"add"}));w(N)}},[]),u=S.useCallback(v=>{const T=Array.isArray(v)?v:[v],{edges:p=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:w}=t.getState();if(g)h([...p,...T]);else if(w){const N=T.map(A=>({item:A,type:"add"}));w(N)}},[]),c=S.useCallback(()=>{const{getNodes:v,edges:T=[],transform:p}=t.getState(),[h,g,w]=p;return{nodes:v().map(N=>({...N})),edges:T.map(N=>({...N})),viewport:{x:h,y:g,zoom:w}}},[]),d=S.useCallback(({nodes:v,edges:T})=>{const{nodeInternals:p,getNodes:h,edges:g,hasDefaultNodes:w,hasDefaultEdges:N,onNodesDelete:A,onEdgesDelete:E,onNodesChange:M,onEdgesChange:D}=t.getState(),$=(v||[]).map(P=>P.id),F=(T||[]).map(P=>P.id),B=h().reduce((P,I)=>{const L=I.parentNode||I.parentId,R=!$.includes(I.id)&&L&&P.find(b=>b.id===L);return(typeof I.deletable=="boolean"?I.deletable:!0)&&($.includes(I.id)||R)&&P.push(I),P},[]),V=g.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),_=V.filter(P=>F.includes(P.id));if(B||_){const P=o0(B,V),I=[..._,...P],L=I.reduce((R,C)=>(R.includes(C.id)||R.push(C.id),R),[]);if((N||w)&&(N&&t.setState({edges:g.filter(R=>!L.includes(R.id))}),w&&(B.forEach(R=>{p.delete(R.id)}),t.setState({nodeInternals:new Map(p)}))),L.length>0&&(E==null||E(I),D&&D(L.map(R=>({id:R,type:"remove"})))),B.length>0&&(A==null||A(B),M)){const R=B.map(C=>({id:C.id,type:"remove"}));M(R)}}},[]),f=S.useCallback(v=>{const T=d2(v),p=T?null:t.getState().nodeInternals.get(v.id);return!T&&!p?[null,null,T]:[T?v:Up(p),p,T]},[]),m=S.useCallback((v,T=!0,p)=>{const[h,g,w]=f(v);return h?(p||t.getState().getNodes()).filter(N=>{if(!w&&(N.id===g.id||!N.positionAbsolute))return!1;const A=Up(N),E=Ec(A,h);return T&&E>0||E>=h.width*h.height}):[]},[]),x=S.useCallback((v,T,p=!0)=>{const[h]=f(v);if(!h)return!1;const g=Ec(h,T);return p&&g>0||g>=h.width*h.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:x}),[e,n,r,i,o,s,l,a,u,c,d,m,x])}const W2={actInsideInputWithModifier:!1};var q2=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Je(),{deleteElements:r}=S0(),i=ns(e,W2),o=ns(t);S.useEffect(()=>{if(i){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function Y2(e){const t=Je();S.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=Wd(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",Pn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const tf={position:"absolute",width:"100%",height:"100%",top:0,left:0},Z2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Us=e=>({x:e.x,y:e.y,zoom:e.k}),Qr=(e,t)=>e.target.closest(`.${t}`),eh=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),th=e=>{const t=e.ctrlKey&&Ql()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},X2=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),G2=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Pr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:m,minZoom:x,maxZoom:v,zoomActivationKeyCode:T,preventScrolling:p=!0,children:h,noWheelClassName:g,noPanClassName:w})=>{const N=S.useRef(),A=Je(),E=S.useRef(!1),M=S.useRef(!1),D=S.useRef(null),$=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:B,d3ZoomHandler:V,userSelectionActive:_}=ze(X2,ft),P=ns(T),I=S.useRef(0),L=S.useRef(!1),R=S.useRef();return Y2(D),S.useEffect(()=>{if(D.current){const C=D.current.getBoundingClientRect(),b=n2().scaleExtent([x,v]).translateExtent(m),z=Yt(D.current).call(b),k=hr.translate(f.x,f.y).scale(Bi(f.zoom,x,v)),O=[[0,0],[C.width,C.height]],j=b.constrain()(k,O,m);b.transform(z,j),b.wheelDelta(th),A.setState({d3Zoom:b,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[j.x,j.y,j.k],domNode:D.current.closest(".react-flow")})}},[]),S.useEffect(()=>{B&&F&&(s&&!P&&!_?B.on("wheel.zoom",C=>{if(Qr(C,g))return!1;C.preventDefault(),C.stopImmediatePropagation();const b=B.property("__zoom").k||1;if(C.ctrlKey&&o){const ie=sn(C),ae=th(C),ce=b*Math.pow(2,ae);F.scaleTo(B,ce,ie,C);return}const z=C.deltaMode===1?20:1;let k=a===Pr.Vertical?0:C.deltaX*z,O=a===Pr.Horizontal?0:C.deltaY*z;!Ql()&&C.shiftKey&&a!==Pr.Vertical&&(k=C.deltaY*z,O=0),F.translateBy(B,-(k/b)*l,-(O/b)*l,{internal:!0});const j=Us(B.property("__zoom")),{onViewportChangeStart:W,onViewportChange:X,onViewportChangeEnd:te}=A.getState();clearTimeout(R.current),L.current||(L.current=!0,t==null||t(C,j),W==null||W(j)),L.current&&(e==null||e(C,j),X==null||X(j),R.current=setTimeout(()=>{n==null||n(C,j),te==null||te(j),L.current=!1},150))},{passive:!1}):typeof V<"u"&&B.on("wheel.zoom",function(C,b){if(!p&&C.type==="wheel"&&!C.ctrlKey||Qr(C,g))return null;C.preventDefault(),V.call(this,C,b)},{passive:!1}))},[_,s,a,B,F,V,P,o,p,g,t,e,n]),S.useEffect(()=>{F&&F.on("start",C=>{var k,O;if(!C.sourceEvent||C.sourceEvent.internal)return null;I.current=(k=C.sourceEvent)==null?void 0:k.button;const{onViewportChangeStart:b}=A.getState(),z=Us(C.transform);E.current=!0,$.current=z,((O=C.sourceEvent)==null?void 0:O.type)==="mousedown"&&A.setState({paneDragging:!0}),b==null||b(z),t==null||t(C.sourceEvent,z)})},[F,t]),S.useEffect(()=>{F&&(_&&!E.current?F.on("zoom",null):_||F.on("zoom",C=>{var z;const{onViewportChange:b}=A.getState();if(A.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),M.current=!!(r&&eh(d,I.current??0)),(e||b)&&!((z=C.sourceEvent)!=null&&z.internal)){const k=Us(C.transform);b==null||b(k),e==null||e(C.sourceEvent,k)}}))},[_,F,e,d,r]),S.useEffect(()=>{F&&F.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:b}=A.getState();if(E.current=!1,A.setState({paneDragging:!1}),r&&eh(d,I.current??0)&&!M.current&&r(C.sourceEvent),M.current=!1,(n||b)&&Z2($.current,C.transform)){const z=Us(C.transform);$.current=z,clearTimeout(N.current),N.current=setTimeout(()=>{b==null||b(z),n==null||n(C.sourceEvent,z)},s?150:0)}})},[F,s,d,n,r]),S.useEffect(()=>{F&&F.filter(C=>{const b=P||i,z=o&&C.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&C.button===1&&C.type==="mousedown"&&(Qr(C,"react-flow__node")||Qr(C,"react-flow__edge")))return!0;if(!d&&!b&&!s&&!u&&!o||_||!u&&C.type==="dblclick"||Qr(C,g)&&C.type==="wheel"||Qr(C,w)&&(C.type!=="wheel"||s&&C.type==="wheel"&&!P)||!o&&C.ctrlKey&&C.type==="wheel"||!b&&!s&&!z&&C.type==="wheel"||!d&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(d)&&!d.includes(C.button)&&C.type==="mousedown")return!1;const k=Array.isArray(d)&&d.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&k})},[_,F,i,o,s,u,d,c,P]),U.createElement("div",{className:"react-flow__renderer",ref:D,style:tf},h)},Q2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function K2(){const{userSelectionActive:e,userSelectionRect:t}=ze(Q2,ft);return e&&t?U.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function nh(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function k0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(l=>l.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const l of o)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&nh(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&nh(r,s);break}case"remove":return r}return r.push(s),r},n)}function E0(e,t){return k0(e,t)}function J2(e,t){return k0(e,t)}const Kn=(e,t)=>({id:e,type:"select",selected:t});function mi(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Kn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Kn(r.id,!1))),n},[])}const pu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},eE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),b0=S.memo(({isSelecting:e,selectionMode:t=ts.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=S.useRef(null),m=Je(),x=S.useRef(0),v=S.useRef(0),T=S.useRef(),{userSelectionActive:p,elementsSelectable:h,dragging:g}=ze(eE,ft),w=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,v.current=0},N=V=>{o==null||o(V),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=V=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){V.preventDefault();return}s==null||s(V)},E=l?V=>l(V):void 0,M=V=>{const{resetSelectedElements:_,domNode:P}=m.getState();if(T.current=P==null?void 0:P.getBoundingClientRect(),!h||!e||V.button!==0||V.target!==f.current||!T.current)return;const{x:I,y:L}=mr(V,T.current);_(),m.setState({userSelectionRect:{width:0,height:0,startX:I,startY:L,x:I,y:L}}),r==null||r(V)},D=V=>{const{userSelectionRect:_,nodeInternals:P,edges:I,transform:L,onNodesChange:R,onEdgesChange:C,nodeOrigin:b,getNodes:z}=m.getState();if(!e||!T.current||!_)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const k=mr(V,T.current),O=_.startX??0,j=_.startY??0,W={..._,x:k.x<O?k.x:O,y:k.y<j?k.y:j,width:Math.abs(k.x-O),height:Math.abs(k.y-j)},X=z(),te=i0(P,W,L,t===ts.Partial,!0,b),ie=o0(te,I).map(ce=>ce.id),ae=te.map(ce=>ce.id);if(x.current!==ae.length){x.current=ae.length;const ce=mi(X,ae);ce.length&&(R==null||R(ce))}if(v.current!==ie.length){v.current=ie.length;const ce=mi(I,ie);ce.length&&(C==null||C(ce))}m.setState({userSelectionRect:W})},$=V=>{if(V.button!==0)return;const{userSelectionRect:_}=m.getState();!p&&_&&V.target===f.current&&(N==null||N(V)),m.setState({nodesSelectionActive:x.current>0}),w(),i==null||i(V)},F=V=>{p&&(m.setState({nodesSelectionActive:x.current>0}),i==null||i(V)),w()},B=h&&(e||p);return U.createElement("div",{className:Rt(["react-flow__pane",{dragging:g,selection:e}]),onClick:B?void 0:pu(N,f),onContextMenu:pu(A,f),onWheel:pu(E,f),onMouseEnter:B?void 0:a,onMouseDown:B?M:void 0,onMouseMove:B?D:u,onMouseUp:B?$:void 0,onMouseLeave:B?F:c,ref:f,style:tf},d,U.createElement(K2,null))});b0.displayName="Pane";function C0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:C0(r,t):!1}function rh(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function tE(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!C0(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function nE(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function T0(e,t,n,r,i=[0,0],o){const s=nE(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:m}=Ti(d,i).positionAbsolute;l=d&&$t(f)&&$t(m)&&$t(d.width)&&$t(d.height)?[[f+e.width*i[0],m+e.height*i[1]],[f+d.width-e.width+e.width*i[0],m+d.height-e.height+e.height*i[1]]]:l}else o==null||o("005",Pn.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:m}=Ti(d,i).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Ti(d,i).positionAbsolute}const c=l&&l!=="parent"?qd(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function hu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const ih=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return o.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...Wd(a)}})};function co(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Ic({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Pn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function rE(){const e=Je();return S.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(a.x/i[0]):a.x,ySnapped:o?i[1]*Math.round(a.y/i[1]):a.y,...a}},[])}function mu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function N0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const l=Je(),[a,u]=S.useState(!1),c=S.useRef([]),d=S.useRef({x:null,y:null}),f=S.useRef(0),m=S.useRef(null),x=S.useRef({x:0,y:0}),v=S.useRef(null),T=S.useRef(!1),p=S.useRef(!1),h=S.useRef(!1),g=rE();return S.useEffect(()=>{if(e!=null&&e.current){const w=Yt(e.current),N=({x:M,y:D})=>{const{nodeInternals:$,onNodeDrag:F,onSelectionDrag:B,updateNodePositions:V,nodeExtent:_,snapGrid:P,snapToGrid:I,nodeOrigin:L,onError:R}=l.getState();d.current={x:M,y:D};let C=!1,b={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&_){const k=Kd(c.current,L);b=Yd(k)}if(c.current=c.current.map(k=>{const O={x:M-k.distance.x,y:D-k.distance.y};I&&(O.x=P[0]*Math.round(O.x/P[0]),O.y=P[1]*Math.round(O.y/P[1]));const j=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];c.current.length>1&&_&&!k.extent&&(j[0][0]=k.positionAbsolute.x-b.x+_[0][0],j[1][0]=k.positionAbsolute.x+(k.width??0)-b.x2+_[1][0],j[0][1]=k.positionAbsolute.y-b.y+_[0][1],j[1][1]=k.positionAbsolute.y+(k.height??0)-b.y2+_[1][1]);const W=T0(k,O,$,j,L,R);return C=C||k.position.x!==W.position.x||k.position.y!==W.position.y,k.position=W.position,k.positionAbsolute=W.positionAbsolute,k}),!C)return;V(c.current,!0,!0),u(!0);const z=i?F:mu(B);if(z&&v.current){const[k,O]=hu({nodeId:i,dragItems:c.current,nodeInternals:$});z(v.current,k,O)}},A=()=>{if(!m.current)return;const[M,D]=Zy(x.current,m.current);if(M!==0||D!==0){const{transform:$,panBy:F}=l.getState();d.current.x=(d.current.x??0)-M/$[2],d.current.y=(d.current.y??0)-D/$[2],F({x:M,y:D})&&N(d.current)}f.current=requestAnimationFrame(A)},E=M=>{var L;const{nodeInternals:D,multiSelectionActive:$,nodesDraggable:F,unselectNodesAndEdges:B,onNodeDragStart:V,onSelectionDragStart:_}=l.getState();p.current=!0;const P=i?V:mu(_);(!s||!o)&&!$&&i&&((L=D.get(i))!=null&&L.selected||B()),i&&o&&s&&Ic({id:i,store:l,nodeRef:e});const I=g(M);if(d.current=I,c.current=tE(D,F,I,i),P&&c.current){const[R,C]=hu({nodeId:i,dragItems:c.current,nodeInternals:D});P(M.sourceEvent,R,C)}};if(t)w.on(".drag",null);else{const M=fS().on("start",D=>{const{domNode:$,nodeDragThreshold:F}=l.getState();F===0&&E(D),h.current=!1;const B=g(D);d.current=B,m.current=($==null?void 0:$.getBoundingClientRect())||null,x.current=mr(D.sourceEvent,m.current)}).on("drag",D=>{var V,_;const $=g(D),{autoPanOnNodeDrag:F,nodeDragThreshold:B}=l.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!T.current&&p.current&&F&&(T.current=!0,A()),!p.current){const P=$.xSnapped-(((V=d==null?void 0:d.current)==null?void 0:V.x)??0),I=$.ySnapped-(((_=d==null?void 0:d.current)==null?void 0:_.y)??0);Math.sqrt(P*P+I*I)>B&&E(D)}(d.current.x!==$.xSnapped||d.current.y!==$.ySnapped)&&c.current&&p.current&&(v.current=D.sourceEvent,x.current=mr(D.sourceEvent,m.current),N($))}}).on("end",D=>{if(!(!p.current||h.current)&&(u(!1),T.current=!1,p.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:$,nodeInternals:F,onNodeDragStop:B,onSelectionDragStop:V}=l.getState(),_=i?B:mu(V);if($(c.current,!1,!1),_){const[P,I]=hu({nodeId:i,dragItems:c.current,nodeInternals:F});_(D.sourceEvent,P,I)}}}).filter(D=>{const $=D.target;return!D.button&&(!n||!rh($,`.${n}`,e))&&(!r||rh($,r,e))});return w.call(M),()=>{w.on(".drag",null)}}}},[e,t,n,r,o,l,i,s,g]),a}function M0(){const e=Je();return S.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=s().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),f=l?a[0]:5,m=l?a[1]:5,x=n.isShiftPressed?4:1,v=n.x*f*x,T=n.y*m*x,p=d.map(h=>{if(h.positionAbsolute){const g={x:h.positionAbsolute.x+v,y:h.positionAbsolute.y+T};l&&(g.x=a[0]*Math.round(g.x/a[0]),g.y=a[1]*Math.round(g.y/a[1]));const{positionAbsolute:w,position:N}=T0(h,g,r,i,void 0,u);h.position=N,h.positionAbsolute=w}return h});o(p,!0,!1)},[])}const Ni={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var fo=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onContextMenu:x,onDoubleClick:v,style:T,className:p,isDraggable:h,isSelectable:g,isConnectable:w,isFocusable:N,selectNodesOnDrag:A,sourcePosition:E,targetPosition:M,hidden:D,resizeObserver:$,dragHandle:F,zIndex:B,isParent:V,noDragClassName:_,noPanClassName:P,initialized:I,disableKeyboardA11y:L,ariaLabel:R,rfId:C,hasHandleBounds:b})=>{const z=Je(),k=S.useRef(null),O=S.useRef(null),j=S.useRef(E),W=S.useRef(M),X=S.useRef(r),te=g||h||c||d||f||m,ie=M0(),ae=co(n,z.getState,d),ce=co(n,z.getState,f),Se=co(n,z.getState,m),xe=co(n,z.getState,x),Le=co(n,z.getState,v),Pe=ke=>{const{nodeDragThreshold:re}=z.getState();if(g&&(!A||!h||re>0)&&Ic({id:n,store:z,nodeRef:k}),c){const st=z.getState().nodeInternals.get(n);st&&c(ke,{...st})}},we=ke=>{if(!bc(ke)&&!L)if(Gy.includes(ke.key)&&g){const re=ke.key==="Escape";Ic({id:n,store:z,unselect:re,nodeRef:k})}else h&&u&&Object.prototype.hasOwnProperty.call(Ni,ke.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${ke.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ie({x:Ni[ke.key].x,y:Ni[ke.key].y,isShiftPressed:ke.shiftKey}))};S.useEffect(()=>()=>{O.current&&($==null||$.unobserve(O.current),O.current=null)},[]),S.useEffect(()=>{if(k.current&&!D){const ke=k.current;(!I||!b||O.current!==ke)&&(O.current&&($==null||$.unobserve(O.current)),$==null||$.observe(ke),O.current=ke)}},[D,I,b]),S.useEffect(()=>{const ke=X.current!==r,re=j.current!==E,st=W.current!==M;k.current&&(ke||re||st)&&(ke&&(X.current=r),re&&(j.current=E),st&&(W.current=M),z.getState().updateNodeDimensions([{id:n,nodeElement:k.current,forceUpdate:!0}]))},[n,r,E,M]);const Oe=N0({nodeRef:k,disabled:D||!h,noDragClassName:_,handleSelector:F,nodeId:n,isSelectable:g,selectNodesOnDrag:A});return D?null:U.createElement("div",{className:Rt(["react-flow__node",`react-flow__node-${r}`,{[P]:h},p,{selected:u,selectable:g,parent:V,dragging:Oe}]),ref:k,style:{zIndex:B,transform:`translate(${l}px,${a}px)`,pointerEvents:te?"all":"none",visibility:I?"visible":"hidden",...T},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ae,onMouseMove:ce,onMouseLeave:Se,onContextMenu:xe,onClick:Pe,onDoubleClick:Le,onKeyDown:N?we:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":L?void 0:`${y0}-${C}`,"aria-label":R},U.createElement(v2,{value:n},U.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:w,sourcePosition:E,targetPosition:M,dragging:Oe,dragHandle:F,zIndex:B})))};return t.displayName="NodeWrapper",S.memo(t)};const iE=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Kd(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function oE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Je(),{width:i,height:o,x:s,y:l,transformString:a,userSelectionActive:u}=ze(iE,ft),c=M0(),d=S.useRef(null);if(S.useEffect(()=>{var x;n||(x=d.current)==null||x.focus({preventScroll:!0})},[n]),N0({nodeRef:d}),u||!i||!o)return null;const f=e?x=>{const v=r.getState().getNodes().filter(T=>T.selected);e(x,v)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(Ni,x.key)&&c({x:Ni[x.key].x,y:Ni[x.key].y,isShiftPressed:x.shiftKey})};return U.createElement("div",{className:Rt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},U.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:o,top:l,left:s}}))}var sE=S.memo(oE);const lE=e=>e.nodesSelectionActive,I0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:m,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:T,panActivationKeyCode:p,zoomActivationKeyCode:h,elementsSelectable:g,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:A,panOnScrollSpeed:E,panOnScrollMode:M,zoomOnDoubleClick:D,panOnDrag:$,defaultViewport:F,translateExtent:B,minZoom:V,maxZoom:_,preventScrolling:P,onSelectionContextMenu:I,noWheelClassName:L,noPanClassName:R,disableKeyboardA11y:C})=>{const b=ze(lE),z=ns(d),k=ns(p),O=k||$,j=k||A,W=z||f&&O!==!0;return q2({deleteKeyCode:l,multiSelectionKeyCode:T}),U.createElement(G2,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:g,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:j,panOnScrollSpeed:E,panOnScrollMode:M,zoomOnDoubleClick:D,panOnDrag:!z&&O,defaultViewport:F,translateExtent:B,minZoom:V,maxZoom:_,zoomActivationKeyCode:h,preventScrolling:P,noWheelClassName:L,noPanClassName:R},U.createElement(b0,{onSelectionStart:x,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:O,isSelecting:!!W,selectionMode:m},e,b&&U.createElement(sE,{onSelectionContextMenu:I,noPanClassName:R,disableKeyboardA11y:C})))};I0.displayName="FlowRenderer";var aE=S.memo(I0);function uE(e){return ze(S.useCallback(n=>e?i0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function cE(e){const t={input:fo(e.input||p0),default:fo(e.default||Mc),output:fo(e.output||m0),group:fo(e.group||ef)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=fo(e[o]||Mc),i),n);return{...t,...r}}const dE=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},fE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),P0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=ze(fE,ft),l=uE(e.onlyRenderVisibleElements),a=S.useRef(),u=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(f)});return a.current=c,c},[]);return S.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),U.createElement("div",{className:"react-flow__nodes",style:tf},l.map(c=>{var N,A,E;let d=c.type||"default";e.nodeTypes[d]||(s==null||s("003",Pn.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),x=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),T=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?qd(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(p==null?void 0:p.x)??0,g=(p==null?void 0:p.y)??0,w=dE({x:h,y:g,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return U.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||K.Bottom,targetPosition:c.targetPosition||K.Top,hidden:c.hidden,xPos:h,yPos:g,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:x,isConnectable:v,isFocusable:T,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((N=c[Ae])==null?void 0:N.z)??0,isParent:!!((A=c[Ae])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((E=c[Ae])!=null&&E.handleBounds)})}))};P0.displayName="NodeRenderer";var pE=S.memo(P0);const hE=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,mE=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,oh="react-flow__edgeupdater",sh=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:l})=>U.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Rt([oh,`${oh}-${l}`]),cx:hE(t,r,e),cy:mE(n,r,e),r,stroke:"transparent",fill:"transparent"}),gE=()=>!0;var Kr=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:v,style:T,source:p,target:h,sourceX:g,sourceY:w,targetX:N,targetY:A,sourcePosition:E,targetPosition:M,elementsSelectable:D,hidden:$,sourceHandleId:F,targetHandleId:B,onContextMenu:V,onMouseEnter:_,onMouseMove:P,onMouseLeave:I,reconnectRadius:L,onReconnect:R,onReconnectStart:C,onReconnectEnd:b,markerEnd:z,markerStart:k,rfId:O,ariaLabel:j,isFocusable:W,isReconnectable:X,pathOptions:te,interactionWidth:ie,disableKeyboardA11y:ae})=>{const ce=S.useRef(null),[Se,xe]=S.useState(!1),[Le,Pe]=S.useState(!1),we=Je(),Oe=S.useMemo(()=>`url('#${Tc(k,O)}')`,[k,O]),ke=S.useMemo(()=>`url('#${Tc(z,O)}')`,[z,O]);if($)return null;const re=Ue=>{var De;const{edges:H,addSelectedEdges:Z,unselectNodesAndEdges:ne,multiSelectionActive:pe}=we.getState(),ve=H.find(je=>je.id===n);ve&&(D&&(we.setState({nodesSelectionActive:!1}),ve.selected&&pe?(ne({nodes:[],edges:[ve]}),(De=ce.current)==null||De.blur()):Z([n])),s&&s(Ue,ve))},st=uo(n,we.getState,l),hn=uo(n,we.getState,V),en=uo(n,we.getState,_),zn=uo(n,we.getState,P),mn=uo(n,we.getState,I),At=(Ue,H)=>{if(Ue.button!==0)return;const{edges:Z,isValidConnection:ne}=we.getState(),pe=H?h:p,ve=(H?B:F)||null,De=H?"target":"source",je=ne||gE,et=H,lt=Z.find(at=>at.id===n);Pe(!0),C==null||C(Ue,lt,De);const Ht=at=>{Pe(!1),b==null||b(at,lt,De)};u0({event:Ue,handleId:ve,nodeId:pe,onConnect:at=>R==null?void 0:R(lt,at),isTarget:et,getState:we.getState,setState:we.setState,isValidConnection:je,edgeUpdaterType:De,onReconnectEnd:Ht})},Ln=Ue=>At(Ue,!0),gn=Ue=>At(Ue,!1),yn=()=>xe(!0),Dn=()=>xe(!1),$n=!D&&!s,tn=Ue=>{var H;if(!ae&&Gy.includes(Ue.key)&&D){const{unselectNodesAndEdges:Z,addSelectedEdges:ne,edges:pe}=we.getState();Ue.key==="Escape"?((H=ce.current)==null||H.blur(),Z({edges:[pe.find(De=>De.id===n)]})):ne([n])}};return U.createElement("g",{className:Rt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:a,animated:u,inactive:$n,updating:Se}]),onClick:re,onDoubleClick:st,onContextMenu:hn,onMouseEnter:en,onMouseMove:zn,onMouseLeave:mn,onKeyDown:W?tn:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":j===null?void 0:j||`Edge from ${p} to ${h}`,"aria-describedby":W?`${v0}-${O}`:void 0,ref:ce},!Le&&U.createElement(e,{id:n,source:p,target:h,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:v,data:o,style:T,sourceX:g,sourceY:w,targetX:N,targetY:A,sourcePosition:E,targetPosition:M,sourceHandleId:F,targetHandleId:B,markerStart:Oe,markerEnd:ke,pathOptions:te,interactionWidth:ie}),X&&U.createElement(U.Fragment,null,(X==="source"||X===!0)&&U.createElement(sh,{position:E,centerX:g,centerY:w,radius:L,onMouseDown:Ln,onMouseEnter:yn,onMouseOut:Dn,type:"source"}),(X==="target"||X===!0)&&U.createElement(sh,{position:M,centerX:N,centerY:A,radius:L,onMouseDown:gn,onMouseEnter:yn,onMouseOut:Dn,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function yE(e){const t={default:Kr(e.default||Jl),straight:Kr(e.bezier||Gd),step:Kr(e.step||Xd),smoothstep:Kr(e.step||Na),simplebezier:Kr(e.simplebezier||Zd)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Kr(e[o]||Jl),i),n);return{...t,...r}}function lh(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case K.Top:return{x:r+o/2,y:i};case K.Right:return{x:r+o,y:i+s/2};case K.Bottom:return{x:r+o/2,y:i+s};case K.Left:return{x:r,y:i+s/2}}}function ah(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const vE=(e,t,n,r,i,o)=>{const s=lh(n,e,t),l=lh(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function xE({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Yd({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function uh(e){var r,i,o,s,l;const t=((r=e==null?void 0:e[Ae])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const wE=[{level:0,isMaxLevel:!0,edges:[]}];function _E(e,t,n=!1){let r=-1;const i=e.reduce((s,l)=>{var c,d;const a=$t(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),m=t.get(l.source),x=l.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),v=Math.max(((c=m==null?void 0:m[Ae])==null?void 0:c.z)||0,((d=f==null?void 0:f[Ae])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(x?v:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return o.length===0?wE:o}function SE(e,t,n){const r=ze(S.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),l=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&xE({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return _E(r,t,n)}const kE=({color:e="none",strokeWidth:t=1})=>U.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),EE=({color:e="none",strokeWidth:t=1})=>U.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ch={[Kl.Arrow]:kE,[Kl.ArrowClosed]:EE};function bE(e){const t=Je();return S.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(ch,e)?ch[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",Pn.error009(e)),null)},[e])}const CE=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=bE(t);return a?U.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0"},U.createElement(a,{color:n,strokeWidth:s})):null},TE=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Tc(s,t);r.includes(l)||(i.push({id:l,color:s.color||e,...s}),r.push(l))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},R0=({defaultColor:e,rfId:t})=>{const n=ze(S.useCallback(TE({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return U.createElement("defs",null,n.map(r=>U.createElement(CE,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};R0.displayName="MarkerDefinitions";var NE=S.memo(R0);const ME=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),A0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:v,children:T,disableKeyboardA11y:p})=>{const{edgesFocusable:h,edgesUpdatable:g,elementsSelectable:w,width:N,height:A,connectionMode:E,nodeInternals:M,onError:D}=ze(ME,ft),$=SE(t,M,n);return N?U.createElement(U.Fragment,null,$.map(({level:F,edges:B,isMaxLevel:V})=>U.createElement("svg",{key:F,style:{zIndex:F},width:N,height:A,className:"react-flow__edges react-flow__container"},V&&U.createElement(NE,{defaultColor:e,rfId:r}),U.createElement("g",null,B.map(_=>{const[P,I,L]=uh(M.get(_.source)),[R,C,b]=uh(M.get(_.target));if(!L||!b)return null;let z=_.type||"default";i[z]||(D==null||D("011",Pn.error011(z)),z="default");const k=i[z]||i.default,O=E===Br.Strict?C.target:(C.target??[]).concat(C.source??[]),j=ah(I.source,_.sourceHandle),W=ah(O,_.targetHandle),X=(j==null?void 0:j.position)||K.Bottom,te=(W==null?void 0:W.position)||K.Top,ie=!!(_.focusable||h&&typeof _.focusable>"u"),ae=_.reconnectable||_.updatable,ce=typeof f<"u"&&(ae||g&&typeof ae>"u");if(!j||!W)return D==null||D("008",Pn.error008(j,_)),null;const{sourceX:Se,sourceY:xe,targetX:Le,targetY:Pe}=vE(P,j,X,R,W,te);return U.createElement(k,{key:_.id,id:_.id,className:Rt([_.className,o]),type:z,data:_.data,selected:!!_.selected,animated:!!_.animated,hidden:!!_.hidden,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,style:_.style,source:_.source,target:_.target,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerEnd:_.markerEnd,markerStart:_.markerStart,sourceX:Se,sourceY:xe,targetX:Le,targetY:Pe,sourcePosition:X,targetPosition:te,elementsSelectable:w,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:v,rfId:r,ariaLabel:_.ariaLabel,isFocusable:ie,isReconnectable:ce,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth,disableKeyboardA11y:p})})))),T):null};A0.displayName="EdgeRenderer";var IE=S.memo(A0);const PE=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function RE({children:e}){const t=ze(PE);return U.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function AE(e){const t=S0(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const zE={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top},z0=({nodeId:e,handleType:t,style:n,type:r=nr.Bezier,CustomComponent:i,connectionStatus:o})=>{var A,E,M;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=ze(S.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),ft),d=(A=s==null?void 0:s[Ae])==null?void 0:A.handleBounds;let f=d==null?void 0:d[t];if(c===Br.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!f)return null;const m=l?f.find(D=>D.id===l):f[0],x=m?m.x+m.width/2:(s.width??0)/2,v=m?m.y+m.height/2:s.height??0,T=(((E=s.positionAbsolute)==null?void 0:E.x)??0)+x,p=(((M=s.positionAbsolute)==null?void 0:M.y)??0)+v,h=m==null?void 0:m.position,g=h?zE[h]:null;if(!h||!g)return null;if(i)return U.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:T,fromY:p,toX:a,toY:u,fromPosition:h,toPosition:g,connectionStatus:o});let w="";const N={sourceX:T,sourceY:p,sourcePosition:h,targetX:a,targetY:u,targetPosition:g};return r===nr.Bezier?[w]=t0(N):r===nr.Step?[w]=Cc({...N,borderRadius:0}):r===nr.SmoothStep?[w]=Cc(N):r===nr.SimpleBezier?[w]=e0(N):w=`M${T},${p} ${a},${u}`,U.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};z0.displayName="ConnectionLine";const LE=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function DE({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:l,height:a,connectionStatus:u}=ze(LE,ft);return!(i&&o&&l&&s)?null:U.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},U.createElement("g",{className:Rt(["react-flow__connection",u])},U.createElement(z0,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function dh(e,t){return S.useRef(null),Je(),S.useMemo(()=>t(e),[e])}const L0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:x,onSelectionStart:v,onSelectionEnd:T,connectionLineType:p,connectionLineStyle:h,connectionLineComponent:g,connectionLineContainerStyle:w,selectionKeyCode:N,selectionOnDrag:A,selectionMode:E,multiSelectionKeyCode:M,panActivationKeyCode:D,zoomActivationKeyCode:$,deleteKeyCode:F,onlyRenderVisibleElements:B,elementsSelectable:V,selectNodesOnDrag:_,defaultViewport:P,translateExtent:I,minZoom:L,maxZoom:R,preventScrolling:C,defaultMarkerColor:b,zoomOnScroll:z,zoomOnPinch:k,panOnScroll:O,panOnScrollSpeed:j,panOnScrollMode:W,zoomOnDoubleClick:X,panOnDrag:te,onPaneClick:ie,onPaneMouseEnter:ae,onPaneMouseMove:ce,onPaneMouseLeave:Se,onPaneScroll:xe,onPaneContextMenu:Le,onEdgeContextMenu:Pe,onEdgeMouseEnter:we,onEdgeMouseMove:Oe,onEdgeMouseLeave:ke,onReconnect:re,onReconnectStart:st,onReconnectEnd:hn,reconnectRadius:en,noDragClassName:zn,noWheelClassName:mn,noPanClassName:At,elevateEdgesOnSelect:Ln,disableKeyboardA11y:gn,nodeOrigin:yn,nodeExtent:Dn,rfId:$n})=>{const tn=dh(e,cE),Ue=dh(t,yE);return AE(o),U.createElement(aE,{onPaneClick:ie,onPaneMouseEnter:ae,onPaneMouseMove:ce,onPaneMouseLeave:Se,onPaneContextMenu:Le,onPaneScroll:xe,deleteKeyCode:F,selectionKeyCode:N,selectionOnDrag:A,selectionMode:E,onSelectionStart:v,onSelectionEnd:T,multiSelectionKeyCode:M,panActivationKeyCode:D,zoomActivationKeyCode:$,elementsSelectable:V,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:z,zoomOnPinch:k,zoomOnDoubleClick:X,panOnScroll:O,panOnScrollSpeed:j,panOnScrollMode:W,panOnDrag:te,defaultViewport:P,translateExtent:I,minZoom:L,maxZoom:R,onSelectionContextMenu:x,preventScrolling:C,noDragClassName:zn,noWheelClassName:mn,noPanClassName:At,disableKeyboardA11y:gn},U.createElement(RE,null,U.createElement(IE,{edgeTypes:Ue,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:Pe,onEdgeMouseEnter:we,onEdgeMouseMove:Oe,onEdgeMouseLeave:ke,onReconnect:re,onReconnectStart:st,onReconnectEnd:hn,reconnectRadius:en,defaultMarkerColor:b,noPanClassName:At,elevateEdgesOnSelect:!!Ln,disableKeyboardA11y:gn,rfId:$n},U.createElement(DE,{style:h,type:p,component:g,containerStyle:w})),U.createElement("div",{className:"react-flow__edgelabel-renderer"}),U.createElement(pE,{nodeTypes:tn,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:_,onlyRenderVisibleElements:B,noPanClassName:At,noDragClassName:zn,disableKeyboardA11y:gn,nodeOrigin:yn,nodeExtent:Dn,rfId:$n})))};L0.displayName="GraphView";var $E=S.memo(L0);const Pc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Vn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Pc,nodeExtent:Pc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Br.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:f2,isValidConnection:void 0},OE=()=>Ew((e,t)=>({...Vn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:fu(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?fu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((v,T)=>{const p=i.get(T.id);if(p!=null&&p.hidden)i.set(p.id,{...p,[Ae]:{...p[Ae],handleBounds:void 0}});else if(p){const h=Wd(T.nodeElement);!!(h.width&&h.height&&(p.width!==h.width||p.height!==h.height||T.forceUpdate))&&(i.set(p.id,{...p,[Ae]:{...p[Ae],handleBounds:{source:ih(".source",T.nodeElement,f,u),target:ih(".target",T.nodeElement,f,u)}},...h}),v.push({id:p.id,type:"dimensions",dimensions:h}))}return v},[]);w0(i,u);const x=s||o&&!s&&_0(t,{initial:!0,...l});e({nodeInternals:new Map(i),fitViewOnInitDone:x}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:i};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(o){const u=E0(n,l()),c=fu(u,i,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>Kn(a,!0)):(s=mi(o(),n),l=mi(i,[])),Vs({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>Kn(a,!0)):(s=mi(i,n),l=mi(o(),[])),Vs({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),l=r||i,a=s.map(c=>(c.selected=!1,Kn(c.id,!1))),u=l.map(c=>Kn(c.id,!1));Vs({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(l=>l.selected).map(l=>Kn(l.id,!1)),s=n.filter(l=>l.selected).map(l=>Kn(l.id,!1));Vs({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=qd(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=hr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],d=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Vn.connectionNodeId,connectionHandleId:Vn.connectionHandleId,connectionHandleType:Vn.connectionHandleType,connectionStatus:Vn.connectionStatus,connectionStartHandle:Vn.connectionStartHandle,connectionEndHandle:Vn.connectionEndHandle}),reset:()=>e({...Vn})}),Object.is),D0=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=OE()),U.createElement(r2,{value:t.current},e)};D0.displayName="ReactFlowProvider";const $0=({children:e})=>S.useContext(Ta)?U.createElement(U.Fragment,null,e):U.createElement(D0,null,e);$0.displayName="ReactFlowWrapper";const jE={input:p0,default:Mc,output:m0,group:ef},FE={default:Jl,straight:Gd,step:Xd,smoothstep:Na,simplebezier:Zd},BE=[0,0],HE=[15,15],VE={x:0,y:0,zoom:1},UE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},O0=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=jE,edgeTypes:s=FE,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:m,onConnectStart:x,onConnectEnd:v,onClickConnectStart:T,onClickConnectEnd:p,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:w,onNodeContextMenu:N,onNodeDoubleClick:A,onNodeDragStart:E,onNodeDrag:M,onNodeDragStop:D,onNodesDelete:$,onEdgesDelete:F,onSelectionChange:B,onSelectionDragStart:V,onSelectionDrag:_,onSelectionDragStop:P,onSelectionContextMenu:I,onSelectionStart:L,onSelectionEnd:R,connectionMode:C=Br.Strict,connectionLineType:b=nr.Bezier,connectionLineStyle:z,connectionLineComponent:k,connectionLineContainerStyle:O,deleteKeyCode:j="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:X=!1,selectionMode:te=ts.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:ae=Ql()?"Meta":"Control",zoomActivationKeyCode:ce=Ql()?"Meta":"Control",snapToGrid:Se=!1,snapGrid:xe=HE,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:Pe=!0,nodesDraggable:we,nodesConnectable:Oe,nodesFocusable:ke,nodeOrigin:re=BE,edgesFocusable:st,edgesUpdatable:hn,elementsSelectable:en,defaultViewport:zn=VE,minZoom:mn=.5,maxZoom:At=2,translateExtent:Ln=Pc,preventScrolling:gn=!0,nodeExtent:yn,defaultMarkerColor:Dn="#b1b1b7",zoomOnScroll:$n=!0,zoomOnPinch:tn=!0,panOnScroll:Ue=!1,panOnScrollSpeed:H=.5,panOnScrollMode:Z=Pr.Free,zoomOnDoubleClick:ne=!0,panOnDrag:pe=!0,onPaneClick:ve,onPaneMouseEnter:De,onPaneMouseMove:je,onPaneMouseLeave:et,onPaneScroll:lt,onPaneContextMenu:Ht,children:nn,onEdgeContextMenu:at,onEdgeDoubleClick:On,onEdgeMouseEnter:Yr,onEdgeMouseMove:ms,onEdgeMouseLeave:jn,onEdgeUpdate:cf,onEdgeUpdateStart:gs,onEdgeUpdateEnd:ys,onReconnect:Ra,onReconnectStart:Qi,onReconnectEnd:Fn,reconnectRadius:Bn=10,edgeUpdaterRadius:Ki=10,onNodesChange:vs,onEdgesChange:cv,noDragClassName:dv="nodrag",noWheelClassName:fv="nowheel",noPanClassName:df="nopan",fitView:pv=!1,fitViewOptions:hv,connectOnClick:mv=!0,attributionPosition:gv,proOptions:yv,defaultEdgeOptions:vv,elevateNodesOnSelect:xv=!0,elevateEdgesOnSelect:wv=!1,disableKeyboardA11y:ff=!1,autoPanOnConnect:_v=!0,autoPanOnNodeDrag:Sv=!0,connectionRadius:kv=20,isValidConnection:Ev,onError:bv,style:Cv,id:pf,nodeDragThreshold:Tv,...Nv},Mv)=>{const Aa=pf||"1";return U.createElement("div",{...Nv,style:{...Cv,...UE},ref:Mv,className:Rt(["react-flow",i]),"data-testid":"rf__wrapper",id:pf},U.createElement($0,null,U.createElement($E,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:w,onNodeContextMenu:N,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:s,connectionLineType:b,connectionLineStyle:z,connectionLineComponent:k,connectionLineContainerStyle:O,selectionKeyCode:W,selectionOnDrag:X,selectionMode:te,deleteKeyCode:j,multiSelectionKeyCode:ae,panActivationKeyCode:ie,zoomActivationKeyCode:ce,onlyRenderVisibleElements:Le,selectNodesOnDrag:Pe,defaultViewport:zn,translateExtent:Ln,minZoom:mn,maxZoom:At,preventScrolling:gn,zoomOnScroll:$n,zoomOnPinch:tn,zoomOnDoubleClick:ne,panOnScroll:Ue,panOnScrollSpeed:H,panOnScrollMode:Z,panOnDrag:pe,onPaneClick:ve,onPaneMouseEnter:De,onPaneMouseMove:je,onPaneMouseLeave:et,onPaneScroll:lt,onPaneContextMenu:Ht,onSelectionContextMenu:I,onSelectionStart:L,onSelectionEnd:R,onEdgeContextMenu:at,onEdgeDoubleClick:On,onEdgeMouseEnter:Yr,onEdgeMouseMove:ms,onEdgeMouseLeave:jn,onReconnect:Ra??cf,onReconnectStart:Qi??gs,onReconnectEnd:Fn??ys,reconnectRadius:Bn??Ki,defaultMarkerColor:Dn,noDragClassName:dv,noWheelClassName:fv,noPanClassName:df,elevateEdgesOnSelect:wv,rfId:Aa,disableKeyboardA11y:ff,nodeOrigin:re,nodeExtent:yn}),U.createElement(z2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:x,onConnectEnd:v,onClickConnectStart:T,onClickConnectEnd:p,nodesDraggable:we,nodesConnectable:Oe,nodesFocusable:ke,edgesFocusable:st,edgesUpdatable:hn,elementsSelectable:en,elevateNodesOnSelect:xv,minZoom:mn,maxZoom:At,nodeExtent:yn,onNodesChange:vs,onEdgesChange:cv,snapToGrid:Se,snapGrid:xe,connectionMode:C,translateExtent:Ln,connectOnClick:mv,defaultEdgeOptions:vv,fitView:pv,fitViewOptions:hv,onNodesDelete:$,onEdgesDelete:F,onNodeDragStart:E,onNodeDrag:M,onNodeDragStop:D,onSelectionDrag:_,onSelectionDragStart:V,onSelectionDragStop:P,noPanClassName:df,nodeOrigin:re,rfId:Aa,autoPanOnConnect:_v,autoPanOnNodeDrag:Sv,onError:bv,connectionRadius:kv,isValidConnection:Ev,nodeDragThreshold:Tv}),U.createElement(R2,{onSelectionChange:B}),nn,U.createElement(s2,{proOptions:yv,position:gv}),U.createElement(j2,{rfId:Aa,disableKeyboardA11y:ff})))});O0.displayName="ReactFlow";function j0(e){return t=>{const[n,r]=S.useState(t),i=S.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const WE=j0(E0),qE=j0(J2);var Qt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Qt||(Qt={}));function YE({color:e,dimensions:t,lineWidth:n}){return U.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function ZE({color:e,radius:t}){return U.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const XE={[Qt.Dots]:"#91919a",[Qt.Lines]:"#eee",[Qt.Cross]:"#e2e2e2"},GE={[Qt.Dots]:1,[Qt.Lines]:1,[Qt.Cross]:6},QE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function F0({id:e,variant:t=Qt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:s,style:l,className:a}){const u=S.useRef(null),{transform:c,patternId:d}=ze(QE,ft),f=s||XE[t],m=r||GE[t],x=t===Qt.Dots,v=t===Qt.Cross,T=Array.isArray(n)?n:[n,n],p=[T[0]*c[2]||1,T[1]*c[2]||1],h=m*c[2],g=v?[h,h]:p,w=x?[h/o,h/o]:[g[0]/o,g[1]/o];return U.createElement("svg",{className:Rt(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},U.createElement("pattern",{id:d+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},x?U.createElement(ZE,{color:f,radius:h/o}):U.createElement(YE,{dimensions:g,color:f,lineWidth:i})),U.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}F0.displayName="Background";var KE=S.memo(F0);const B0={},{useDebugValue:JE}=U,{useSyncExternalStoreWithSelector:eb}=yy;let fh=!1;const tb=e=>e;function nb(e,t=tb,n){(B0?"production":void 0)!=="production"&&n&&!fh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),fh=!0);const r=eb(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return JE(r),r}const ph=e=>{(B0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?vy(e):e,n=(r,i)=>nb(t,r,i);return Object.assign(n,t),n},H0=e=>e?ph(e):ph,Un=["TEXT"],rb={id:"flow:draft-layout",version:"1.0.0",nodes:[{id:"ui-entry",type:"module",name:"UI",params:{__position:{x:120,y:360},role:"entrypoint",moduleKey:"interface"},in:[{port:"feedback",types:Un}],out:[{port:"conversation",types:Un}]},{id:"prompt-main",type:"module",name:"Prompt",params:{__position:{x:420,y:360},preset:"analysis",moduleKey:"prompt"},in:[{port:"context",types:Un}],out:[{port:"prompt",types:Un}]},{id:"llm-primary",type:"llm",name:"LLAMA3.1 8B",params:{__position:{x:720,y:360},adapter:"llama_cpp",modelId:"model:llama3.1-8b.Q4_K_M",runtime:"CPU",temperature:.2,maxTokens:2048},in:[{port:"prompt",types:Un}],out:[{port:"response",types:Un}]},{id:"memory-primary",type:"module",name:"Memory",params:{__position:{x:1020,y:360},mode:"append",moduleKey:"memory"},in:[{port:"write",types:Un}],out:[{port:"recall",types:Un}]}],edges:[{id:"edge-ui-prompt",from:["ui-entry","conversation"],to:["prompt-main","context"],label:"primary"},{id:"edge-prompt-llm",from:["prompt-main","prompt"],to:["llm-primary","prompt"],label:"draft"},{id:"edge-llm-memory",from:["llm-primary","response"],to:["memory-primary","write"],label:"completion"},{id:"edge-memory-ui",from:["memory-primary","recall"],to:["ui-entry","feedback"],label:"memory"}],prompts:{packs:[]},models:{registryRef:"../models/models.json"},profiles:{default:{concurrency:2}}},ib=()=>JSON.parse(JSON.stringify(rb)),V0="__position",ob={x:360,y:240},U0=e=>`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,sb=e=>U0(e||"node"),lb=e=>U0(`edge-${e.from[0]}-${e.to[0]}-${e.from[1]}-${e.to[1]}`),Ws=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),ab=e=>{const t=e.params,n=t==null?void 0:t[V0];if(n&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"){const r=n;return{x:r.x,y:r.y}}return{...ob}},ub=(e,t)=>{const n={...e.params??{}};return n[V0]={x:t.x,y:t.y},n},cb=e=>typeof e=="string"&&e.trim().length>0,gi=(...e)=>{for(const t of e)if(cb(t))return t.trim();return null},hh=(e,t)=>{if(!Array.isArray(e))return null;const n=[...e];for(;n.length>0;){const r=n.pop();if(!r||typeof r!="object")continue;const i=r,o=gi(i.id,i.modelId,i.model_id);if(o&&o===t){const l=gi(i.name,i.label,i.title);if(l)return l}const s=[i.models,i.items,i.children];for(const l of s)Array.isArray(l)&&n.push(...l)}return null},W0=(e,t)=>{const n=gi(e.modelLabel,e.modelName,e.displayName,e.title,e.label);if(n)return n;const r=e.model;if(r&&typeof r=="object"){const o=r,s=gi(o.name,o.label,o.title);if(s)return s;const l=gi(o.id,o.modelId,o.model_id);if(l){const a=l.trim(),u=hh(t,a);if(u)return u;const c=a.replace(/^model:/i,"").trim();if(c)return c}}const i=gi(e.modelId,e.model_id);if(i){const o=i.trim(),s=hh(t,o);if(s)return s;const l=o.replace(/^model:/i,"").trim();if(l)return l}return null},ps=H0((e,t)=>({flow:ib(),setFlow:n=>e({flow:n}),addNode:n=>e(r=>({flow:{...r.flow,nodes:[...r.flow.nodes,n]}})),updateNodeParams:(n,r)=>e(i=>({flow:{...i.flow,nodes:i.flow.nodes.map(o=>{if(o.id!==n)return o;const s={...o.params??{}},l=r(s),a=l&&typeof l=="object"?l:s;if((o.type??"module")==="llm"){const u=W0(a,i.catalog);if(u&&u!==o.name)return{...o,name:u,params:a}}return{...o,params:a}})}})),catalog:[],setCatalog:n=>e({catalog:n}),activeTool:"select",setActiveTool:n=>e({activeTool:n}),clipboard:null,setClipboard:n=>e({clipboard:n}),copyNode:n=>{const r=t().flow.nodes.find(s=>s.id===n);if(!r)return;const i=Ws(r),o=ab(r);e({clipboard:{kind:"node",node:i,position:o}})},cutNode:n=>{const{copyNode:r,deleteNode:i}=t();r(n),i(n)},deleteNode:n=>e(r=>{if(!r.flow.nodes.some(s=>s.id===n))return{};const i=r.flow.nodes.filter(s=>s.id!==n),o=r.flow.edges.filter(s=>s.from[0]!==n&&s.to[0]!==n);return{flow:{...r.flow,nodes:i,edges:o}}}),copyEdge:n=>{const r=t().flow.edges.find(i=>i.id===n);r&&e({clipboard:{kind:"edge",edge:Ws(r)}})},cutEdge:n=>{const{copyEdge:r,deleteEdge:i}=t();r(n),i(n)},deleteEdge:n=>e(r=>r.flow.edges.some(i=>i.id===n)?{flow:{...r.flow,edges:r.flow.edges.filter(i=>i.id!==n)}}:{}),pasteClipboard:n=>{const r=t().clipboard;if(!r||n&&r.kind!==n)return null;if(r.kind==="node"){const i=r.node,o={x:r.position.x+48,y:r.position.y+48},s=Ws(i),l=sb(s.type??"node"),a=ub(s,o),u={...s,id:l,params:a};return e(c=>({flow:{...c.flow,nodes:[...c.flow.nodes,u]}})),u}if(r.kind==="edge"){const i=t().flow,{edge:o}=r,s=i.nodes.some(u=>u.id===o.from[0]),l=i.nodes.some(u=>u.id===o.to[0]);if(!s||!l)return null;const a={...Ws(o),id:lb(o)};return e(u=>({flow:{...u.flow,edges:[...u.flow.edges,a]}})),a}return null}})),q0=S.createContext(null),db=q0.Provider;function nf(){const e=S.useContext(q0);if(!e)throw new Error("useCanvasBoundary must be used within a CanvasBoundaryProvider");return e}const de=16,Y0=280,Z0=220,Hr=(e,t,n)=>Math.min(Math.max(e,t),n);function yi(e,t,n){return n<t?t:Hr(e,t,n)}function Mi(e,t){const n=Math.min(e.size.width,t.width),r=Math.min(e.size.height,t.height),i=Math.max(0,t.width-n),o=Math.max(0,t.height-r),s=Hr(e.position.x,0,i),l=Hr(e.position.y,0,o);return{position:{x:s,y:l},size:{width:n,height:r}}}function fb(e,t,n){const r={position:{x:e.position.x+t.dx,y:e.position.y+t.dy},size:{...e.size}};return Mi(r,n)}function wo(e,t){const n=Math.max(0,t.width-de*2),r=Math.max(0,t.height-de*2),i=yi(e.width,Math.min(Y0,n),n),o=yi(e.height,Math.min(Z0,r),r),s=Math.max(de,t.width-de-i),l=Math.max(de,t.height-de-o),a=Hr(e.left,de,s),u=Hr(e.top,de,l);return{left:a,top:u,width:i,height:o}}function pb(e,t,n,r,i){let{x:o,y:s}=t.position,{width:l,height:a}=t.size;const u=r.width-o,c=r.height-s;if(e.includes("e")&&(l=yi(l+n.dx,i.width,u)),e.includes("s")&&(a=yi(a+n.dy,i.height,c)),e.includes("w")){let d=o+n.dx;const f=Math.max(0,o+l-r.width),m=o+l-i.width;d=Hr(d,f,m);const x=l+(o-d);o=d,l=yi(x,i.width,r.width-o)}if(e.includes("n")){let d=s+n.dy;const f=Math.max(0,s+a-r.height),m=s+a-i.height;d=Hr(d,f,m);const x=a+(s-d);s=d,a=yi(x,i.height,r.height-s)}return Mi({position:{x:o,y:s},size:{width:l,height:a}},r)}const qs=40,gu=180,Wn={position:"absolute",background:"transparent",zIndex:2};function mh(e){var n;const t=(n=e==null?void 0:e.current)==null?void 0:n.getBoundingClientRect();return t?{width:t.width,height:t.height}:{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER}}function rf({title:e,open:t,position:n,size:r,minimized:i,minSize:o,onUpdate:s,onRequestClose:l,onToggleMinimize:a,children:u}){const c=nf(),[d,f]=S.useState(t),m=S.useRef();S.useEffect(()=>{if(t){f(!0),m.current&&(window.clearTimeout(m.current),m.current=void 0);return}return m.current=window.setTimeout(()=>{f(!1),m.current=void 0},gu),()=>{m.current&&(window.clearTimeout(m.current),m.current=void 0)}},[t]),S.useEffect(()=>()=>{m.current&&window.clearTimeout(m.current)},[]);const x=S.useMemo(()=>({width:Math.max((o==null?void 0:o.width)??280,240),height:Math.max((o==null?void 0:o.height)??220,qs+40)}),[o]),v=S.useMemo(()=>({position:n,size:r}),[n,r]),T=S.useCallback(M=>{M.preventDefault(),M.stopPropagation();const D=M.clientX,$=M.clientY,F=v,B=mh(c),V=P=>{const I={dx:P.clientX-D,dy:P.clientY-$},L=fb(F,I,B);s(L)},_=()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",_)};window.addEventListener("mousemove",V),window.addEventListener("mouseup",_,{once:!0})},[c,v,s]),p=S.useCallback(M=>D=>{if(i)return;D.preventDefault(),D.stopPropagation();const $=D.clientX,F=D.clientY,B=v,V=mh(c),_=I=>{const L={dx:I.clientX-$,dy:I.clientY-F},R=pb(M,B,L,V,x);s(R)},P=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",P)};window.addEventListener("mousemove",_),window.addEventListener("mouseup",P,{once:!0})},[c,v,i,s,x]),h=S.useMemo(()=>[{direction:"n",style:{...Wn,top:-2,left:"50%",transform:"translateX(-50%)",width:"40%",height:6,cursor:"ns-resize"}},{direction:"s",style:{...Wn,bottom:-2,left:"50%",transform:"translateX(-50%)",width:"40%",height:6,cursor:"ns-resize"}},{direction:"e",style:{...Wn,right:-2,top:"50%",transform:"translateY(-50%)",width:6,height:"40%",cursor:"ew-resize"}},{direction:"w",style:{...Wn,left:-2,top:"50%",transform:"translateY(-50%)",width:6,height:"40%",cursor:"ew-resize"}},{direction:"ne",style:{...Wn,top:-4,right:-4,width:12,height:12,cursor:"nesw-resize"}},{direction:"nw",style:{...Wn,top:-4,left:-4,width:12,height:12,cursor:"nwse-resize"}},{direction:"se",style:{...Wn,bottom:-4,right:-4,width:12,height:12,cursor:"nwse-resize"}},{direction:"sw",style:{...Wn,bottom:-4,left:-4,width:12,height:12,cursor:"nesw-resize"}}],[]),g={position:"absolute",top:v.position.y,left:v.position.x,width:v.size.width,height:i?qs:v.size.height,minWidth:x.width,minHeight:i?qs:x.height,background:"#f8fafc",border:"1px solid #cbd5f5",borderRadius:12,boxShadow:"0 18px 32px rgba(15, 23, 42, 0.18)",overflow:"hidden",display:d?"flex":"none",flexDirection:"column",transition:`opacity ${gu}ms ease, transform ${gu}ms ease, width 140ms ease, height 140ms ease`,opacity:t?1:0,transform:t?"scale(1)":"scale(0.98)",pointerEvents:"auto",zIndex:30},w={height:qs,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 12px",background:"linear-gradient(180deg, #1f2937 0%, #0f172a 100%)",color:"#f8fafc",fontWeight:600,letterSpacing:.2,cursor:"grab",userSelect:"none"},N={border:"none",background:"transparent",color:"inherit",cursor:"pointer",padding:"4px 6px",borderRadius:6,transition:"background 0.2s ease"},A={display:"flex",gap:4},E={flex:1,padding:"14px 16px",overflowY:"auto",background:"rgba(248, 250, 252, 0.92)",color:"#0f172a",fontSize:13,display:i?"none":"block"};return d?y.jsxs("div",{"data-testid":"context-window",style:g,onContextMenu:M=>M.preventDefault(),children:[y.jsxs("div",{style:w,onMouseDown:T,role:"toolbar","aria-label":`${e} controls`,children:[y.jsx("span",{children:e}),y.jsxs("div",{style:A,children:[y.jsx("button",{type:"button","aria-label":i?"Restore":"Minimize",style:N,onMouseDown:M=>M.stopPropagation(),onClick:M=>{M.stopPropagation(),a()},children:i?"▢":"_"}),y.jsx("button",{type:"button","aria-label":"Close",style:N,onMouseDown:M=>M.stopPropagation(),onClick:M=>{M.stopPropagation(),l()},children:"×"})]})]}),y.jsx("div",{style:E,children:u}),i?null:h.map(M=>y.jsx("div",{style:M.style,onMouseDown:p(M.direction)},M.direction))]}):null}const hb={padding:"12px 16px",display:"flex",flexDirection:"column",gap:14,fontFamily:"Inter, system-ui, sans-serif",fontSize:14,color:"#0f172a"},mb={margin:0,fontSize:16,fontWeight:700},gb={margin:0,fontSize:12,color:"#64748b",lineHeight:1.4},Qe={display:"flex",flexDirection:"column",gap:6},Ke={fontSize:12,fontWeight:600,letterSpacing:.4,textTransform:"uppercase",color:"#475569"},Mt={borderRadius:8,border:"1px solid #cbd5f5",background:"#ffffff",padding:"8px 10px",fontSize:13,color:"#111827",lineHeight:1.4},Ma={...Mt,minHeight:96,resize:"vertical"},Ia={fontSize:12,color:"#94a3b8"},yb={background:"#f8fafc",borderRadius:8,padding:"10px 12px",fontSize:12,color:"#1f2937",overflowX:"auto"},vb={prompt:{title:"Prompt Settings",description:"Shape the instruction block sent to the connected model."},debate:{title:"Debate Loop",description:"Control how many passes collaborators take before resolving."},log:{title:"Log Capture",description:"Decide what the logger should keep from this stage."},cache:{title:"Cache Policy",description:"Reuse previous outputs or request fresh generations."},divider:{title:"Divider",description:"Label a branch point so canvases stay readable."},interface:{title:"Interface",description:"Configure the chat entry point into the flow."},memory:{title:"Memory",description:"Control how context is stored and recalled across runs."},tool:{title:"Tool Call",description:"Point the node at a callable tool with structured arguments."}};function ot(e,t,n){e(r=>{const i=r&&typeof r=="object"?{...r}:{};return i[t]=n,i})}function xb(e,t){const n=typeof(e==null?void 0:e.template)=="string"?e.template:"",r=typeof(e==null?void 0:e.tone)=="string"?e.tone:"neutral";return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Prompt Template"}),y.jsx("textarea",{style:Ma,value:n,onChange:i=>ot(t,"template",i.target.value),placeholder:"Summarize the task you want the model to perform"}),y.jsx("span",{style:Ia,children:"Include contextual cues, constraints, or formatting hints."})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Tone"}),y.jsxs("select",{style:Mt,value:r,onChange:i=>ot(t,"tone",i.target.value),children:[y.jsx("option",{value:"neutral",children:"Neutral"}),y.jsx("option",{value:"enthusiastic",children:"Enthusiastic"}),y.jsx("option",{value:"direct",children:"Direct"}),y.jsx("option",{value:"supportive",children:"Supportive"})]})]})]})}function wb(e,t){const n=typeof(e==null?void 0:e.mode)=="string"?e.mode:"single-pass",r=typeof(e==null?void 0:e.rounds)=="number"&&Number.isFinite(e.rounds)?Math.max(1,Math.floor(e.rounds)):2;return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Mode"}),y.jsxs("select",{style:Mt,value:n,onChange:i=>ot(t,"mode",i.target.value),children:[y.jsx("option",{value:"single-pass",children:"Single Pass"}),y.jsx("option",{value:"multi-round",children:"Multi-round"}),y.jsx("option",{value:"round-robin",children:"Round Robin"})]})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Rounds"}),y.jsx("input",{style:Mt,type:"number",min:1,value:r,onChange:i=>{const o=Number.parseInt(i.target.value,10),s=Number.isFinite(o)?Math.max(1,o):1;ot(t,"rounds",s)}}),y.jsx("span",{style:Ia,children:"Higher counts give the loop more chances to refine an answer."})]})]})}function _b(e,t){const n=typeof(e==null?void 0:e.strategy)=="string"?e.strategy:"reuse",r=typeof(e==null?void 0:e.ttl)=="number"&&Number.isFinite(e.ttl)?Math.max(0,Math.floor(e.ttl)):1800;return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Strategy"}),y.jsxs("select",{style:Mt,value:n,onChange:i=>ot(t,"strategy",i.target.value),children:[y.jsx("option",{value:"reuse",children:"Prefer Cached Value"}),y.jsx("option",{value:"refresh",children:"Always Refresh"}),y.jsx("option",{value:"conditional",children:"Refresh When Stale"})]})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Time To Live (seconds)"}),y.jsx("input",{style:Mt,type:"number",min:0,value:r,onChange:i=>{const o=Number.parseInt(i.target.value,10),s=Number.isFinite(o)?Math.max(0,o):0;ot(t,"ttl",s)}})]})]})}function Sb(e,t){const n=typeof(e==null?void 0:e.scope)=="string"?e.scope:"session",r=typeof(e==null?void 0:e.summary)=="string"?e.summary:"";return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Scope"}),y.jsxs("select",{style:Mt,value:n,onChange:i=>ot(t,"scope",i.target.value),children:[y.jsx("option",{value:"session",children:"Session Only"}),y.jsx("option",{value:"project",children:"Project"}),y.jsx("option",{value:"global",children:"Global"})]})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Summary Notes"}),y.jsx("textarea",{style:Ma,value:r,onChange:i=>ot(t,"summary",i.target.value),placeholder:"Capture what future runs should remember"})]})]})}function kb(e,t){const n=typeof(e==null?void 0:e.label)=="string"?e.label:"Checkpoint",r=typeof(e==null?void 0:e.defaultPath)=="string"?e.defaultPath:"A";return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Label"}),y.jsx("input",{style:Mt,value:n,onChange:i=>ot(t,"label",i.target.value)})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Default Path"}),y.jsxs("select",{style:Mt,value:r,onChange:i=>ot(t,"defaultPath",i.target.value),children:[y.jsx("option",{value:"A",children:"Path A"}),y.jsx("option",{value:"B",children:"Path B"}),y.jsx("option",{value:"auto",children:"Auto-select"})]})]})]})}function Eb(e,t){const n=typeof(e==null?void 0:e.toolName)=="string"?e.toolName:"calculator",r=typeof(e==null?void 0:e.arguments)=="string"?e.arguments:"";return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Tool Identifier"}),y.jsx("input",{style:Mt,value:n,onChange:i=>ot(t,"toolName",i.target.value.trim()),placeholder:"calculator"}),y.jsx("span",{style:Ia,children:"Must match a tool published in the workspace adapters."})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Arguments (JSON)"}),y.jsx("textarea",{style:Ma,value:r,onChange:i=>ot(t,"arguments",i.target.value),placeholder:'{"query":"2+2"}'})]})]})}function bb(e,t){const n=typeof(e==null?void 0:e.level)=="string"?e.level:"info",r=typeof(e==null?void 0:e.notes)=="string"?e.notes:"";return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Level"}),y.jsxs("select",{style:Mt,value:n,onChange:i=>ot(t,"level",i.target.value),children:[y.jsx("option",{value:"debug",children:"Debug"}),y.jsx("option",{value:"info",children:"Info"}),y.jsx("option",{value:"warn",children:"Warn"})]})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Notes"}),y.jsx("textarea",{style:Ma,value:r,onChange:i=>ot(t,"notes",i.target.value),placeholder:"Describe what should be logged from this node"})]})]})}function Cb(e,t){const n=typeof(e==null?void 0:e.title)=="string"?e.title:"Chat",r=typeof(e==null?void 0:e.placeholder)=="string"?e.placeholder:"Ask the team anything";return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Window Title"}),y.jsx("input",{style:Mt,value:n,onChange:i=>ot(t,"title",i.target.value)})]}),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Input Placeholder"}),y.jsx("input",{style:Mt,value:r,onChange:i=>ot(t,"placeholder",i.target.value)})]})]})}function Tb(e,t,n){switch(e){case"prompt":return xb(t,n);case"debate":return wb(t,n);case"cache":return _b(t,n);case"memory":return Sb(t,n);case"divider":return kb(t,n);case"tool":return Eb(t,n);case"log":return bb(t,n);case"interface":return Cb(t,n);default:return y.jsx("div",{style:Ia,children:"No editable settings are available yet."})}}function Nb({module:e,params:t,onUpdate:n}){const r=vb[e];return y.jsxs("div",{style:hb,children:[y.jsxs("div",{children:[y.jsx("h4",{style:mb,children:r.title}),y.jsx("p",{style:gb,children:r.description})]}),Tb(e,t,n),y.jsxs("div",{style:Qe,children:[y.jsx("span",{style:Ke,children:"Raw Parameters"}),y.jsx("pre",{style:yb,children:JSON.stringify(t??{},null,2)})]})]})}const of=["Cut","Copy","Paste","Reverse Inputs","Delete"],Ii=176,Ro=232,Pa="data-voide-edit-menu",Mb={position:"fixed",minWidth:Ii,background:"#fff1f2",border:"1px solid rgba(244, 63, 94, 0.38)",borderRadius:12,boxShadow:"0 18px 36px rgba(190, 18, 60, 0.28)",padding:6,display:"flex",flexDirection:"column",gap:2,zIndex:160,pointerEvents:"auto"},X0={padding:"8px 12px",borderRadius:8,border:"none",background:"transparent",color:"#7f1d1d",fontWeight:600,fontSize:13,textAlign:"left",cursor:"pointer"},Ib={...X0,color:"rgba(127, 29, 29, 0.4)",cursor:"not-allowed"};function sf({position:e,items:t}){return y.jsx("div",{[Pa]:"",style:{...Mb,left:e.left,top:e.top},children:t.map(n=>y.jsx("button",{type:"button",disabled:n.disabled,style:n.disabled?Ib:X0,onMouseDown:r=>r.stopPropagation(),onClick:r=>{r.stopPropagation(),!n.disabled&&n.onSelect()},onMouseEnter:r=>{n.disabled||(r.currentTarget.style.background="rgba(248, 113, 113, 0.18)")},onMouseLeave:r=>{r.currentTarget.style.background="transparent"},children:n.label},n.label))})}const Rc={width:420,height:520},gh={position:{x:0,y:0}},Pb="Flow is paused. Start the run to accept new input.",po=new Map,wl=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`chat-${Date.now().toString(36)}-${Math.random().toString(16).slice(2)}`,yh=e=>({position:{x:(e==null?void 0:e.position.x)??gh.position.x,y:(e==null?void 0:e.position.y)??gh.position.y},size:{width:(e==null?void 0:e.size.width)??Rc.width,height:(e==null?void 0:e.size.height)??Rc.height}}),Rb=e=>({id:wl(),name:e.name||"attachment",size:e.size,type:e.type||"application/octet-stream",file:e}),Ab=e=>({id:e.id,name:e.name,size:e.size,type:e.type,url:e.url??(typeof URL<"u"?URL.createObjectURL(e.file):void 0)}),zb=(e,t,n,r)=>{const i=e[t];return i?{...i,nodeLabel:i.nodeLabel||n,geometry:r?yh(r):i.geometry}:{nodeId:t,nodeLabel:n,messages:[],draft:"",draftAttachments:[],geometry:yh(r),scrollTop:0,stickToBottom:!0,open:!1,streamingMessageId:null,notice:null}},Lb=(e,t)=>e.trim().length===0&&t.length>0?"I've received the files you attached. I'll review them and respond soon.":e.trim().length===0?"I'm ready whenever you are. Send a prompt from the canvas Play control.":`I see: "${e.trim().slice(0,280)}${e.trim().length>280?"…":""}"
I'll run that through the flow and let you know what I find.`,qe=H0((e,t)=>({threads:{},activeNodeId:null,flowAcceptsInput:!0,openChat:({nodeId:n,nodeLabel:r,geometry:i})=>{e(o=>{const s=zb(o.threads,n,r,i);return{threads:{...o.threads,[n]:{...s,open:!0}},activeNodeId:n}})},closeChat:n=>{e(r=>{const i=n??r.activeNodeId;if(!i)return r;const o=r.threads[i];if(!o)return r;const s={...o,open:!1};return{threads:{...r.threads,[i]:s},activeNodeId:r.activeNodeId===i?null:r.activeNodeId}})},setDraft:(n,r)=>{e(i=>{const o=i.threads[n];return o?{threads:{...i.threads,[n]:{...o,draft:r}}}:i})},addDraftAttachments:(n,r)=>{!r||r.length===0||e(i=>{const o=i.threads[n];if(!o)return i;const s=r.map(Rb);return{threads:{...i.threads,[n]:{...o,draftAttachments:[...o.draftAttachments,...s]}}}})},removeDraftAttachment:(n,r)=>{e(i=>{const o=i.threads[n];return o?{threads:{...i.threads,[n]:{...o,draftAttachments:o.draftAttachments.filter(s=>s.id!==r)}}}:i})},clearDraft:n=>{e(r=>{const i=r.threads[n];return i?{threads:{...r.threads,[n]:{...i,draft:"",draftAttachments:[]}}}:r})},setScrollState:(n,r,i)=>{e(o=>{const s=o.threads[n];return!s||s.scrollTop===r&&s.stickToBottom===i?o:{threads:{...o.threads,[n]:{...s,scrollTop:r,stickToBottom:i}}}})},updateGeometry:(n,r)=>{e(i=>{const o=i.threads[n];if(!o)return i;const s=i.threads[n].geometry,l=Mi(r,{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER});return s.position.x===l.position.x&&s.position.y===l.position.y&&s.size.width===l.size.width&&s.size.height===l.size.height?i:{threads:{...i.threads,[n]:{...o,geometry:l}}}})},sendDraft:n=>{const i=t().threads[n];if(!i)return!1;const o=i.draft??"",s=o.trim().length>0,l=i.draftAttachments.length>0;if(!s&&!l)return!1;const a=Date.now(),u=i.draftAttachments.map(Ab),c={id:wl(),role:"user",content:o,createdAt:a,attachments:u},d={id:wl(),role:"assistant",content:"",createdAt:Date.now(),attachments:[],streaming:!0};e({flowAcceptsInput:!1}),e(x=>{const v=x.threads[n];if(!v)return x;const T={...v,messages:[...v.messages,c,d],draft:"",draftAttachments:[],stickToBottom:!0,streamingMessageId:d.id,notice:null};return{threads:{...x.threads,[n]:T}}});const f=`${n}:${d.id}`;if(po.has(f)){const x=po.get(f);typeof x=="number"&&window.clearTimeout(x)}const m=window.setTimeout(()=>{const x=Lb(o,u);t().completeStreaming(n,d.id,x)},1200);return po.set(f,m),!0},sendActiveDraft:()=>{const n=t();return n.activeNodeId?n.sendDraft(n.activeNodeId):!1},appendAssistantResponse:(n,r,i=[])=>{e(o=>{const s=o.threads[n];if(!s)return o;const l=s.messages.filter(u=>u.id!==s.streamingMessageId),a={id:wl(),role:"assistant",content:r,createdAt:Date.now(),attachments:i};return{threads:{...o.threads,[n]:{...s,messages:[...l,a],streamingMessageId:null}}}}),e({flowAcceptsInput:!0})},completeStreaming:(n,r,i)=>{e(o=>{const s=o.threads[n];if(!s)return o;const l=s.messages.map(c=>c.id===r?{...c,content:i,streaming:!1,createdAt:Date.now()}:c),a=`${n}:${r}`,u=po.get(a);return typeof u=="number"&&(window.clearTimeout(u),po.delete(a)),{threads:{...o.threads,[n]:{...s,messages:l,streamingMessageId:s.streamingMessageId===r?null:s.streamingMessageId}}}}),e({flowAcceptsInput:!0})},getThread:n=>t().threads[n],hasOpenChat:()=>{const n=t();return Object.values(n.threads).some(r=>r.open)},setFlowAcceptsInput:n=>{e(r=>r.flowAcceptsInput===n?r:{flowAcceptsInput:n})}})),Db=Rc,$b=Pb,Ac="__ioOrientation",lf=e=>!e||typeof e!="object"?"default":e[Ac]==="reversed"?"reversed":"default",G0=e=>{const t=e&&typeof e=="object"?{...e}:{};return lf(t)==="reversed"?(delete t[Ac],t):{...t,[Ac]:"reversed"}},Ob={width:156,minHeight:82,padding:"16px 20px",borderRadius:16,border:"2px solid #1f2937",background:"#ffffff",color:"#111827",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",position:"relative",boxShadow:"0 4px 8px rgba(15, 23, 42, 0.08)"},vh={width:12,height:12,borderRadius:"50%",background:"#1f2937",border:"2px solid #ffffff"},xh={position:"absolute",fontSize:10,fontWeight:600,letterSpacing:.5,color:"#6b7280",pointerEvents:"none",transform:"translateY(-50%)"},wh=(e,t)=>`${(e+1)/(t+1)*100}%`,jb={prompt:{width:360,height:320},debate:{width:380,height:360},log:{width:380,height:360},cache:{width:320,height:280},divider:{width:320,height:260},interface:{width:340,height:300},memory:{width:340,height:300},tool:{width:320,height:280}},_h={width:320,height:260},Fb=e=>(e?jb[e]:_h)??_h,Bb="__position",Hb=`[${Pa}]`,Ys=(e,t,n)=>Math.min(n,Math.max(t,e)),Vb=e=>{var s;const t=(e.name??"").toLowerCase(),n=(e.id??"").toLowerCase(),i=(typeof((s=e.params)==null?void 0:s.moduleKey)=="string"?e.params.moduleKey:"").toLowerCase(),o=`${t} ${n} ${i}`;return i==="tool"||i==="toolcall"||i==="tool-call"?"tool":o.includes("prompt")?"prompt":o.includes("debate")||o.includes("loop")?"debate":o.includes("log")?"log":o.includes("cache")||o.includes("memo")?"cache":o.includes("memory")||o.includes("recall")?"memory":o.includes("divert")||o.includes("divider")||o.includes("switch")?"divider":o.includes("tool call")||o.includes("tool-call")||o.includes("tool:")||o.includes("toolcall")||o.includes("tool ")||o.endsWith("tool")?"tool":o.includes("ui")||o.includes("interface")?"interface":null};function Sh({data:e}){const t=e.in??[],n=e.out??[],{overlayRef:r}=nf(),i=S.useMemo(()=>lf(e.params),[e.params]),o=i==="reversed"?K.Right:K.Left,s=i==="reversed"?K.Left:K.Right,l=S.useMemo(()=>Vb(e),[e]),a=S.useMemo(()=>Fb(l),[l]),[u,c]=S.useState(()=>({open:!1,minimized:!1,geometry:{position:{x:0,y:0},size:{...a}}})),[d,f]=S.useState(null),m=qe(b=>b.openChat),x=qe(b=>b.getThread),{updateNodeParams:v,copyNode:T,cutNode:p,deleteNode:h,pasteClipboard:g,clipboard:w}=ps(b=>({updateNodeParams:b.updateNodeParams,copyNode:b.copyNode,cutNode:b.cutNode,deleteNode:b.deleteNode,pasteClipboard:b.pasteClipboard,clipboard:b.clipboard})),N=S.useCallback(b=>{var k;const z=(k=r.current)==null?void 0:k.getBoundingClientRect();return z?Mi(b,{width:z.width,height:z.height}):b},[r]),A=S.useCallback(b=>{const{clientX:z,clientY:k,anchorRect:O}=b??{};f(null),c(j=>{var xe;const W=(xe=r.current)==null?void 0:xe.getBoundingClientRect();if(!W)return{...j,open:!0,minimized:!1};const{width:X,height:te}=j.geometry.size;let ie=j.geometry.position.x,ae=j.geometry.position.y;if(O){const Le=O.left-W.left,Pe=O.top-W.top,we=Le+O.width/2,Oe=Pe+O.height/2;ie=we-X/2,ae=Oe-te/2}else if(typeof z=="number"&&typeof k=="number"){const Le=z-W.left,Pe=k-W.top;ie=Le-X/2,ae=Pe-te/2}const ce={position:{x:ie,y:ae},size:j.geometry.size},Se=Mi(ce,{width:W.width,height:W.height});return{...j,open:!0,minimized:!1,geometry:Se}})},[r]),E=S.useCallback(b=>{var ce;b.preventDefault(),b.stopPropagation(),c(Se=>({...Se,open:!1,minimized:!1}));const z=(ce=r.current)==null?void 0:ce.getBoundingClientRect();if(!z){f({left:b.clientX-Ii/2,top:b.clientY-Ro/2,pointer:null});return}const k=Math.max(de,z.width-Ii-de),O=Math.max(de,z.height-Ro-de),j=Ys(b.clientX-z.left,de,k),W=Ys(b.clientY-z.top,de,O),X=j-Ii/2,te=W-Ro/2,ie=Ys(X,de,k),ae=Ys(te,de,O);f({left:z.left+ie,top:z.top+ae,pointer:{x:j,y:W}})},[r]),M=S.useCallback(b=>{var k;if(b.button!==0)return;const z=b.target;(k=z==null?void 0:z.closest)!=null&&k.call(z,".react-flow__handle")||(b.stopPropagation(),A({clientX:b.clientX,clientY:b.clientY,anchorRect:b.currentTarget.getBoundingClientRect()}))},[A]),D=S.useCallback(()=>c(b=>({...b,open:!1})),[]),$=S.useCallback(()=>c(b=>({...b,minimized:!b.minimized})),[]),F=S.useCallback(b=>{c(z=>({...z,geometry:N(b)}))},[N]),B=S.useCallback(b=>{v(e.id,b)},[e.id,v]),V=(w==null?void 0:w.kind)==="node",_=t.length>0||n.length>0,P=S.useCallback(b=>{const z=(d==null?void 0:d.pointer)??null;switch(f(null),b){case"Copy":T(e.id);break;case"Cut":p(e.id);break;case"Delete":h(e.id);break;case"Paste":{if(!V)break;const k=g("node");k&&!("from"in k)&&z&&v(k.id,O=>({...O&&typeof O=="object"?O:{},[Bb]:{x:z.x,y:z.y}}));break}case"Reverse Inputs":{v(e.id,k=>G0(k));break}}},[V,T,p,e.id,h,d,g,v]),I=S.useMemo(()=>of.map(b=>({label:b,disabled:b==="Paste"?!V:b==="Reverse Inputs"?!_:!1,onSelect:()=>P(b)})),[V,_,P]);S.useEffect(()=>{if(!d)return;const b=k=>{var j;const O=k.target;(j=O==null?void 0:O.closest)!=null&&j.call(O,Hb)||f(null)},z=k=>{k.key==="Escape"&&f(null)};return window.addEventListener("mousedown",b),window.addEventListener("contextmenu",b),window.addEventListener("keydown",z),()=>{window.removeEventListener("mousedown",b),window.removeEventListener("contextmenu",b),window.removeEventListener("keydown",z)}},[d]);const L=!!l,R=l==="interface",C=S.useCallback(b=>{var z,k;if(R){b.stopPropagation();const O=(z=r.current)==null?void 0:z.getBoundingClientRect(),j=b.currentTarget.getBoundingClientRect(),W=x(e.id),X=((k=W==null?void 0:W.geometry)==null?void 0:k.size)??{...Db};let te=(W==null?void 0:W.geometry)??{position:{x:0,y:0},size:{...X}};if(O){const ie=j.left-O.left,ae=j.right-O.left,Se=j.top-O.top+j.height/2,xe=20,Le=O.width,Pe=O.height;let we=ae+xe;we+X.width>Le&&(we=ie-xe-X.width),we<0&&(we=Math.max(0,Math.min(ie,Le-X.width)));let Oe=Se-X.height/2;Oe+X.height>Pe&&(Oe=Pe-X.height),Oe<0&&(Oe=0),te=Mi({position:{x:we,y:Oe},size:X},{width:Le,height:Pe})}m({nodeId:e.id,nodeLabel:e.name??e.id??"Interface",geometry:te});return}M(b)},[e.id,e.name,R,x,M,m,r]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:Ob,"data-voide-io-orientation":i,onClick:L?C:void 0,onContextMenu:L?E:void 0,children:[t.map((b,z)=>{const k=wh(z,t.length);return y.jsxs(U.Fragment,{children:[y.jsx(xr,{type:"target",position:o,id:`${e.id}:${b.port}`,style:{...vh,top:k}}),y.jsx("span",{style:{...xh,top:k,left:o===K.Left?20:void 0,right:o===K.Right?20:void 0},children:"IN"})]},b.port)}),y.jsx("span",{children:e.name}),n.map((b,z)=>{const k=wh(z,n.length);return y.jsxs(U.Fragment,{children:[y.jsx(xr,{type:"source",position:s,id:`${e.id}:${b.port}`,style:{...vh,top:k}}),y.jsx("span",{style:{...xh,top:k,left:s===K.Left?20:void 0,right:s===K.Right?20:void 0},children:"OUT"})]},b.port)})]}),L?y.jsx(rf,{title:`${e.name} Options`,open:u.open,position:u.geometry.position,size:u.geometry.size,minimized:u.minimized,onRequestClose:D,onToggleMinimize:$,onUpdate:F,children:y.jsx(Nb,{module:l,params:e.params,onUpdate:B})}):null,d?y.jsx(sf,{position:{left:d.left,top:d.top},items:I}):null]})}const Ub=[{order:"a",md5sum:"a54c08a7b90e4029a8c2ab5b5dc936aa",name:"Reasoner v1",filename:"qwen2.5-coder-7b-instruct-q4_0.gguf",filesize:"4431390720",requires:"3.6.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Based on <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct">Qwen2.5-Coder 7B</a></li><li>Uses built-in javascript code interpreter</li><li>Use for complex reasoning tasks that can be aided by computation analysis</li><li>License: <a href="https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct/blob/main/LICENSE">Apache License Version 2.0</a></li><li>#reasoning</li></ul>',url:"https://huggingface.co/Qwen/Qwen2.5-Coder-7B-Instruct-GGUF/resolve/main/qwen2.5-coder-7b-instruct-q4_0.gguf",chatTemplate:`{{- '<|im_start|>system\\n' }}
{% if toolList|length > 0 %}You have access to the following functions:
{% for tool in toolList %}
Use the function '{{tool.function}}' to: '{{tool.description}}'
{% if tool.parameters|length > 0 %}
parameters:
{% for info in tool.parameters %}
  {{info.name}}:
    type: {{info.type}}
    description: {{info.description}}
    required: {{info.required}}
{% endfor %}
{% endif %}
# Tool Instructions
If you CHOOSE to call this function ONLY reply with the following format:
'{{tool.symbolicFormat}}'
Here is an example. If the user says, '{{tool.examplePrompt}}', then you reply
'{{tool.exampleCall}}'
After the result you might reply with, '{{tool.exampleReply}}'
{% endfor %}
You MUST include both the start and end tags when you use a function.

You are a helpful AI assistant who uses the functions to break down, analyze, perform, and verify complex reasoning tasks. You SHOULD try to verify your answers using the functions where possible.
{% endif %}
{{- '<|im_end|>\\n' }}
{% for message in messages %}
{{'<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{% endfor %}
{% if add_generation_prompt %}
{{ '<|im_start|>assistant\\n' }}
{% endif %}
`,systemPrompt:""},{order:"aa",md5sum:"c87ad09e1e4c8f9c35a5fcef52b6f1c9",name:"Llama 3 8B Instruct",filename:"Meta-Llama-3-8B-Instruct.Q4_0.gguf",filesize:"4661724384",requires:"2.7.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in Llama 3 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3/license/">Meta Llama 3 Community License</a></li></ul>',url:"https://gpt4all.io/models/gguf/Meta-Llama-3-8B-Instruct.Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2<|eot_id|>`,systemPrompt:"",chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {{- content }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"aa1",sha256sum:"5cd4ee65211770f1d99b4f6f4951780b9ef40e29314bd6542bb5bd0ad0bc29d1",name:"DeepSeek-R1-Distill-Qwen-7B",filename:"DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",filesize:"4444121056",requires:"3.8.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-7B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-7B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-7B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa2",sha256sum:"906b3382f2680f4ce845459b4a122e904002b075238080307586bcffcde49eef",name:"DeepSeek-R1-Distill-Qwen-14B",filename:"DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",filesize:"8544267680",requires:"3.8.0",ramrequired:"16",parameters:"14 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-14B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-14B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-14B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa3",sha256sum:"0eb93e436ac8beec18aceb958c120d282cb2cf5451b23185e7be268fe9d375cc",name:"DeepSeek-R1-Distill-Llama-8B",filename:"DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",filesize:"4675894112",requires:"3.8.0",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Llama-3.1-8B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Llama-8B-GGUF/resolve/main/DeepSeek-R1-Distill-Llama-8B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"aa4",sha256sum:"b3af887d0a015b39fab2395e4faf682c1a81a6a3fd09a43f0d4292f7d94bf4d0",name:"DeepSeek-R1-Distill-Qwen-1.5B",filename:"DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",filesize:"1068807776",requires:"3.8.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"deepseek",description:'<p>The official Qwen2.5-Math-1.5B distillation of DeepSeek-R1.</p><ul><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li><li>#reasoning</li></ul>',url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-1.5B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-1.5B-Q4_0.gguf",chatTemplate:`{%- if not add_generation_prompt is defined %}
    {%- set add_generation_prompt = false %}
{%- endif %}
{%- if messages[0]['role'] == 'system' %}
    {{- messages[0]['content'] }}
{%- endif %}
{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<｜User｜>' + message['content'] }}
    {%- endif %}
    {%- if message['role'] == 'assistant' %}
        {%- set content = message['content'] | regex_replace('^[\\\\s\\\\S]*</think>', '') %}
        {{- '<｜Assistant｜>' + content + '<｜end▁of▁sentence｜>' }}
    {%- endif %}
{%- endfor -%}
{%- if add_generation_prompt %}
    {{- '<｜Assistant｜>' }}
{%- endif %}`},{order:"b",md5sum:"27b44e8ae1817525164ddf4f8dae8af4",name:"Llama 3.2 3B Instruct",filename:"Llama-3.2-3B-Instruct-Q4_0.gguf",filesize:"1921909280",requires:"3.4.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"c",md5sum:"48ff0243978606fdba19d899b77802fc",name:"Llama 3.2 1B Instruct",filename:"Llama-3.2-1B-Instruct-Q4_0.gguf",filesize:"773025920",requires:"3.4.0",ramrequired:"2",parameters:"1 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li>Fast responses</li><li>Instruct model</li><li>Multilingual dialogue use</li><li>Agentic system capable</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_2/license/">Meta Llama 3.2 Community License</a></li></ul>',url:"https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{{- bos_token }}
{%- set date_string = strftime_now('%d %b %Y') %}

{#- This block extracts the system message, so we can slot it into the right place. #}
{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] | trim %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set system_message = '' %}
    {%- set loop_start = 0 %}
{%- endif %}

{#- System message #}
{{- '<|start_header_id|>system<|end_header_id|>\\n\\n' }}
{{- 'Cutting Knowledge Date: December 2023\\n' }}
{{- 'Today Date: ' + date_string + '\\n\\n' }}
{{- system_message }}
{{- '<|eot_id|>' }}

{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {{- '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n' + message['content'] | trim + '<|eot_id|>' }}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}
{%- endif %}`},{order:"d",md5sum:"a5f6b4eabd3992da4d7fb7f020f921eb",name:"Nous Hermes 2 Mistral DPO",filename:"Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",filesize:"4108928000",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Good overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Accepts system prompts in ChatML format</li><li>Trained by Mistral AI<li>Finetuned by Nous Research on the OpenHermes-2.5 dataset<li>Licensed for commercial use</ul>",url:"https://huggingface.co/NousResearch/Nous-Hermes-2-Mistral-7B-DPO-GGUF/resolve/main/Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:"",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"e",md5sum:"97463be739b50525df56d33b26b00852",name:"Mistral Instruct",filename:"mistral-7b-instruct-v0.1.Q4_0.gguf",filesize:"4108916384",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",systemPrompt:"",description:"<strong>Strong overall fast instruction following model</strong><br><ul><li>Fast responses</li><li>Trained by Mistral AI<li>Uncensored</li><li>Licensed for commercial use</li></ul>",url:"https://gpt4all.io/models/gguf/mistral-7b-instruct-v0.1.Q4_0.gguf",promptTemplate:"[INST] %1 [/INST]",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set system_message = messages[0]['content'] %}
    {%- set loop_start = 1 %}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if (message['role'] == 'user') != ((loop.index0 - loop_start) % 2 == 0) %}
            {{- raise_exception('After the optional system message, conversation roles must alternate user/assistant/user/assistant/...') }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {%- if loop.index0 == loop_start and loop_start == 1 %}
                {{- ' [INST] ' + system_message + '\\n\\n' + message['content'] + ' [/INST]' }}
            {%- else %}
                {{- ' [INST] ' + message['content'] + ' [/INST]' }}
            {%- endif %}
        {%- elif message['role'] == 'assistant' %}
            {{- ' ' + message['content'] + eos_token }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}`},{order:"f",md5sum:"8a9c75bcd8a66b7693f158ec96924eeb",name:"Llama 3.1 8B Instruct 128k",filename:"Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",filesize:"4661212096",requires:"3.1.1",ramrequired:"8",parameters:"8 billion",quant:"q4_0",type:"LLaMA3",description:'<ul><li><strong>For advanced users only. Not recommended for use on Windows or Linux without selecting CUDA due to speed issues.</strong></li><li>Fast responses</li><li>Chat based model</li><li>Large context size of 128k</li><li>Accepts agentic system prompts in Llama 3.1 format</li><li>Trained by Meta</li><li>License: <a href="https://llama.meta.com/llama3_1/license/">Meta Llama 3.1 Community License</a></li></ul>',url:"https://huggingface.co/GPT4All-Community/Meta-Llama-3.1-8B-Instruct-128k/resolve/main/Meta-Llama-3.1-8B-Instruct-128k-Q4_0.gguf",promptTemplate:`<|start_header_id|>user<|end_header_id|>

%1<|eot_id|><|start_header_id|>assistant<|end_header_id|>

%2`,systemPrompt:`<|start_header_id|>system<|end_header_id|>
Cutting Knowledge Date: December 2023

You are a helpful assistant.<|eot_id|>`,chatTemplate:`{%- set loop_messages = messages %}
{%- for message in loop_messages %}
    {%- set content = '<|start_header_id|>' + message['role'] + '<|end_header_id|>\\n\\n'+ message['content'] | trim + '<|eot_id|>' %}
    {%- if loop.index0 == 0 %}
        {%- set content = bos_token + content %}
    {%- endif %}
    {{- content }}
{%- endfor %}
{{- '<|start_header_id|>assistant<|end_header_id|>\\n\\n' }}`},{order:"g",md5sum:"f692417a22405d80573ac10cb0cd6c6a",name:"Mistral OpenOrca",filename:"mistral-7b-openorca.gguf2.Q4_0.gguf",filesize:"4108928128",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:'<strong>Strong overall fast chat model</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by Mistral AI<li>Finetuned on OpenOrca dataset curated via <a href="https://atlas.nomic.ai/">Nomic Atlas</a><li>Licensed for commercial use</ul>',url:"https://gpt4all.io/models/gguf/mistral-7b-openorca.gguf2.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
You are MistralOrca, a large language model trained by Alignment Lab AI.
<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"h",md5sum:"c4c78adf744d6a20f05c8751e3961b84",name:"GPT4All Falcon",filename:"gpt4all-falcon-newbpe-q4_0.gguf",filesize:"4210994112",requires:"2.6.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Falcon",systemPrompt:"",description:"<strong>Very fast model with good quality</strong><br><ul><li>Fastest responses</li><li>Instruction based</li><li>Trained by TII<li>Finetuned by Nomic AI<li>Licensed for commercial use</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-falcon-newbpe-q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User: ' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Assistant: ' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Assistant:' }}
{%- endif %}`},{order:"i",md5sum:"00c8593ba57f5240f59662367b3ed4a5",name:"Orca 2 (Medium)",filename:"orca-2-7b.Q4_0.gguf",filesize:"3825824192",requires:"2.5.2",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-7b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"j",md5sum:"3c0d63c4689b9af7baa82469a6f51a19",name:"Orca 2 (Full)",filename:"orca-2-13b.Q4_0.gguf",filesize:"7365856064",requires:"2.5.2",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<ul><li>Instruction based<li>Trained by Microsoft<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/orca-2-13b.Q4_0.gguf",chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"k",md5sum:"5aff90007499bce5c64b1c0760c0b186",name:"Wizard v1.2",filename:"wizardlm-13b-v1.2.Q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Strong overall larger model</strong><br><ul><li>Instruction based<li>Gives very long responses<li>Finetuned with only 1k of high-quality data<li>Trained by Microsoft and Peking University<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/wizardlm-13b-v1.2.Q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + ' ' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in loop_messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
        {%- if (loop.index0 - loop_start) % 2 == 0 %}
            {{- ' ' }}
        {%- else %}
            {{- eos_token }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"A chat between a curious user and an artificial intelligence assistant. The assistant gives helpful, detailed, and polite answers to the user's questions."},{order:"l",md5sum:"31b47b4e8c1816b62684ac3ca373f9e1",name:"Ghost 7B v0.9.1",filename:"ghost-7b-v0.9.1-Q4_0.gguf",filesize:"4108916960",requires:"2.7.1",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Ghost 7B v0.9.1</strong> fast, powerful and smooth for Vietnamese and English languages.",url:"https://huggingface.co/lamhieu/ghost-7b-v0.9.1-gguf/resolve/main/ghost-7b-v0.9.1-Q4_0.gguf",promptTemplate:`<|user|>
%1</s>
<|assistant|>
%2</s>
`,systemPrompt:`<|system|>
You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior.
</s>`,chatTemplate:`{%- for message in messages %}
    {%- if message['role'] == 'user' %}
        {{- '<|user|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'system' %}
        {{- '<|system|>\\n' + message['content'] + eos_token }}
    {%- elif message['role'] == 'assistant' %}
        {{- '<|assistant|>\\n'  + message['content'] + eos_token }}
    {%- endif %}
    {%- if loop.last and add_generation_prompt %}
        {{- '<|assistant|>' }}
    {%- endif %}
{%- endfor %}`,systemMessage:"You are Ghost created by Lam Hieu. You are a helpful and knowledgeable assistant. You like to help and always give honest information, in its original language. In communication, you are always respectful, equal and promote positive behavior."},{order:"m",md5sum:"3d12810391d04d1153b692626c0c6e16",name:"Hermes",filename:"nous-hermes-llama2-13b.Q4_0.gguf",filesize:"7366062080",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA2",systemPrompt:"",description:"<strong>Extremely good model</strong><br><ul><li>Instruction based<li>Gives long responses<li>Curated with 300,000 uncensored instructions<li>Trained by Nous Research<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/nous-hermes-llama2-13b.Q4_0.gguf",promptTemplate:`### Instruction:
%1

### Response:
`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Instruction:\\n' }}
{%- endif %}`},{order:"n",md5sum:"40388eb2f8d16bb5d08c96fdfaac6b2c",name:"Snoozy",filename:"gpt4all-13b-snoozy-q4_0.gguf",filesize:"7365834624",requires:"2.5.0",ramrequired:"16",parameters:"13 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",description:"<strong>Very good overall model</strong><br><ul><li>Instruction based<li>Based on the same dataset as Groovy<li>Slower than Groovy, with higher quality responses<li>Trained by Nomic AI<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/gpt4all-13b-snoozy-q4_0.gguf",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### Instruction:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`,systemMessage:"Below is an instruction that describes a task. Write a response that appropriately completes the request."},{order:"o",md5sum:"15dcb4d7ea6de322756449c11a0b7545",name:"MPT Chat",filename:"mpt-7b-chat-newbpe-q4_0.gguf",filesize:"3912373472",requires:"2.7.1",removedIn:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat-newbpe-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"p",md5sum:"ab5d8e8a2f79365ea803c1f1d0aa749d",name:"MPT Chat",filename:"mpt-7b-chat.gguf4.Q4_0.gguf",filesize:"3796178112",requires:"2.7.3",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"MPT",description:"<strong>Good model with novel architecture</strong><br><ul><li>Fast responses<li>Chat based<li>Trained by Mosaic ML<li>Cannot be used commercially</ul>",url:"https://gpt4all.io/models/gguf/mpt-7b-chat.gguf4.Q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>
`,systemPrompt:`<|im_start|>system
- You are a helpful assistant chatbot trained by MosaicML.
- You answer questions.
- You are excited to be able to help the user, but will refuse to do anything that could be considered harmful to the user.
- You are more than just an information source, you are also able to write poetry, short stories, and make jokes.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`},{order:"q",md5sum:"f8347badde9bfc2efbe89124d78ddaf5",name:"Phi-3 Mini Instruct",filename:"Phi-3-mini-4k-instruct.Q4_0.gguf",filesize:"2176181568",requires:"2.7.1",ramrequired:"4",parameters:"4 billion",quant:"q4_0",type:"Phi-3",description:'<ul><li>Very fast responses</li><li>Chat based model</li><li>Accepts system prompts in Phi-3 format</li><li>Trained by Microsoft</li><li>License: <a href="https://opensource.org/license/mit">MIT</a></li><li>No restrictions on commercial use</li></ul>',url:"https://gpt4all.io/models/gguf/Phi-3-mini-4k-instruct.Q4_0.gguf",promptTemplate:`<|user|>
%1<|end|>
<|assistant|>
%2<|end|>
`,systemPrompt:"",chatTemplate:`{{- bos_token }}
{%- for message in messages %}
    {{- '<|' + message['role'] + '|>\\n' + message['content'] + '<|end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|assistant|>\\n' }}
{%- else %}
    {{- eos_token }}
{%- endif %}`},{order:"r",md5sum:"0e769317b90ac30d6e09486d61fefa26",name:"Mini Orca (Small)",filename:"orca-mini-3b-gguf2-q4_0.gguf",filesize:"1979946720",requires:"2.5.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"OpenLLaMa",description:"<strong>Small version of new model with novel dataset</strong><br><ul><li>Very fast responses</li><li>Instruction based</li><li>Explain tuned datasets</li><li>Orca Research Paper dataset construction approaches</li><li>Cannot be used commercially</li></ul>",url:"https://gpt4all.io/models/gguf/orca-mini-3b-gguf2-q4_0.gguf",promptTemplate:`### User:
%1

### Response:
`,systemPrompt:`### System:
You are an AI assistant that follows instruction extremely well. Help as much as you can.

`,chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- '### System:\\n' + messages[0]['content'] + '\\n\\n' }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if message['role'] == 'user' %}
            {{- '### User:\\n' + message['content'] + '\\n\\n' }}
        {%- elif message['role'] == 'assistant' %}
            {{- '### Response:\\n' + message['content'] + '\\n\\n' }}
        {%- else %}
            {{- raise_exception('Only user and assistant roles are supported, with the exception of an initial optional system message!') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '### Response:\\n' }}
{%- endif %}`},{order:"s",md5sum:"c232f17e09bca4b7ee0b5b1f4107c01e",disableGUI:"true",name:"Replit",filename:"replit-code-v1_5-3b-newbpe-q4_0.gguf",filesize:"1953055104",requires:"2.6.0",ramrequired:"4",parameters:"3 billion",quant:"q4_0",type:"Replit",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>Licensed for commercial use<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/replit-code-v1_5-3b-newbpe-q4_0.gguf",chatTemplate:null},{order:"t",md5sum:"70841751ccd95526d3dcfa829e11cd4c",disableGUI:"true",name:"Starcoder",filename:"starcoder-newbpe-q4_0.gguf",filesize:"8987411904",requires:"2.6.0",ramrequired:"4",parameters:"7 billion",quant:"q4_0",type:"Starcoder",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on subset of the Stack</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</ul>",url:"https://gpt4all.io/models/gguf/starcoder-newbpe-q4_0.gguf",chatTemplate:null},{order:"u",md5sum:"e973dd26f0ffa6e46783feaea8f08c83",disableGUI:"true",name:"Rift coder",filename:"rift-coder-v0-7b-q4_0.gguf",filesize:"3825903776",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"LLaMA",systemPrompt:"",promptTemplate:"%1",description:"<strong>Trained on collection of Python and TypeScript</strong><br><ul><li>Code completion based<li>WARNING: Not available for chat GUI</li>",url:"https://gpt4all.io/models/gguf/rift-coder-v0-7b-q4_0.gguf",chatTemplate:null},{order:"v",md5sum:"e479e6f38b59afc51a470d1953a6bfc7",disableGUI:"true",name:"SBert",filename:"all-MiniLM-L6-v2-f16.gguf",filesize:"45887744",requires:"2.5.0",removedIn:"2.7.4",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2-f16.gguf",chatTemplate:null},{order:"w",md5sum:"dd90e2cb7f8e9316ac3796cece9883b5",name:"SBert",filename:"all-MiniLM-L6-v2.gguf2.f16.gguf",filesize:"45949216",requires:"2.7.4",removedIn:"3.0.0",ramrequired:"1",parameters:"40 million",quant:"f16",type:"Bert",embeddingModel:!0,description:"<strong>LocalDocs text embeddings model</strong><br><ul><li>For use with LocalDocs feature<li>Used for retrieval augmented generation (RAG)",url:"https://gpt4all.io/models/gguf/all-MiniLM-L6-v2.gguf2.f16.gguf",chatTemplate:null},{order:"x",md5sum:"919de4dd6f25351bcb0223790db1932d",name:"EM German Mistral",filename:"em_german_mistral_v01.Q4_0.gguf",filesize:"4108916352",requires:"2.5.0",ramrequired:"8",parameters:"7 billion",quant:"q4_0",type:"Mistral",description:"<strong>Mistral-based model for German-language applications</strong><br><ul><li>Fast responses</li><li>Chat based model</li><li>Trained by ellamind<li>Finetuned on German instruction and chat data</a><li>Licensed for commercial use</ul>",url:"https://huggingface.co/TheBloke/em_german_mistral_v01-GGUF/resolve/main/em_german_mistral_v01.Q4_0.gguf",promptTemplate:"USER: %1 ASSISTANT: ",systemPrompt:"Du bist ein hilfreicher Assistent. ",chatTemplate:`{%- if messages[0]['role'] == 'system' %}
    {%- set loop_start = 1 %}
    {{- messages[0]['content'] }}
{%- else %}
    {%- set loop_start = 0 %}
{%- endif %}
{%- for message in messages %}
    {%- if loop.index0 >= loop_start %}
        {%- if not loop.first %}
            {{- ' ' }}
        {%- endif %}
        {%- if message['role'] == 'user' %}
            {{- 'USER: ' + message['content'] }}
        {%- elif message['role'] == 'assistant' %}
            {{- 'ASSISTANT: ' + message['content'] }}
        {%- else %}
            {{- raise_exception('After the optional system message, conversation roles must be either user or assistant.') }}
        {%- endif %}
    {%- endif %}
{%- endfor %}
{%- if add_generation_prompt %}
    {%- if messages %}
        {{- ' ' }}
    {%- endif %}
    {{- 'ASSISTANT:' }}
{%- endif %}`,systemMessage:"Du bist ein hilfreicher Assistent."},{order:"y",md5sum:"60ea031126f82db8ddbbfecc668315d2",disableGUI:"true",name:"Nomic Embed Text v1",filename:"nomic-embed-text-v1.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.f16.gguf",chatTemplate:null},{order:"z",md5sum:"a5401e7f7e46ed9fcaed5b60a281d547",disableGUI:"true",name:"Nomic Embed Text v1.5",filename:"nomic-embed-text-v1.5.f16.gguf",filesize:"274290560",requires:"2.7.4",ramrequired:"1",parameters:"137 million",quant:"f16",type:"Bert",embeddingModel:!0,systemPrompt:"",description:"nomic-embed-text-v1.5",url:"https://gpt4all.io/models/gguf/nomic-embed-text-v1.5.f16.gguf",chatTemplate:null},{order:"zzz",md5sum:"a8c5a783105f87a481543d4ed7d7586d",name:"Qwen2-1.5B-Instruct",filename:"qwen2-1_5b-instruct-q4_0.gguf",filesize:"937532800",requires:"3.0",ramrequired:"3",parameters:"1.5 billion",quant:"q4_0",type:"qwen2",description:'<ul><li>Very fast responses</li><li>Instruction based model</li><li>Usage of LocalDocs (RAG): Highly recommended</li><li>Supports context length of up to 32768</li><li>Trained and finetuned by Qwen (Alibaba Cloud)</li><li>License: <a href="https://www.apache.org/licenses/LICENSE-2.0.html/">Apache 2.0</a></li></ul>',url:"https://huggingface.co/Qwen/Qwen2-1.5B-Instruct-GGUF/resolve/main/qwen2-1_5b-instruct-q4_0.gguf",promptTemplate:`<|im_start|>user
%1<|im_end|>
<|im_start|>assistant
%2<|im_end|>`,systemPrompt:`<|im_start|>system
Below is an instruction that describes a task. Write a response that appropriately completes the request.<|im_end|>
`,chatTemplate:`{%- for message in messages %}
    {%- if loop.first and messages[0]['role'] != 'system' %}
        {{- '<|im_start|>system\\nYou are a helpful assistant.<|im_end|>\\n' }}
    {%- endif %}
    {{- '<|im_start|>' + message['role'] + '\\n' + message['content'] + '<|im_end|>\\n' }}
{%- endfor %}
{%- if add_generation_prompt %}
    {{- '<|im_start|>assistant\\n' }}
{%- endif %}`}],Wb={width:216,height:112,borderRadius:9999,border:"3px solid #dc2626",background:"#fff1f2",color:"#991b1b",fontWeight:700,textTransform:"uppercase",letterSpacing:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 6px 12px rgba(220, 38, 38, 0.18)"},qb={fontSize:18,fontWeight:700,letterSpacing:1.2,textTransform:"uppercase",textAlign:"center",lineHeight:1.2,padding:"0 20px",pointerEvents:"none"},kh={width:14,height:14,borderRadius:"50%",background:"#dc2626",border:"2px solid #fff1f2"},Zs={position:"absolute",top:"50%",display:"flex",alignItems:"center",pointerEvents:"none"},Eh={fontSize:12,fontWeight:600,letterSpacing:.5,color:"#be123c",textTransform:"none",padding:"2px 6px",borderRadius:9999,background:"rgba(254, 226, 226, 0.85)"},Xs={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#9f1239",marginBottom:8},qn={fontSize:11,fontWeight:600,color:"#b91c1c",textTransform:"uppercase",letterSpacing:.4},Yn={borderRadius:8,border:"1px solid rgba(244, 63, 94, 0.35)",background:"#ffffff",color:"#7f1d1d",fontWeight:500,fontSize:13,padding:"8px 10px",boxShadow:"0 1px 2px rgba(244, 63, 94, 0.12)",outline:"none"},Gs={fontSize:11,color:"#be123c"},Zn={display:"flex",flexDirection:"column",gap:4},Yb={display:"flex",alignItems:"center",gap:8,fontSize:12,fontWeight:500,color:"#7f1d1d",cursor:"pointer"},Zb={width:16,height:16,accentColor:"#dc2626",cursor:"pointer"},bh={display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))"},Qs={display:"flex",flexDirection:"column",gap:4,padding:"8px 12px",borderRadius:10,background:"rgba(254, 226, 226, 0.6)"},Ks={fontSize:11,fontWeight:600,color:"#991b1b",textTransform:"uppercase",letterSpacing:.5},Js={fontSize:13,fontWeight:500,color:"#7f1d1d"},Xb={position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},Gb=360,Qb=380,or=.5,Jr=Ii,yu=Ro,ei=256,vu=16,Ch=(e,t)=>`${(e+1)/(t+1)*100}%`,ut=(e,t,n)=>Math.min(n,Math.max(t,e)),Th=(e,t,n)=>{const r=e+(t-e)/2-n/2,i=Math.min(t-n,e),o=Math.max(t-n,e);return ut(r,i,o)},Kb=`[${Pa}]`,Jb=["llama.cpp","gpt4all","ollama"],gt={context:4096,backend:"llama.cpp",temperature:.7,topP:.95,topK:40,minP:.1},eC={qwen2:{context:32768,backend:"llama.cpp",temperature:.4,topP:.9,topK:40,minP:.05},llama3:{context:8192,backend:"llama.cpp",temperature:.7,topP:.95,topK:45,minP:.1},deepseek:{context:8192,backend:"llama.cpp",temperature:.3,topP:.92,topK:40,minP:.06},mistral:{context:8192,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},falcon:{context:4096,backend:"gpt4all",temperature:.6,topP:.9,topK:40,minP:.08},llama2:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},llama:{context:4096,backend:"llama.cpp",temperature:.7,topP:.94,topK:40,minP:.1},mpt:{context:8192,backend:"gpt4all",temperature:.65,topP:.9,topK:38,minP:.08},"phi-3":{context:8192,backend:"ollama",temperature:.55,topP:.9,topK:32,minP:.06},openllama:{context:4096,backend:"llama.cpp",temperature:.65,topP:.92,topK:40,minP:.08},replit:{context:4096,backend:"gpt4all",temperature:.75,topP:.9,topK:40,minP:.1},starcoder:{context:8192,backend:"ollama",temperature:.4,topP:.95,topK:60,minP:.05},bert:{context:512,backend:"gpt4all",temperature:.5,topP:.9,topK:20,minP:.05}},tC=Ub,el=tC.map((e,t)=>{const n=e.filename??e.order??`model-${t}`,r=(n??`model-${t}`).replace(/\s+/g,"-").toLowerCase(),i=r.startsWith("model:")?r:`model:${r}`,o=e.name??n??i,s=(e.type??"").toLowerCase(),a={...eC[s]??gt};return{id:i,label:o,model:e,profile:a}}),nC=e=>({top:e.top,left:e.left,width:e.width,height:e.height}),tl=(e,t)=>({left:e.left-t.left,top:e.top-t.top,right:e.right-t.left,bottom:e.bottom-t.top}),_o=(e,t)=>!e||!t?!1:Math.abs(e.left-t.left)<or&&Math.abs(e.top-t.top)<or&&Math.abs(e.width-t.width)<or&&Math.abs(e.height-t.height)<or,rC=(e,t)=>!e||!t?!1:Math.abs(e.left-t.left)<or&&Math.abs(e.top-t.top)<or&&Math.abs(e.width-t.width)<or&&Math.abs(e.height-t.height)<or,nl=e=>({position:{x:e.left,y:e.top},size:{width:e.width,height:e.height}}),vi=e=>({left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height}),iC=(e,t)=>_o(e?vi(e):null,t?vi(t):null),Nh=(e,t)=>{const n=Math.min(Gb,Math.max(t.width-de*2,Y0)),r=Math.min(Qb,Math.max(t.height-de*2,Z0)),i=e.left-t.left,o=e.right-t.left,s=e.top-t.top,l=e.bottom-t.top,a=o+de+n<=t.width-de,u=i-de-n>=de;let c;a?c=o+de:u?c=i-n-de:c=Th(i,o,n);const d=s+r<=t.height-de,f=l-r>=de;let m;return d?m=Math.max(s,de):f?m=l-r:m=Th(s,l,r),wo({left:c,top:m,width:n,height:r},t)};function oC({data:e}){const t=e.in??[],n=e.out??[],r=S.useMemo(()=>lf(e.params),[e.params]),i=r==="reversed"?K.Right:K.Left,o=r==="reversed"?K.Left:K.Right,s=S.useMemo(()=>r==="reversed"?{...Zs,right:0,transform:"translate(100%, -50%)"}:{...Zs,left:0,transform:"translate(-100%, -50%)"},[r]),l=S.useMemo(()=>r==="reversed"?{...Zs,left:0,transform:"translate(-100%, -50%)"}:{...Zs,right:0,transform:"translate(100%, -50%)"},[r]),a=S.useRef(null),[u,c]=S.useState(null),[d,f]=S.useState(null),[m,x]=S.useState(!1),[v,T]=S.useState(!1),[p,h]=S.useState(null),[g,w]=S.useState(!1),N=S.useRef(null),{updateNodeParams:A,copyNode:E,cutNode:M,deleteNode:D,pasteClipboard:$,clipboard:F}=ps(H=>({updateNodeParams:H.updateNodeParams,copyNode:H.copyNode,cutNode:H.cutNode,deleteNode:H.deleteNode,pasteClipboard:H.pasteClipboard,clipboard:H.clipboard})),B=e.params??{},V=(F==null?void 0:F.kind)==="node",_=t.length>0||n.length>0,P=S.useCallback(H=>{A&&A(e.id,Z=>({...Z??{},...H}))},[e.id,A]),I=S.useMemo(()=>{const H=[typeof B.modelId=="string"?B.modelId:"",typeof B.model_id=="string"?B.model_id:""];for(const Z of H){const ne=Z.trim();if(ne)return ne}return""},[B.modelId,B.model_id]),L=S.useMemo(()=>I?el.find(Z=>Z.id===I)??null:null,[I]),R=I,C=(L==null?void 0:L.profile.context)??gt.context,b=S.useMemo(()=>{const H={...B};I&&(H.modelId=I,H.model_id=I);const Z=W0(H,el);if(Z)return Z;if(I){const ne=I.replace(/^model:/i,"").trim();if(ne)return ne}return"LLM"},[B,I]);S.useEffect(()=>{if(typeof B.modelId=="string"||typeof B.model_id=="string"||!L)return;const H=L.profile,Z=Math.min(H.context,1024);P({modelId:L.id,model_id:L.id,adapter:H.backend,maxInputTokens:H.context,maxResponseTokens:Z,maxTokens:Z,temperature:H.temperature,topP:H.topP,topK:H.topK,minP:H.minP})},[B.modelId,B.model_id,L,P]);const z=typeof B.adapter=="string"?B.adapter:(L==null?void 0:L.profile.backend)??gt.backend,k=typeof B.includeRawInput=="boolean"?B.includeRawInput:!1,O=typeof B.maxInputTokens=="number"?B.maxInputTokens:C,j=ut(Math.round(O),ei,Math.max(ei,C)),W=typeof B.maxResponseTokens=="number"?B.maxResponseTokens:typeof B.maxTokens=="number"?B.maxTokens:Math.min(C,1024),X=ut(Math.round(W),vu,j),te=typeof B.temperature=="number"?B.temperature:(L==null?void 0:L.profile.temperature)??gt.temperature,ie=typeof B.topP=="number"?B.topP:(L==null?void 0:L.profile.topP)??gt.topP,ae=typeof B.topK=="number"?B.topK:(L==null?void 0:L.profile.topK)??gt.topK,ce=typeof B.minP=="number"?B.minP:(L==null?void 0:L.profile.minP)??gt.minP,Se=S.useCallback(H=>{c(Z=>rC(Z,H)?Z:H)},[]),xe=S.useCallback(()=>{const H=a.current;if(!H)return null;const Z=H.closest(".react-flow");return Z?{canvasMetrics:nC(Z.getBoundingClientRect()),anchorBounds:H.getBoundingClientRect()}:null},[]),Le=S.useCallback(H=>{const Z=H.target.value.trim();if(!Z){const ve=Math.min(gt.context,1024);P({modelId:"",model_id:"",adapter:gt.backend,maxInputTokens:gt.context,maxResponseTokens:ve,maxTokens:ve,temperature:gt.temperature,topP:gt.topP,topK:gt.topK,minP:gt.minP});return}const ne=el.find(ve=>ve.id===Z);if(!ne){P({modelId:Z,model_id:Z});return}const pe=Math.min(ne.profile.context,1024);P({modelId:ne.id,model_id:ne.id,adapter:ne.profile.backend,maxInputTokens:ne.profile.context,maxResponseTokens:pe,maxTokens:pe,temperature:ne.profile.temperature,topP:ne.profile.topP,topK:ne.profile.topK,minP:ne.profile.minP})},[P]),Pe=S.useCallback(H=>{P({adapter:H.target.value})},[P]),we=S.useCallback(H=>{const Z=ut(H,ei,Math.max(ei,C)),ne=Math.min(X,Z);P({maxInputTokens:Z,maxResponseTokens:ne,maxTokens:ne})},[C,X,P]),Oe=S.useCallback(H=>{const Z=ut(H,vu,j);P({maxResponseTokens:Z,maxTokens:Z})},[j,P]),ke=S.useCallback(H=>{const Z=Number(H.target.value);Number.isNaN(Z)||P({temperature:ut(Z,0,2)})},[P]),re=S.useCallback(H=>{const Z=Number(H.target.value);Number.isNaN(Z)||P({topP:ut(Z,0,1)})},[P]),st=S.useCallback(H=>{const Z=Number(H.target.value);Number.isNaN(Z)||P({topK:ut(Math.round(Z),0,320)})},[P]),hn=S.useCallback(H=>{const Z=Number(H.target.value);Number.isNaN(Z)||P({minP:ut(Z,0,1)})},[P]),en=S.useCallback(()=>{const H=xe();if(!H)return;const{canvasMetrics:Z,anchorBounds:ne}=H;Se(Z),N.current=tl(ne,Z),f(pe=>{const ve=pe?vi(pe):null,De=ve??Nh(ne,Z),je=wo(De,Z);return ve&&_o(ve,je)?pe:nl(je)}),x(!0),T(!1),h(null),w(!1)},[xe,Se]),zn=S.useCallback(H=>{H.preventDefault(),H.stopPropagation();const Z=xe();if(!Z)return;const{canvasMetrics:ne,anchorBounds:pe}=Z;Se(ne),N.current=tl(pe,ne),f(Fn=>{const Bn=Fn?vi(Fn):null,Ki=Bn??Nh(pe,ne),vs=wo(Ki,ne);return Bn&&_o(Bn,vs)?Fn:nl(vs)}),x(!1),w(!1);const ve=Math.max(de,ne.width-Jr-de),De=Math.max(de,ne.height-yu-de);ut(H.clientX-ne.left,de,ve),ut(H.clientY-ne.top,de,De);const je=pe.left-ne.left,et=je+pe.width,lt=pe.top-ne.top,Ht=lt+pe.height/2,nn=ne.width-et-de,at=je-de,On=12,Yr=nn>=Jr+On,ms=at>=Jr+On;let jn;if(Yr&&(!ms||nn>=at))jn=et+On;else if(ms)jn=je-Jr-On;else{const Fn=et-Jr,Bn=je,Ki=je+(pe.width-Jr)/2;jn=ut(Ki,Math.min(Fn,Bn),Math.max(Fn,Bn))}jn=ut(jn,de,ve);const gs=lt+pe.height-yu,ys=lt,Ra=Ht-yu/2;let Qi=ut(Ra,Math.min(gs,ys),Math.max(gs,ys));Qi=ut(Qi,de,De),h({left:ne.left+jn,top:ne.top+Qi,nodeId:e.id})},[e.id,xe,Se]),mn=S.useCallback(()=>{en()},[en]),At=S.useCallback(H=>{switch(h(null),H){case"Copy":E(e.id);break;case"Cut":M(e.id);break;case"Delete":D(e.id);break;case"Paste":V&&$("node");break;case"Reverse Inputs":A==null||A(e.id,Z=>G0(Z));break}},[V,E,M,e.id,D,$,A]),Ln=S.useMemo(()=>of.map(H=>({label:H,disabled:H==="Paste"?!V:H==="Reverse Inputs"?!_:!1,onSelect:()=>At(H)})),[V,_,At]),gn=S.useCallback(H=>{if(H.button!==0)return;const Z=H.target;Z!=null&&Z.closest(".react-flow__handle")||(H.stopPropagation(),en())},[en]),yn=S.useCallback(()=>{x(!1),T(!0),w(!1)},[]),Dn=S.useCallback(()=>{x(!0),T(!1),w(H=>!H)},[]),$n=S.useCallback(H=>{f(Z=>iC(Z,H)?Z:H)},[]);S.useEffect(()=>{if(!(m||v))return;const H=()=>{const ve=xe();if(!ve)return;const{canvasMetrics:De,anchorBounds:je}=ve;Se(De),N.current=tl(je,De),f(et=>{if(!et)return et;const lt=vi(et),Ht=wo(lt,De);return _o(lt,Ht)?et:nl(Ht)})};H(),window.addEventListener("resize",H);let Z=null;const ne=a.current,pe=ne==null?void 0:ne.closest(".react-flow");return pe&&typeof ResizeObserver<"u"&&(Z=new ResizeObserver(H),Z.observe(pe)),()=>{window.removeEventListener("resize",H),Z==null||Z.disconnect()}},[xe,v,m,Se]),S.useEffect(()=>{if(!m)return;const H=a.current;if(!H)return;const Z=()=>{const pe=xe();if(!pe)return;const{canvasMetrics:ve,anchorBounds:De}=pe;Se(ve);const je=tl(De,ve),et=N.current;if(N.current=je,!et)return;const lt=je.left-et.left,Ht=je.top-et.top;Math.abs(lt)<.2&&Math.abs(Ht)<.2||f(nn=>{if(!nn)return nn;const at=vi(nn),On={...at,left:at.left+lt,top:at.top+Ht},Yr=wo(On,ve);return _o(at,Yr)?nn:nl(Yr)})},ne=new MutationObserver(Z);return ne.observe(H,{attributes:!0,attributeFilter:["style","class"]}),()=>ne.disconnect()},[xe,m,Se]),S.useEffect(()=>{if(!p)return;const H=ne=>{var ve;const pe=ne.target;(ve=pe==null?void 0:pe.closest)!=null&&ve.call(pe,Kb)||h(null)},Z=ne=>{ne.key==="Escape"&&h(null)};return window.addEventListener("mousedown",H),window.addEventListener("contextmenu",H),window.addEventListener("keydown",Z),()=>{window.removeEventListener("mousedown",H),window.removeEventListener("contextmenu",H),window.removeEventListener("keydown",Z)}},[p]);const tn=v&&!!d,Ue=S.useMemo(()=>({position:"absolute",bottom:6,right:6,width:28,height:28,borderRadius:"50%",border:"2px solid #dc2626",background:"#fee2e2",color:"#b91c1c",fontSize:14,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 14px rgba(220, 38, 38, 0.28)",cursor:"pointer",transition:"opacity 160ms ease, transform 160ms ease",opacity:tn?1:0,transform:tn?"scale(1)":"scale(0.85)",pointerEvents:tn?"auto":"none"}),[tn]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{ref:a,style:Wb,"data-voide-io-orientation":r,onContextMenu:zn,onClick:gn,children:[t.map((H,Z)=>y.jsx(xr,{type:"target",position:i,id:`${e.id}:${H.port}`,style:{...kh,top:Ch(Z,t.length)}},H.port)),y.jsx("span",{style:qb,children:b}),t.length>0?y.jsx("div",{style:s,"aria-hidden":"true",children:y.jsx("span",{style:Eh,children:"In"})}):null,n.map((H,Z)=>y.jsx(xr,{type:"source",position:o,id:`${e.id}:${H.port}`,style:{...kh,top:Ch(Z,n.length)}},H.port)),n.length>0?y.jsx("div",{style:l,"aria-hidden":"true",children:y.jsx("span",{style:Eh,children:"Out"})}):null,y.jsx("button",{type:"button",onClick:mn,onContextMenu:H=>{H.preventDefault(),H.stopPropagation(),mn()},style:Ue,"aria-label":"Open LLM options",children:"⚙"})]}),p?y.jsx(sf,{position:{left:p.left,top:p.top},items:Ln}):null,u&&d&&y.jsx(rf,{title:`${b} Options`,open:m,position:d.position,size:d.size,minimized:g,onRequestClose:yn,onToggleMinimize:Dn,onUpdate:$n,children:y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[y.jsx("span",{style:Xb,children:"Quick Actions"}),y.jsxs("div",{children:[y.jsx("div",{style:Xs,children:"Model Selection"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-model`,children:"LLM Model"}),y.jsxs("select",{id:`${e.id}-model`,value:R,onChange:Le,style:Yn,children:[y.jsx("option",{value:"",children:"Select a model"}),el.map(H=>y.jsx("option",{value:H.id,children:H.label},H.id))]})]}),y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-backend`,children:"Backend"}),y.jsx("select",{id:`${e.id}-backend`,value:z,onChange:Pe,style:Yn,children:Jb.map(H=>y.jsx("option",{value:H,children:H},H))}),y.jsxs("label",{style:Yb,htmlFor:`${e.id}-include-raw-input`,children:[y.jsx("input",{id:`${e.id}-include-raw-input`,type:"checkbox",checked:k,onChange:H=>P({includeRawInput:H.target.checked}),style:Zb}),"Forward input with response"]}),y.jsx("span",{style:Gs,children:"Runtime adapter used to communicate with this module."}),y.jsx("span",{style:Gs,children:"When enabled, downstream nodes receive the full prompt alongside the model output."})]})]})]}),y.jsxs("div",{children:[y.jsx("div",{style:Xs,children:"Token Limits"}),y.jsxs("div",{style:bh,children:[y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-input-tokens`,children:"Max Input Tokens"}),y.jsx("input",{id:`${e.id}-input-tokens`,type:"number",min:ei,max:Math.max(ei,C),step:128,value:j,onChange:H=>{const Z=Number(H.target.value);Number.isNaN(Z)||we(Z)},style:Yn}),y.jsxs("span",{style:Gs,children:["Up to ",C.toLocaleString()," tokens based on the model."]})]}),y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-response-tokens`,children:"Max Response Length"}),y.jsx("input",{id:`${e.id}-response-tokens`,type:"number",min:vu,max:j,step:32,value:X,onChange:H=>{const Z=Number(H.target.value);Number.isNaN(Z)||Oe(Z)},style:Yn}),y.jsx("span",{style:Gs,children:"Cannot exceed max input tokens for this module."})]})]})]}),y.jsxs("div",{children:[y.jsx("div",{style:Xs,children:"Sampling Controls"}),y.jsxs("div",{style:bh,children:[y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-temperature`,children:"Temperature"}),y.jsx("input",{id:`${e.id}-temperature`,type:"number",min:0,max:2,step:.05,value:Number(te.toFixed(2)),onChange:ke,style:Yn})]}),y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-top-p`,children:"Top P"}),y.jsx("input",{id:`${e.id}-top-p`,type:"number",min:0,max:1,step:.01,value:Number(ie.toFixed(2)),onChange:re,style:Yn})]}),y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-top-k`,children:"Top K"}),y.jsx("input",{id:`${e.id}-top-k`,type:"number",min:0,max:320,step:1,value:Math.round(ae),onChange:st,style:Yn})]}),y.jsxs("div",{style:Zn,children:[y.jsx("label",{style:qn,htmlFor:`${e.id}-min-p`,children:"Min P"}),y.jsx("input",{id:`${e.id}-min-p`,type:"number",min:0,max:1,step:.01,value:Number(ce.toFixed(2)),onChange:hn,style:Yn})]})]})]}),y.jsxs("div",{children:[y.jsx("div",{style:Xs,children:"Model Summary"}),L?y.jsxs("div",{style:{display:"grid",gap:10},children:[y.jsxs("div",{style:Qs,children:[y.jsx("span",{style:Ks,children:"Model"}),y.jsx("span",{style:Js,children:L.label})]}),L.model.parameters?y.jsxs("div",{style:Qs,children:[y.jsx("span",{style:Ks,children:"Parameters"}),y.jsx("span",{style:Js,children:L.model.parameters})]}):null,L.model.ramrequired?y.jsxs("div",{style:Qs,children:[y.jsx("span",{style:Ks,children:"Suggested RAM"}),y.jsxs("span",{style:Js,children:[L.model.ramrequired," GB"]})]}):null]}):y.jsxs("div",{style:Qs,children:[y.jsx("span",{style:Ks,children:"No model selected"}),y.jsx("span",{style:Js,children:"Choose a model to configure backend and sampling parameters."})]})]})]})})]})}const sC="rgba(15, 23, 42, 0.96)",lC=.88,Q0=8,zc=20,K0=24,J0={position:"absolute",display:"flex",flexDirection:"column",background:sC,borderRadius:20,border:"1px solid rgba(148, 163, 184, 0.28)",boxShadow:"0 32px 80px rgba(15, 23, 42, 0.6)",overflow:"hidden",color:"#f8fafc",zIndex:40},xu={...J0,position:"relative",margin:"0 auto",width:"min(720px, 100%)",height:"100%"},aC={flex:1,overflowY:"auto",padding:"24px 24px 16px",display:"flex",flexDirection:"column",gap:16,background:"linear-gradient(180deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.92))"},uC={padding:"16px 20px 20px",background:"rgba(15, 23, 42, 0.94)",borderTop:"1px solid rgba(148, 163, 184, 0.18)",display:"flex",flexDirection:"column",gap:12},cC={display:"flex",gap:12,alignItems:"flex-end"},ev={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.75)",color:"#cbd5f5",fontSize:12,cursor:"pointer"},dC={...ev,background:"rgba(37, 99, 235, 0.15)",border:"1px solid rgba(96, 165, 250, 0.45)",cursor:"default"},fC={width:38,height:38,borderRadius:12,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease"},pC={flex:1,minHeight:36,maxHeight:Q0*zc+K0,borderRadius:16,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(15, 23, 42, 0.75)",color:"#f8fafc",padding:"12px 16px",fontSize:14,lineHeight:`${zc}px`,resize:"none",outline:"none",overflow:"hidden",boxShadow:"inset 0 1px 3px rgba(15, 23, 42, 0.4)"},hC={fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(148, 163, 184, 0.6)",marginBottom:6,fontWeight:500},tv={maxWidth:`${lC*100}%`,borderRadius:20,padding:"14px 18px",boxShadow:"0 18px 48px rgba(15, 23, 42, 0.42)",display:"flex",flexDirection:"column",gap:10,fontSize:14,lineHeight:1.6,whiteSpace:"pre-wrap",wordBreak:"break-word"},mC={...tv,alignSelf:"flex-end",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.88), rgba(96, 165, 250, 0.82))",color:"#f8fafc",borderTopRightRadius:8},nv={...tv,alignSelf:"flex-start",background:"rgba(15, 23, 42, 0.88)",border:"1px solid rgba(148, 163, 184, 0.22)",color:"#e2e8f0",borderTopLeftRadius:8},gC={...nv,background:"rgba(30, 41, 59, 0.85)",borderStyle:"dashed"},yC={position:"absolute",top:12,right:12,width:28,height:28,borderRadius:999,border:"1px solid rgba(148, 163, 184, 0.35)",background:"rgba(30, 41, 59, 0.85)",color:"#e2e8f0",fontSize:15,lineHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease, transform 0.2s ease",zIndex:2},vC={position:"absolute",top:16,left:20,padding:"6px 10px",borderRadius:999,background:"rgba(37, 99, 235, 0.18)",border:"1px solid rgba(96, 165, 250, 0.35)",color:"#bfdbfe",fontSize:11,letterSpacing:.35,textTransform:"uppercase"},xC={margin:"auto",textAlign:"center",color:"rgba(226, 232, 240, 0.65)",fontSize:13,lineHeight:1.6,padding:"24px 12px"};function Mh(e){if(!Number.isFinite(e)||e<=0)return"0 B";const t=["B","KB","MB","GB","TB"],n=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1),r=e/1024**n;return`${r>=100?r.toFixed(0):r.toFixed(r>=10?1:2)} ${t[n]}`}function wC(){return S.useMemo(()=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[])}function _C(){const[e,t]=S.useState(1);return S.useEffect(()=>{const n=window.setInterval(()=>{t(r=>r%3+1)},360);return()=>window.clearInterval(n)},[]),y.jsxs("span",{style:{display:"inline-flex",gap:4,alignItems:"center",color:"rgba(148, 163, 184, 0.9)"},children:[y.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.9)",opacity:e>=1?1:.3,transition:"opacity 0.2s ease"}}),y.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.75)",opacity:e>=2?1:.3,transition:"opacity 0.2s ease"}}),y.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"rgba(148, 163, 184, 0.6)",opacity:e>=3?1:.3,transition:"opacity 0.2s ease"}})]})}function rv({thread:e,flowAcceptsInput:t,mode:n,onRequestClose:r,onScrollStateChange:i,onDraftChange:o,onDraftAttachmentsAdd:s,onDraftAttachmentRemove:l}){const a=S.useRef(null),u=S.useRef(null),c=S.useRef(null),[d,f]=S.useState(!1),m=wC(),x=S.useCallback(()=>{const E=a.current;if(!E)return;E.style.height="auto";const M=Q0*zc+K0,D=Math.min(E.scrollHeight,M);E.style.height=`${D}px`,E.style.overflowY=E.scrollHeight>M?"auto":"hidden"},[]);S.useEffect(()=>{x()},[e.draft,x]),S.useEffect(()=>{const E=c.current;if(!E)return;const M=Math.max(0,E.scrollHeight-E.clientHeight);if(e.stickToBottom){E.scrollTop=M;return}E.scrollTop=Math.min(e.scrollTop,M)},[e.nodeId,e.scrollTop,e.stickToBottom,e.messages.length]),S.useEffect(()=>{const E=c.current;E&&e.stickToBottom&&(E.scrollTop=E.scrollHeight)},[e.messages.length,e.stickToBottom,e.streamingMessageId]);const v=S.useCallback(()=>{const E=c.current;if(!E)return;const{scrollTop:M,scrollHeight:D,clientHeight:$}=E,B=D-(M+$)<28;i(M,B)},[i]),T=S.useCallback(()=>{var E;(E=u.current)==null||E.click()},[]),p=S.useCallback(E=>{const M=Array.from(E.target.files??[]);M.length>0&&s(M),E.target.value=""},[s]),h=S.useCallback(E=>{E.preventDefault(),E.stopPropagation(),E.dataTransfer&&(E.dataTransfer.dropEffect="copy"),f(!0)},[]),g=S.useCallback(()=>{f(!1)},[]),w=S.useCallback(E=>{var D;E.preventDefault(),E.stopPropagation();const M=Array.from(((D=E.dataTransfer)==null?void 0:D.files)??[]);M.length>0&&s(M),f(!1)},[s]),N=S.useCallback(E=>{const M=m.format(new Date(E.createdAt)),D=E.role==="user"?mC:E.role==="assistant"?nv:gC,$=F=>{if(!F.url&&!F.file)return;const B=F.url??URL.createObjectURL(F.file);window.open(B,"_blank","noopener,noreferrer")};return y.jsxs("article",{style:{display:"flex",flexDirection:"column"},children:[y.jsx("span",{style:{...hC,textAlign:E.role==="user"?"right":"left",marginLeft:E.role==="user"?"auto":0,marginRight:E.role==="user"?0:"auto"},children:M}),y.jsxs("div",{style:D,children:[E.streaming?y.jsx(_C,{}):E.content,E.attachments.length>0?y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:4},children:E.attachments.map(F=>y.jsxs("button",{type:"button",style:{...ev,alignSelf:E.role==="user"?"flex-end":"flex-start"},onClick:()=>$(F),children:[y.jsx("span",{"aria-hidden":!0,children:"📎"}),y.jsx("span",{children:F.name}),y.jsx("span",{style:{opacity:.75},children:Mh(F.size)})]},F.id))}):null]})]},E.id)},[m]),A=d?{border:"1px solid rgba(96, 165, 250, 0.55)",background:"rgba(30, 64, 175, 0.15)"}:null;return y.jsxs("div",{role:"dialog","aria-label":`${e.nodeLabel} chat`,style:{...n==="floating"?J0:xu,width:n==="floating"?e.geometry.size.width:xu.width,height:n==="floating"?e.geometry.size.height:xu.height,pointerEvents:"auto",...n==="floating"?{left:e.geometry.position.x,top:e.geometry.position.y}:{}},children:[y.jsx("span",{style:vC,children:e.nodeLabel}),n==="floating"&&r?y.jsx("button",{type:"button","aria-label":"Close chat",style:yC,onClick:r,children:"×"}):null,y.jsx("div",{ref:c,style:aC,onScroll:v,children:e.messages.length===0?y.jsx("div",{style:xC,children:"Start a conversation from this interface node. Draft your prompt below and press the Play control on the canvas to send it."}):e.messages.map(E=>N(E))}),y.jsxs("div",{style:{...uC,...A??{}},onDragEnter:h,onDragOver:h,onDragLeave:g,onDrop:w,children:[y.jsxs("div",{style:cC,children:[y.jsx("button",{type:"button","aria-label":"Attach files",style:fC,onClick:T,children:"+"}),y.jsx("textarea",{ref:a,placeholder:"Type here… press Play on the canvas to send",style:pC,value:e.draft,onChange:E=>o(E.target.value),"aria-multiline":"true"})]}),e.draftAttachments.length>0?y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,paddingLeft:50},children:e.draftAttachments.map(E=>y.jsxs("span",{style:dC,children:[y.jsx("span",{"aria-hidden":!0,children:"📎"}),y.jsx("span",{children:E.name}),y.jsx("span",{style:{opacity:.75},children:Mh(E.size)}),y.jsx("button",{type:"button",onClick:()=>l(E.id),style:{background:"transparent",border:"none",color:"rgba(226, 232, 240, 0.75)",fontSize:14,cursor:"pointer"},"aria-label":`Remove ${E.name}`,children:"×"})]},E.id))}):null,t?null:y.jsxs("div",{style:{paddingLeft:50,fontSize:12,color:"rgba(248, 250, 252, 0.7)",display:"flex",gap:8,alignItems:"center"},children:[y.jsx("span",{"aria-hidden":!0,children:"⚠️"}),y.jsx("span",{children:$b})]}),y.jsx("input",{ref:u,type:"file",multiple:!0,tabIndex:-1,style:{display:"none"},onChange:p})]})]})}function SC(){const{overlayRef:e}=nf(),t=qe(c=>c.activeNodeId),n=qe(c=>c.flowAcceptsInput),r=qe(c=>c.closeChat),i=qe(c=>c.setDraft),o=qe(c=>c.addDraftAttachments),s=qe(c=>c.removeDraftAttachment),l=qe(c=>c.setScrollState),a=qe(c=>c.getThread),u=S.useMemo(()=>t?a(t)??null:null,[t,a]);return!e.current||!u||!u.open?null:dy.createPortal(y.jsx(rv,{thread:u,flowAcceptsInput:n,mode:"floating",onRequestClose:()=>r(u.nodeId),onScrollStateChange:(c,d)=>l(u.nodeId,c,d),onDraftChange:c=>i(u.nodeId,c),onDraftAttachmentsAdd:c=>o(u.nodeId,c),onDraftAttachmentRemove:c=>s(u.nodeId,c)}),e.current)}function kC({nodeId:e="standalone",label:t="Chat"}){const n=qe(u=>u.flowAcceptsInput),r=qe(u=>u.setDraft),i=qe(u=>u.addDraftAttachments),o=qe(u=>u.removeDraftAttachment),s=qe(u=>u.setScrollState),l=qe(u=>u.openChat);S.useEffect(()=>{l({nodeId:e,nodeLabel:t})},[t,e,l]);const a=qe(u=>u.threads[e]);return a?y.jsx(rv,{thread:{...a,geometry:a.geometry},flowAcceptsInput:n,mode:"standalone",onScrollStateChange:(u,c)=>s(e,u,c),onDraftChange:u=>r(e,u),onDraftAttachmentsAdd:u=>i(e,u),onDraftAttachmentRemove:u=>o(e,u)}):null}const iv="__position",EC={width:320,height:260},ti=12,bC=`[${Pa}]`,CC=e=>{const t=e.params,n=t==null?void 0:t[iv];return n&&typeof n.x=="number"&&typeof n.y=="number"?{x:n.x,y:n.y}:{x:360,y:240}},Ih=e=>({id:e.id,data:e,position:CC(e),type:e.type??"module"}),Ph=e=>({id:e.id,source:e.from[0],target:e.to[0],sourceHandle:`${e.from[0]}:${e.from[1]}`,targetHandle:`${e.to[0]}:${e.to[1]}`,label:e.label??""});function TC(){const{flow:e,setFlow:t,activeTool:n,copyEdge:r,cutEdge:i,deleteEdge:o,pasteClipboard:s,clipboard:l}=ps(k=>({flow:k.flow,setFlow:k.setFlow,activeTool:k.activeTool,copyEdge:k.copyEdge,cutEdge:k.cutEdge,deleteEdge:k.deleteEdge,pasteClipboard:k.pasteClipboard,clipboard:k.clipboard})),a=S.useRef(null),u=S.useRef(null),c=S.useRef(null),[d,f]=S.useState(null),[m,x]=S.useState(null),[v,T]=S.useState(null),p=S.useCallback(()=>{a.current&&f(a.current.getBoundingClientRect())},[]);S.useLayoutEffect(()=>{const k=a.current;if(!k)return;p();let O=null;typeof ResizeObserver<"u"&&(O=new ResizeObserver(()=>p()),O.observe(k));const j=()=>p();return window.addEventListener("resize",j),window.addEventListener("scroll",j,!0),()=>{O==null||O.disconnect(),window.removeEventListener("resize",j),window.removeEventListener("scroll",j,!0)}},[p]);const h=S.useMemo(()=>({module:Sh,llm:oC,default:Sh}),[]),[g,w,N]=WE(e.nodes.map(Ih)),[A,E,M]=qE(e.edges.map(Ph));S.useEffect(()=>{w(e.nodes.map(Ih))},[e.nodes,w]),S.useEffect(()=>{E(e.edges.map(Ph))},[e.edges,E]);const D=S.useCallback(k=>{c.current=k},[]),$=S.useCallback(k=>{N(k);const O=k.filter(W=>W.type==="position"&&!!W.position);if(O.length===0)return;const j=e.nodes.map(W=>{const X=O.find(ie=>ie.id===W.id);if(!X||!X.position)return W;const te={...W.params??{}};return te[iv]=X.position,{...W,params:te}});t({...e,nodes:j})},[e,N,t]),F=S.useCallback(k=>{M(k);const O=k.filter(j=>j.type==="remove").map(j=>j.id);O.length!==0&&t({...e,edges:e.edges.filter(j=>!O.includes(j.id))})},[e,M,t]),B=S.useCallback(k=>{var ie,ae;if(!k.source||!k.target)return;const O=((ie=k.sourceHandle)==null?void 0:ie.split(":")[1])??"out",j=((ae=k.targetHandle)==null?void 0:ae.split(":")[1])??"in",W=`e:${k.source}-${O}:${k.target}-${j}`,X={id:W,source:k.source,target:k.target,sourceHandle:k.sourceHandle,targetHandle:k.targetHandle,label:""};E(ce=>n0(X,ce));const te={id:W,from:[k.source,O],to:[k.target,j]};t({...e,edges:[...e.edges,te]})},[e,E,t]),V=S.useCallback((k,O)=>{k.preventDefault(),k.stopPropagation();const j=8,W=window.innerWidth,X=window.innerHeight,te=m&&m.node.id===O.data.id?m.geometry.size:EC,ie=Math.min(Math.max(k.clientX+j,j),W-te.width-j),ae=Math.min(Math.max(k.clientY+j,j),X-te.height-j);T(null),x({node:O.data,geometry:{position:{x:ie,y:ae},size:te},open:!0,minimized:!1})},[m]),_=S.useCallback(()=>{T(null),x(k=>k?{...k,open:!1,minimized:!1}:null)},[]),P=S.useCallback(k=>{k.preventDefault(),T(null),x(O=>O?{...O,open:!1,minimized:!1}:null)},[]),I=S.useCallback((k,O)=>{k.preventDefault(),k.stopPropagation();const j=u.current;if(!j)return;const W=j.getBoundingClientRect(),X=k.clientX-W.left,te=k.clientY-W.top,ie=Math.max(ti,W.width-Ii-ti),ae=Math.max(ti,W.height-Ro-ti),ce=Math.min(Math.max(X,ti),ie),Se=Math.min(Math.max(te,ti),ae);x(xe=>xe?{...xe,open:!1,minimized:!1}:null),T({edgeId:O.id,left:W.left+ce,top:W.top+Se})},[x,T]),L=S.useCallback(k=>{if(!v)return;const O=v.edgeId;switch(T(null),k){case"Copy":r(O);break;case"Cut":i(O);break;case"Delete":o(O);break;case"Paste":s("edge");break}},[r,i,o,v,s]);S.useEffect(()=>{if(!v)return;const k=j=>{var X;const W=j.target;(X=W==null?void 0:W.closest)!=null&&X.call(W,bC)||T(null)},O=j=>{j.key==="Escape"&&T(null)};return window.addEventListener("mousedown",k),window.addEventListener("contextmenu",k),window.addEventListener("keydown",O),()=>{window.removeEventListener("mousedown",k),window.removeEventListener("contextmenu",k),window.removeEventListener("keydown",O)}},[v]),S.useEffect(()=>{if(!v)return;e.edges.some(O=>O.id===v.edgeId)||T(null)},[v,e.edges]);const R=S.useCallback(k=>{x(O=>O&&{...O,geometry:k})},[]),C=S.useCallback(()=>{x(k=>k?{...k,open:!1,minimized:!1}:null)},[]),b=S.useCallback(()=>{x(k=>k&&{...k,minimized:!k.minimized,open:!0})},[]),z=S.useMemo(()=>({bounds:d,refreshBounds:p,overlayRef:u}),[d,p]);return y.jsx(db,{value:z,children:y.jsxs("div",{ref:a,"data-testid":"graph-canvas-container",style:{width:"100%",height:"100%",position:"relative"},children:[y.jsx(O0,{nodes:g,edges:A,onNodesChange:$,onEdgesChange:F,onConnect:B,nodeTypes:h,onNodeContextMenu:V,onEdgeContextMenu:I,onPaneClick:_,onPaneContextMenu:P,onInit:D,proOptions:{hideAttribution:!0},style:{background:"#ffffff",cursor:n==="wire"?"crosshair":"default"},children:y.jsx(KE,{color:"#e2e8f0",gap:32,size:1})}),y.jsx("div",{ref:u,"data-testid":"graph-canvas-overlay",style:{position:"absolute",inset:0,pointerEvents:"none"}}),y.jsx(SC,{}),v?y.jsx(sf,{position:{left:v.left,top:v.top},items:of.map(k=>({label:k,disabled:k==="Paste"&&(l==null?void 0:l.kind)!=="edge",onSelect:()=>L(k)}))}):null,m?y.jsx(rf,{title:`${m.node.name??m.node.id??"Node"} Context`,open:m.open,position:m.geometry.position,size:m.geometry.size,minimized:m.minimized,onUpdate:R,onRequestClose:C,onToggleMinimize:b,children:y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[y.jsx("div",{style:{fontSize:14,fontWeight:600},children:m.node.name??m.node.id??"Node"}),y.jsx("div",{style:{fontSize:12,color:"#475569",lineHeight:1.4},children:"Right-click menus for the graph will appear here. Select a node to inspect its details and shortcuts."}),y.jsxs("div",{style:{fontSize:12},children:[y.jsx("strong",{children:"ID:"})," ",m.node.id]}),m.node.type?y.jsxs("div",{style:{fontSize:12},children:[y.jsx("strong",{children:"Type:"})," ",m.node.type]}):null]})}):null]})})}const NC=["System","File","Edit","View"],MC={background:"none",border:"none",color:"inherit",fontWeight:600,fontSize:14,padding:"8px 12px",borderRadius:8,cursor:"pointer"},wu={background:"#1e293b",border:"1px solid #334155",borderRadius:12,width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",color:"#f8fafc",cursor:"pointer",transition:"transform 0.15s ease"},IC={display:"flex",alignItems:"center",gap:8,background:"#f97316",border:"none",color:"#111827",fontWeight:700,fontSize:14,padding:"10px 18px",borderRadius:999,cursor:"pointer",boxShadow:"0 6px 18px rgba(249, 115, 22, 0.35)"},_u={fontSize:18,lineHeight:"18px"};function PC({onRun:e}){return y.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 24px",height:64,background:"linear-gradient(90deg, #0f172a, #1f2937)",color:"#e2e8f0",borderBottom:"1px solid #1e293b"},children:[y.jsx("nav",{style:{display:"flex",gap:8},children:NC.map(t=>y.jsx("button",{style:MC,onClick:()=>console.log(t),children:t},t))}),y.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[y.jsx("button",{type:"button",style:wu,onClick:e,"aria-label":"Play",children:y.jsx("span",{"aria-hidden":!0,style:_u,children:"▶"})}),y.jsx("button",{type:"button",style:wu,onClick:()=>console.log("Pause"),"aria-label":"Pause",children:y.jsx("span",{"aria-hidden":!0,style:_u,children:"⏸"})}),y.jsx("button",{type:"button",style:wu,onClick:()=>console.log("Stop"),"aria-label":"Stop",children:y.jsx("span",{"aria-hidden":!0,style:_u,children:"■"})})]}),y.jsxs("button",{type:"button",style:IC,onClick:()=>console.log("Build"),"aria-label":"Build project",children:[y.jsx("span",{"aria-hidden":!0,style:{fontSize:18,lineHeight:"18px"},children:"🔨"}),y.jsx("span",{children:"Build"})]})]})}const RC="__position",AC=[{key:"interface",label:"UI",nodeType:"module",inputs:[{port:"feedback",types:["TEXT"]}],outputs:[{port:"conversation",types:["TEXT"]}],description:"Chat entry point"},{key:"llm",label:"LLM",nodeType:"llm",inputs:[{port:"prompt",types:["TEXT"]}],outputs:[{port:"response",types:["TEXT"]}],description:"Large language model"},{key:"prompt",label:"Prompt",nodeType:"module",inputs:[],outputs:[{port:"prompt",types:["TEXT"]}],description:"Prepare model prompts"},{key:"debate",label:"Debate/Loop",nodeType:"module",inputs:[{port:"input",types:["TEXT"]}],outputs:[{port:"result",types:["TEXT"]}],description:"Iterative reasoning"},{key:"cache",label:"Cache",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"out",types:["TEXT","JSON"]}],description:"Reuse previous outputs"},{key:"log",label:"Log",nodeType:"module",inputs:[{port:"entry",types:["TEXT","JSON"]}],outputs:[],description:"Record activity"},{key:"memory",label:"Memory",nodeType:"module",inputs:[{port:"store",types:["TEXT","JSON"]}],outputs:[{port:"recall",types:["TEXT","JSON"]}],description:"Long-lived context"},{key:"divider",label:"Divider",nodeType:"module",inputs:[{port:"in",types:["TEXT","JSON"]}],outputs:[{port:"pathA",types:["TEXT","JSON"]},{port:"pathB",types:["TEXT","JSON"]}],description:"Route outputs"},{key:"tool",label:"Tool Call",nodeType:"module",inputs:[{port:"input",types:["TEXT","JSON"]}],outputs:[{port:"result",types:["TEXT","JSON"]}],description:"Invoke registered tools"}],zC=[{key:"wire",label:"Wiring Tool",description:"Connect modules together"}],LC=e=>{const i=e%3,o=Math.floor(e/3);return{x:220+i*220,y:160+o*140}},DC=e=>`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,7)}`,$C=(e,t)=>{const n=LC(t);return{id:DC(e.key),type:e.nodeType,name:e.label,params:{[RC]:n,moduleKey:e.key},in:e.inputs,out:e.outputs}},Rh={fontSize:12,fontWeight:700,textTransform:"uppercase",letterSpacing:.6,color:"#475569",marginBottom:8},Lc={border:"1px solid #d1d5db",borderRadius:12,padding:"12px 10px",background:"#ffffff",color:"#1f2937",fontWeight:600,textAlign:"left",display:"flex",flexDirection:"column",gap:4,cursor:"pointer",transition:"border-color 0.2s ease, box-shadow 0.2s ease"},Su={...Lc,justifyContent:"space-between",flexDirection:"row",alignItems:"center"};function OC(){const{flow:e,addNode:t,activeTool:n,setActiveTool:r}=ps(s=>({flow:s.flow,addNode:s.addNode,activeTool:s.activeTool,setActiveTool:s.setActiveTool})),i=s=>{const l=$C(s,e.nodes.length);t(l),n!=="select"&&r("select")},o=s=>{r(n===s.key?"select":s.key)};return y.jsxs("aside",{style:{width:192,borderRight:"1px solid #e2e8f0",background:"#f8fafc",padding:"16px 14px",display:"flex",flexDirection:"column",gap:24,overflowY:"auto"},children:[y.jsxs("div",{children:[y.jsx("div",{style:Rh,children:"Modules"}),y.jsx("div",{style:{display:"grid",gap:12},children:AC.map(s=>y.jsxs("button",{style:{...Lc,borderColor:s.key==="llm"?"#fca5a5":Lc.border,boxShadow:"none"},onClick:()=>i(s),children:[y.jsx("span",{children:s.label}),s.description?y.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:s.description}):null]},s.key))})]}),y.jsxs("div",{children:[y.jsx("div",{style:Rh,children:"Tools"}),y.jsx("div",{style:{display:"grid",gap:12},children:zC.map(s=>y.jsxs("button",{style:{...Su,borderColor:n===s.key?"#94a3b8":Su.border,background:n===s.key?"#e2e8f0":Su.background},onClick:()=>o(s),children:[y.jsx("span",{children:s.label}),s.description?y.jsx("span",{style:{fontSize:12,fontWeight:400,color:"#64748b"},children:s.description}):null]},s.key))})]})]})}const jC={height:"100vh",width:"100vw",background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.92))",display:"flex",alignItems:"stretch",justifyContent:"center",padding:"32px 24px"},FC={flex:1,maxWidth:840,minHeight:0};function BC(){return y.jsx("div",{style:jC,children:y.jsx("div",{style:FC,children:y.jsx(kC,{nodeId:"standalone",label:"Interface"})})})}var ye;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),s={};for(const l of o)s[l]=i[l];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ye||(ye={}));var Ah;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ah||(Ah={}));const J=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jn=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}},Y=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let l=r,a=0;for(;a<s.path.length;){const u=s.path[a];a===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(s))):l[u]=l[u]||{_errors:[]},l=l[u],a++}}};return i(this),r}static assert(t){if(!(t instanceof Rn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rn.create=e=>new Rn(e);const Dc=(e,t)=>{let n;switch(e.code){case Y.invalid_type:e.received===J.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ye.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${ye.joinValues(e.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ye.joinValues(e.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${ye.joinValues(e.options)}, received '${e.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ye.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Y.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Y.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=t.defaultError,ye.assertNever(e)}return{message:n}};let HC=Dc;function VC(){return HC}const UC=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let l="";const a=r.filter(u=>!!u).slice().reverse();for(const u of a)l=u(s,{data:t,defaultError:l}).message;return{...i,path:o,message:l}};function G(e,t){const n=VC(),r=UC({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Dc?void 0:Dc].filter(i=>!!i)});e.common.issues.push(r)}class pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return se;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return pt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return se;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const se=Object.freeze({status:"aborted"}),So=e=>({status:"dirty",value:e}),Bt=e=>({status:"valid",value:e}),zh=e=>e.status==="aborted",Lh=e=>e.status==="dirty",Hi=e=>e.status==="valid",ea=e=>typeof Promise<"u"&&e instanceof Promise;var ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ee||(ee={}));class fn{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Dh=(e,t)=>{if(Hi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rn(e.common.issues);return this._error=n,this._error}}};function le(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,l)=>{const{message:a}=e;return s.code==="invalid_enum_value"?{message:a??l.defaultError}:typeof l.data>"u"?{message:a??r??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:a??n??l.defaultError}},description:i}}class he{get description(){return this._def.description}_getType(t){return Jn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Jn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pt,ctx:{common:t.parent.common,data:t.data,parsedType:Jn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ea(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jn(t)},i=this._parseSync({data:t,path:r.path,parent:r});return Dh(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jn(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:n});return Hi(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(o=>Hi(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jn(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(ea(i)?i:Promise.resolve(i));return Dh(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),l=()=>o.addIssue({code:Y.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(a=>a?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Wi({schema:this,typeName:oe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return gr.create(this,this._def)}nullable(){return qi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this)}promise(){return oa.create(this,this._def)}or(t){return na.create([this,t],this._def)}and(t){return ra.create(this,t,this._def)}transform(t){return new Wi({...le(this._def),schema:this,typeName:oe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Hc({...le(this._def),innerType:this,defaultValue:n,typeName:oe.ZodDefault})}brand(){return new pT({typeName:oe.ZodBranded,type:this,...le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vc({...le(this._def),innerType:this,catchValue:n,typeName:oe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return af.create(this,t)}readonly(){return Uc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const WC=/^c[^\s-]{8,}$/i,qC=/^[0-9a-z]+$/,YC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ZC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XC=/^[a-z0-9_-]{21}$/i,GC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ku;const eT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ov="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sT=new RegExp(`^${ov}$`);function sv(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function lT(e){return new RegExp(`^${sv(e)}$`)}function aT(e){let t=`${ov}T${sv(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function uT(e,t){return!!((t==="v4"||!t)&&eT.test(e)||(t==="v6"||!t)&&nT.test(e))}function cT(e,t){if(!GC.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function dT(e,t){return!!((t==="v4"||!t)&&tT.test(e)||(t==="v6"||!t)&&rT.test(e))}class En extends he{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const o=this._getOrReturnCtx(t);return G(o,{code:Y.invalid_type,expected:J.string,received:o.parsedType}),se}const r=new pt;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),G(i,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),G(i,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,l=t.data.length<o.value;(s||l)&&(i=this._getOrReturnCtx(t,i),s?G(i,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&G(i,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")KC.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"email",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")ku||(ku=new RegExp(JC,"u")),ku.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"emoji",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")ZC.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"uuid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")XC.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"nanoid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")WC.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"cuid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")qC.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"cuid2",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")YC.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"ulid",code:Y.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),G(i,{validation:"url",code:Y.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"regex",code:Y.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),G(i,{code:Y.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),G(i,{code:Y.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),G(i,{code:Y.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?aT(o).test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{code:Y.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?sT.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{code:Y.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?lT(o).test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{code:Y.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?QC.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"duration",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?uT(t.data,o.version)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"ip",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?cT(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"jwt",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?dT(t.data,o.version)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"cidr",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?iT.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"base64",code:Y.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?oT.test(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{validation:"base64url",code:Y.invalid_string,message:o.message}),r.dirty()):ye.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Y.invalid_string,...ee.errToObj(r)})}_addCheck(t){return new En({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ee.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ee.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ee.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ee.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ee.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ee.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ee.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ee.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ee.errToObj(n)})}nonempty(t){return this.min(1,ee.errToObj(t))}trim(){return new En({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}En.create=e=>new En({checks:[],typeName:oe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...le(e)});function fT(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}class Vi extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const o=this._getOrReturnCtx(t);return G(o,{code:Y.invalid_type,expected:J.number,received:o.parsedType}),se}let r;const i=new pt;for(const o of this._def.checks)o.kind==="int"?ye.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{code:Y.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:Y.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:Y.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?fT(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),G(r,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{code:Y.not_finite,message:o.message}),i.dirty()):ye.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ee.toString(n))}setLimit(t,n,r,i){return new Vi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ee.toString(i)}]})}_addCheck(t){return new Vi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ye.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Vi.create=e=>new Vi({checks:[],typeName:oe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...le(e)});class rs extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let r;const i=new pt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:Y.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:Y.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),G(r,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):ye.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return G(n,{code:Y.invalid_type,expected:J.bigint,received:n.parsedType}),se}gte(t,n){return this.setLimit("min",t,!0,ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ee.toString(n))}setLimit(t,n,r,i){return new rs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ee.toString(i)}]})}_addCheck(t){return new rs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}rs.create=e=>new rs({checks:[],typeName:oe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...le(e)});class $c extends he{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const r=this._getOrReturnCtx(t);return G(r,{code:Y.invalid_type,expected:J.boolean,received:r.parsedType}),se}return Bt(t.data)}}$c.create=e=>new $c({typeName:oe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...le(e)});class ta extends he{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const o=this._getOrReturnCtx(t);return G(o,{code:Y.invalid_type,expected:J.date,received:o.parsedType}),se}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return G(o,{code:Y.invalid_date}),se}const r=new pt;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),G(i,{code:Y.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),G(i,{code:Y.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):ye.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ta({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ee.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ee.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ta.create=e=>new ta({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:oe.ZodDate,...le(e)});class $h extends he{_parse(t){if(this._getType(t)!==J.symbol){const r=this._getOrReturnCtx(t);return G(r,{code:Y.invalid_type,expected:J.symbol,received:r.parsedType}),se}return Bt(t.data)}}$h.create=e=>new $h({typeName:oe.ZodSymbol,...le(e)});class Oc extends he{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return G(r,{code:Y.invalid_type,expected:J.undefined,received:r.parsedType}),se}return Bt(t.data)}}Oc.create=e=>new Oc({typeName:oe.ZodUndefined,...le(e)});class Oh extends he{_parse(t){if(this._getType(t)!==J.null){const r=this._getOrReturnCtx(t);return G(r,{code:Y.invalid_type,expected:J.null,received:r.parsedType}),se}return Bt(t.data)}}Oh.create=e=>new Oh({typeName:oe.ZodNull,...le(e)});class jc extends he{constructor(){super(...arguments),this._any=!0}_parse(t){return Bt(t.data)}}jc.create=e=>new jc({typeName:oe.ZodAny,...le(e)});class jh extends he{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Bt(t.data)}}jh.create=e=>new jh({typeName:oe.ZodUnknown,...le(e)});class wr extends he{_parse(t){const n=this._getOrReturnCtx(t);return G(n,{code:Y.invalid_type,expected:J.never,received:n.parsedType}),se}}wr.create=e=>new wr({typeName:oe.ZodNever,...le(e)});class Fh extends he{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return G(r,{code:Y.invalid_type,expected:J.void,received:r.parsedType}),se}return Bt(t.data)}}Fh.create=e=>new Fh({typeName:oe.ZodVoid,...le(e)});class dn extends he{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==J.array)return G(n,{code:Y.invalid_type,expected:J.array,received:n.parsedType}),se;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(s||l)&&(G(n,{code:s?Y.too_big:Y.too_small,minimum:l?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(G(n,{code:Y.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(G(n,{code:Y.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,l)=>i.type._parseAsync(new fn(n,s,n.path,l)))).then(s=>pt.mergeArray(r,s));const o=[...n.data].map((s,l)=>i.type._parseSync(new fn(n,s,n.path,l)));return pt.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new dn({...this._def,minLength:{value:t,message:ee.toString(n)}})}max(t,n){return new dn({...this._def,maxLength:{value:t,message:ee.toString(n)}})}length(t,n){return new dn({...this._def,exactLength:{value:t,message:ee.toString(n)}})}nonempty(t){return this.min(1,t)}}dn.create=(e,t)=>new dn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:oe.ZodArray,...le(t)});function ni(e){if(e instanceof Fe){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=gr.create(ni(r))}return new Fe({...e._def,shape:()=>t})}else return e instanceof dn?new dn({...e._def,type:ni(e.element)}):e instanceof gr?gr.create(ni(e.unwrap())):e instanceof qi?qi.create(ni(e.unwrap())):e instanceof Vr?Vr.create(e.items.map(t=>ni(t))):e}class Fe extends he{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ye.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==J.object){const u=this._getOrReturnCtx(t);return G(u,{code:Y.invalid_type,expected:J.object,received:u.parsedType}),se}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof wr&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||l.push(u);const a=[];for(const u of s){const c=o[u],d=i.data[u];a.push({key:{status:"valid",value:u},value:c._parse(new fn(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof wr){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of l)a.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")l.length>0&&(G(i,{code:Y.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of l){const d=i.data[c];a.push({key:{status:"valid",value:c},value:u._parse(new fn(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of a){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>pt.mergeObjectSync(r,u)):pt.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return ee.errToObj,new Fe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ee.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Fe({...this._def,unknownKeys:"strip"})}passthrough(){return new Fe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Fe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Fe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:oe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Fe({...this._def,catchall:t})}pick(t){const n={};for(const r of ye.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Fe({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ye.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Fe({...this._def,shape:()=>n})}deepPartial(){return ni(this)}partial(t){const n={};for(const r of ye.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new Fe({...this._def,shape:()=>n})}required(t){const n={};for(const r of ye.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof gr;)o=o._def.innerType;n[r]=o}return new Fe({...this._def,shape:()=>n})}keyof(){return lv(ye.objectKeys(this.shape))}}Fe.create=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strip",catchall:wr.create(),typeName:oe.ZodObject,...le(t)});Fe.strictCreate=(e,t)=>new Fe({shape:()=>e,unknownKeys:"strict",catchall:wr.create(),typeName:oe.ZodObject,...le(t)});Fe.lazycreate=(e,t)=>new Fe({shape:e,unknownKeys:"strip",catchall:wr.create(),typeName:oe.ZodObject,...le(t)});class na extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const s=o.map(l=>new Rn(l.ctx.common.issues));return G(n,{code:Y.invalid_union,unionErrors:s}),se}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const a of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=a._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const l=s.map(a=>new Rn(a));return G(n,{code:Y.invalid_union,unionErrors:l}),se}}get options(){return this._def.options}}na.create=(e,t)=>new na({options:e,typeName:oe.ZodUnion,...le(t)});function Fc(e,t){const n=Jn(e),r=Jn(t);if(e===t)return{valid:!0,data:e};if(n===J.object&&r===J.object){const i=ye.objectKeys(t),o=ye.objectKeys(e).filter(l=>i.indexOf(l)!==-1),s={...e,...t};for(const l of o){const a=Fc(e[l],t[l]);if(!a.valid)return{valid:!1};s[l]=a.data}return{valid:!0,data:s}}else if(n===J.array&&r===J.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],l=t[o],a=Fc(s,l);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return n===J.date&&r===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ra extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(zh(o)||zh(s))return se;const l=Fc(o.value,s.value);return l.valid?((Lh(o)||Lh(s))&&n.dirty(),{status:n.value,value:l.data}):(G(r,{code:Y.invalid_intersection_types}),se)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ra.create=(e,t,n)=>new ra({left:e,right:t,typeName:oe.ZodIntersection,...le(n)});class Vr extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.array)return G(r,{code:Y.invalid_type,expected:J.array,received:r.parsedType}),se;if(r.data.length<this._def.items.length)return G(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&r.data.length>this._def.items.length&&(G(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,l)=>{const a=this._def.items[l]||this._def.rest;return a?a._parse(new fn(r,s,r.path,l)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>pt.mergeArray(n,s)):pt.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Vr({...this._def,rest:t})}}Vr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vr({items:e,typeName:oe.ZodTuple,rest:null,...le(t)})};class ia extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.object)return G(r,{code:Y.invalid_type,expected:J.object,received:r.parsedType}),se;const i=[],o=this._def.keyType,s=this._def.valueType;for(const l in r.data)i.push({key:o._parse(new fn(r,l,r.path,l)),value:s._parse(new fn(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?pt.mergeObjectAsync(n,i):pt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof he?new ia({keyType:t,valueType:n,typeName:oe.ZodRecord,...le(r)}):new ia({keyType:En.create(),valueType:t,typeName:oe.ZodRecord,...le(n)})}}class Bh extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.map)return G(r,{code:Y.invalid_type,expected:J.map,received:r.parsedType}),se;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([l,a],u)=>({key:i._parse(new fn(r,l,r.path,[u,"key"])),value:o._parse(new fn(r,a,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const a of s){const u=await a.key,c=await a.value;if(u.status==="aborted"||c.status==="aborted")return se;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const a of s){const u=a.key,c=a.value;if(u.status==="aborted"||c.status==="aborted")return se;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}}}}Bh.create=(e,t,n)=>new Bh({valueType:t,keyType:e,typeName:oe.ZodMap,...le(n)});class is extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.set)return G(r,{code:Y.invalid_type,expected:J.set,received:r.parsedType}),se;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(G(r,{code:Y.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(G(r,{code:Y.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(a){const u=new Set;for(const c of a){if(c.status==="aborted")return se;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((a,u)=>o._parse(new fn(r,a,r.path,u)));return r.common.async?Promise.all(l).then(a=>s(a)):s(l)}min(t,n){return new is({...this._def,minSize:{value:t,message:ee.toString(n)}})}max(t,n){return new is({...this._def,maxSize:{value:t,message:ee.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}is.create=(e,t)=>new is({valueType:e,minSize:null,maxSize:null,typeName:oe.ZodSet,...le(t)});class Hh extends he{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Hh.create=(e,t)=>new Hh({getter:e,typeName:oe.ZodLazy,...le(t)});class Bc extends he{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return G(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:t.data}}get value(){return this._def.value}}Bc.create=(e,t)=>new Bc({value:e,typeName:oe.ZodLiteral,...le(t)});function lv(e,t){return new Ui({values:e,typeName:oe.ZodEnum,...le(t)})}class Ui extends he{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return G(n,{expected:ye.joinValues(r),received:n.parsedType,code:Y.invalid_type}),se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return G(n,{received:n.data,code:Y.invalid_enum_value,options:r}),se}return Bt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ui.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ui.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ui.create=lv;class Vh extends he{_parse(t){const n=ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==J.string&&r.parsedType!==J.number){const i=ye.objectValues(n);return G(r,{expected:ye.joinValues(i),received:r.parsedType,code:Y.invalid_type}),se}if(this._cache||(this._cache=new Set(ye.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ye.objectValues(n);return G(r,{received:r.data,code:Y.invalid_enum_value,options:i}),se}return Bt(t.data)}get enum(){return this._def.values}}Vh.create=(e,t)=>new Vh({values:e,typeName:oe.ZodNativeEnum,...le(t)});class oa extends he{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.promise&&n.common.async===!1)return G(n,{code:Y.invalid_type,expected:J.promise,received:n.parsedType}),se;const r=n.parsedType===J.promise?n.data:Promise.resolve(n.data);return Bt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}oa.create=(e,t)=>new oa({type:e,typeName:oe.ZodPromise,...le(t)});class Wi extends he{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{G(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async l=>{if(n.value==="aborted")return se;const a=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return a.status==="aborted"?se:a.status==="dirty"||n.value==="dirty"?So(a.value):a});{if(n.value==="aborted")return se;const l=this._def.schema._parseSync({data:s,path:r.path,parent:r});return l.status==="aborted"?se:l.status==="dirty"||n.value==="dirty"?So(l.value):l}}if(i.type==="refinement"){const s=l=>{const a=i.refinement(l,o);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?se:(l.status==="dirty"&&n.dirty(),s(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?se:(l.status==="dirty"&&n.dirty(),s(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Hi(s))return se;const l=i.transform(s.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Hi(s)?Promise.resolve(i.transform(s.value,o)).then(l=>({status:n.value,value:l})):se);ye.assertNever(i)}}Wi.create=(e,t,n)=>new Wi({schema:e,typeName:oe.ZodEffects,effect:t,...le(n)});Wi.createWithPreprocess=(e,t,n)=>new Wi({schema:t,effect:{type:"preprocess",transform:e},typeName:oe.ZodEffects,...le(n)});class gr extends he{_parse(t){return this._getType(t)===J.undefined?Bt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gr.create=(e,t)=>new gr({innerType:e,typeName:oe.ZodOptional,...le(t)});class qi extends he{_parse(t){return this._getType(t)===J.null?Bt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qi.create=(e,t)=>new qi({innerType:e,typeName:oe.ZodNullable,...le(t)});class Hc extends he{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===J.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hc.create=(e,t)=>new Hc({innerType:e,typeName:oe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...le(t)});class Vc extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ea(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vc.create=(e,t)=>new Vc({innerType:e,typeName:oe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...le(t)});class Uh extends he{_parse(t){if(this._getType(t)!==J.nan){const r=this._getOrReturnCtx(t);return G(r,{code:Y.invalid_type,expected:J.nan,received:r.parsedType}),se}return{status:"valid",value:t.data}}}Uh.create=e=>new Uh({typeName:oe.ZodNaN,...le(e)});class pT extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class af extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?se:o.status==="dirty"?(n.dirty(),So(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?se:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new af({in:t,out:n,typeName:oe.ZodPipeline})}}class Uc extends he{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Hi(i)&&(i.value=Object.freeze(i.value)),i);return ea(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Uc.create=(e,t)=>new Uc({innerType:e,typeName:oe.ZodReadonly,...le(t)});var oe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(oe||(oe={}));const me=En.create,Ur=Vi.create,uf=$c.create,av=Oc.create,hT=jc.create;wr.create;const Yi=dn.create,kt=Fe.create,mT=na.create;ra.create;const Wh=Vr.create,gT=ia.create,hs=Bc.create,yT=Ui.create;oa.create;gr.create;qi.create;const qh=kt({port:me(),types:Yi(me()).default([])}).passthrough(),vT=kt({id:me(),type:me(),name:me().optional(),params:gT(hT()).default({}),in:Yi(qh).default([]),out:Yi(qh).default([])}).passthrough(),xT=kt({id:me().optional(),from:Wh([me(),me()]),to:Wh([me(),me()]),label:me().optional()}).passthrough(),uv=kt({id:me(),version:me().default("1.0.0"),nodes:Yi(vT).default([]),edges:Yi(xT).default([])}).passthrough(),Yh={request:uv,response:kt({ok:uf(),errors:Yi(me())})},Zh={request:uv,response:kt({runId:me()})},Xh={request:kt({modelId:me()}),response:kt({ok:uf()})},wT=kt({type:hs("node_state"),runId:me(),nodeId:me(),state:me(),at:Ur()}),_T=kt({type:hs("edge_transfer"),runId:me(),edgeId:me(),bytes:Ur(),at:Ur()}),ST=kt({type:hs("normalize"),runId:me(),nodeId:me(),fromType:me(),toType:me(),at:Ur()}),kT=kt({type:hs("error"),runId:me(),nodeId:me(),code:me(),message:me(),at:Ur()}),ET=kt({type:hs("operation_progress"),runId:me(),nodeId:me(),tokens:Ur(),latencyMs:Ur(),status:yT(["ok","error"]),reason:me().optional()}),bT=mT([wT,_T,ST,kT,ET]),CT={payload:bT},Gh={request:av(),response:me()};av(),kt({ok:uf()});async function rl(e,t,n,r){const i=t.safeParse(r);if(!i.success)throw{type:"validation",issues:i.error.issues};const o=await e(i.data);if(o&&typeof o=="object"&&"error"in o)throw{type:"ipc",error:o.error};const s=n.safeParse(o);if(!s.success)throw{type:"validation",issues:s.error.issues};return s.data}const TT={validateFlow:e=>rl(window.voide.validateFlow,Yh.request,Yh.response,e),runFlow:e=>rl(window.voide.runFlow,Zh.request,Zh.response,e),ensureModel:e=>rl(window.voide.ensureModel,Xh.request,Xh.response,{modelId:e}),getVersion:()=>rl(window.voide.getVersion,Gh.request,Gh.response,void 0),onTelemetry:e=>{window.voide.onTelemetry(t=>{const n=CT.payload.safeParse(t);n.success&&e(n.data)})}},NT={display:"flex",flexDirection:"column",height:"100vh",background:"#e2e8f0"},MT={display:"flex",flex:1,minHeight:0},IT={flex:1,minHeight:0,position:"relative",background:"#ffffff"};function Qh(){return typeof window>"u"?"":window.location.hash.replace(/^#/,"").replace(/^\//,"")}function PT(){const e=ps(n=>n.flow),t=S.useCallback(async()=>{const{sendActiveDraft:n,hasOpenChat:r}=qe.getState(),i=n();r()&&!i||await TT.runFlow(e)},[e]);return y.jsxs("div",{style:NT,children:[y.jsx(PC,{onRun:t}),y.jsxs("div",{style:MT,children:[y.jsx(OC,{}),y.jsx("div",{style:IT,children:y.jsx(TC,{})})]})]})}function RT(){const[e,t]=S.useState(()=>Qh());return S.useEffect(()=>{if(typeof window>"u")return;const n=()=>t(Qh());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),e==="chat"?y.jsx(BC,{}):y.jsx(PT,{})}fy(document.getElementById("root")).render(y.jsx(RT,{}));
